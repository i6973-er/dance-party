(window.webpackJsonp=window.webpackJsonp||[]).push([[3,8],[,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(1)),s=n(380),r=i(n(71));function i(e){return e&&e.__esModule?e:{default:e}}t.default=(0,r.default)(function(e,t,n,r,i){var o=e[t];return a.default.isValidElement(o)?new Error("Invalid "+r+" `"+i+"` of type ReactElement supplied to `"+n+"`,expected an element type (a string , component class, or function component)."):(0,s.isValidElementType)(o)?null:new Error("Invalid "+r+" `"+i+"` of value `"+o+"` supplied to `"+n+"`, expected an element type (a string , component class, or function component).")}),e.exports=t.default},,,,,,,,,,,function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}}},,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"AudioConfig",{enumerable:!0,get:function(){return r.AudioConfig}}),Object.defineProperty(t,"AudioStreamFormat",{enumerable:!0,get:function(){return i.AudioStreamFormat}}),Object.defineProperty(t,"AudioInputStream",{enumerable:!0,get:function(){return o.AudioInputStream}}),Object.defineProperty(t,"PullAudioInputStream",{enumerable:!0,get:function(){return o.PullAudioInputStream}}),Object.defineProperty(t,"PushAudioInputStream",{enumerable:!0,get:function(){return o.PushAudioInputStream}}),Object.defineProperty(t,"AudioOutputStream",{enumerable:!0,get:function(){return a.AudioOutputStream}}),Object.defineProperty(t,"PullAudioOutputStream",{enumerable:!0,get:function(){return a.PullAudioOutputStream}}),Object.defineProperty(t,"PushAudioOutputStream",{enumerable:!0,get:function(){return a.PushAudioOutputStream}}),Object.defineProperty(t,"CancellationReason",{enumerable:!0,get:function(){return s.CancellationReason}}),Object.defineProperty(t,"PullAudioInputStreamCallback",{enumerable:!0,get:function(){return u.PullAudioInputStreamCallback}}),Object.defineProperty(t,"PushAudioOutputStreamCallback",{enumerable:!0,get:function(){return c.PushAudioOutputStreamCallback}}),Object.defineProperty(t,"KeywordRecognitionModel",{enumerable:!0,get:function(){return l.KeywordRecognitionModel}}),Object.defineProperty(t,"SessionEventArgs",{enumerable:!0,get:function(){return p.SessionEventArgs}}),Object.defineProperty(t,"RecognitionEventArgs",{enumerable:!0,get:function(){return f.RecognitionEventArgs}}),Object.defineProperty(t,"OutputFormat",{enumerable:!0,get:function(){return d.OutputFormat}}),Object.defineProperty(t,"IntentRecognitionEventArgs",{enumerable:!0,get:function(){return h.IntentRecognitionEventArgs}}),Object.defineProperty(t,"RecognitionResult",{enumerable:!0,get:function(){return v.RecognitionResult}}),Object.defineProperty(t,"SpeechRecognitionResult",{enumerable:!0,get:function(){return g.SpeechRecognitionResult}}),Object.defineProperty(t,"IntentRecognitionResult",{enumerable:!0,get:function(){return m.IntentRecognitionResult}}),Object.defineProperty(t,"LanguageUnderstandingModel",{enumerable:!0,get:function(){return y.LanguageUnderstandingModel}}),Object.defineProperty(t,"SpeechRecognitionEventArgs",{enumerable:!0,get:function(){return b.SpeechRecognitionEventArgs}}),Object.defineProperty(t,"SpeechRecognitionCanceledEventArgs",{enumerable:!0,get:function(){return w.SpeechRecognitionCanceledEventArgs}}),Object.defineProperty(t,"TranslationRecognitionEventArgs",{enumerable:!0,get:function(){return S.TranslationRecognitionEventArgs}}),Object.defineProperty(t,"TranslationSynthesisEventArgs",{enumerable:!0,get:function(){return _.TranslationSynthesisEventArgs}}),Object.defineProperty(t,"TranslationRecognitionResult",{enumerable:!0,get:function(){return C.TranslationRecognitionResult}}),Object.defineProperty(t,"TranslationSynthesisResult",{enumerable:!0,get:function(){return E.TranslationSynthesisResult}}),Object.defineProperty(t,"ResultReason",{enumerable:!0,get:function(){return x.ResultReason}}),Object.defineProperty(t,"SpeechConfig",{enumerable:!0,get:function(){return O.SpeechConfig}}),Object.defineProperty(t,"SpeechConfigImpl",{enumerable:!0,get:function(){return O.SpeechConfigImpl}}),Object.defineProperty(t,"SpeechTranslationConfig",{enumerable:!0,get:function(){return k.SpeechTranslationConfig}}),Object.defineProperty(t,"PropertyCollection",{enumerable:!0,get:function(){return P.PropertyCollection}}),Object.defineProperty(t,"PropertyId",{enumerable:!0,get:function(){return T.PropertyId}}),Object.defineProperty(t,"Recognizer",{enumerable:!0,get:function(){return R.Recognizer}}),Object.defineProperty(t,"SpeechRecognizer",{enumerable:!0,get:function(){return A.SpeechRecognizer}}),Object.defineProperty(t,"IntentRecognizer",{enumerable:!0,get:function(){return I.IntentRecognizer}}),Object.defineProperty(t,"TranslationRecognizer",{enumerable:!0,get:function(){return M.TranslationRecognizer}}),Object.defineProperty(t,"Translations",{enumerable:!0,get:function(){return N.Translations}}),Object.defineProperty(t,"NoMatchReason",{enumerable:!0,get:function(){return D.NoMatchReason}}),Object.defineProperty(t,"NoMatchDetails",{enumerable:!0,get:function(){return j.NoMatchDetails}}),Object.defineProperty(t,"TranslationRecognitionCanceledEventArgs",{enumerable:!0,get:function(){return L.TranslationRecognitionCanceledEventArgs}}),Object.defineProperty(t,"IntentRecognitionCanceledEventArgs",{enumerable:!0,get:function(){return B.IntentRecognitionCanceledEventArgs}}),Object.defineProperty(t,"CancellationDetails",{enumerable:!0,get:function(){return F.CancellationDetails}}),Object.defineProperty(t,"CancellationErrorCode",{enumerable:!0,get:function(){return z.CancellationErrorCode}}),Object.defineProperty(t,"ConnectionEventArgs",{enumerable:!0,get:function(){return U.ConnectionEventArgs}}),Object.defineProperty(t,"ServiceEventArgs",{enumerable:!0,get:function(){return H.ServiceEventArgs}}),Object.defineProperty(t,"Connection",{enumerable:!0,get:function(){return W.Connection}}),Object.defineProperty(t,"PhraseListGrammar",{enumerable:!0,get:function(){return V.PhraseListGrammar}}),Object.defineProperty(t,"DialogServiceConfig",{enumerable:!0,get:function(){return q.DialogServiceConfig}}),Object.defineProperty(t,"BotFrameworkConfig",{enumerable:!0,get:function(){return G.BotFrameworkConfig}}),Object.defineProperty(t,"CustomCommandsConfig",{enumerable:!0,get:function(){return K.CustomCommandsConfig}}),Object.defineProperty(t,"DialogServiceConnector",{enumerable:!0,get:function(){return X.DialogServiceConnector}}),Object.defineProperty(t,"ActivityReceivedEventArgs",{enumerable:!0,get:function(){return Y.ActivityReceivedEventArgs}}),Object.defineProperty(t,"ServicePropertyChannel",{enumerable:!0,get:function(){return J.ServicePropertyChannel}}),Object.defineProperty(t,"ProfanityOption",{enumerable:!0,get:function(){return $.ProfanityOption}}),Object.defineProperty(t,"BaseAudioPlayer",{enumerable:!0,get:function(){return Q.BaseAudioPlayer}}),Object.defineProperty(t,"ConnectionMessageEventArgs",{enumerable:!0,get:function(){return Z.ConnectionMessageEventArgs}}),Object.defineProperty(t,"ConnectionMessage",{enumerable:!0,get:function(){return ee.ConnectionMessage}}),Object.defineProperty(t,"Conversation",{enumerable:!0,get:function(){return te.Conversation}}),Object.defineProperty(t,"ConversationExpirationEventArgs",{enumerable:!0,get:function(){return te.ConversationExpirationEventArgs}}),Object.defineProperty(t,"ConversationParticipantsChangedEventArgs",{enumerable:!0,get:function(){return te.ConversationParticipantsChangedEventArgs}}),Object.defineProperty(t,"ConversationTranslationCanceledEventArgs",{enumerable:!0,get:function(){return te.ConversationTranslationCanceledEventArgs}}),Object.defineProperty(t,"ConversationTranslationEventArgs",{enumerable:!0,get:function(){return te.ConversationTranslationEventArgs}}),Object.defineProperty(t,"ConversationTranslationResult",{enumerable:!0,get:function(){return te.ConversationTranslationResult}}),Object.defineProperty(t,"ConversationTranslator",{enumerable:!0,get:function(){return te.ConversationTranslator}}),Object.defineProperty(t,"Participant",{enumerable:!0,get:function(){return te.Participant}}),Object.defineProperty(t,"ParticipantChangedReason",{enumerable:!0,get:function(){return te.ParticipantChangedReason}}),Object.defineProperty(t,"User",{enumerable:!0,get:function(){return te.User}}),Object.defineProperty(t,"SpeechSynthesisOutputFormat",{enumerable:!0,get:function(){return ne.SpeechSynthesisOutputFormat}}),Object.defineProperty(t,"SpeechSynthesizer",{enumerable:!0,get:function(){return re.SpeechSynthesizer}}),Object.defineProperty(t,"SpeechSynthesisResult",{enumerable:!0,get:function(){return ie.SpeechSynthesisResult}}),Object.defineProperty(t,"SpeechSynthesisEventArgs",{enumerable:!0,get:function(){return oe.SpeechSynthesisEventArgs}}),Object.defineProperty(t,"SpeechSynthesisWordBoundaryEventArgs",{enumerable:!0,get:function(){return ae.SpeechSynthesisWordBoundaryEventArgs}}),Object.defineProperty(t,"SpeakerAudioDestination",{enumerable:!0,get:function(){return se.SpeakerAudioDestination}});var r=n(1891),i=n(593),o=n(1230),a=n(594),s=n(1893),u=n(1894),c=n(1895),l=n(1896),p=n(1897),f=n(1898),d=n(1899),h=n(1900),v=n(1901),g=n(1902),m=n(1903),y=n(1904),b=n(1905),w=n(1906),S=n(1907),_=n(1908),C=n(1232),E=n(1909),x=n(1910),O=n(1911),k=n(1912),P=n(1233),T=n(1234),R=n(1913),A=n(1914),I=n(1915),M=n(1916),N=n(1917),D=n(1918),j=n(1919),L=n(1920),B=n(1921),F=n(1922),z=n(1923),U=n(1924),H=n(1925),W=n(1926),V=n(1927),q=n(842),G=n(1928),K=n(1929),X=n(1930),Y=n(1932),J=n(1933),$=n(1934),Q=n(1935),Z=n(1936),ee=n(1236),te=n(1237),ne=n(1231),re=n(1945),ie=n(1946),oe=n(1947),ae=n(1948),se=n(1949)},function(e,t,n){"use strict";t.__esModule=!0,t.default=function r(i,u,e){void 0===e&&(e=[]);var t=i.displayName||i.name||"Component";var o=l.isReactComponent(i);var a=Object.keys(u);var s=a.map(l.defaultKey);!o&&e.length&&invariant(!1);var n=function(r){function e(){for(var s,e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(s=r.call.apply(r,[this].concat(t))||this).handlers=Object.create(null),a.forEach(function(o){var a=u[o],e=function(e){if(s.props[a]){var t;s._notifying=!0;for(var n=arguments.length,r=new Array(1<n?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];(t=s.props)[a].apply(t,[e].concat(r)),s._notifying=!1}s._values[o]=e,s.unmounted||s.forceUpdate()};s.handlers[a]=e}),o&&(s.attachRef=function(e){s.inner=e}),s}f(e,r);var t=e.prototype;return t.shouldComponentUpdate=function(){return!this._notifying},t.componentWillMount=function(){var t=this,n=this.props;this._values=Object.create(null),a.forEach(function(e){t._values[e]=n[l.defaultKey(e)]})},t.componentWillReceiveProps=function(t){var n=this,r=this.props;a.forEach(function(e){!l.isProp(t,e)&&l.isProp(r,e)&&(n._values[e]=t[l.defaultKey(e)])})},t.componentWillUnmount=function(){this.unmounted=!0},t.getControlledInstance=function(){return this.inner},t.render=function(){var n=this,t=p({},this.props);s.forEach(function(e){delete t[e]});var r={};return a.forEach(function(e){var t=n.props[e];r[e]=void 0!==t?t:n._values[e]}),c.default.createElement(i,p({},t,r,this.handlers,{ref:this.attachRef}))},e}(c.default.Component);n.displayName="Uncontrolled("+t+")";n.propTypes=l.uncontrolledPropTypes(u,t);e.forEach(function(t){n.prototype[t]=function(){var e;return(e=this.inner)[t].apply(e,arguments)}});n.ControlledComponent=i;n.deferControlTo=function(e,t,n){return void 0===t&&(t={}),r(e,p({},u,t),n)};return n};var c=r(n(1)),l=(r(n(41)),function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}}(n(397)));function r(e){return e&&e.__esModule?e:{default:e}}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function f(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var r,i=n(2280),o=(r=i)&&r.__esModule?r:{default:r};t.default=function(e,t,n){return t in e?(0,o.default)(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t,n){"use strict";e.exports=function(){}},,function(e,t,n){e.exports=n(2390)},function(e,t){var n=e.exports={version:"2.6.9"};"number"==typeof __e&&(__e=n)},function(e,t,n){e.exports=n(398)},,,,,function(e,t,n){var v=n(65),g=n(25),m=n(212),y=n(108),b=n(103),w="prototype",S=function(e,t,n){var r,i,o,a=e&S.F,s=e&S.G,u=e&S.S,c=e&S.P,l=e&S.B,p=e&S.W,f=s?g:g[t]||(g[t]={}),d=f[w],h=s?v:u?v[t]:(v[t]||{})[w];for(r in s&&(n=t),n)(i=!a&&h&&void 0!==h[r])&&b(f,r)||(o=i?h[r]:n[r],f[r]=s&&"function"!=typeof h[r]?n[r]:l&&i?m(o,v):p&&h[r]==o?function(r){var e=function(e,t,n){if(this instanceof r){switch(arguments.length){case 0:return new r;case 1:return new r(e);case 2:return new r(e,t)}return new r(e,t,n)}return r.apply(this,arguments)};return e[w]=r[w],e}(o):c&&"function"==typeof o?m(Function.call,o):o,c&&((f.virtual||(f.virtual={}))[r]=o,e&S.R&&d&&!d[r]&&y(d,r,o)))};S.F=1,S.G=2,S.S=4,S.P=8,S.B=16,S.W=32,S.U=64,S.R=128,e.exports=S},function(e,t,n){"use strict";t.__esModule=!0,t.default=t.EXITING=t.ENTERED=t.ENTERING=t.EXITED=t.UNMOUNTED=void 0;var r=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}}(n(0)),o=s(n(1)),i=s(n(7)),a=n(310);n(411);function s(e){return e&&e.__esModule?e:{default:e}}var u="unmounted";t.UNMOUNTED=u;var c="exited";t.EXITED=c;var l="entering";t.ENTERING=l;var p="entered";t.ENTERED=p;var f="exiting";t.EXITING=f;var d=function(a){function e(e,t){var n;n=a.call(this,e,t)||this;var r,i=t.transitionGroup,o=i&&!i.isMounting?e.enter:e.appear;return n.appearStatus=null,e.in?o?(r=c,n.appearStatus=l):r=p:r=e.unmountOnExit||e.mountOnEnter?u:c,n.state={status:r},n.nextCallback=null,n}!function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(e,a);var t=e.prototype;return t.getChildContext=function(){return{transitionGroup:null}},e.getDerivedStateFromProps=function(e,t){return e.in&&t.status===u?{status:c}:null},t.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},t.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==l&&n!==p&&(t=l):n!==l&&n!==p||(t=f)}this.updateStatus(!1,t)},t.componentWillUnmount=function(){this.cancelNextCallback()},t.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!=typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},t.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t){this.cancelNextCallback();var n=i.default.findDOMNode(this);t===l?this.performEnter(n,e):this.performExit(n)}else this.props.unmountOnExit&&this.state.status===c&&this.setState({status:u})},t.performEnter=function(e,t){var n=this,r=this.props.enter,i=this.context.transitionGroup?this.context.transitionGroup.isMounting:t,o=this.getTimeouts(),a=i?o.appear:o.enter;t||r?(this.props.onEnter(e,i),this.safeSetState({status:l},function(){n.props.onEntering(e,i),n.onTransitionEnd(e,a,function(){n.safeSetState({status:p},function(){n.props.onEntered(e,i)})})})):this.safeSetState({status:p},function(){n.props.onEntered(e)})},t.performExit=function(e){var t=this,n=this.props.exit,r=this.getTimeouts();n?(this.props.onExit(e),this.safeSetState({status:f},function(){t.props.onExiting(e),t.onTransitionEnd(e,r.exit,function(){t.safeSetState({status:c},function(){t.props.onExited(e)})})})):this.safeSetState({status:c},function(){t.props.onExited(e)})},t.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},t.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},t.setNextCallback=function(t){var n=this,r=!0;return this.nextCallback=function(e){r&&(r=!1,n.nextCallback=null,t(e))},this.nextCallback.cancel=function(){r=!1},this.nextCallback},t.onTransitionEnd=function(e,t,n){this.setNextCallback(n);var r=null==t&&!this.props.addEndListener;e&&!r?(this.props.addEndListener&&this.props.addEndListener(e,this.nextCallback),null!=t&&setTimeout(this.nextCallback,t)):setTimeout(this.nextCallback,0)},t.render=function(){var e=this.state.status;if(e===u)return null;var t=this.props,n=t.children,r=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],0<=t.indexOf(n)||(i[n]=e[n]);return i}(t,["children"]);if(delete r.in,delete r.mountOnEnter,delete r.unmountOnExit,delete r.appear,delete r.enter,delete r.exit,delete r.timeout,delete r.addEndListener,delete r.onEnter,delete r.onEntering,delete r.onEntered,delete r.onExit,delete r.onExiting,delete r.onExited,"function"==typeof n)return n(e,r);var i=o.default.Children.only(n);return o.default.cloneElement(i,r)},e}(o.default.Component);function h(){}d.contextTypes={transitionGroup:r.object},d.childContextTypes={transitionGroup:function(){}},d.propTypes={},d.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:h,onEntering:h,onEntered:h,onExit:h,onExiting:h,onExited:h},d.UNMOUNTED=0,d.EXITED=1,d.ENTERING=2,d.ENTERED=3,d.EXITING=4;var v=(0,a.polyfill)(d);t.default=v},,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={OutputFormatPropertyName:!0,CancellationErrorCodePropertyName:!0,ServicePropertiesPropertyName:!0,ForceDictationPropertyName:!0};t.ForceDictationPropertyName=t.ServicePropertiesPropertyName=t.CancellationErrorCodePropertyName=t.OutputFormatPropertyName=void 0;var i=n(1888);Object.keys(i).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}}))});var o=n(1889);Object.keys(o).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}}))});var a=n(841);Object.keys(a).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}}))});var s=n(1890);Object.keys(s).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return s[e]}}))});var u=n(843);Object.keys(u).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return u[e]}}))});var c=n(1950);Object.keys(c).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return c[e]}}))});var l=n(1951);Object.keys(l).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return l[e]}}))});var p=n(1952);Object.keys(p).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return p[e]}}))});var f=n(1235);Object.keys(f).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return f[e]}}))});var d=n(1953);Object.keys(d).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return d[e]}}))});var h=n(1954);Object.keys(h).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return h[e]}}))});var v=n(1955);Object.keys(v).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return v[e]}}))});var g=n(1956);Object.keys(g).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return g[e]}}))});var m=n(1957);Object.keys(m).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return m[e]}}))});var y=n(1958);Object.keys(y).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return y[e]}}))});var b=n(1959);Object.keys(b).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return b[e]}}))});var w=n(1960);Object.keys(w).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return w[e]}}))});var S=n(1961);Object.keys(S).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return S[e]}}))});var _=n(1962);Object.keys(_).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return _[e]}}))});var C=n(1963);Object.keys(C).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return C[e]}}))});var E=n(1964);Object.keys(E).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return E[e]}}))});var x=n(1965);Object.keys(x).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return x[e]}}))});var O=n(1966);Object.keys(O).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return O[e]}}))});var k=n(1967);Object.keys(k).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return k[e]}}))});var P=n(1968);Object.keys(P).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return P[e]}}))});var T=n(1969);Object.keys(T).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return T[e]}}))});var R=n(1971);Object.keys(R).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return R[e]}}))});var A=n(1972);Object.keys(A).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return A[e]}}))});var I=n(1973);Object.keys(I).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return I[e]}}))});var M=n(1976);Object.keys(M).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return M[e]}}))});var N=n(1977);Object.keys(N).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return N[e]}}))});var D=n(1988);Object.keys(D).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return D[e]}}))});var j=n(1989);Object.keys(j).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return j[e]}}))});var L=n(1242);Object.keys(L).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return L[e]}}))});var B=n(1991);Object.keys(B).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return B[e]}}))});t.OutputFormatPropertyName="OutputFormat";t.CancellationErrorCodePropertyName="CancellationErrorCode";t.ServicePropertiesPropertyName="ServiceProperties";t.ForceDictationPropertyName="ForceDication"},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=!("undefined"==typeof window||!window.document||!window.document.createElement);t.default=r,e.exports=t.default},function(e,t,n){"use strict";e.exports=function(e,t,n,r,i,o,a,s){if(!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,o,a,s],l=0;(u=new Error(t.replace(/%s/g,function(){return c[l++]}))).name="Invariant Violation"}throw u.framesToPop=1,u}}},,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={TranslationStatus:!0};Object.defineProperty(t,"TranslationStatus",{enumerable:!0,get:function(){return w.TranslationStatus}});var i=n(1878);Object.keys(i).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}}))});var o=n(1879);Object.keys(o).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}}))});var a=n(1225);Object.keys(a).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}}))});var s=n(1880);Object.keys(s).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return s[e]}}))});var u=n(203);Object.keys(u).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return u[e]}}))});var c=n(1881);Object.keys(c).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return c[e]}}))});var l=n(1226);Object.keys(l).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return l[e]}}))});var p=n(343);Object.keys(p).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return p[e]}}))});var f=n(1882);Object.keys(f).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return f[e]}}))});var d=n(1227);Object.keys(d).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return d[e]}}))});var h=n(838);Object.keys(h).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return h[e]}}))});var v=n(839);Object.keys(v).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return v[e]}}))});var g=n(1228);Object.keys(g).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return g[e]}}))});var m=n(1883);Object.keys(m).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return m[e]}}))});var y=n(1884);Object.keys(y).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return y[e]}}))});var b=n(1885);Object.keys(b).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return b[e]}}))});var w=n(840),S=n(1886);Object.keys(S).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return S[e]}}))})},,,function(e,t,n){"use strict";var r=n(14);t.__esModule=!0,t.default=void 0;var i=r(n(40)).default?function(e,t){return e.contains?e.contains(t):e.compareDocumentPosition?e===t||!!(16&e.compareDocumentPosition(t)):o(e,t)}:o;function o(e,t){if(t)do{if(t===e)return!0}while(t=t.parentNode);return!1}t.default=i,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){for(var e=arguments.length,i=Array(e),t=0;t<e;t++)i[t]=arguments[t];return(0,o.default)(function(){for(var e=arguments.length,n=Array(e),t=0;t<e;t++)n[t]=arguments[t];var r=null;return i.forEach(function(e){if(null==r){var t=e.apply(void 0,n);null!=t&&(r=t)}}),r})};var r,i=n(71),o=(r=i)&&r.__esModule?r:{default:r};e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(l){return function(e,t,n,r,i){var o=n||"<<anonymous>>",a=i||t;if(null==e[t])return new Error("The "+r+" `"+a+"` is required to make `"+o+"` accessible for users of assistive technologies such as screen readers.");for(var s=arguments.length,u=Array(5<s?s-5:0),c=5;c<s;c++)u[c-5]=arguments[c];return l.apply(void 0,[e,t,n,r,i].concat(u))}},e.exports=t.default},,,,,,,function(e,t,n){var r=n(214)("wks"),i=n(216),o=n(65).Symbol,a="function"==typeof o;(e.exports=function(e){return r[e]||(r[e]=a&&o[e]||(a?o:i)("Symbol."+e))}).store=r},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){return e&&e.ownerDocument||document},e.exports=t.default},function(e,t,n){"use strict";var r=n(14);t.__esModule=!0,t.default=function(n,e,t){var r="",i="",o=e;if("string"==typeof e){if(void 0===t)return n.style[(0,a.default)(e)]||(0,u.default)(n).getPropertyValue((0,s.default)(e));(o={})[e]=t}Object.keys(o).forEach(function(e){var t=o[e];t||0===t?(0,p.default)(e)?i+=e+"("+t+") ":r+=(0,s.default)(e)+": "+t+";":(0,c.default)(n,(0,s.default)(e))}),i&&(r+=l.transform+": "+i+";");n.style.cssText+=";"+r};var a=r(n(226)),s=r(n(402)),u=r(n(404)),c=r(n(405)),l=n(147),p=r(n(406));e.exports=t.default},,function(e,t,n){"use strict";t.__esModule=!0;var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},u=i(n(1)),r=i(n(362));function i(e){return e&&e.__esModule?e:{default:e}}t.default=(0,r.default)(function(e,t,n,r,i){var o=e[t],a=void 0===o?"undefined":s(o);return u.default.isValidElement(o)?new Error("Invalid "+r+" `"+i+"` of type ReactElement supplied to `"+n+"`, expected an element type (a string or a ReactClass)."):"function"!==a&&"string"!==a?new Error("Invalid "+r+" `"+i+"` of value `"+o+"` supplied to `"+n+"`, expected an element type (a string or a ReactClass)."):null})},,,function(e,t,n){e.exports=!n(85)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t,n){"use strict";t.__esModule=!0;var r,i=n(222),u=(r=i)&&r.__esModule?r:{default:r};t.default=function(e){return function(){var s=e.apply(this,arguments);return new u.default(function(o,a){return function t(e,n){try{var r=s[e](n),i=r.value}catch(e){return void a(e)}if(!r.done)return u.default.resolve(i).then(function(e){t("next",e)},function(e){t("throw",e)});o(i)}("next")})}}},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(p){function e(e,t,n,r,i,o){var a=r||"<<anonymous>>",s=o||n;if(null==t[n])return e?new Error("Required "+i+" `"+s+"` was not specified in `"+a+"`."):null;for(var u=arguments.length,c=Array(6<u?u-6:0),l=6;l<u;l++)c[l-6]=arguments[l];return p.apply(void 0,[t,n,a,i,s].concat(c))}var t=e.bind(null,!1);return t.isRequired=e.bind(null,!0),t},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){return(0,i.default)(r.default.findDOMNode(e))};var r=o(n(7)),i=o(n(57));function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r=m(n(151)),i=m(n(47)),o=m(n(40)),a=m(n(0)),s=m(n(111)),u=m(n(429)),c=m(n(3)),w=n(1),S=m(w),l=m(n(7)),p=m(n(22)),f=m(n(430)),_=m(n(231)),C=m(n(434)),d=m(n(229)),h=m(n(435)),v=m(n(113)),g=m(n(72));function m(e){return e&&e.__esModule?e:{default:e}}function E(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var y=new f.default,x=function(o){function y(){var e,t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,y);for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];return e=t=E(this,o.call.apply(o,[this].concat(r))),O.call(t),E(t,e)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(y,o),y.prototype.omitProps=function(t,n){var e=Object.keys(t),r={};return e.map(function(e){Object.prototype.hasOwnProperty.call(n,e)||(r[e]=t[e])}),r},y.prototype.render=function(){var e=this.props,t=e.show,n=e.container,r=e.children,i=e.transition,o=e.backdrop,a=e.className,s=e.style,u=e.onExit,c=e.onExiting,l=e.onEnter,p=e.onEntering,f=e.onEntered,d=S.default.Children.only(r),h=this.omitProps(this.props,y.propTypes);if(!(t||i&&!this.state.exited))return null;var v=d.props,g=v.role,m=v.tabIndex;return void 0!==g&&void 0!==m||(d=(0,w.cloneElement)(d,{role:void 0===g?"document":g,tabIndex:null==m?"-1":m})),i&&(d=S.default.createElement(i,{appear:!0,unmountOnExit:!0,in:t,onExit:u,onExiting:c,onExited:this.handleHidden,onEnter:l,onEntering:p,onEntered:f},d)),S.default.createElement(_.default,{ref:this.setMountNode,container:n,onRendered:this.onPortalRendered},S.default.createElement("div",b({ref:this.setModalNodeRef,role:g||"dialog"},h,{style:s,className:a}),o&&this.renderBackdrop(),S.default.createElement(C.default,{ref:this.setDialogRef},d)))},y.prototype.componentWillReceiveProps=function(e){e.show?this.setState({exited:!1}):e.transition||this.setState({exited:!0})},y.prototype.componentWillUpdate=function(e){!this.props.show&&e.show&&this.checkForFocus()},y.prototype.componentDidMount=function(){this._isMounted=!0,this.props.show&&this.onShow()},y.prototype.componentDidUpdate=function(e){var t=this.props.transition;!e.show||this.props.show||t?!e.show&&this.props.show&&this.onShow():this.onHide()},y.prototype.componentWillUnmount=function(){var e=this.props,t=e.show,n=e.transition;this._isMounted=!1,(t||n&&!this.state.exited)&&this.onHide()},y.prototype.autoFocus=function(){if(this.props.autoFocus){var e=this.getDialogElement(),t=(0,r.default)((0,g.default)(this));e&&!(0,i.default)(e,t)&&(this.lastFocus=t,e.hasAttribute("tabIndex")||((0,p.default)(!1,'The modal content node does not accept focus. For the benefit of assistive technologies, the tabIndex of the node is being set to "-1".'),e.setAttribute("tabIndex",-1)),e.focus())}},y.prototype.restoreLastFocus=function(){this.lastFocus&&this.lastFocus.focus&&(this.lastFocus.focus(),this.lastFocus=null)},y.prototype.getDialogElement=function(){return l.default.findDOMNode(this.dialog)},y.prototype.isTopModal=function(){return this.props.manager.isTopModal(this)},y}(S.default.Component);x.propTypes=b({},_.default.propTypes,{show:a.default.bool,container:a.default.oneOfType([s.default,a.default.func]),onShow:a.default.func,onHide:a.default.func,backdrop:a.default.oneOfType([a.default.bool,a.default.oneOf(["static"])]),renderBackdrop:a.default.func,onEscapeKeyDown:a.default.func,onEscapeKeyUp:(0,u.default)(a.default.func,"Please use onEscapeKeyDown instead for consistency"),onBackdropClick:a.default.func,backdropStyle:a.default.object,backdropClassName:a.default.string,containerClassName:a.default.string,keyboard:a.default.bool,transition:c.default,backdropTransition:c.default,autoFocus:a.default.bool,enforceFocus:a.default.bool,restoreFocus:a.default.bool,onEnter:a.default.func,onEntering:a.default.func,onEntered:a.default.func,onExit:a.default.func,onExiting:a.default.func,onExited:a.default.func,manager:a.default.object.isRequired}),x.defaultProps={show:!1,backdrop:!0,keyboard:!0,autoFocus:!0,enforceFocus:!0,restoreFocus:!0,onHide:function(){},manager:y,renderBackdrop:function(e){return S.default.createElement("div",e)}};var O=function(){var a=this;this.state={exited:!this.props.show},this.renderBackdrop=function(){var e=a.props,t=e.backdropStyle,n=e.backdropClassName,r=e.renderBackdrop,i=e.backdropTransition,o=r({ref:function(e){return a.backdrop=e},style:t,className:n,onClick:a.handleBackdropClick});return i&&(o=S.default.createElement(i,{appear:!0,in:a.props.show},o)),o},this.onPortalRendered=function(){a.autoFocus(),a.props.onShow&&a.props.onShow()},this.onShow=function(){var e=(0,g.default)(a),t=(0,v.default)(a.props.container,e.body);a.props.manager.add(a,t,a.props.containerClassName),a._onDocumentKeydownListener=(0,d.default)(e,"keydown",a.handleDocumentKeyDown),a._onDocumentKeyupListener=(0,d.default)(e,"keyup",a.handleDocumentKeyUp),a._onFocusinListener=(0,h.default)(a.enforceFocus)},this.onHide=function(){a.props.manager.remove(a),a._onDocumentKeydownListener.remove(),a._onDocumentKeyupListener.remove(),a._onFocusinListener.remove(),a.props.restoreFocus&&a.restoreLastFocus()},this.setMountNode=function(e){a.mountNode=e?e.getMountNode():e},this.setModalNodeRef=function(e){a.modalNode=e},this.setDialogRef=function(e){a.dialog=e},this.handleHidden=function(){var e;(a.setState({exited:!0}),a.onHide(),a.props.onExited)&&(e=a.props).onExited.apply(e,arguments)},this.handleBackdropClick=function(e){e.target===e.currentTarget&&(a.props.onBackdropClick&&a.props.onBackdropClick(e),!0===a.props.backdrop&&a.props.onHide())},this.handleDocumentKeyDown=function(e){a.props.keyboard&&27===e.keyCode&&a.isTopModal()&&(a.props.onEscapeKeyDown&&a.props.onEscapeKeyDown(e),a.props.onHide())},this.handleDocumentKeyUp=function(e){a.props.keyboard&&27===e.keyCode&&a.isTopModal()&&a.props.onEscapeKeyUp&&a.props.onEscapeKeyUp(e)},this.checkForFocus=function(){o.default&&(a.lastFocus=(0,r.default)())},this.enforceFocus=function(){if(a.props.enforceFocus&&a._isMounted&&a.isTopModal()){var e=a.getDialogElement(),t=(0,r.default)((0,g.default)(a));e&&!(0,i.default)(e,t)&&e.focus()}}};x.Manager=f.default,t.default=x,e.exports=t.default},,,,function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"prefix",function(){return L}),n.d(r,"bsClass",function(){return B}),n.d(r,"bsStyles",function(){return F}),n.d(r,"bsSizes",function(){return z}),n.d(r,"getClassSet",function(){return U}),n.d(r,"splitBsProps",function(){return V}),n.d(r,"splitBsPropsAndOmit",function(){return q}),n.d(r,"addStyle",function(){return G}),n.d(r,"_curry",function(){return K});var i={};n.r(i),n.d(i,"bootstrapUtils",function(){return r}),n.d(i,"createChainedFunction",function(){return ye}),n.d(i,"ValidComponentChildren",function(){return X});var o=n(98),a=n.n(o);function O(){return(O=a.a||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s=n(195),u=n.n(s);function c(e,t){e.prototype=u()(t.prototype),(e.prototype.constructor=e).__proto__=t}var k=n(1),P=n.n(k),l=n(194),p=n.n(l);function T(e,t){if(null==e)return{};var n,r,i={},o=p()(e);for(r=0;r<o.length;r++)n=o[r],0<=t.indexOf(n)||(i[n]=e[n]);return i}var f=n(2),R=n.n(f),d=n(0),h=n.n(d),v=n(20),g=n.n(v),m=n(84),y=n.n(m),b=n(41),w=n.n(b),S="large",_="small",C="xsmall",E={large:"lg",medium:"md",small:"sm",xsmall:"xs",lg:"lg",md:"md",sm:"sm",xs:"xs"},x=["lg","md","sm","xs"],A={SUCCESS:"success",WARNING:"warning",DANGER:"danger",INFO:"info"},I="default",M="primary",N="link",D="inverse";function j(r){return function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return"function"==typeof t[t.length-1]?r.apply(void 0,t):function(e){return r.apply(void 0,t.concat([e]))}}}function L(e,t){var n=(e.bsClass||"").trim();return null==n&&w()(!1),n+(t?"-"+t:"")}var B=j(function(e,t){var n=t.propTypes||(t.propTypes={}),r=t.defaultProps||(t.defaultProps={});return n.bsClass=h.a.string,r.bsClass=e,t}),F=j(function(e,t,n){"string"!=typeof t&&(n=t,t=void 0);var r=n.STYLES||[],i=n.propTypes||{};e.forEach(function(e){-1===r.indexOf(e)&&r.push(e)});var o=h.a.oneOf(r);(n.STYLES=r,o._values=r,n.propTypes=O({},i,{bsStyle:o}),void 0!==t)&&((n.defaultProps||(n.defaultProps={})).bsStyle=t);return n}),z=j(function(e,t,n){"string"!=typeof t&&(n=t,t=void 0);var r=n.SIZES||[],i=n.propTypes||{};e.forEach(function(e){-1===r.indexOf(e)&&r.push(e)});var o=[];r.forEach(function(e){var t=E[e];t&&t!==e&&o.push(t),o.push(e)});var a=h.a.oneOf(o);return a._values=o,n.SIZES=r,n.propTypes=O({},i,{bsSize:a}),void 0!==t&&(n.defaultProps||(n.defaultProps={}),n.defaultProps.bsSize=t),n});function U(e){var t,n=((t={})[L(e)]=!0,t);e.bsSize&&(n[L(e,E[e.bsSize]||e.bsSize)]=!0);return e.bsStyle&&(n[L(e,e.bsStyle)]=!0),n}function H(e){return{bsClass:e.bsClass,bsSize:e.bsSize,bsStyle:e.bsStyle,bsRole:e.bsRole}}function W(e){return"bsClass"===e||"bsSize"===e||"bsStyle"===e||"bsRole"===e}function V(e){var r={};return y()(e).forEach(function(e){var t=e[0],n=e[1];W(t)||(r[t]=n)}),[H(e),r]}function q(e,t){var r={};t.forEach(function(e){r[e]=!0});var i={};return y()(e).forEach(function(e){var t=e[0],n=e[1];W(t)||r[t]||(i[t]=n)}),[H(e),i]}function G(e){for(var t=arguments.length,n=new Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];F(n,e)}var K=j;var X={map:function(e,t,n){var r=0;return P.a.Children.map(e,function(e){return P.a.isValidElement(e)?t.call(n,e,r++):e})},forEach:function(e,t,n){var r=0;P.a.Children.forEach(e,function(e){P.a.isValidElement(e)&&t.call(n,e,r++)})},count:function(e){var t=0;return P.a.Children.forEach(e,function(e){P.a.isValidElement(e)&&++t}),t},find:function(e,t,n){var r,i=0;return P.a.Children.forEach(e,function(e){r||P.a.isValidElement(e)&&t.call(n,e,i++)&&(r=e)}),r},filter:function(e,t,n){var r=0,i=[];return P.a.Children.forEach(e,function(e){P.a.isValidElement(e)&&t.call(n,e,r++)&&i.push(e)}),i},every:function(e,t,n){var r=0,i=!0;return P.a.Children.forEach(e,function(e){i&&P.a.isValidElement(e)&&(t.call(n,e,r++)||(i=!1))}),i},some:function(e,t,n){var r=0,i=!1;return P.a.Children.forEach(e,function(e){i||P.a.isValidElement(e)&&t.call(n,e,r++)&&(i=!0)}),i},toArray:function(e){var t=[];return P.a.Children.forEach(e,function(e){P.a.isValidElement(e)&&t.push(e)}),t}},Y=n(71),J=n.n(Y),$=h.a.oneOfType([h.a.string,h.a.number]);var Q,Z={accordion:h.a.bool,activeKey:h.a.any,onSelect:h.a.func,role:h.a.string,generateChildId:h.a.func,id:(Q="PanelGroup",function(e){var t=null;if(!e.generateChildId){for(var n=arguments.length,r=new Array(1<n?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];(t=$.apply(void 0,[e].concat(r)))||e.id||(t=new Error("In order to properly initialize the "+Q+" in a way that is accessible to assistive technologies (such as screen readers) an `id` or a `generateChildId` prop to "+Q+" is required"))}return t})},ee={$bs_panelGroup:h.a.shape({getId:h.a.func,headerRole:h.a.string,panelRole:h.a.string,activeKey:h.a.any,onToggle:h.a.func})},te=function(i){function e(){for(var r,e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(r=i.call.apply(i,[this].concat(t))||this).handleSelect=function(e,t,n){t?r.props.onSelect(e,n):r.props.activeKey===e&&r.props.onSelect(null,n)},r}c(e,i);var t=e.prototype;return t.getChildContext=function(){var e=this.props,t=e.activeKey,n=e.accordion,r=e.generateChildId,i=e.id,o=null;return n&&(o=r||function(e,t){return i?i+"-"+t+"-"+e:null}),{$bs_panelGroup:O({getId:o,headerRole:"tab",panelRole:"tabpanel"},n&&{activeKey:t,onToggle:this.handleSelect})}},t.render=function(){var e=this.props,t=e.accordion,n=e.className,r=e.children,i=q(T(e,["accordion","className","children"]),["onSelect","activeKey"]),o=i[0],a=i[1];t&&(a.role=a.role||"tablist");var s=U(o);return P.a.createElement("div",O({},a,{className:R()(n,s)}),X.map(r,function(e){return Object(k.cloneElement)(e,{bsStyle:e.props.bsStyle||o.bsStyle})}))},e}(P.a.Component);te.propTypes=Z,te.defaultProps={accordion:!1},te.childContextTypes=ee;var ne=g()(B("panel-group",te),{activeKey:"onSelect"}),re=function(e){function t(){return e.apply(this,arguments)||this}return c(t,e),t.prototype.render=function(){return P.a.createElement(ne,O({},this.props,{accordion:!0}),this.props.children)},t}(P.a.Component),ie=n(26),oe=n.n(ie),ae={label:h.a.string.isRequired,onClick:h.a.func},se=function(e){function t(){return e.apply(this,arguments)||this}return c(t,e),t.prototype.render=function(){var e=this.props,t=e.label,n=e.onClick;return P.a.createElement("button",{type:"button",className:"close",onClick:n},P.a.createElement("span",{"aria-hidden":"true"},"Ã—"),P.a.createElement("span",{className:"sr-only"},t))},t}(P.a.Component);se.propTypes=ae,se.defaultProps={label:"Close"};var ue=se,ce={onDismiss:h.a.func,closeLabel:h.a.string},le=function(e){function t(){return e.apply(this,arguments)||this}return c(t,e),t.prototype.render=function(){var e,t=this.props,n=t.onDismiss,r=t.closeLabel,i=t.className,o=t.children,a=V(T(t,["onDismiss","closeLabel","className","children"])),s=a[0],u=a[1],c=!!n,l=O({},U(s),((e={})[L(s,"dismissable")]=c,e));return P.a.createElement("div",O({},u,{role:"alert",className:R()(i,l)}),c&&P.a.createElement(ue,{onClick:n,label:r}),o)},t}(P.a.Component);le.propTypes=ce,le.defaultProps={closeLabel:"Close alert"};var pe=F(oe()(A),A.INFO,B("alert",le)),fe={pullRight:h.a.bool},de=function(e){function t(){return e.apply(this,arguments)||this}c(t,e);var n=t.prototype;return n.hasContent=function(e){var t=!1;return P.a.Children.forEach(e,function(e){t||(e||0===e)&&(t=!0)}),t},n.render=function(){var e=this.props,t=e.pullRight,n=e.className,r=e.children,i=V(T(e,["pullRight","className","children"])),o=i[0],a=i[1],s=O({},U(o),{"pull-right":t,hidden:!this.hasContent(r)});return P.a.createElement("span",O({},a,{className:R()(n,s)}),r)},t}(P.a.Component);de.propTypes=fe,de.defaultProps={pullRight:!1};var he=B("badge",de);function ve(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var ge=n(3),me=n.n(ge);var ye=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(function(e){return null!=e}).reduce(function(r,i){if("function"!=typeof i)throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return null===r?i:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];r.apply(this,t),i.apply(this,t)}},null)},be={href:h.a.string,onClick:h.a.func,onKeyDown:h.a.func,disabled:h.a.bool,role:h.a.string,tabIndex:h.a.oneOfType([h.a.number,h.a.string]),componentClass:me.a};function we(e){return!e||"#"===e.trim()}var Se=function(r){function e(e,t){var n;return(n=r.call(this,e,t)||this).handleClick=n.handleClick.bind(ve(ve(n))),n.handleKeyDown=n.handleKeyDown.bind(ve(ve(n))),n}c(e,r);var t=e.prototype;return t.handleClick=function(e){var t=this.props,n=t.disabled,r=t.href,i=t.onClick;(n||we(r))&&e.preventDefault(),n?e.stopPropagation():i&&i(e)},t.handleKeyDown=function(e){" "===e.key&&(e.preventDefault(),this.handleClick(e))},t.render=function(){var e=this.props,t=e.componentClass,n=e.disabled,r=e.onKeyDown,i=T(e,["componentClass","disabled","onKeyDown"]);return we(i.href)&&(i.role=i.role||"button",i.href=i.href||"#"),n&&(i.tabIndex=-1,i.style=O({pointerEvents:"none"},i.style)),P.a.createElement(t,O({},i,{onClick:this.handleClick,onKeyDown:ye(this.handleKeyDown,r)}))},e}(P.a.Component);Se.propTypes=be,Se.defaultProps={componentClass:"a"};var _e=Se,Ce={active:h.a.bool,href:h.a.string,title:h.a.node,target:h.a.string},Ee=function(e){function t(){return e.apply(this,arguments)||this}return c(t,e),t.prototype.render=function(){var e=this.props,t=e.active,n=e.href,r=e.title,i=e.target,o=e.className,a=T(e,["active","href","title","target","className"]),s={href:n,title:r,target:i};return P.a.createElement("li",{className:R()(o,{active:t})},t?P.a.createElement("span",a):P.a.createElement(_e,O({},a,s)))},t}(P.a.Component);Ee.propTypes=Ce,Ee.defaultProps={active:!1};var xe=Ee,Oe=function(e){function t(){return e.apply(this,arguments)||this}return c(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=V(T(e,["className"])),r=n[0],i=n[1],o=U(r);return P.a.createElement("ol",O({},i,{role:"navigation","aria-label":"breadcrumbs",className:R()(t,o)}))},t}(P.a.Component);Oe.Item=xe;var ke=B("breadcrumb",Oe),Pe={active:h.a.bool,disabled:h.a.bool,block:h.a.bool,onClick:h.a.func,componentClass:me.a,href:h.a.string,type:h.a.oneOf(["button","reset","submit"])},Te=function(e){function t(){return e.apply(this,arguments)||this}c(t,e);var n=t.prototype;return n.renderAnchor=function(e,t){return P.a.createElement(_e,O({},e,{className:R()(t,e.disabled&&"disabled")}))},n.renderButton=function(e,t){var n=e.componentClass,r=T(e,["componentClass"]),i=n||"button";return P.a.createElement(i,O({},r,{type:r.type||"button",className:t}))},n.render=function(){var e,t=this.props,n=t.active,r=t.block,i=t.className,o=V(T(t,["active","block","className"])),a=o[0],s=o[1],u=O({},U(a),((e={active:n})[L(a,"block")]=r,e)),c=R()(i,u);return s.href?this.renderAnchor(s,c):this.renderButton(s,c)},t}(P.a.Component);Te.propTypes=Pe,Te.defaultProps={active:!1,block:!1,disabled:!1};var Re=B("btn",z([S,_,C],F(oe()(A).concat([I,M,N]),I,Te))),Ae=n(48),Ie=n.n(Ae),Me={vertical:h.a.bool,justified:h.a.bool,block:Ie()(h.a.bool,function(e){var t=e.block,n=e.vertical;return t&&!n?new Error("`block` requires `vertical` to be set to have any effect"):null})},Ne=function(e){function t(){return e.apply(this,arguments)||this}return c(t,e),t.prototype.render=function(){var e,t=this.props,n=t.block,r=t.justified,i=t.vertical,o=t.className,a=V(T(t,["block","justified","vertical","className"])),s=a[0],u=a[1],c=O({},U(s),((e={})[L(s)]=!i,e[L(s,"vertical")]=i,e[L(s,"justified")]=r,e[L(Re.defaultProps,"block")]=n,e));return P.a.createElement("div",O({},u,{className:R()(o,c)}))},t}(P.a.Component);Ne.propTypes=Me,Ne.defaultProps={block:!1,justified:!1,vertical:!1};var De=B("btn-group",Ne),je=function(e){function t(){return e.apply(this,arguments)||this}return c(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=V(T(e,["className"])),r=n[0],i=n[1],o=U(r);return P.a.createElement("div",O({},i,{role:"toolbar",className:R()(t,o)}))},t}(P.a.Component),Le=B("btn-toolbar",je),Be={componentClass:me.a},Fe=function(e){function t(){return e.apply(this,arguments)||this}return c(t,e),t.prototype.render=function(){var e=this.props,t=e.componentClass,n=e.className,r=V(T(e,["componentClass","className"])),i=r[0],o=r[1],a=U(i);return P.a.createElement(t,O({},o,{className:R()(n,a)}))},t}(P.a.Component);Fe.propTypes=Be,Fe.defaultProps={componentClass:"div"};var ze=B("carousel-caption",Fe),Ue=n(7),He=n.n(Ue),We=n(235),Ve=n.n(We),qe={direction:h.a.oneOf(["prev","next"]),onAnimateOutEnd:h.a.func,active:h.a.bool,animateIn:h.a.bool,animateOut:h.a.bool,index:h.a.number},Ge=function(r){function e(e,t){var n;return(n=r.call(this,e,t)||this).handleAnimateOutEnd=n.handleAnimateOutEnd.bind(ve(ve(n))),n.state={direction:null},n.isUnmounted=!1,n}c(e,r);var t=e.prototype;return t.componentWillReceiveProps=function(e){this.props.active!==e.active&&this.setState({direction:null})},t.componentDidUpdate=function(e){var t=this,n=this.props.active,r=e.active;!n&&r&&Ve.a.end(He.a.findDOMNode(this),this.handleAnimateOutEnd),n!==r&&setTimeout(function(){return t.startAnimation()},20)},t.componentWillUnmount=function(){this.isUnmounted=!0},t.handleAnimateOutEnd=function(){this.isUnmounted||this.props.onAnimateOutEnd&&this.props.onAnimateOutEnd(this.props.index)},t.startAnimation=function(){this.isUnmounted||this.setState({direction:"prev"===this.props.direction?"right":"left"})},t.render=function(){var e=this.props,t=e.direction,n=e.active,r=e.animateIn,i=e.animateOut,o=e.className,a=T(e,["direction","active","animateIn","animateOut","className"]);delete a.onAnimateOutEnd,delete a.index;var s={item:!0,active:n&&!r||i};return t&&n&&r&&(s[t]=!0),this.state.direction&&(r||i)&&(s[this.state.direction]=!0),P.a.createElement("div",O({},a,{className:R()(o,s)}))},e}(P.a.Component);Ge.propTypes=qe,Ge.defaultProps={active:!1,animateIn:!1,animateOut:!1};var Ke=Ge,Xe={glyph:h.a.string.isRequired},Ye=function(e){function t(){return e.apply(this,arguments)||this}return c(t,e),t.prototype.render=function(){var e,t=this.props,n=t.glyph,r=t.className,i=V(T(t,["glyph","className"])),o=i[0],a=i[1],s=O({},U(o),((e={})[L(o,n)]=!0,e));return P.a.createElement("span",O({},a,{className:R()(r,s)}))},t}(P.a.Component);Ye.propTypes=Xe;var Je=B("glyphicon",Ye),$e={slide:h.a.bool,indicators:h.a.bool,interval:h.a.number,controls:h.a.bool,pauseOnHover:h.a.bool,wrap:h.a.bool,onSelect:h.a.func,onSlideEnd:h.a.func,activeIndex:h.a.number,defaultActiveIndex:h.a.number,direction:h.a.oneOf(["prev","next"]),prevIcon:h.a.node,prevLabel:h.a.string,nextIcon:h.a.node,nextLabel:h.a.string},Qe={slide:!0,interval:5e3,pauseOnHover:!0,wrap:!0,indicators:!0,controls:!0,prevIcon:P.a.createElement(Je,{glyph:"chevron-left"}),prevLabel:"Previous",nextIcon:P.a.createElement(Je,{glyph:"chevron-right"}),nextLabel:"Next"},Ze=function(i){function e(e,t){var n;(n=i.call(this,e,t)||this).handleMouseOver=n.handleMouseOver.bind(ve(ve(n))),n.handleMouseOut=n.handleMouseOut.bind(ve(ve(n))),n.handlePrev=n.handlePrev.bind(ve(ve(n))),n.handleNext=n.handleNext.bind(ve(ve(n))),n.handleItemAnimateOutEnd=n.handleItemAnimateOutEnd.bind(ve(ve(n)));var r=e.defaultActiveIndex;return n.state={activeIndex:null!=r?r:0,previousActiveIndex:null,direction:null},n.isUnmounted=!1,n}c(e,i);var t=e.prototype;return t.componentDidMount=function(){this.waitForNext()},t.componentWillReceiveProps=function(e){var t=this.getActiveIndex();null!=e.activeIndex&&e.activeIndex!==t&&(clearTimeout(this.timeout),this.setState({previousActiveIndex:t,direction:null!=e.direction?e.direction:this.getDirection(t,e.activeIndex)})),null==e.activeIndex&&this.state.activeIndex>=e.children.length&&this.setState({activeIndex:0,previousActiveIndex:null,direction:null})},t.componentWillUnmount=function(){clearTimeout(this.timeout),this.isUnmounted=!0},t.getActiveIndex=function(){var e=this.props.activeIndex;return null!=e?e:this.state.activeIndex},t.getDirection=function(e,t){return e===t?null:t<e?"prev":"next"},t.handleItemAnimateOutEnd=function(){var e=this;this.setState({previousActiveIndex:null,direction:null},function(){e.waitForNext(),e.props.onSlideEnd&&e.props.onSlideEnd()})},t.handleMouseOut=function(){this.isPaused&&this.play()},t.handleMouseOver=function(){this.props.pauseOnHover&&this.pause()},t.handleNext=function(e){var t=this.getActiveIndex()+1;if(X.count(this.props.children)-1<t){if(!this.props.wrap)return;t=0}this.select(t,e,"next")},t.handlePrev=function(e){var t=this.getActiveIndex()-1;if(t<0){if(!this.props.wrap)return;t=X.count(this.props.children)-1}this.select(t,e,"prev")},t.pause=function(){this.isPaused=!0,clearTimeout(this.timeout)},t.play=function(){this.isPaused=!1,this.waitForNext()},t.select=function(e,t,n){if(clearTimeout(this.timeout),!this.isUnmounted){var r=this.props.slide?this.getActiveIndex():null;n=n||this.getDirection(r,e);var i=this.props.onSelect;if(i&&(1<i.length?(t?(t.persist(),t.direction=n):t={direction:n},i(e,t)):i(e)),null==this.props.activeIndex&&e!==r){if(null!=this.state.previousActiveIndex)return;this.setState({activeIndex:e,previousActiveIndex:r,direction:n})}}},t.waitForNext=function(){var e=this.props,t=e.slide,n=e.interval,r=e.activeIndex;!this.isPaused&&t&&n&&null==r&&(this.timeout=setTimeout(this.handleNext,n))},t.renderControls=function(e){var t=e.wrap,n=e.children,r=e.activeIndex,i=e.prevIcon,o=e.nextIcon,a=e.bsProps,s=e.prevLabel,u=e.nextLabel,c=L(a,"control"),l=X.count(n);return[(t||0!==r)&&P.a.createElement(_e,{key:"prev",className:R()(c,"left"),onClick:this.handlePrev},i,s&&P.a.createElement("span",{className:"sr-only"},s)),(t||r!==l-1)&&P.a.createElement(_e,{key:"next",className:R()(c,"right"),onClick:this.handleNext},o,u&&P.a.createElement("span",{className:"sr-only"},u))]},t.renderIndicators=function(e,n,t){var r=this,i=[];return X.forEach(e,function(e,t){i.push(P.a.createElement("li",{key:t,className:t===n?"active":null,onClick:function(e){return r.select(t,e)}})," ")}),P.a.createElement("ol",{className:L(t,"indicators")},i)},t.render=function(){var i=this,e=this.props,o=e.slide,t=e.indicators,n=e.controls,r=e.wrap,a=e.prevIcon,s=e.prevLabel,u=e.nextIcon,c=e.nextLabel,l=e.className,p=e.children,f=T(e,["slide","indicators","controls","wrap","prevIcon","prevLabel","nextIcon","nextLabel","className","children"]),d=this.state,h=d.previousActiveIndex,v=d.direction,g=q(f,["interval","pauseOnHover","onSelect","onSlideEnd","activeIndex","defaultActiveIndex","direction"]),m=g[0],y=g[1],b=this.getActiveIndex(),w=O({},U(m),{slide:o});return P.a.createElement("div",O({},y,{className:R()(l,w),onMouseOver:this.handleMouseOver,onMouseOut:this.handleMouseOut}),t&&this.renderIndicators(p,b,m),P.a.createElement("div",{className:L(m,"inner")},X.map(p,function(e,t){var n=t===b,r=o&&t===h;return Object(k.cloneElement)(e,{active:n,index:t,animateOut:r,animateIn:n&&null!=h&&o,direction:v,onAnimateOutEnd:r?i.handleItemAnimateOutEnd:null})})),n&&this.renderControls({wrap:r,children:p,activeIndex:b,prevIcon:a,prevLabel:s,nextIcon:u,nextLabel:c,bsProps:m}))},e}(P.a.Component);Ze.propTypes=$e,Ze.defaultProps=Qe,Ze.Caption=ze,Ze.Item=Ke;var et=B("carousel",Ze),tt=(n(22),{inline:h.a.bool,disabled:h.a.bool,title:h.a.string,validationState:h.a.oneOf(["success","warning","error",null]),inputRef:h.a.func}),nt=function(e){function t(){return e.apply(this,arguments)||this}return c(t,e),t.prototype.render=function(){var e=this.props,t=e.inline,n=e.disabled,r=e.validationState,i=e.inputRef,o=e.className,a=e.style,s=e.title,u=e.children,c=V(T(e,["inline","disabled","validationState","inputRef","className","style","title","children"])),l=c[0],p=c[1],f=P.a.createElement("input",O({},p,{ref:i,type:"checkbox",disabled:n}));if(t){var d,h=((d={})[L(l,"inline")]=!0,d.disabled=n,d);return P.a.createElement("label",{className:R()(o,h),style:a,title:s},f,u)}var v=O({},U(l),{disabled:n});return r&&(v["has-"+r]=!0),P.a.createElement("div",{className:R()(o,v),style:a},P.a.createElement("label",{title:s},f,u))},t}(P.a.Component);nt.propTypes=tt,nt.defaultProps={inline:!1,disabled:!1,title:""};var rt=B("checkbox",nt);function it(e){return""+e.charAt(0).toUpperCase()+e.slice(1)}var ot={componentClass:me.a,visibleXsBlock:h.a.bool,visibleSmBlock:h.a.bool,visibleMdBlock:h.a.bool,visibleLgBlock:h.a.bool},at=function(e){function t(){return e.apply(this,arguments)||this}return c(t,e),t.prototype.render=function(){var e=this.props,t=e.componentClass,n=e.className,r=V(T(e,["componentClass","className"])),i=r[0],o=r[1],a=U(i);return x.forEach(function(e){var t="visible"+it(e)+"Block";o[t]&&(a["visible-"+e+"-block"]=!0),delete o[t]}),P.a.createElement(t,O({},o,{className:R()(n,a)}))},t}(P.a.Component);at.propTypes=ot,at.defaultProps={componentClass:"div"};var st=B("clearfix",at),ut={htmlFor:h.a.string,srOnly:h.a.bool},ct={$bs_formGroup:h.a.object},lt=function(e){function t(){return e.apply(this,arguments)||this}return c(t,e),t.prototype.render=function(){var e=this.context.$bs_formGroup,t=e&&e.controlId,n=this.props,r=n.htmlFor,i=void 0===r?t:r,o=n.srOnly,a=n.className,s=V(T(n,["htmlFor","srOnly","className"])),u=s[0],c=s[1],l=O({},U(u),{"sr-only":o});return P.a.createElement("label",O({},c,{htmlFor:i,className:R()(a,l)}))},t}(P.a.Component);lt.propTypes=ut,lt.defaultProps={srOnly:!1},lt.contextTypes=ct;var pt=B("control-label",lt),ft={componentClass:me.a,xs:h.a.number,sm:h.a.number,md:h.a.number,lg:h.a.number,xsHidden:h.a.bool,smHidden:h.a.bool,mdHidden:h.a.bool,lgHidden:h.a.bool,xsOffset:h.a.number,smOffset:h.a.number,mdOffset:h.a.number,lgOffset:h.a.number,xsPush:h.a.number,smPush:h.a.number,mdPush:h.a.number,lgPush:h.a.number,xsPull:h.a.number,smPull:h.a.number,mdPull:h.a.number,lgPull:h.a.number},dt=function(e){function t(){return e.apply(this,arguments)||this}return c(t,e),t.prototype.render=function(){var e=this.props,t=e.componentClass,n=e.className,r=V(T(e,["componentClass","className"])),o=r[0],a=r[1],s=[];return x.forEach(function(i){function e(e,t){var n=""+i+e,r=a[n];null!=r&&s.push(L(o,""+i+t+"-"+r)),delete a[n]}e("",""),e("Offset","-offset"),e("Push","-push"),e("Pull","-pull");var t=i+"Hidden";a[t]&&s.push("hidden-"+i),delete a[t]}),P.a.createElement(t,O({},a,{className:R()(n,s)}))},t}(P.a.Component);dt.propTypes=ft,dt.defaultProps={componentClass:"div"};var ht,vt=B("col",dt),gt=n(154),mt=n.n(gt),yt=n(58),bt=n.n(yt),wt=n(32),St=n.n(wt),_t={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};var Ct=((ht={})[wt.EXITED]="collapse",ht[wt.EXITING]="collapsing",ht[wt.ENTERING]="collapsing",ht[wt.ENTERED]="collapse in",ht),Et={in:h.a.bool,mountOnEnter:h.a.bool,unmountOnExit:h.a.bool,appear:h.a.bool,timeout:h.a.number,onEnter:h.a.func,onEntering:h.a.func,onEntered:h.a.func,onExit:h.a.func,onExiting:h.a.func,onExited:h.a.func,dimension:h.a.oneOfType([h.a.oneOf(["height","width"]),h.a.func]),getDimensionValue:h.a.func,role:h.a.string},xt={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,dimension:"height",getDimensionValue:function(e,t){var n=t["offset"+it(e)],r=_t[e];return n+mt()(bt()(t,r[0]),10)+mt()(bt()(t,r[1]),10)}},Ot=function(i){function e(){for(var n,e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return(n=i.call.apply(i,[this].concat(t))||this).handleEnter=function(e){e.style[n.getDimension()]="0"},n.handleEntering=function(e){var t=n.getDimension();e.style[t]=n._getScrollDimensionValue(e,t)},n.handleEntered=function(e){e.style[n.getDimension()]=null},n.handleExit=function(e){var t=n.getDimension();e.style[t]=n.props.getDimensionValue(t,e)+"px",function(e){e.offsetHeight}(e)},n.handleExiting=function(e){e.style[n.getDimension()]="0"},n}c(e,i);var t=e.prototype;return t.getDimension=function(){return"function"==typeof this.props.dimension?this.props.dimension():this.props.dimension},t._getScrollDimensionValue=function(e,t){return e["scroll"+it(t)]+"px"},t.render=function(){var n=this,e=this.props,t=e.onEnter,r=e.onEntering,i=e.onEntered,o=e.onExit,a=e.onExiting,s=e.className,u=e.children,c=T(e,["onEnter","onEntering","onEntered","onExit","onExiting","className","children"]);delete c.dimension,delete c.getDimensionValue;var l=ye(this.handleEnter,t),p=ye(this.handleEntering,r),f=ye(this.handleEntered,i),d=ye(this.handleExit,o),h=ye(this.handleExiting,a);return P.a.createElement(St.a,O({},c,{"aria-expanded":c.role?c.in:null,onEnter:l,onEntering:p,onEntered:f,onExit:d,onExiting:h}),function(e,t){return P.a.cloneElement(u,O({},t,{className:R()(s,u.props.className,Ct[e],"width"===n.getDimension()&&"width")}))})},e}(P.a.Component);Ot.propTypes=Et,Ot.defaultProps=xt;var kt=Ot,Pt=n(151),Tt=n.n(Pt),Rt=n(47),At=n.n(Rt),It=n(11),Mt=n.n(It),Nt=n(49),Dt=n.n(Nt),jt=n(236),Lt=n.n(jt),Bt=n(152),Ft=n.n(Bt),zt={open:h.a.bool,pullRight:h.a.bool,onClose:h.a.func,labelledBy:h.a.oneOfType([h.a.string,h.a.number]),onSelect:h.a.func,rootCloseEvent:h.a.oneOf(["click","mousedown"])},Ut=function(n){function e(e){var t;return(t=n.call(this,e)||this).handleRootClose=t.handleRootClose.bind(ve(ve(t))),t.handleKeyDown=t.handleKeyDown.bind(ve(ve(t))),t}c(e,n);var t=e.prototype;return t.getFocusableMenuItems=function(){var e=He.a.findDOMNode(this);return e?Lt()(e.querySelectorAll('[tabIndex="-1"]')):[]},t.getItemsAndActiveIndex=function(){var e=this.getFocusableMenuItems(),t=e.indexOf(document.activeElement);return{items:e,activeIndex:t}},t.focusNext=function(){var e=this.getItemsAndActiveIndex(),t=e.items,n=e.activeIndex;0!==t.length&&t[n===t.length-1?0:n+1].focus()},t.focusPrevious=function(){var e=this.getItemsAndActiveIndex(),t=e.items,n=e.activeIndex;0!==t.length&&t[0===n?t.length-1:n-1].focus()},t.handleKeyDown=function(e){switch(e.keyCode){case Mt.a.codes.down:this.focusNext(),e.preventDefault();break;case Mt.a.codes.up:this.focusPrevious(),e.preventDefault();break;case Mt.a.codes.esc:case Mt.a.codes.tab:this.props.onClose(e,{source:"keydown"})}},t.handleRootClose=function(e){this.props.onClose(e,{source:"rootClose"})},t.render=function(){var e,t=this,n=this.props,r=n.open,i=n.pullRight,o=n.labelledBy,a=n.onSelect,s=n.className,u=n.rootCloseEvent,c=n.children,l=q(T(n,["open","pullRight","labelledBy","onSelect","className","rootCloseEvent","children"]),["onClose"]),p=l[0],f=l[1],d=O({},U(p),((e={})[L(p,"right")]=i,e));return P.a.createElement(Ft.a,{disabled:!r,onRootClose:this.handleRootClose,event:u},P.a.createElement("ul",O({},f,{role:"menu",className:R()(s,d),"aria-labelledby":o}),X.map(c,function(e){return P.a.cloneElement(e,{onKeyDown:ye(e.props.onKeyDown,t.handleKeyDown),onSelect:ye(e.props.onSelect,a)})})))},e}(P.a.Component);Ut.propTypes=zt,Ut.defaultProps={bsRole:"menu",pullRight:!1};var Ht=B("dropdown-menu",Ut),Wt={noCaret:h.a.bool,open:h.a.bool,title:h.a.string,useAnchor:h.a.bool},Vt=function(e){function t(){return e.apply(this,arguments)||this}return c(t,e),t.prototype.render=function(){var e=this.props,t=e.noCaret,n=e.open,r=e.useAnchor,i=e.bsClass,o=e.className,a=e.children,s=T(e,["noCaret","open","useAnchor","bsClass","className","children"]);delete s.bsRole;var u=r?_e:Re,c=!t;return P.a.createElement(u,O({},s,{role:"button",className:R()(o,i),"aria-haspopup":!0,"aria-expanded":n}),a||s.title,c&&" ",c&&P.a.createElement("span",{className:"caret"}))},t}(P.a.Component);Vt.propTypes=Wt,Vt.defaultProps={open:!1,useAnchor:!1,bsRole:"toggle"};var qt=B("dropdown-toggle",Vt),Gt=qt.defaultProps.bsRole,Kt=Ht.defaultProps.bsRole,Xt={dropup:h.a.bool,id:Dt()(h.a.oneOfType([h.a.string,h.a.number])),componentClass:me.a,children:Ie()(function(){for(var e=arguments.length,i=new Array(e),t=0;t<e;t++)i[t]=arguments[t];return J()(function(e,t,n){var r;return i.every(function(t){return!!X.some(e.children,function(e){return e.props.bsRole===t})||(r=t,!1)}),r?new Error("(children) "+n+" - Missing a required child with bsRole: "+r+". "+n+" must have at least one child of each of the following bsRoles: "+i.join(", ")):null})}(Gt,Kt),function(){for(var e=arguments.length,i=new Array(e),t=0;t<e;t++)i[t]=arguments[t];return J()(function(e,t,n){var r;return i.every(function(t){return!(1<X.filter(e.children,function(e){return e.props.bsRole===t}).length&&(r=t,1))}),r?new Error("(children) "+n+" - Duplicate children detected of bsRole: "+r+". Only one child each allowed with the following bsRoles: "+i.join(", ")):null})}(Kt)),disabled:h.a.bool,pullRight:h.a.bool,open:h.a.bool,defaultOpen:h.a.bool,onToggle:h.a.func,onSelect:h.a.func,role:h.a.string,rootCloseEvent:h.a.oneOf(["click","mousedown"]),onMouseEnter:h.a.func,onMouseLeave:h.a.func},Yt={componentClass:De},Jt=function(r){function e(e,t){var n;return(n=r.call(this,e,t)||this).handleClick=n.handleClick.bind(ve(ve(n))),n.handleKeyDown=n.handleKeyDown.bind(ve(ve(n))),n.handleClose=n.handleClose.bind(ve(ve(n))),n._focusInDropdown=!1,n.lastOpenEventType=null,n}c(e,r);var t=e.prototype;return t.componentDidMount=function(){this.focusNextOnOpen()},t.componentWillUpdate=function(e){!e.open&&this.props.open&&(this._focusInDropdown=At()(He.a.findDOMNode(this.menu),Tt()(document)))},t.componentDidUpdate=function(e){var t=this.props.open,n=e.open;t&&!n&&this.focusNextOnOpen(),!t&&n&&this._focusInDropdown&&(this._focusInDropdown=!1,this.focus())},t.focus=function(){var e=He.a.findDOMNode(this.toggle);e&&e.focus&&e.focus()},t.focusNextOnOpen=function(){var e=this.menu;e&&e.focusNext&&("keydown"!==this.lastOpenEventType&&"menuitem"!==this.props.role||e.focusNext())},t.handleClick=function(e){this.props.disabled||this.toggleOpen(e,{source:"click"})},t.handleClose=function(e,t){this.props.open&&this.toggleOpen(e,t)},t.handleKeyDown=function(e){if(!this.props.disabled)switch(e.keyCode){case Mt.a.codes.down:this.props.open?this.menu.focusNext&&this.menu.focusNext():this.toggleOpen(e,{source:"keydown"}),e.preventDefault();break;case Mt.a.codes.esc:case Mt.a.codes.tab:this.handleClose(e,{source:"keydown"})}},t.toggleOpen=function(e,t){var n=!this.props.open;n&&(this.lastOpenEventType=t.source),this.props.onToggle&&this.props.onToggle(n,e,t)},t.renderMenu=function(e,t){var n=this,r=t.id,i=t.onSelect,o=t.rootCloseEvent,a=T(t,["id","onSelect","rootCloseEvent"]),s=function(e){n.menu=e};return"string"==typeof e.ref||(s=ye(e.ref,s)),Object(k.cloneElement)(e,O({},a,{ref:s,labelledBy:r,bsClass:L(a,"menu"),onClose:ye(e.props.onClose,this.handleClose),onSelect:ye(e.props.onSelect,i,function(e,t){return n.handleClose(t,{source:"select"})}),rootCloseEvent:o}))},t.renderToggle=function(e,t){var n=this,r=function(e){n.toggle=e};return"string"==typeof e.ref||(r=ye(e.ref,r)),Object(k.cloneElement)(e,O({},t,{ref:r,bsClass:L(t,"toggle"),onClick:ye(e.props.onClick,this.handleClick),onKeyDown:ye(e.props.onKeyDown,this.handleKeyDown)}))},t.render=function(){var e,t=this,n=this.props,r=n.componentClass,i=n.id,o=n.dropup,a=n.disabled,s=n.pullRight,u=n.open,c=n.onSelect,l=n.role,p=n.bsClass,f=n.className,d=n.rootCloseEvent,h=n.children,v=T(n,["componentClass","id","dropup","disabled","pullRight","open","onSelect","role","bsClass","className","rootCloseEvent","children"]);delete v.onToggle;var g=((e={})[p]=!0,e.open=u,e.disabled=a,e);return o&&(g[p]=!1,g.dropup=!0),P.a.createElement(r,O({},v,{className:R()(f,g)}),X.map(h,function(e){switch(e.props.bsRole){case Gt:return t.renderToggle(e,{id:i,disabled:a,open:u,role:l,bsClass:p});case Kt:return t.renderMenu(e,{id:i,open:u,pullRight:s,bsClass:p,onSelect:c,rootCloseEvent:d});default:return e}}))},e}(P.a.Component);Jt.propTypes=Xt,Jt.defaultProps=Yt,B("dropdown",Jt);var $t=g()(Jt,{open:"onToggle"});$t.Toggle=qt,$t.Menu=Ht;var Qt=$t;function Zt(e,t){var r=t.propTypes,i={},o={};return y()(e).forEach(function(e){var t=e[0],n=e[1];r[t]?i[t]=n:o[t]=n}),[i,o]}var en=O({},Qt.propTypes,{bsStyle:h.a.string,bsSize:h.a.string,title:h.a.node.isRequired,noCaret:h.a.bool,children:h.a.node}),tn=function(e){function t(){return e.apply(this,arguments)||this}return c(t,e),t.prototype.render=function(){var e=this.props,t=e.bsSize,n=e.bsStyle,r=e.title,i=e.children,o=Zt(T(e,["bsSize","bsStyle","title","children"]),Qt.ControlledComponent),a=o[0],s=o[1];return P.a.createElement(Qt,O({},a,{bsSize:t,bsStyle:n}),P.a.createElement(Qt.Toggle,O({},s,{bsSize:t,bsStyle:n}),r),P.a.createElement(Qt.Menu,null,i))},t}(P.a.Component);tn.propTypes=en;var nn,rn=tn,on={in:h.a.bool,mountOnEnter:h.a.bool,unmountOnExit:h.a.bool,appear:h.a.bool,timeout:h.a.number,onEnter:h.a.func,onEntering:h.a.func,onEntered:h.a.func,onExit:h.a.func,onExiting:h.a.func,onExited:h.a.func},an=((nn={})[wt.ENTERING]="in",nn[wt.ENTERED]="in",nn),sn=function(e){function t(){return e.apply(this,arguments)||this}return c(t,e),t.prototype.render=function(){var e=this.props,n=e.className,r=e.children,t=T(e,["className","children"]);return P.a.createElement(St.a,t,function(e,t){return P.a.cloneElement(r,O({},t,{className:R()("fade",n,r.props.className,an[e])}))})},t}(P.a.Component);sn.propTypes=on,sn.defaultProps={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1};var un=sn,cn={horizontal:h.a.bool,inline:h.a.bool,componentClass:me.a},ln=function(e){function t(){return e.apply(this,arguments)||this}return c(t,e),t.prototype.render=function(){var e=this.props,t=e.horizontal,n=e.inline,r=e.componentClass,i=e.className,o=V(T(e,["horizontal","inline","componentClass","className"])),a=o[0],s=o[1],u=[];return t&&u.push(L(a,"horizontal")),n&&u.push(L(a,"inline")),P.a.createElement(r,O({},s,{className:R()(i,u)}))},t}(P.a.Component);ln.propTypes=cn,ln.defaultProps={horizontal:!1,inline:!1,componentClass:"form"};var pn=B("form",ln),fn={$bs_formGroup:h.a.object},dn=function(e){function t(){return e.apply(this,arguments)||this}c(t,e);var n=t.prototype;return n.getGlyph=function(e){switch(e){case"success":return"ok";case"warning":return"warning-sign";case"error":return"remove";default:return null}},n.renderDefaultFeedback=function(e,t,n,r){var i=this.getGlyph(e&&e.validationState);return i?P.a.createElement(Je,O({},r,{glyph:i,className:R()(t,n)})):null},n.render=function(){var e=this.props,t=e.className,n=e.children,r=V(T(e,["className","children"])),i=r[0],o=r[1],a=U(i);if(!n)return this.renderDefaultFeedback(this.context.$bs_formGroup,t,a,o);var s=P.a.Children.only(n);return P.a.cloneElement(s,O({},o,{className:R()(s.props.className,t,a)}))},t}(P.a.Component);dn.defaultProps={bsRole:"feedback"},dn.contextTypes=fn;var hn=B("form-control-feedback",dn),vn={componentClass:me.a},gn=function(e){function t(){return e.apply(this,arguments)||this}return c(t,e),t.prototype.render=function(){var e=this.props,t=e.componentClass,n=e.className,r=V(T(e,["componentClass","className"])),i=r[0],o=r[1],a=U(i);return P.a.createElement(t,O({},o,{className:R()(n,a)}))},t}(P.a.Component);gn.propTypes=vn,gn.defaultProps={componentClass:"p"};var mn=B("form-control-static",gn),yn={componentClass:me.a,type:h.a.string,id:h.a.string,inputRef:h.a.func},bn={$bs_formGroup:h.a.object},wn=function(e){function t(){return e.apply(this,arguments)||this}return c(t,e),t.prototype.render=function(){var e,t=this.context.$bs_formGroup,n=t&&t.controlId,r=this.props,i=r.componentClass,o=r.type,a=r.id,s=void 0===a?n:a,u=r.inputRef,c=r.className,l=r.bsSize,p=V(T(r,["componentClass","type","id","inputRef","className","bsSize"])),f=p[0],d=p[1];("file"!==o&&(e=U(f)),l)&&(e[L({bsClass:"input"},E[l]||l)]=!0);return P.a.createElement(i,O({},d,{type:o,id:s,ref:u,className:R()(c,e)}))},t}(P.a.Component);wn.propTypes=yn,wn.defaultProps={componentClass:"input"},wn.contextTypes=bn,wn.Feedback=hn,wn.Static=mn;var Sn=B("form-control",z([_,S],wn)),_n={controlId:h.a.string,validationState:h.a.oneOf(["success","warning","error",null])},Cn={$bs_formGroup:h.a.object.isRequired},En=function(e){function t(){return e.apply(this,arguments)||this}c(t,e);var n=t.prototype;return n.getChildContext=function(){var e=this.props;return{$bs_formGroup:{controlId:e.controlId,validationState:e.validationState}}},n.hasFeedback=function(e){var t=this;return X.some(e,function(e){return"feedback"===e.props.bsRole||e.props.children&&t.hasFeedback(e.props.children)})},n.render=function(){var e=this.props,t=e.validationState,n=e.className,r=e.children,i=q(T(e,["validationState","className","children"]),["controlId"]),o=i[0],a=i[1],s=O({},U(o),{"has-feedback":this.hasFeedback(r)});return t&&(s["has-"+t]=!0),P.a.createElement("div",O({},a,{className:R()(n,s)}),r)},t}(P.a.Component);En.propTypes=_n,En.childContextTypes=Cn;var xn=B("form-group",z([S,_],En)),On={fluid:h.a.bool,componentClass:me.a},kn=function(e){function t(){return e.apply(this,arguments)||this}return c(t,e),t.prototype.render=function(){var e=this.props,t=e.fluid,n=e.componentClass,r=e.className,i=V(T(e,["fluid","componentClass","className"])),o=i[0],a=i[1],s=L(o,t&&"fluid");return P.a.createElement(n,O({},a,{className:R()(r,s)}))},t}(P.a.Component);kn.propTypes=On,kn.defaultProps={componentClass:"div",fluid:!1};var Pn=B("container",kn),Tn=function(e){function t(){return e.apply(this,arguments)||this}return c(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=V(T(e,["className"])),r=n[0],i=n[1],o=U(r);return P.a.createElement("span",O({},i,{className:R()(t,o)}))},t}(P.a.Component),Rn=B("help-block",Tn),An={responsive:h.a.bool,rounded:h.a.bool,circle:h.a.bool,thumbnail:h.a.bool},In=function(e){function t(){return e.apply(this,arguments)||this}return c(t,e),t.prototype.render=function(){var e,t=this.props,n=t.responsive,r=t.rounded,i=t.circle,o=t.thumbnail,a=t.className,s=V(T(t,["responsive","rounded","circle","thumbnail","className"])),u=s[0],c=s[1],l=((e={})[L(u,"responsive")]=n,e[L(u,"rounded")]=r,e[L(u,"circle")]=i,e[L(u,"thumbnail")]=o,e);return P.a.createElement("img",O({},c,{className:R()(a,l)}))},t}(P.a.Component);In.propTypes=An,In.defaultProps={responsive:!1,rounded:!1,circle:!1,thumbnail:!1};var Mn=B("img",In),Nn=function(e){function t(){return e.apply(this,arguments)||this}return c(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=V(T(e,["className"])),r=n[0],i=n[1],o=U(r);return P.a.createElement("span",O({},i,{className:R()(t,o)}))},t}(P.a.Component),Dn=B("input-group-addon",Nn),jn=function(e){function t(){return e.apply(this,arguments)||this}return c(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=V(T(e,["className"])),r=n[0],i=n[1],o=U(r);return P.a.createElement("span",O({},i,{className:R()(t,o)}))},t}(P.a.Component),Ln=B("input-group-btn",jn),Bn=function(e){function t(){return e.apply(this,arguments)||this}return c(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=V(T(e,["className"])),r=n[0],i=n[1],o=U(r);return P.a.createElement("span",O({},i,{className:R()(t,o)}))},t}(P.a.Component);Bn.Addon=Dn,Bn.Button=Ln;var Fn=B("input-group",z([S,_],Bn)),zn={componentClass:me.a},Un=function(e){function t(){return e.apply(this,arguments)||this}return c(t,e),t.prototype.render=function(){var e=this.props,t=e.componentClass,n=e.className,r=V(T(e,["componentClass","className"])),i=r[0],o=r[1],a=U(i);return P.a.createElement(t,O({},o,{className:R()(n,a)}))},t}(P.a.Component);Un.propTypes=zn,Un.defaultProps={componentClass:"div"};var Hn=B("jumbotron",Un),Wn=function(e){function t(){return e.apply(this,arguments)||this}c(t,e);var n=t.prototype;return n.hasContent=function(e){var t=!1;return P.a.Children.forEach(e,function(e){t||(e||0===e)&&(t=!0)}),t},n.render=function(){var e=this.props,t=e.className,n=e.children,r=V(T(e,["className","children"])),i=r[0],o=r[1],a=O({},U(i),{hidden:!this.hasContent(n)});return P.a.createElement("span",O({},o,{className:R()(t,a)}),n)},t}(P.a.Component),Vn=B("label",F(oe()(A).concat([I,M]),I,Wn)),qn={active:h.a.any,disabled:h.a.any,header:h.a.node,listItem:h.a.bool,onClick:h.a.func,href:h.a.string,type:h.a.string},Gn=function(e){function t(){return e.apply(this,arguments)||this}c(t,e);var n=t.prototype;return n.renderHeader=function(e,t){return P.a.isValidElement(e)?Object(k.cloneElement)(e,{className:R()(e.props.className,t)}):P.a.createElement("h4",{className:t},e)},n.render=function(){var e,t=this.props,n=t.active,r=t.disabled,i=t.className,o=t.header,a=t.listItem,s=t.children,u=V(T(t,["active","disabled","className","header","listItem","children"])),c=u[0],l=u[1],p=O({},U(c),{active:n,disabled:r});return l.href?e="a":l.onClick?(e="button",l.type=l.type||"button"):e=a?"li":"span",l.className=R()(i,p),o?P.a.createElement(e,l,this.renderHeader(o,L(c,"heading")),P.a.createElement("p",{className:L(c,"text")},s)):P.a.createElement(e,l,s)},t}(P.a.Component);Gn.propTypes=qn,Gn.defaultProps={listItem:!1};var Kn=B("list-group-item",F(oe()(A),Gn)),Xn={componentClass:me.a};var Yn=function(e){function t(){return e.apply(this,arguments)||this}return c(t,e),t.prototype.render=function(){var e=this.props,t=e.children,n=e.componentClass,r=void 0===n?function(e){return e?X.some(e,function(e){return e.type!==Kn||e.props.href||e.props.onClick})?"div":"ul":"div"}(t):n,i=e.className,o=V(T(e,["children","componentClass","className"])),a=o[0],s=o[1],u=U(a),c="ul"===r&&X.every(t,function(e){return e.type===Kn});return P.a.createElement(r,O({},s,{className:R()(i,u)}),c?X.map(t,function(e){return Object(k.cloneElement)(e,{listItem:!0})}):t)},t}(P.a.Component);Yn.propTypes=Xn;var Jn=B("list-group",Yn),$n={align:h.a.oneOf(["top","middle","bottom"]),componentClass:me.a},Qn=function(e){function t(){return e.apply(this,arguments)||this}return c(t,e),t.prototype.render=function(){var e=this.props,t=e.componentClass,n=e.align,r=e.className,i=V(T(e,["componentClass","align","className"])),o=i[0],a=i[1],s=U(o);return n&&(s[L(vr.defaultProps,n)]=!0),P.a.createElement(t,O({},a,{className:R()(r,s)}))},t}(P.a.Component);Qn.propTypes=$n,Qn.defaultProps={componentClass:"div"};var Zn=B("media-body",Qn),er={componentClass:me.a},tr=function(e){function t(){return e.apply(this,arguments)||this}return c(t,e),t.prototype.render=function(){var e=this.props,t=e.componentClass,n=e.className,r=V(T(e,["componentClass","className"])),i=r[0],o=r[1],a=U(i);return P.a.createElement(t,O({},o,{className:R()(n,a)}))},t}(P.a.Component);tr.propTypes=er,tr.defaultProps={componentClass:"h4"};var nr=B("media-heading",tr),rr={align:h.a.oneOf(["top","middle","bottom"])},ir=function(e){function t(){return e.apply(this,arguments)||this}return c(t,e),t.prototype.render=function(){var e=this.props,t=e.align,n=e.className,r=V(T(e,["align","className"])),i=r[0],o=r[1],a=U(i);return t&&(a[L(vr.defaultProps,t)]=!0),P.a.createElement("div",O({},o,{className:R()(n,a)}))},t}(P.a.Component);ir.propTypes=rr;var or=B("media-left",ir),ar=function(e){function t(){return e.apply(this,arguments)||this}return c(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=V(T(e,["className"])),r=n[0],i=n[1],o=U(r);return P.a.createElement("ul",O({},i,{className:R()(t,o)}))},t}(P.a.Component),sr=B("media-list",ar),ur=function(e){function t(){return e.apply(this,arguments)||this}return c(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=V(T(e,["className"])),r=n[0],i=n[1],o=U(r);return P.a.createElement("li",O({},i,{className:R()(t,o)}))},t}(P.a.Component),cr=B("media",ur),lr={align:h.a.oneOf(["top","middle","bottom"])},pr=function(e){function t(){return e.apply(this,arguments)||this}return c(t,e),t.prototype.render=function(){var e=this.props,t=e.align,n=e.className,r=V(T(e,["align","className"])),i=r[0],o=r[1],a=U(i);return t&&(a[L(vr.defaultProps,t)]=!0),P.a.createElement("div",O({},o,{className:R()(n,a)}))},t}(P.a.Component);pr.propTypes=lr;var fr=B("media-right",pr),dr={componentClass:me.a},hr=function(e){function t(){return e.apply(this,arguments)||this}return c(t,e),t.prototype.render=function(){var e=this.props,t=e.componentClass,n=e.className,r=V(T(e,["componentClass","className"])),i=r[0],o=r[1],a=U(i);return P.a.createElement(t,O({},o,{className:R()(n,a)}))},t}(P.a.Component);hr.propTypes=dr,hr.defaultProps={componentClass:"div"},hr.Heading=nr,hr.Body=Zn,hr.Left=or,hr.Right=fr,hr.List=sr,hr.ListItem=cr;var vr=B("media",hr),gr={active:h.a.bool,disabled:h.a.bool,divider:Ie()(h.a.bool,function(e){var t=e.divider,n=e.children;return t&&n?new Error("Children will not be rendered for dividers"):null}),eventKey:h.a.any,header:h.a.bool,href:h.a.string,onClick:h.a.func,onSelect:h.a.func},mr=function(r){function e(e,t){var n;return(n=r.call(this,e,t)||this).handleClick=n.handleClick.bind(ve(ve(n))),n}c(e,r);var t=e.prototype;return t.handleClick=function(e){var t=this.props,n=t.href,r=t.disabled,i=t.onSelect,o=t.eventKey;n&&!r||e.preventDefault(),r||i&&i(o,e)},t.render=function(){var e=this.props,t=e.active,n=e.disabled,r=e.divider,i=e.header,o=e.onClick,a=e.className,s=e.style,u=q(T(e,["active","disabled","divider","header","onClick","className","style"]),["eventKey","onSelect"]),c=u[0],l=u[1];return r?(l.children=void 0,P.a.createElement("li",O({},l,{role:"separator",className:R()(a,"divider"),style:s}))):i?P.a.createElement("li",O({},l,{role:"heading",className:R()(a,L(c,"header")),style:s})):P.a.createElement("li",{role:"presentation",className:R()(a,{active:t,disabled:n}),style:s},P.a.createElement(_e,O({},l,{role:"menuitem",tabIndex:"-1",onClick:ye(o,this.handleClick)})))},e}(P.a.Component);mr.propTypes=gr,mr.defaultProps={divider:!1,disabled:!1,header:!1};var yr=B("dropdown",mr),br=n(155),wr=n.n(br),Sr=n(57),_r=n.n(Sr),Cr=n(40),Er=n.n(Cr),xr=n(106),Or=n.n(xr),kr=n(73),Pr=n.n(kr),Tr=n(153),Rr=n.n(Tr),Ar={componentClass:me.a},Ir=function(e){function t(){return e.apply(this,arguments)||this}return c(t,e),t.prototype.render=function(){var e=this.props,t=e.componentClass,n=e.className,r=V(T(e,["componentClass","className"])),i=r[0],o=r[1],a=U(i);return P.a.createElement(t,O({},o,{className:R()(n,a)}))},t}(P.a.Component);Ir.propTypes=Ar,Ir.defaultProps={componentClass:"div"};var Mr=B("modal-body",Ir),Nr={dialogClassName:h.a.string},Dr=function(e){function t(){return e.apply(this,arguments)||this}return c(t,e),t.prototype.render=function(){var e,t=this.props,n=t.dialogClassName,r=t.className,i=t.style,o=t.children,a=V(T(t,["dialogClassName","className","style","children"])),s=a[0],u=a[1],c=L(s),l=O({display:"block"},i),p=O({},U(s),((e={})[c]=!1,e[L(s,"dialog")]=!0,e));return P.a.createElement("div",O({},u,{tabIndex:"-1",role:"dialog",style:l,className:R()(r,c)}),P.a.createElement("div",{className:R()(n,p)},P.a.createElement("div",{className:L(s,"content"),role:"document"},o)))},t}(P.a.Component);Dr.propTypes=Nr;var jr=B("modal",z([S,_],Dr)),Lr={componentClass:me.a},Br=function(e){function t(){return e.apply(this,arguments)||this}return c(t,e),t.prototype.render=function(){var e=this.props,t=e.componentClass,n=e.className,r=V(T(e,["componentClass","className"])),i=r[0],o=r[1],a=U(i);return P.a.createElement(t,O({},o,{className:R()(n,a)}))},t}(P.a.Component);Br.propTypes=Lr,Br.defaultProps={componentClass:"div"};var Fr=B("modal-footer",Br),zr={closeLabel:h.a.string,closeButton:h.a.bool,onHide:h.a.func},Ur={$bs_modal:h.a.shape({onHide:h.a.func})},Hr=function(e){function t(){return e.apply(this,arguments)||this}return c(t,e),t.prototype.render=function(){var e=this.props,t=e.closeLabel,n=e.closeButton,r=e.onHide,i=e.className,o=e.children,a=T(e,["closeLabel","closeButton","onHide","className","children"]),s=this.context.$bs_modal,u=V(a),c=u[0],l=u[1],p=U(c);return P.a.createElement("div",O({},l,{className:R()(i,p)}),n&&P.a.createElement(ue,{label:t,onClick:ye(s&&s.onHide,r)}),o)},t}(P.a.Component);Hr.propTypes=zr,Hr.defaultProps={closeLabel:"Close",closeButton:!1},Hr.contextTypes=Ur;var Wr=B("modal-header",Hr),Vr={componentClass:me.a},qr=function(e){function t(){return e.apply(this,arguments)||this}return c(t,e),t.prototype.render=function(){var e=this.props,t=e.componentClass,n=e.className,r=V(T(e,["componentClass","className"])),i=r[0],o=r[1],a=U(i);return P.a.createElement(t,O({},o,{className:R()(n,a)}))},t}(P.a.Component);qr.propTypes=Vr,qr.defaultProps={componentClass:"h4"};var Gr=B("modal-title",qr),Kr=O({},Pr.a.propTypes,jr.propTypes,{backdrop:h.a.oneOf(["static",!0,!1]),backdropClassName:h.a.string,keyboard:h.a.bool,animation:h.a.bool,dialogComponentClass:me.a,autoFocus:h.a.bool,enforceFocus:h.a.bool,restoreFocus:h.a.bool,show:h.a.bool,onHide:h.a.func,onEnter:h.a.func,onEntering:h.a.func,onEntered:h.a.func,onExit:h.a.func,onExiting:h.a.func,onExited:h.a.func,container:Pr.a.propTypes.container}),Xr=O({},Pr.a.defaultProps,{animation:!0,dialogComponentClass:jr}),Yr={$bs_modal:h.a.shape({onHide:h.a.func})};function Jr(e){return P.a.createElement(un,O({},e,{timeout:Qr.TRANSITION_DURATION}))}function $r(e){return P.a.createElement(un,O({},e,{timeout:Qr.BACKDROP_TRANSITION_DURATION}))}var Qr=function(r){function e(e,t){var n;return(n=r.call(this,e,t)||this).handleEntering=n.handleEntering.bind(ve(ve(n))),n.handleExited=n.handleExited.bind(ve(ve(n))),n.handleWindowResize=n.handleWindowResize.bind(ve(ve(n))),n.handleDialogClick=n.handleDialogClick.bind(ve(ve(n))),n.setModalRef=n.setModalRef.bind(ve(ve(n))),n.state={style:{}},n}c(e,r);var t=e.prototype;return t.getChildContext=function(){return{$bs_modal:{onHide:this.props.onHide}}},t.componentWillUnmount=function(){this.handleExited()},t.setModalRef=function(e){this._modal=e},t.handleDialogClick=function(e){e.target===e.currentTarget&&this.props.onHide()},t.handleEntering=function(){wr.a.on(window,"resize",this.handleWindowResize),this.updateStyle()},t.handleExited=function(){wr.a.off(window,"resize",this.handleWindowResize)},t.handleWindowResize=function(){this.updateStyle()},t.updateStyle=function(){if(Er.a){var e=this._modal.getDialogElement(),t=e.scrollHeight,n=_r()(e),r=Rr()(He.a.findDOMNode(this.props.container||n.body)),i=t>n.documentElement.clientHeight;this.setState({style:{paddingRight:r&&!i?Or()():void 0,paddingLeft:!r&&i?Or()():void 0}})}},t.render=function(){var e=this.props,t=e.backdrop,n=e.backdropClassName,r=e.animation,i=e.show,o=e.dialogComponentClass,a=e.className,s=e.style,u=e.children,c=e.onEntering,l=e.onExited,p=T(e,["backdrop","backdropClassName","animation","show","dialogComponentClass","className","style","children","onEntering","onExited"]),f=Zt(p,Pr.a),d=f[0],h=f[1],v=i&&!r&&"in";return P.a.createElement(Pr.a,O({},d,{ref:this.setModalRef,show:i,containerClassName:L(p,"open"),transition:r?Jr:void 0,backdrop:t,backdropTransition:r?$r:void 0,backdropClassName:R()(L(p,"backdrop"),n,v),onEntering:ye(c,this.handleEntering),onExited:ye(l,this.handleExited)}),P.a.createElement(o,O({},h,{style:O({},this.state.style,s),className:R()(a,v),onClick:!0===t?this.handleDialogClick:null}),u))},e}(P.a.Component);Qr.propTypes=Kr,Qr.defaultProps=Xr,Qr.childContextTypes=Yr,Qr.Body=Mr,Qr.Header=Wr,Qr.Title=Gr,Qr.Footer=Fr,Qr.Dialog=jr,Qr.TRANSITION_DURATION=300,Qr.BACKDROP_TRANSITION_DURATION=150;var Zr=B("modal",z([S,_],Qr)),ei={activeKey:h.a.any,activeHref:h.a.string,stacked:h.a.bool,justified:Ie()(h.a.bool,function(e){var t=e.justified,n=e.navbar;return t&&n?Error("justified navbar `Nav`s are not supported"):null}),onSelect:h.a.func,role:h.a.string,navbar:h.a.bool,pullRight:h.a.bool,pullLeft:h.a.bool},ti={$bs_navbar:h.a.shape({bsClass:h.a.string,onSelect:h.a.func}),$bs_tabContainer:h.a.shape({activeKey:h.a.any,onSelect:h.a.func.isRequired,getTabId:h.a.func.isRequired,getPaneId:h.a.func.isRequired})},ni=function(e){function t(){return e.apply(this,arguments)||this}c(t,e);var n=t.prototype;return n.componentDidUpdate=function(){var t=this;if(this._needsRefocus){this._needsRefocus=!1;var e=this.props.children,n=this.getActiveProps(),r=n.activeKey,i=n.activeHref,o=X.find(e,function(e){return t.isActive(e,r,i)}),a=X.toArray(e).indexOf(o),s=He.a.findDOMNode(this).children,u=s&&s[a];u&&u.firstChild&&u.firstChild.focus()}},n.getActiveProps=function(){var e=this.context.$bs_tabContainer;return e||this.props},n.getNextActiveChild=function(e){var t=this,n=this.props.children,r=n.filter(function(e){return null!=e.props.eventKey&&!e.props.disabled}),i=this.getActiveProps(),o=i.activeKey,a=i.activeHref,s=X.find(n,function(e){return t.isActive(e,o,a)}),u=r.indexOf(s);if(-1===u)return r[0];var c=u+e,l=r.length;return l<=c?c=0:c<0&&(c=l-1),r[c]},n.getTabProps=function(e,t,n,r,i){var o=this;if(!t&&"tablist"!==n)return null;var a=e.props,s=a.id,u=a["aria-controls"],c=a.eventKey,l=a.role,p=a.onKeyDown,f=a.tabIndex;return t&&(s=t.getTabId(c),u=t.getPaneId(c)),"tablist"===n&&(l=l||"tab",p=ye(function(e){return o.handleTabKeyDown(i,e)},p),f=r?f:-1),{id:s,role:l,onKeyDown:p,"aria-controls":u,tabIndex:f}},n.handleTabKeyDown=function(e,t){var n;switch(t.keyCode){case Mt.a.codes.left:case Mt.a.codes.up:n=this.getNextActiveChild(-1);break;case Mt.a.codes.right:case Mt.a.codes.down:n=this.getNextActiveChild(1);break;default:return}t.preventDefault(),e&&n&&null!=n.props.eventKey&&e(n.props.eventKey),this._needsRefocus=!0},n.isActive=function(e,t,n){var r=e.props;return!!(r.active||null!=t&&r.eventKey===t||n&&r.href===n)||r.active},n.render=function(){var e,r=this,t=this.props,n=t.stacked,i=t.justified,o=t.onSelect,a=t.role,s=t.navbar,u=t.pullRight,c=t.pullLeft,l=t.className,p=t.children,f=T(t,["stacked","justified","onSelect","role","navbar","pullRight","pullLeft","className","children"]),d=this.context.$bs_tabContainer,h=a||(d?"tablist":null),v=this.getActiveProps(),g=v.activeKey,m=v.activeHref;delete f.activeKey,delete f.activeHref;var y,b,w=V(f),S=w[0],_=w[1],C=O({},U(S),((e={})[L(S,"stacked")]=n,e[L(S,"justified")]=i,e)),E=null!=s?s:this.context.$bs_navbar;if(E){var x=this.context.$bs_navbar||{bsClass:"navbar"};C[L(x,"nav")]=!0,b=L(x,"right"),y=L(x,"left")}else b="pull-right",y="pull-left";return C[b]=u,C[y]=c,P.a.createElement("ul",O({},_,{role:h,className:R()(l,C)}),X.map(p,function(e){var t=r.isActive(e,g,m),n=ye(e.props.onSelect,o,E&&E.onSelect,d&&d.onSelect);return Object(k.cloneElement)(e,O({},r.getTabProps(e,d,h,t,n),{active:t,activeKey:g,activeHref:m,onSelect:n}))}))},t}(P.a.Component);ni.propTypes=ei,ni.defaultProps={justified:!1,pullRight:!1,pullLeft:!1,stacked:!1},ni.contextTypes=ti;var ri=B("nav",F(["tabs","pills"],ni)),ii={$bs_navbar:h.a.shape({bsClass:h.a.string})},oi=function(e){function t(){return e.apply(this,arguments)||this}return c(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.children,r=T(e,["className","children"]),i=L(this.context.$bs_navbar||{bsClass:"navbar"},"brand");return P.a.isValidElement(n)?P.a.cloneElement(n,{className:R()(n.props.className,t,i)}):P.a.createElement("span",O({},r,{className:R()(t,i)}),n)},t}(P.a.Component);oi.contextTypes=ii;var ai=oi,si={$bs_navbar:h.a.shape({bsClass:h.a.string,expanded:h.a.bool})},ui=function(e){function t(){return e.apply(this,arguments)||this}return c(t,e),t.prototype.render=function(){var e=this.props,t=e.children,n=T(e,["children"]),r=this.context.$bs_navbar||{bsClass:"navbar"},i=L(r,"collapse");return P.a.createElement(kt,O({in:r.expanded},n),P.a.createElement("div",{className:i},t))},t}(P.a.Component);ui.contextTypes=si;var ci=ui,li={$bs_navbar:h.a.shape({bsClass:h.a.string})},pi=function(e){function t(){return e.apply(this,arguments)||this}return c(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=T(e,["className"]),r=L(this.context.$bs_navbar||{bsClass:"navbar"},"header");return P.a.createElement("div",O({},n,{className:R()(t,r)}))},t}(P.a.Component);pi.contextTypes=li;var fi=pi,di={onClick:h.a.func,children:h.a.node},hi={$bs_navbar:h.a.shape({bsClass:h.a.string,expanded:h.a.bool,onToggle:h.a.func.isRequired})},vi=function(e){function t(){return e.apply(this,arguments)||this}return c(t,e),t.prototype.render=function(){var e=this.props,t=e.onClick,n=e.className,r=e.children,i=T(e,["onClick","className","children"]),o=this.context.$bs_navbar||{bsClass:"navbar"},a=O({type:"button"},i,{onClick:ye(t,o.onToggle),className:R()(n,L(o,"toggle"),!o.expanded&&"collapsed")});return r?P.a.createElement("button",a,r):P.a.createElement("button",a,P.a.createElement("span",{className:"sr-only"},"Toggle navigation"),P.a.createElement("span",{className:"icon-bar"}),P.a.createElement("span",{className:"icon-bar"}),P.a.createElement("span",{className:"icon-bar"}))},t}(P.a.Component);vi.propTypes=di,vi.contextTypes=hi;var gi=vi,mi={fixedTop:h.a.bool,fixedBottom:h.a.bool,staticTop:h.a.bool,inverse:h.a.bool,fluid:h.a.bool,componentClass:me.a,onToggle:h.a.func,onSelect:h.a.func,collapseOnSelect:h.a.bool,expanded:h.a.bool,role:h.a.string},yi={$bs_navbar:h.a.shape({bsClass:h.a.string,expanded:h.a.bool,onToggle:h.a.func.isRequired,onSelect:h.a.func})},bi=function(r){function e(e,t){var n;return(n=r.call(this,e,t)||this).handleToggle=n.handleToggle.bind(ve(ve(n))),n.handleCollapse=n.handleCollapse.bind(ve(ve(n))),n}c(e,r);var t=e.prototype;return t.getChildContext=function(){var e=this.props,t=e.bsClass,n=e.expanded,r=e.onSelect,i=e.collapseOnSelect;return{$bs_navbar:{bsClass:t,expanded:n,onToggle:this.handleToggle,onSelect:ye(r,i?this.handleCollapse:null)}}},t.handleCollapse=function(){var e=this.props,t=e.onToggle;e.expanded&&t(!1)},t.handleToggle=function(){var e=this.props;(0,e.onToggle)(!e.expanded)},t.render=function(){var e,t=this.props,n=t.componentClass,r=t.fixedTop,i=t.fixedBottom,o=t.staticTop,a=t.inverse,s=t.fluid,u=t.className,c=t.children,l=q(T(t,["componentClass","fixedTop","fixedBottom","staticTop","inverse","fluid","className","children"]),["expanded","onToggle","onSelect","collapseOnSelect"]),p=l[0],f=l[1];void 0===f.role&&"nav"!==n&&(f.role="navigation"),a&&(p.bsStyle=D);var d=O({},U(p),((e={})[L(p,"fixed-top")]=r,e[L(p,"fixed-bottom")]=i,e[L(p,"static-top")]=o,e));return P.a.createElement(n,O({},f,{className:R()(u,d)}),P.a.createElement(Pn,{fluid:s},c))},e}(P.a.Component);bi.propTypes=mi,bi.defaultProps={componentClass:"nav",fixedTop:!1,fixedBottom:!1,staticTop:!1,inverse:!1,fluid:!1,collapseOnSelect:!1},bi.childContextTypes=yi,B("navbar",bi);var wi=g()(bi,{expanded:"onToggle"});function Si(e,c,t){var n=function(e,t){var n=e.componentClass,r=e.className,i=e.pullRight,o=e.pullLeft,a=T(e,["componentClass","className","pullRight","pullLeft"]),s=t.$bs_navbar,u=void 0===s?{bsClass:"navbar"}:s;return P.a.createElement(n,O({},a,{className:R()(r,L(u,c),i&&L(u,"right"),o&&L(u,"left"))}))};return n.displayName=t,n.propTypes={componentClass:me.a,pullRight:h.a.bool,pullLeft:h.a.bool},n.defaultProps={componentClass:e,pullRight:!1,pullLeft:!1},n.contextTypes={$bs_navbar:h.a.shape({bsClass:h.a.string})},n}wi.Brand=ai,wi.Header=fi,wi.Toggle=gi,wi.Collapse=ci,wi.Form=Si("div","form","NavbarForm"),wi.Text=Si("p","text","NavbarText"),wi.Link=Si("a","link","NavbarLink");var _i=F([I,D],I,wi),Ci=O({},Qt.propTypes,{title:h.a.node.isRequired,noCaret:h.a.bool,active:h.a.bool,activeKey:h.a.any,activeHref:h.a.string,children:h.a.node}),Ei=function(e){function t(){return e.apply(this,arguments)||this}c(t,e);var n=t.prototype;return n.isActive=function(e,t,n){var r=this,i=e.props;return!!(i.active||null!=t&&i.eventKey===t||n&&i.href===n)||(!!X.some(i.children,function(e){return r.isActive(e,t,n)})||i.active)},n.render=function(){var t=this,e=this.props,n=e.title,r=e.activeKey,i=e.activeHref,o=e.className,a=e.style,s=e.children,u=T(e,["title","activeKey","activeHref","className","style","children"]),c=this.isActive(this,r,i);delete u.active,delete u.eventKey;var l=Zt(u,Qt.ControlledComponent),p=l[0],f=l[1];return P.a.createElement(Qt,O({},p,{componentClass:"li",className:R()(o,{active:c}),style:a}),P.a.createElement(Qt.Toggle,O({},f,{useAnchor:!0}),n),P.a.createElement(Qt.Menu,null,X.map(s,function(e){return P.a.cloneElement(e,{active:t.isActive(e,r,i)})})))},t}(P.a.Component);Ei.propTypes=Ci;var xi=Ei,Oi={active:h.a.bool,disabled:h.a.bool,role:h.a.string,href:h.a.string,onClick:h.a.func,onSelect:h.a.func,eventKey:h.a.any},ki=function(r){function e(e,t){var n;return(n=r.call(this,e,t)||this).handleClick=n.handleClick.bind(ve(ve(n))),n}c(e,r);var t=e.prototype;return t.handleClick=function(e){this.props.disabled?e.preventDefault():this.props.onSelect&&this.props.onSelect(this.props.eventKey,e)},t.render=function(){var e=this.props,t=e.active,n=e.disabled,r=e.onClick,i=e.className,o=e.style,a=T(e,["active","disabled","onClick","className","style"]);return delete a.onSelect,delete a.eventKey,delete a.activeKey,delete a.activeHref,a.role?"tab"===a.role&&(a["aria-selected"]=t):"#"===a.href&&(a.role="button"),P.a.createElement("li",{role:"presentation",className:R()(i,{active:t,disabled:n}),style:o},P.a.createElement(_e,O({},a,{disabled:n,onClick:ye(r,this.handleClick)})))},e}(P.a.Component);ki.propTypes=Oi,ki.defaultProps={active:!1,disabled:!1};var Pi=ki,Ti=n(156),Ri=n.n(Ti),Ai=O({},Ri.a.propTypes,{show:h.a.bool,rootClose:h.a.bool,onHide:h.a.func,animation:h.a.oneOfType([h.a.bool,me.a]),onEnter:h.a.func,onEntering:h.a.func,onEntered:h.a.func,onExit:h.a.func,onExiting:h.a.func,onExited:h.a.func,placement:h.a.oneOf(["top","right","bottom","left"])}),Ii={animation:un,rootClose:!1,show:!1,placement:"right"},Mi=function(e){function t(){return e.apply(this,arguments)||this}return c(t,e),t.prototype.render=function(){var e,t=this.props,n=t.animation,r=t.children,i=T(t,["animation","children"]),o=!0===n?un:n||null;return e=o?r:Object(k.cloneElement)(r,{className:R()(r.props.className,"in")}),P.a.createElement(Ri.a,O({},i,{transition:o}),e)},t}(P.a.Component);Mi.propTypes=Ai,Mi.defaultProps=Ii;var Ni=Mi,Di=n(237),ji=n.n(Di);function Li(e,t){return ji()(t)?0<=t.indexOf(e):e===t}var Bi=h.a.oneOf(["click","hover","focus"]),Fi=O({},Ni.propTypes,{trigger:h.a.oneOfType([Bi,h.a.arrayOf(Bi)]),delay:h.a.number,delayShow:h.a.number,delayHide:h.a.number,defaultOverlayShown:h.a.bool,overlay:h.a.node.isRequired,onBlur:h.a.func,onClick:h.a.func,onFocus:h.a.func,onMouseOut:h.a.func,onMouseOver:h.a.func,target:h.a.oneOf([null]),onHide:h.a.oneOf([null]),show:h.a.oneOf([null])}),zi=function(r){function e(e,t){var n;return(n=r.call(this,e,t)||this).handleToggle=n.handleToggle.bind(ve(ve(n))),n.handleDelayedShow=n.handleDelayedShow.bind(ve(ve(n))),n.handleDelayedHide=n.handleDelayedHide.bind(ve(ve(n))),n.handleHide=n.handleHide.bind(ve(ve(n))),n.handleMouseOver=function(e){return n.handleMouseOverOut(n.handleDelayedShow,e,"fromElement")},n.handleMouseOut=function(e){return n.handleMouseOverOut(n.handleDelayedHide,e,"toElement")},n._mountNode=null,n.state={show:e.defaultOverlayShown},n}c(e,r);var t=e.prototype;return t.componentDidMount=function(){this._mountNode=document.createElement("div"),this.renderOverlay()},t.componentDidUpdate=function(){this.renderOverlay()},t.componentWillUnmount=function(){He.a.unmountComponentAtNode(this._mountNode),this._mountNode=null,clearTimeout(this._hoverShowDelay),clearTimeout(this._hoverHideDelay)},t.handleDelayedHide=function(){var e=this;if(null!=this._hoverShowDelay)return clearTimeout(this._hoverShowDelay),void(this._hoverShowDelay=null);if(this.state.show&&null==this._hoverHideDelay){var t=null!=this.props.delayHide?this.props.delayHide:this.props.delay;t?this._hoverHideDelay=setTimeout(function(){e._hoverHideDelay=null,e.hide()},t):this.hide()}},t.handleDelayedShow=function(){var e=this;if(null!=this._hoverHideDelay)return clearTimeout(this._hoverHideDelay),void(this._hoverHideDelay=null);if(!this.state.show&&null==this._hoverShowDelay){var t=null!=this.props.delayShow?this.props.delayShow:this.props.delay;t?this._hoverShowDelay=setTimeout(function(){e._hoverShowDelay=null,e.show()},t):this.show()}},t.handleHide=function(){this.hide()},t.handleMouseOverOut=function(e,t,n){var r=t.currentTarget,i=t.relatedTarget||t.nativeEvent[n];i&&i===r||At()(r,i)||e(t)},t.handleToggle=function(){this.state.show?this.hide():this.show()},t.hide=function(){this.setState({show:!1})},t.makeOverlay=function(e,t){return P.a.createElement(Ni,O({},t,{show:this.state.show,onHide:this.handleHide,target:this}),e)},t.show=function(){this.setState({show:!0})},t.renderOverlay=function(){He.a.unstable_renderSubtreeIntoContainer(this,this._overlay,this._mountNode)},t.render=function(){var e=this.props,t=e.trigger,n=e.overlay,r=e.children,i=e.onBlur,o=e.onClick,a=e.onFocus,s=e.onMouseOut,u=e.onMouseOver,c=T(e,["trigger","overlay","children","onBlur","onClick","onFocus","onMouseOut","onMouseOver"]);delete c.delay,delete c.delayShow,delete c.delayHide,delete c.defaultOverlayShown;var l=P.a.Children.only(r),p=l.props,f={};return this.state.show&&(f["aria-describedby"]=n.props.id),f.onClick=ye(p.onClick,o),Li("click",t)&&(f.onClick=ye(f.onClick,this.handleToggle)),Li("hover",t)&&(f.onMouseOver=ye(p.onMouseOver,u,this.handleMouseOver),f.onMouseOut=ye(p.onMouseOut,s,this.handleMouseOut)),Li("focus",t)&&(f.onFocus=ye(p.onFocus,a,this.handleDelayedShow),f.onBlur=ye(p.onBlur,i,this.handleDelayedHide)),this._overlay=this.makeOverlay(n,c),Object(k.cloneElement)(l,f)},e}(P.a.Component);zi.propTypes=Fi,zi.defaultProps={defaultOverlayShown:!1,trigger:["hover","focus"]};var Ui=zi,Hi=function(e){function t(){return e.apply(this,arguments)||this}return c(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.children,r=V(T(e,["className","children"])),i=r[0],o=r[1],a=U(i);return P.a.createElement("div",O({},o,{className:R()(t,a)}),P.a.createElement("h1",null,n))},t}(P.a.Component),Wi=B("page-header",Hi),Vi={disabled:h.a.bool,previous:h.a.bool,next:h.a.bool,onClick:h.a.func,onSelect:h.a.func,eventKey:h.a.any},qi=function(r){function e(e,t){var n;return(n=r.call(this,e,t)||this).handleSelect=n.handleSelect.bind(ve(ve(n))),n}c(e,r);var t=e.prototype;return t.handleSelect=function(e){var t=this.props,n=t.disabled,r=t.onSelect,i=t.eventKey;n?e.preventDefault():r&&r(i,e)},t.render=function(){var e=this.props,t=e.disabled,n=e.previous,r=e.next,i=e.onClick,o=e.className,a=e.style,s=T(e,["disabled","previous","next","onClick","className","style"]);return delete s.onSelect,delete s.eventKey,P.a.createElement("li",{className:R()(o,{disabled:t,previous:n,next:r}),style:a},P.a.createElement(_e,O({},s,{disabled:t,onClick:ye(i,this.handleSelect)})))},e}(P.a.Component);qi.propTypes=Vi,qi.defaultProps={disabled:!1,previous:!1,next:!1};var Gi=qi,Ki={};function Xi(e,t,n){var r;"object"==typeof e?r=e.message:(r=e+" is deprecated. Use "+t+" instead.",n&&(r+="\nYou can read more about it at "+n)),Ki[r]||(Ki[r]=!0)}Xi.wrapper=function(e){for(var t=arguments.length,o=new Array(1<t?t-1:0),n=1;n<t;n++)o[n-1]=arguments[n];return function(i){function e(){return i.apply(this,arguments)||this}return c(e,i),e.prototype.componentWillMount=function(){if(Xi.apply(void 0,o),i.prototype.componentWillMount){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];(e=i.prototype.componentWillMount).call.apply(e,[this].concat(n))}},e}(e)};var Yi=Xi.wrapper(Gi,"`<PageItem>`","`<Pager.Item>`"),Ji={onSelect:h.a.func},$i=function(e){function t(){return e.apply(this,arguments)||this}return c(t,e),t.prototype.render=function(){var e=this.props,t=e.onSelect,n=e.className,r=e.children,i=V(T(e,["onSelect","className","children"])),o=i[0],a=i[1],s=U(o);return P.a.createElement("ul",O({},a,{className:R()(n,s)}),X.map(r,function(e){return Object(k.cloneElement)(e,{onSelect:ye(e.props.onSelect,t)})}))},t}(P.a.Component);$i.propTypes=Ji,$i.Item=Gi;var Qi=B("pager",$i),Zi={eventKey:h.a.any,className:h.a.string,onSelect:h.a.func,disabled:h.a.bool,active:h.a.bool,activeLabel:h.a.string.isRequired};function eo(e){var t=e.active,n=e.disabled,r=e.className,i=e.style,o=e.activeLabel,a=e.children,s=T(e,["active","disabled","className","style","activeLabel","children"]),u=t||n?"span":_e;return P.a.createElement("li",{style:i,className:R()(r,{active:t,disabled:n})},P.a.createElement(u,O({disabled:n},s),a,t&&P.a.createElement("span",{className:"sr-only"},o)))}function to(e,a,s){var t,n;return void 0===s&&(s=e),n=t=function(e){function t(){return e.apply(this,arguments)||this}return c(t,e),t.prototype.render=function(){var e=this.props,t=e.disabled,n=e.children,r=e.className,i=T(e,["disabled","children","className"]),o=t?"span":_e;return P.a.createElement("li",O({"aria-label":s,className:R()(r,{disabled:t})},i),P.a.createElement(o,null,n||a))},t}(P.a.Component),t.displayName=e,t.propTypes={disabled:h.a.bool},n}eo.propTypes=Zi,eo.defaultProps={active:!1,disabled:!1,activeLabel:"(current)"};var no=to("First","Â«"),ro=to("Prev","â€¹"),io=to("Ellipsis","â€¦","More"),oo=to("Next","â€º"),ao=to("Last","Â»"),so=function(e){function t(){return e.apply(this,arguments)||this}return c(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.children,r=V(T(e,["className","children"])),i=r[0],o=r[1],a=U(i);return P.a.createElement("ul",O({},o,{className:R()(t,a)}),n)},t}(P.a.Component);B("pagination",so),so.First=no,so.Prev=ro,so.Ellipsis=io,so.Item=eo,so.Next=oo,so.Last=ao;var uo=so,co={onEnter:h.a.func,onEntering:h.a.func,onEntered:h.a.func,onExit:h.a.func,onExiting:h.a.func,onExited:h.a.func},lo={$bs_panel:h.a.shape({headingId:h.a.string,bodyId:h.a.string,bsClass:h.a.string,expanded:h.a.bool})},po=function(e){function t(){return e.apply(this,arguments)||this}return c(t,e),t.prototype.render=function(){var e=this.props.children,t=this.context.$bs_panel||{},n=t.headingId,r=t.bodyId,i=t.bsClass,o=t.expanded,a=V(this.props),s=a[0],u=a[1];return s.bsClass=i||s.bsClass,n&&r&&(u.id=r,u.role=u.role||"tabpanel",u["aria-labelledby"]=n),P.a.createElement(kt,O({in:o},u),P.a.createElement("div",{className:L(s,"collapse")},e))},t}(P.a.Component);po.propTypes=co,po.contextTypes=lo;var fo=B("panel",po),ho={collapsible:h.a.bool.isRequired},vo={$bs_panel:h.a.shape({bsClass:h.a.string})},go=function(e){function t(){return e.apply(this,arguments)||this}return c(t,e),t.prototype.render=function(){var e=this.props,t=e.children,n=e.className,r=e.collapsible,i=(this.context.$bs_panel||{}).bsClass,o=q(this.props,["collapsible"]),a=o[0],s=o[1];a.bsClass=i||a.bsClass;var u=P.a.createElement("div",O({},s,{className:R()(n,L(a,"body"))}),t);return r&&(u=P.a.createElement(fo,null,u)),u},t}(P.a.Component);go.propTypes=ho,go.defaultProps={collapsible:!1},go.contextTypes=vo;var mo=B("panel",go),yo=n(60),bo=n.n(yo),wo={componentClass:bo.a},So={$bs_panel:h.a.shape({headingId:h.a.string,bsClass:h.a.string})},_o=function(e){function t(){return e.apply(this,arguments)||this}return c(t,e),t.prototype.render=function(){var e=this.props,t=e.children,n=e.className,r=e.componentClass,i=T(e,["children","className","componentClass"]),o=this.context.$bs_panel||{},a=o.headingId,s=o.bsClass,u=V(i),c=u[0],l=u[1];return c.bsClass=s||c.bsClass,a&&(l.role=l.role||"tab",l.id=a),P.a.createElement(r,O({},l,{className:R()(n,L(c,"heading"))}),t)},t}(P.a.Component);_o.propTypes=wo,_o.defaultProps={componentClass:"div"},_o.contextTypes=So;var Co=B("panel",_o),Eo={onClick:h.a.func,componentClass:bo.a},xo={componentClass:_e},Oo={$bs_panel:h.a.shape({bodyId:h.a.string,onToggle:h.a.func,expanded:h.a.bool})},ko=function(i){function e(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=i.call.apply(i,[this].concat(n))||this).handleToggle=e.handleToggle.bind(ve(ve(e))),e}c(e,i);var t=e.prototype;return t.handleToggle=function(e){var t=(this.context.$bs_panel||{}).onToggle;t&&t(e)},t.render=function(){var e=this.props,t=e.onClick,n=e.className,r=e.componentClass,i=T(e,["onClick","className","componentClass"]),o=this.context.$bs_panel||{},a=o.expanded,s=o.bodyId,u=r;return i.onClick=ye(t,this.handleToggle),i["aria-expanded"]=a,i.className=R()(n,!a&&"collapsed"),s&&(i["aria-controls"]=s),P.a.createElement(u,i)},e}(P.a.Component);ko.propTypes=Eo,ko.defaultProps=xo,ko.contextTypes=Oo;var Po=ko,To={componentClass:bo.a,toggle:h.a.bool},Ro={$bs_panel:h.a.shape({bsClass:h.a.string})},Ao=function(e){function t(){return e.apply(this,arguments)||this}return c(t,e),t.prototype.render=function(){var e=this.props,t=e.children,n=e.className,r=e.toggle,i=e.componentClass,o=T(e,["children","className","toggle","componentClass"]),a=(this.context.$bs_panel||{}).bsClass,s=V(o),u=s[0],c=s[1];return u.bsClass=a||u.bsClass,r&&(t=P.a.createElement(Po,null,t)),P.a.createElement(i,O({},c,{className:R()(n,L(u,"title"))}),t)},t}(P.a.Component);Ao.propTypes=To,Ao.defaultProps={componentClass:"div"},Ao.contextTypes=Ro;var Io=B("panel",Ao),Mo={$bs_panel:h.a.shape({bsClass:h.a.string})},No=function(e){function t(){return e.apply(this,arguments)||this}return c(t,e),t.prototype.render=function(){var e=this.props,t=e.children,n=e.className,r=(this.context.$bs_panel||{}).bsClass,i=V(this.props),o=i[0],a=i[1];return o.bsClass=r||o.bsClass,P.a.createElement("div",O({},a,{className:R()(n,L(o,"footer"))}),t)},t}(P.a.Component);No.contextTypes=Mo;var Do=B("panel",No),jo=Object.prototype.hasOwnProperty,Lo=function(e,t){return e?e+"--"+t:null},Bo={expanded:h.a.bool,onToggle:h.a.func,eventKey:h.a.any,id:h.a.string},Fo={$bs_panelGroup:h.a.shape({getId:h.a.func,activeKey:h.a.any,onToggle:h.a.func})},zo={$bs_panel:h.a.shape({headingId:h.a.string,bodyId:h.a.string,bsClass:h.a.string,onToggle:h.a.func,expanded:h.a.bool})},Uo=function(i){function e(){for(var r,e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(r=i.call.apply(i,[this].concat(t))||this).handleToggle=function(e){var t=r.context.$bs_panelGroup,n=!r.getExpanded();t&&t.onToggle?t.onToggle(r.props.eventKey,n,e):r.props.onToggle(n,e)},r}c(e,i);var t=e.prototype;return t.getChildContext=function(){var e,t=this.props,n=t.eventKey,r=t.id,i=null==n?r:n;if(null!==i){var o=this.context.$bs_panelGroup,a=o&&o.getId||Lo;e={headingId:a(i,"heading"),bodyId:a(i,"body")}}return{$bs_panel:O({},e,{bsClass:this.props.bsClass,expanded:this.getExpanded(),onToggle:this.handleToggle})}},t.getExpanded=function(){var e=this.context.$bs_panelGroup;return e&&jo.call(e,"activeKey")?e.activeKey===this.props.eventKey:!!this.props.expanded},t.render=function(){var e=this.props,t=e.className,n=e.children,r=q(this.props,["onToggle","eventKey","expanded"]),i=r[0],o=r[1];return P.a.createElement("div",O({},o,{className:R()(t,U(i))}),n)},e}(P.a.Component);Uo.propTypes=Bo,Uo.contextTypes=Fo,Uo.childContextTypes=zo;var Ho=g()(B("panel",F(oe()(A).concat([I,M]),I,Uo)),{expanded:"onToggle"});a()(Ho,{Heading:Co,Title:Io,Body:mo,Footer:Do,Toggle:Po,Collapse:fo});var Wo=Ho,Vo={id:Dt()(h.a.oneOfType([h.a.string,h.a.number])),placement:h.a.oneOf(["top","right","bottom","left"]),positionTop:h.a.oneOfType([h.a.number,h.a.string]),positionLeft:h.a.oneOfType([h.a.number,h.a.string]),arrowOffsetTop:h.a.oneOfType([h.a.number,h.a.string]),arrowOffsetLeft:h.a.oneOfType([h.a.number,h.a.string]),title:h.a.node},qo=function(e){function t(){return e.apply(this,arguments)||this}return c(t,e),t.prototype.render=function(){var e,t=this.props,n=t.placement,r=t.positionTop,i=t.positionLeft,o=t.arrowOffsetTop,a=t.arrowOffsetLeft,s=t.title,u=t.className,c=t.style,l=t.children,p=V(T(t,["placement","positionTop","positionLeft","arrowOffsetTop","arrowOffsetLeft","title","className","style","children"])),f=p[0],d=p[1],h=O({},U(f),((e={})[n]=!0,e)),v=O({display:"block",top:r,left:i},c),g={top:o,left:a};return P.a.createElement("div",O({},d,{role:"tooltip",className:R()(u,h),style:v}),P.a.createElement("div",{className:"arrow",style:g}),s&&P.a.createElement("h3",{className:L(f,"title")},s),P.a.createElement("div",{className:L(f,"content")},l))},t}(P.a.Component);qo.propTypes=Vo,qo.defaultProps={placement:"right"};var Go=B("popover",qo);var Ko={min:h.a.number,now:h.a.number,max:h.a.number,label:h.a.node,srOnly:h.a.bool,striped:h.a.bool,active:h.a.bool,children:function(e,t,r){var n=e[t];if(!n)return null;var i=null;return P.a.Children.forEach(n,function(e){if(!i){var t=P.a.createElement(Xo,null);if(e.type!==t.type){var n=P.a.isValidElement(e)?e.type.displayName||e.type.name||e.type:e;i=new Error("Children of "+r+" can contain only ProgressBar components. Found "+n+".")}}}),i},isChild:h.a.bool};var Xo=function(e){function t(){return e.apply(this,arguments)||this}c(t,e);var n=t.prototype;return n.renderProgressBar=function(e){var t,n=e.min,r=e.now,i=e.max,o=e.label,a=e.srOnly,s=e.striped,u=e.active,c=e.className,l=e.style,p=V(T(e,["min","now","max","label","srOnly","striped","active","className","style"])),f=p[0],d=p[1],h=O({},U(f),((t={active:u})[L(f,"striped")]=u||s,t));return P.a.createElement("div",O({},d,{role:"progressbar",className:R()(c,h),style:O({width:function(e,t,n){var r=(e-t)/(n-t)*100;return Math.round(1e3*r)/1e3}(r,n,i)+"%"},l),"aria-valuenow":r,"aria-valuemin":n,"aria-valuemax":i}),a?P.a.createElement("span",{className:"sr-only"},o):o)},n.render=function(){var e=this.props,t=e.isChild,n=T(e,["isChild"]);if(t)return this.renderProgressBar(n);var r=n.min,i=n.now,o=n.max,a=n.label,s=n.srOnly,u=n.striped,c=n.active,l=n.bsClass,p=n.bsStyle,f=n.className,d=n.children,h=T(n,["min","now","max","label","srOnly","striped","active","bsClass","bsStyle","className","children"]);return P.a.createElement("div",O({},h,{className:R()(f,"progress")}),d?X.map(d,function(e){return Object(k.cloneElement)(e,{isChild:!0})}):this.renderProgressBar({min:r,now:i,max:o,label:a,srOnly:s,striped:u,active:c,bsClass:l,bsStyle:p}))},t}(P.a.Component);Xo.propTypes=Ko,Xo.defaultProps={min:0,max:100,active:!1,isChild:!1,srOnly:!1,striped:!1};var Yo=B("progress-bar",F(oe()(A),Xo)),Jo={inline:h.a.bool,disabled:h.a.bool,title:h.a.string,validationState:h.a.oneOf(["success","warning","error",null]),inputRef:h.a.func},$o=function(e){function t(){return e.apply(this,arguments)||this}return c(t,e),t.prototype.render=function(){var e=this.props,t=e.inline,n=e.disabled,r=e.validationState,i=e.inputRef,o=e.className,a=e.style,s=e.title,u=e.children,c=V(T(e,["inline","disabled","validationState","inputRef","className","style","title","children"])),l=c[0],p=c[1],f=P.a.createElement("input",O({},p,{ref:i,type:"radio",disabled:n}));if(t){var d,h=((d={})[L(l,"inline")]=!0,d.disabled=n,d);return P.a.createElement("label",{className:R()(o,h),style:a,title:s},f,u)}var v=O({},U(l),{disabled:n});return r&&(v["has-"+r]=!0),P.a.createElement("div",{className:R()(o,v),style:a},P.a.createElement("label",{title:s},f,u))},t}(P.a.Component);$o.propTypes=Jo,$o.defaultProps={inline:!1,disabled:!1,title:""};var Qo=B("radio",$o),Zo={children:h.a.element.isRequired,a16by9:h.a.bool,a4by3:h.a.bool},ea=function(e){function t(){return e.apply(this,arguments)||this}return c(t,e),t.prototype.render=function(){var e,t=this.props,n=t.a16by9,r=t.a4by3,i=t.className,o=t.children,a=V(T(t,["a16by9","a4by3","className","children"])),s=a[0],u=a[1],c=O({},U(s),((e={})[L(s,"16by9")]=n,e[L(s,"4by3")]=r,e));return P.a.createElement("div",{className:R()(c)},Object(k.cloneElement)(o,O({},u,{className:R()(i,L(s,"item"))})))},t}(P.a.Component);ea.propTypes=Zo,ea.defaultProps={a16by9:!1,a4by3:!1};var ta=B("embed-responsive",ea),na={componentClass:me.a},ra=function(e){function t(){return e.apply(this,arguments)||this}return c(t,e),t.prototype.render=function(){var e=this.props,t=e.componentClass,n=e.className,r=V(T(e,["componentClass","className"])),i=r[0],o=r[1],a=U(i);return P.a.createElement(t,O({},o,{className:R()(n,a)}))},t}(P.a.Component);ra.propTypes=na,ra.defaultProps={componentClass:"div"};var ia=B("row",ra),oa=function(e){function t(){return e.apply(this,arguments)||this}return c(t,e),t.prototype.render=function(){return P.a.createElement(qt,O({},this.props,{useAnchor:!1,noCaret:!1}))},t}(P.a.Component);oa.defaultProps=qt.defaultProps;var aa=oa,sa=O({},Qt.propTypes,{bsStyle:h.a.string,bsSize:h.a.string,href:h.a.string,onClick:h.a.func,title:h.a.node.isRequired,toggleLabel:h.a.string,children:h.a.node}),ua=function(e){function t(){return e.apply(this,arguments)||this}return c(t,e),t.prototype.render=function(){var e=this.props,t=e.bsSize,n=e.bsStyle,r=e.title,i=e.toggleLabel,o=e.children,a=T(e,["bsSize","bsStyle","title","toggleLabel","children"]),s=Zt(a,Qt.ControlledComponent),u=s[0],c=s[1];return P.a.createElement(Qt,O({},u,{bsSize:t,bsStyle:n}),P.a.createElement(Re,O({},c,{disabled:a.disabled,bsSize:t,bsStyle:n}),r),P.a.createElement(aa,{"aria-label":i||r,bsSize:t,bsStyle:n}),P.a.createElement(Qt.Menu,null,o))},t}(P.a.Component);ua.propTypes=sa,ua.Toggle=aa;var ca=ua,la=h.a.oneOfType([h.a.string,h.a.number]),pa={id:function(e){var t=null;if(!e.generateChildId){for(var n=arguments.length,r=new Array(1<n?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];(t=la.apply(void 0,[e].concat(r)))||e.id||(t=new Error("In order to properly initialize Tabs in a way that is accessible to assistive technologies (such as screen readers) an `id` or a `generateChildId` prop to TabContainer is required"))}return t},generateChildId:h.a.func,onSelect:h.a.func,activeKey:h.a.any},fa={$bs_tabContainer:h.a.shape({activeKey:h.a.any,onSelect:h.a.func.isRequired,getTabId:h.a.func.isRequired,getPaneId:h.a.func.isRequired})},da=function(e){function t(){return e.apply(this,arguments)||this}c(t,e);var n=t.prototype;return n.getChildContext=function(){var e=this.props,t=e.activeKey,n=e.onSelect,r=e.generateChildId,i=e.id,o=r||function(e,t){return i?i+"-"+t+"-"+e:null};return{$bs_tabContainer:{activeKey:t,onSelect:n,getTabId:function(e){return o(e,"tab")},getPaneId:function(e){return o(e,"pane")}}}},n.render=function(){var e=this.props,t=e.children,n=T(e,["children"]);return delete n.generateChildId,delete n.onSelect,delete n.activeKey,P.a.cloneElement(P.a.Children.only(t),n)},t}(P.a.Component);da.propTypes=pa,da.childContextTypes=fa;var ha=g()(da,{activeKey:"onSelect"}),va={componentClass:me.a,animation:h.a.oneOfType([h.a.bool,me.a]),mountOnEnter:h.a.bool,unmountOnExit:h.a.bool},ga={$bs_tabContainer:h.a.shape({activeKey:h.a.any})},ma={$bs_tabContent:h.a.shape({bsClass:h.a.string,animation:h.a.oneOfType([h.a.bool,me.a]),activeKey:h.a.any,mountOnEnter:h.a.bool,unmountOnExit:h.a.bool,onPaneEnter:h.a.func.isRequired,onPaneExited:h.a.func.isRequired,exiting:h.a.bool.isRequired})},ya=function(r){function e(e,t){var n;return(n=r.call(this,e,t)||this).handlePaneEnter=n.handlePaneEnter.bind(ve(ve(n))),n.handlePaneExited=n.handlePaneExited.bind(ve(ve(n))),n.state={activeKey:null,activeChild:null},n}c(e,r);var t=e.prototype;return t.getChildContext=function(){var e=this.props,t=e.bsClass,n=e.animation,r=e.mountOnEnter,i=e.unmountOnExit,o=this.state.activeKey,a=this.getContainerActiveKey(),s=null!=o&&o!==a;return{$bs_tabContent:{bsClass:t,animation:n,activeKey:null!=o?o:a,mountOnEnter:r,unmountOnExit:i,onPaneEnter:this.handlePaneEnter,onPaneExited:this.handlePaneExited,exiting:s}}},t.componentWillReceiveProps=function(e){!e.animation&&this.state.activeChild&&this.setState({activeKey:null,activeChild:null})},t.componentWillUnmount=function(){this.isUnmounted=!0},t.getContainerActiveKey=function(){var e=this.context.$bs_tabContainer;return e&&e.activeKey},t.handlePaneEnter=function(e,t){return!!this.props.animation&&(t===this.getContainerActiveKey()&&(this.setState({activeKey:t,activeChild:e}),!0))},t.handlePaneExited=function(t){this.isUnmounted||this.setState(function(e){return e.activeChild!==t?null:{activeKey:null,activeChild:null}})},t.render=function(){var e=this.props,t=e.componentClass,n=e.className,r=q(T(e,["componentClass","className"]),["animation","mountOnEnter","unmountOnExit"]),i=r[0],o=r[1];return P.a.createElement(t,O({},o,{className:R()(n,L(i,"content"))}))},e}(P.a.Component);ya.propTypes=va,ya.defaultProps={componentClass:"div",animation:!0,mountOnEnter:!1,unmountOnExit:!1},ya.contextTypes=ga,ya.childContextTypes=ma;var ba=B("tab",ya),wa={eventKey:h.a.any,animation:h.a.oneOfType([h.a.bool,me.a]),id:h.a.string,"aria-labelledby":h.a.string,bsClass:h.a.string,onEnter:h.a.func,onEntering:h.a.func,onEntered:h.a.func,onExit:h.a.func,onExiting:h.a.func,onExited:h.a.func,mountOnEnter:h.a.bool,unmountOnExit:h.a.bool},Sa={$bs_tabContainer:h.a.shape({getTabId:h.a.func,getPaneId:h.a.func}),$bs_tabContent:h.a.shape({bsClass:h.a.string,animation:h.a.oneOfType([h.a.bool,me.a]),activeKey:h.a.any,mountOnEnter:h.a.bool,unmountOnExit:h.a.bool,onPaneEnter:h.a.func.isRequired,onPaneExited:h.a.func.isRequired,exiting:h.a.bool.isRequired})},_a={$bs_tabContainer:h.a.oneOf([null])},Ca=function(r){function e(e,t){var n;return(n=r.call(this,e,t)||this).handleEnter=n.handleEnter.bind(ve(ve(n))),n.handleExited=n.handleExited.bind(ve(ve(n))),n.in=!1,n}c(e,r);var t=e.prototype;return t.getChildContext=function(){return{$bs_tabContainer:null}},t.componentDidMount=function(){this.shouldBeIn()&&this.handleEnter()},t.componentDidUpdate=function(){this.in?this.shouldBeIn()||this.handleExited():this.shouldBeIn()&&this.handleEnter()},t.componentWillUnmount=function(){this.in&&this.handleExited()},t.getAnimation=function(){if(null!=this.props.animation)return this.props.animation;var e=this.context.$bs_tabContent;return e&&e.animation},t.handleEnter=function(){var e=this.context.$bs_tabContent;e&&(this.in=e.onPaneEnter(this,this.props.eventKey))},t.handleExited=function(){var e=this.context.$bs_tabContent;e&&(e.onPaneExited(this),this.in=!1)},t.isActive=function(){var e=this.context.$bs_tabContent,t=e&&e.activeKey;return this.props.eventKey===t},t.shouldBeIn=function(){return this.getAnimation()&&this.isActive()},t.render=function(){var e=this.props,t=e.eventKey,n=e.className,r=e.onEnter,i=e.onEntering,o=e.onEntered,a=e.onExit,s=e.onExiting,u=e.onExited,c=e.mountOnEnter,l=e.unmountOnExit,p=T(e,["eventKey","className","onEnter","onEntering","onEntered","onExit","onExiting","onExited","mountOnEnter","unmountOnExit"]),f=this.context,d=f.$bs_tabContent,h=f.$bs_tabContainer,v=q(p,["animation"]),g=v[0],m=v[1],y=this.isActive(),b=this.getAnimation(),w=null!=c?c:d&&d.mountOnEnter,S=null!=l?l:d&&d.unmountOnExit;if(!y&&!b&&S)return null;var _=!0===b?un:b||null;d&&(g.bsClass=L(d,"pane"));var C=O({},U(g),{active:y});h&&(m.id=h.getPaneId(t),m["aria-labelledby"]=h.getTabId(t));var E=P.a.createElement("div",O({},m,{role:"tabpanel","aria-hidden":!y,className:R()(n,C)}));if(_){var x=d&&d.exiting;return P.a.createElement(_,{in:y&&!x,onEnter:ye(this.handleEnter,r),onEntering:i,onEntered:o,onExit:a,onExiting:s,onExited:ye(this.handleExited,u),mountOnEnter:w,unmountOnExit:S},E)}return E},e}(P.a.Component);Ca.propTypes=wa,Ca.contextTypes=Sa,Ca.childContextTypes=_a;var Ea=B("tab-pane",Ca),xa=O({},Ea.propTypes,{disabled:h.a.bool,title:h.a.node,tabClassName:h.a.string}),Oa=function(e){function t(){return e.apply(this,arguments)||this}return c(t,e),t.prototype.render=function(){var e=O({},this.props);return delete e.title,delete e.disabled,delete e.tabClassName,P.a.createElement(Ea,e)},t}(P.a.Component);Oa.propTypes=xa,Oa.Container=ha,Oa.Content=ba,Oa.Pane=Ea;var ka=Oa,Pa={striped:h.a.bool,bordered:h.a.bool,condensed:h.a.bool,hover:h.a.bool,responsive:h.a.bool},Ta=function(e){function t(){return e.apply(this,arguments)||this}return c(t,e),t.prototype.render=function(){var e,t=this.props,n=t.striped,r=t.bordered,i=t.condensed,o=t.hover,a=t.responsive,s=t.className,u=V(T(t,["striped","bordered","condensed","hover","responsive","className"])),c=u[0],l=u[1],p=O({},U(c),((e={})[L(c,"striped")]=n,e[L(c,"bordered")]=r,e[L(c,"condensed")]=i,e[L(c,"hover")]=o,e)),f=P.a.createElement("table",O({},l,{className:R()(s,p)}));return a?P.a.createElement("div",{className:L(c,"responsive")},f):f},t}(P.a.Component);Ta.propTypes=Pa,Ta.defaultProps={bordered:!1,condensed:!1,hover:!1,responsive:!1,striped:!1};var Ra=B("table",Ta),Aa=ha.ControlledComponent,Ia={activeKey:h.a.any,bsStyle:h.a.oneOf(["tabs","pills"]),animation:h.a.oneOfType([h.a.bool,me.a]),id:Dt()(h.a.oneOfType([h.a.string,h.a.number])),onSelect:h.a.func,mountOnEnter:h.a.bool,unmountOnExit:h.a.bool};var Ma=function(e){function t(){return e.apply(this,arguments)||this}c(t,e);var n=t.prototype;return n.renderTab=function(e){var t=e.props,n=t.title,r=t.eventKey,i=t.disabled,o=t.tabClassName;return null==n?null:P.a.createElement(Pi,{eventKey:r,disabled:i,className:o},n)},n.render=function(){var e=this.props,t=e.id,n=e.onSelect,r=e.animation,i=e.mountOnEnter,o=e.unmountOnExit,a=e.bsClass,s=e.className,u=e.style,c=e.children,l=e.activeKey,p=void 0===l?function(e){var t;return X.forEach(e,function(e){null==t&&(t=e.props.eventKey)}),t}(c):l,f=T(e,["id","onSelect","animation","mountOnEnter","unmountOnExit","bsClass","className","style","children","activeKey"]);return P.a.createElement(Aa,{id:t,activeKey:p,onSelect:n,className:s,style:u},P.a.createElement("div",null,P.a.createElement(ri,O({},f,{role:"tablist"}),X.map(c,this.renderTab)),P.a.createElement(ba,{bsClass:a,animation:r,mountOnEnter:i,unmountOnExit:o},c)))},t}(P.a.Component);Ma.propTypes=Ia,Ma.defaultProps={bsStyle:"tabs",animation:!0,mountOnEnter:!1,unmountOnExit:!1},B("tab",Ma);var Na=g()(Ma,{activeKey:"onSelect"}),Da={src:h.a.string,alt:h.a.string,href:h.a.string,onError:h.a.func,onLoad:h.a.func},ja=function(e){function t(){return e.apply(this,arguments)||this}return c(t,e),t.prototype.render=function(){var e=this.props,t=e.src,n=e.alt,r=e.onError,i=e.onLoad,o=e.className,a=e.children,s=V(T(e,["src","alt","onError","onLoad","className","children"])),u=s[0],c=s[1],l=c.href?_e:"div",p=U(u);return P.a.createElement(l,O({},c,{className:R()(o,p)}),P.a.createElement("img",{src:t,alt:n,onError:r,onLoad:i}),a&&P.a.createElement("div",{className:"caption"},a))},t}(P.a.Component);ja.propTypes=Da;var La=B("thumbnail",ja),Ba={type:h.a.oneOf(["checkbox","radio"]),name:h.a.string,checked:h.a.bool,disabled:h.a.bool,onChange:h.a.func,value:h.a.any.isRequired},Fa=function(e){function t(){return e.apply(this,arguments)||this}return c(t,e),t.prototype.render=function(){var e=this.props,t=e.children,n=e.name,r=e.checked,i=e.type,o=e.onChange,a=e.value,s=T(e,["children","name","checked","type","onChange","value"]),u=s.disabled;return P.a.createElement(Re,O({},s,{active:!!r,componentClass:"label"}),P.a.createElement("input",{name:n,type:i,autoComplete:"off",value:a,checked:!!r,disabled:!!u,onChange:o}),t)},t}(P.a.Component);Fa.propTypes=Ba;var za=Fa,Ua={name:h.a.string,value:h.a.any,onChange:h.a.func,type:h.a.oneOf(["checkbox","radio"]).isRequired},Ha=function(e){function t(){return e.apply(this,arguments)||this}c(t,e);var n=t.prototype;return n.getValues=function(){var e=this.props.value;return null==e?[]:[].concat(e)},n.handleToggle=function(t){var e=this.props,n=e.type,r=e.onChange,i=this.getValues(),o=-1!==i.indexOf(t);"radio"!==n?r(o?i.filter(function(e){return e!==t}):i.concat([t])):o||r(t)},n.render=function(){var i=this,e=this.props,t=e.children,o=e.type,a=e.name,n=T(e,["children","type","name"]),s=this.getValues();return"radio"!==o||a||w()(!1),delete n.onChange,delete n.value,P.a.createElement(De,O({},n,{"data-toggle":"buttons"}),X.map(t,function(e){var t=e.props,n=t.value,r=t.onChange;return P.a.cloneElement(e,{type:o,name:e.name||a,checked:-1!==s.indexOf(n),onChange:ye(r,function(){return i.handleToggle(n)})})}))},t}(P.a.Component);Ha.propTypes=Ua,Ha.defaultProps={type:"radio"};var Wa=g()(Ha,{value:"onChange"});Wa.Button=za;var Va=Wa,qa={id:Dt()(h.a.oneOfType([h.a.string,h.a.number])),placement:h.a.oneOf(["top","right","bottom","left"]),positionTop:h.a.oneOfType([h.a.number,h.a.string]),positionLeft:h.a.oneOfType([h.a.number,h.a.string]),arrowOffsetTop:h.a.oneOfType([h.a.number,h.a.string]),arrowOffsetLeft:h.a.oneOfType([h.a.number,h.a.string])},Ga=function(e){function t(){return e.apply(this,arguments)||this}return c(t,e),t.prototype.render=function(){var e,t=this.props,n=t.placement,r=t.positionTop,i=t.positionLeft,o=t.arrowOffsetTop,a=t.arrowOffsetLeft,s=t.className,u=t.style,c=t.children,l=V(T(t,["placement","positionTop","positionLeft","arrowOffsetTop","arrowOffsetLeft","className","style","children"])),p=l[0],f=l[1],d=O({},U(p),((e={})[n]=!0,e)),h=O({top:r,left:i},u),v={top:o,left:a};return P.a.createElement("div",O({},f,{role:"tooltip",className:R()(s,d),style:h}),P.a.createElement("div",{className:L(p,"arrow"),style:v}),P.a.createElement("div",{className:L(p,"inner")},c))},t}(P.a.Component);Ga.propTypes=qa,Ga.defaultProps={placement:"right"};var Ka=B("tooltip",Ga),Xa=function(e){function t(){return e.apply(this,arguments)||this}return c(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=V(T(e,["className"])),r=n[0],i=n[1],o=U(r);return P.a.createElement("div",O({},i,{className:R()(t,o)}))},t}(P.a.Component),Ya=B("well",z([S,_],Xa));n.d(t,"Accordion",function(){return re}),n.d(t,"Alert",function(){return pe}),n.d(t,"Badge",function(){return he}),n.d(t,"Breadcrumb",function(){return ke}),n.d(t,"BreadcrumbItem",function(){return xe}),n.d(t,"Button",function(){return Re}),n.d(t,"ButtonGroup",function(){return De}),n.d(t,"ButtonToolbar",function(){return Le}),n.d(t,"Carousel",function(){return et}),n.d(t,"CarouselItem",function(){return Ke}),n.d(t,"Checkbox",function(){return rt}),n.d(t,"Clearfix",function(){return st}),n.d(t,"CloseButton",function(){return ue}),n.d(t,"ControlLabel",function(){return pt}),n.d(t,"Col",function(){return vt}),n.d(t,"Collapse",function(){return kt}),n.d(t,"Dropdown",function(){return Qt}),n.d(t,"DropdownButton",function(){return rn}),n.d(t,"Fade",function(){return un}),n.d(t,"Form",function(){return pn}),n.d(t,"FormControl",function(){return Sn}),n.d(t,"FormGroup",function(){return xn}),n.d(t,"Glyphicon",function(){return Je}),n.d(t,"Grid",function(){return Pn}),n.d(t,"HelpBlock",function(){return Rn}),n.d(t,"Image",function(){return Mn}),n.d(t,"InputGroup",function(){return Fn}),n.d(t,"Jumbotron",function(){return Hn}),n.d(t,"Label",function(){return Vn}),n.d(t,"ListGroup",function(){return Jn}),n.d(t,"ListGroupItem",function(){return Kn}),n.d(t,"Media",function(){return vr}),n.d(t,"MenuItem",function(){return yr}),n.d(t,"Modal",function(){return Zr}),n.d(t,"ModalBody",function(){return Mr}),n.d(t,"ModalDialog",function(){return jr}),n.d(t,"ModalFooter",function(){return Fr}),n.d(t,"ModalHeader",function(){return Wr}),n.d(t,"ModalTitle",function(){return Gr}),n.d(t,"Nav",function(){return ri}),n.d(t,"Navbar",function(){return _i}),n.d(t,"NavbarBrand",function(){return ai}),n.d(t,"NavDropdown",function(){return xi}),n.d(t,"NavItem",function(){return Pi}),n.d(t,"Overlay",function(){return Ni}),n.d(t,"OverlayTrigger",function(){return Ui}),n.d(t,"PageHeader",function(){return Wi}),n.d(t,"PageItem",function(){return Yi}),n.d(t,"Pager",function(){return Qi}),n.d(t,"Pagination",function(){return uo}),n.d(t,"Panel",function(){return Wo}),n.d(t,"PanelGroup",function(){return ne}),n.d(t,"Popover",function(){return Go}),n.d(t,"ProgressBar",function(){return Yo}),n.d(t,"Radio",function(){return Qo}),n.d(t,"ResponsiveEmbed",function(){return ta}),n.d(t,"Row",function(){return ia}),n.d(t,"SafeAnchor",function(){return _e}),n.d(t,"SplitButton",function(){return ca}),n.d(t,"Tab",function(){return ka}),n.d(t,"TabContainer",function(){return ha}),n.d(t,"TabContent",function(){return ba}),n.d(t,"Table",function(){return Ra}),n.d(t,"TabPane",function(){return Ea}),n.d(t,"Tabs",function(){return Na}),n.d(t,"Thumbnail",function(){return La}),n.d(t,"ToggleButton",function(){return za}),n.d(t,"ToggleButtonGroup",function(){return Va}),n.d(t,"Tooltip",function(){return Ka}),n.d(t,"Well",function(){return Ya}),n.d(t,"utils",function(){return i})},,,,,,function(e,L,B){"use strict";(function(e){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
var r=B(802),o=B(803),a=B(574);function n(){return p.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(n()<t)throw new RangeError("Invalid typed array length");return p.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=p.prototype:(null===e&&(e=new p(t)),e.length=t),e}function p(e,t,n){if(!(p.TYPED_ARRAY_SUPPORT||this instanceof p))return new p(e,t,n);if("number"!=typeof e)return i(this,e,t,n);if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return c(this,e)}function i(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r);p.TYPED_ARRAY_SUPPORT?(e=t).__proto__=p.prototype:e=l(e,t);return e}(e,t,n,r):"string"==typeof t?function(e,t,n){"string"==typeof n&&""!==n||(n="utf8");if(!p.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|d(t,n),i=(e=s(e,r)).write(t,n);i!==r&&(e=e.slice(0,i));return e}(e,t,n):function(e,t){if(p.isBuffer(t)){var n=0|f(t.length);return 0===(e=s(e,n)).length||t.copy(e,0,0,n),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||function(e){return e!=e}(t.length)?s(e,0):l(e,t);if("Buffer"===t.type&&a(t.data))return l(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function u(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function c(e,t){if(u(t),e=s(e,t<0?0:0|f(t)),!p.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function l(e,t){var n=t.length<0?0:0|f(t.length);e=s(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function f(e){if(e>=n())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+n().toString(16)+" bytes");return 0|e}function d(e,t){if(p.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return N(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return D(e).length;default:if(r)return N(e).length;t=(""+t).toLowerCase(),r=!0}}function h(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function v(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):2147483647<n?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=p.from(t,r)),p.isBuffer(t))return 0===t.length?-1:g(e,t,n,r,i);if("number"==typeof t)return t&=255,p.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):g(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function g(e,t,n,r,i){var o,a=1,s=e.length,u=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;s/=a=2,u/=2,n/=2}function c(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){var l=-1;for(o=n;o<s;o++)if(c(e,o)===c(t,-1===l?0:o-l)){if(-1===l&&(l=o),o-l+1===u)return l*a}else-1!==l&&(o-=o-l),l=-1}else for(s<n+u&&(n=s-u),o=n;0<=o;o--){for(var p=!0,f=0;f<u;f++)if(c(e,o+f)!==c(t,f)){p=!1;break}if(p)return o}return-1}function m(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?i<(r=Number(r))&&(r=i):r=i;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");o/2<r&&(r=o/2);for(var a=0;a<r;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[n+a]=s}return a}function y(e,t,n,r){return j(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function b(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function w(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o,a,s,u,c=e[i],l=null,p=239<c?4:223<c?3:191<c?2:1;if(i+p<=n)switch(p){case 1:c<128&&(l=c);break;case 2:128==(192&(o=e[i+1]))&&127<(u=(31&c)<<6|63&o)&&(l=u);break;case 3:o=e[i+1],a=e[i+2],128==(192&o)&&128==(192&a)&&2047<(u=(15&c)<<12|(63&o)<<6|63&a)&&(u<55296||57343<u)&&(l=u);break;case 4:o=e[i+1],a=e[i+2],s=e[i+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&65535<(u=(15&c)<<18|(63&o)<<12|(63&a)<<6|63&s)&&u<1114112&&(l=u)}null===l?(l=65533,p=1):65535<l&&(l-=65536,r.push(l>>>10&1023|55296),l=56320|1023&l),r.push(l),i+=p}return function(e){var t=e.length;if(t<=S)return String.fromCharCode.apply(String,e);var n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=S));return n}(r)}L.Buffer=p,L.SlowBuffer=function(e){+e!=e&&(e=0);return p.alloc(+e)},L.INSPECT_MAX_BYTES=50,p.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),L.kMaxLength=n(),p.poolSize=8192,p._augment=function(e){return e.__proto__=p.prototype,e},p.from=function(e,t,n){return i(null,e,t,n)},p.TYPED_ARRAY_SUPPORT&&(p.prototype.__proto__=Uint8Array.prototype,p.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&p[Symbol.species]===p&&Object.defineProperty(p,Symbol.species,{value:null,configurable:!0})),p.alloc=function(e,t,n){return function(e,t,n,r){return u(t),t<=0?s(e,t):void 0!==n?"string"==typeof r?s(e,t).fill(n,r):s(e,t).fill(n):s(e,t)}(null,e,t,n)},p.allocUnsafe=function(e){return c(null,e)},p.allocUnsafeSlow=function(e){return c(null,e)},p.isBuffer=function(e){return!(null==e||!e._isBuffer)},p.compare=function(e,t){if(!p.isBuffer(e)||!p.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},p.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},p.concat=function(e,t){if(!a(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return p.alloc(0);var n;if(void 0===t)for(n=t=0;n<e.length;++n)t+=e[n].length;var r=p.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var o=e[n];if(!p.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(r,i),i+=o.length}return r},p.byteLength=d,p.prototype._isBuffer=!0,p.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)h(this,t,t+1);return this},p.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)h(this,t,t+3),h(this,t+1,t+2);return this},p.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)h(this,t,t+7),h(this,t+1,t+6),h(this,t+2,t+5),h(this,t+3,t+4);return this},p.prototype.toString=function(){var e=0|this.length;return 0==e?"":0===arguments.length?w(this,0,e):function(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return E(this,t,n);case"utf8":case"utf-8":return w(this,t,n);case"ascii":return _(this,t,n);case"latin1":case"binary":return C(this,t,n);case"base64":return b(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}.apply(this,arguments)},p.prototype.equals=function(e){if(!p.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===p.compare(this,e)},p.prototype.inspect=function(){var e="",t=L.INSPECT_MAX_BYTES;return 0<this.length&&(e=this.toString("hex",0,t).match(/.{2}/g).join(" "),this.length>t&&(e+=" ... ")),"<Buffer "+e+">"},p.prototype.compare=function(e,t,n,r,i){if(!p.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(i<=r&&n<=t)return 0;if(i<=r)return-1;if(n<=t)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(r>>>=0),a=(n>>>=0)-(t>>>=0),s=Math.min(o,a),u=this.slice(r,i),c=e.slice(t,n),l=0;l<s;++l)if(u[l]!==c[l]){o=u[l],a=c[l];break}return o<a?-1:a<o?1:0},p.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},p.prototype.indexOf=function(e,t,n){return v(this,e,t,n,!0)},p.prototype.lastIndexOf=function(e,t,n){return v(this,e,t,n,!1)},p.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||i<n)&&(n=i),0<e.length&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o,a,s,u,c,l,p,f,d,h=!1;;)switch(r){case"hex":return m(this,e,t,n);case"utf8":case"utf-8":return f=t,d=n,j(N(e,(p=this).length-f),p,f,d);case"ascii":return y(this,e,t,n);case"latin1":case"binary":return y(this,e,t,n);case"base64":return u=this,c=t,l=n,j(D(e),u,c,l);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return a=t,s=n,j(function(e,t){for(var n,r,i,o=[],a=0;a<e.length&&!((t-=2)<0);++a)n=e.charCodeAt(a),r=n>>8,i=n%256,o.push(i),o.push(r);return o}(e,(o=this).length-a),o,a,s);default:if(h)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),h=!0}},p.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var S=4096;function _(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function C(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function E(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||r<n)&&(n=r);for(var i="",o=t;o<n;++o)i+=M(e[o]);return i}function x(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function O(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(n<e+t)throw new RangeError("Trying to access beyond buffer length")}function k(e,t,n,r,i,o){if(!p.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(i<t||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function P(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-n,2);i<o;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function T(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-n,4);i<o;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function R(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function A(e,t,n,r,i){return i||R(e,0,n,4),o.write(e,t,n,r,23,4),n+4}function I(e,t,n,r,i){return i||R(e,0,n,8),o.write(e,t,n,r,52,8),n+8}p.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):r<e&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):r<t&&(t=r),t<e&&(t=e),p.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=p.prototype;else{var i=t-e;n=new p(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+e]}return n},p.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||O(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},p.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||O(e,t,this.length);for(var r=this[e+--t],i=1;0<t&&(i*=256);)r+=this[e+--t]*i;return r},p.prototype.readUInt8=function(e,t){return t||O(e,1,this.length),this[e]},p.prototype.readUInt16LE=function(e,t){return t||O(e,2,this.length),this[e]|this[e+1]<<8},p.prototype.readUInt16BE=function(e,t){return t||O(e,2,this.length),this[e]<<8|this[e+1]},p.prototype.readUInt32LE=function(e,t){return t||O(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},p.prototype.readUInt32BE=function(e,t){return t||O(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},p.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||O(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return(i*=128)<=r&&(r-=Math.pow(2,8*t)),r},p.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||O(e,t,this.length);for(var r=t,i=1,o=this[e+--r];0<r&&(i*=256);)o+=this[e+--r]*i;return(i*=128)<=o&&(o-=Math.pow(2,8*t)),o},p.prototype.readInt8=function(e,t){return t||O(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},p.prototype.readInt16LE=function(e,t){t||O(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},p.prototype.readInt16BE=function(e,t){t||O(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},p.prototype.readInt32LE=function(e,t){return t||O(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},p.prototype.readInt32BE=function(e,t){return t||O(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},p.prototype.readFloatLE=function(e,t){return t||O(e,4,this.length),o.read(this,e,!0,23,4)},p.prototype.readFloatBE=function(e,t){return t||O(e,4,this.length),o.read(this,e,!1,23,4)},p.prototype.readDoubleLE=function(e,t){return t||O(e,8,this.length),o.read(this,e,!0,52,8)},p.prototype.readDoubleBE=function(e,t){return t||O(e,8,this.length),o.read(this,e,!1,52,8)},p.prototype.writeUIntLE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||k(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},p.prototype.writeUIntBE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||k(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[t+i]=255&e;0<=--i&&(o*=256);)this[t+i]=e/o&255;return t+n},p.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||k(this,e,t,1,255,0),p.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},p.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||k(this,e,t,2,65535,0),p.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):P(this,e,t,!0),t+2},p.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||k(this,e,t,2,65535,0),p.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):P(this,e,t,!1),t+2},p.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||k(this,e,t,4,4294967295,0),p.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):T(this,e,t,!0),t+4},p.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||k(this,e,t,4,4294967295,0),p.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):T(this,e,t,!1),t+4},p.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);k(this,e,t,n,i-1,-i)}var o=0,a=1,s=0;for(this[t]=255&e;++o<n&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},p.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);k(this,e,t,n,i-1,-i)}var o=n-1,a=1,s=0;for(this[t+o]=255&e;0<=--o&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},p.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||k(this,e,t,1,127,-128),p.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},p.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||k(this,e,t,2,32767,-32768),p.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):P(this,e,t,!0),t+2},p.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||k(this,e,t,2,32767,-32768),p.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):P(this,e,t,!1),t+2},p.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||k(this,e,t,4,2147483647,-2147483648),p.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):T(this,e,t,!0),t+4},p.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||k(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),p.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):T(this,e,t,!1),t+4},p.prototype.writeFloatLE=function(e,t,n){return A(this,e,t,!0,n)},p.prototype.writeFloatBE=function(e,t,n){return A(this,e,t,!1,n)},p.prototype.writeDoubleLE=function(e,t,n){return I(this,e,t,!0,n)},p.prototype.writeDoubleBE=function(e,t,n){return I(this,e,t,!1,n)},p.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),0<r&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,o=r-n;if(this===e&&n<t&&t<r)for(i=o-1;0<=i;--i)e[i+t]=this[i+n];else if(o<1e3||!p.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),t);return o},p.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!p.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(o=t;o<n;++o)this[o]=e;else{var a=p.isBuffer(e)?e:N(new p(e,r).toString()),s=a.length;for(o=0;o<n-t;++o)this[o+t]=a[o%s]}return this};var t=/[^+\/0-9A-Za-z-_]/g;function M(e){return e<16?"0"+e.toString(16):e.toString(16)}function N(e,t){var n;t=t||1/0;for(var r=e.length,i=null,o=[],a=0;a<r;++a){if(55295<(n=e.charCodeAt(a))&&n<57344){if(!i){if(56319<n){-1<(t-=3)&&o.push(239,191,189);continue}if(a+1===r){-1<(t-=3)&&o.push(239,191,189);continue}i=n;continue}if(n<56320){-1<(t-=3)&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&-1<(t-=3)&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function D(e){return r.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(t,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function j(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}}).call(this,B(30))},function(e,t,n){e.exports=n(382)},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Contracts=void 0;var r=function(){function u(){}return u.throwIfNullOrUndefined=function(e,t){if(null==e)throw new Error("throwIfNullOrUndefined:"+t)},u.throwIfNull=function(e,t){if(null===e)throw new Error("throwIfNull:"+t)},u.throwIfNullOrWhitespace=function(e,t){if(u.throwIfNullOrUndefined(e,t),(""+e).trim().length<1)throw new Error("throwIfNullOrWhitespace:"+t)},u.throwIfDisposed=function(e){if(e)throw new Error("the object is already disposed")},u.throwIfArrayEmptyOrWhitespace=function(e,t){if(u.throwIfNullOrUndefined(e,t),0===e.length)throw new Error("throwIfArrayEmptyOrWhitespace:"+t);var n=!0,r=!1,i=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;u.throwIfNullOrWhitespace(s,t)}}catch(e){r=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}},u.throwIfFileDoesNotExist=function(e,t){u.throwIfNullOrWhitespace(e,t)},u.throwIfNotUndefined=function(e,t){if(void 0!==e)throw new Error("throwIfNotUndefined:"+t)},u}();t.Contracts=r},function(e,O,k){(function(r,i){var s=/%[sdj%]/g;O.format=function(e){if(!b(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(u(arguments[n]));return t.join(" ")}n=1;for(var r=arguments,i=r.length,o=String(e).replace(s,function(e){if("%%"===e)return"%";if(i<=n)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}default:return e}}),a=r[n];n<i;a=r[++n])m(a)||!l(a)?o+=" "+a:o+=" "+u(a);return o},O.deprecate=function(e,t){if(w(r.process))return function(){return O.deprecate(e,t).apply(this,arguments)};if(!0===i.noDeprecation)return e;var n=!1;return function(){if(!n){if(i.throwDeprecation)throw new Error(t);i.traceDeprecation?console.trace(t):console.error(t),n=!0}return e.apply(this,arguments)}};var e,o={};function u(e,t){var n={seen:[],stylize:c};return 3<=arguments.length&&(n.depth=arguments[2]),4<=arguments.length&&(n.colors=arguments[3]),g(t)?n.showHidden=t:t&&O._extend(n,t),w(n.showHidden)&&(n.showHidden=!1),w(n.depth)&&(n.depth=2),w(n.colors)&&(n.colors=!1),w(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=a),f(n,e,n.depth)}function a(e,t){var n=u.styles[t];return n?"["+u.colors[n][0]+"m"+e+"["+u.colors[n][1]+"m":e}function c(e,t){return e}function f(t,n,r){if(t.customInspect&&n&&E(n.inspect)&&n.inspect!==O.inspect&&(!n.constructor||n.constructor.prototype!==n)){var e=n.inspect(r,t);return b(e)||(e=f(t,e,r)),e}var i=function(e,t){if(w(t))return e.stylize("undefined","undefined");if(b(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}if(y(t))return e.stylize(""+t,"number");if(g(t))return e.stylize(""+t,"boolean");if(m(t))return e.stylize("null","null")}(t,n);if(i)return i;var o=Object.keys(n),a=function(e){var n={};return e.forEach(function(e,t){n[e]=!0}),n}(o);if(t.showHidden&&(o=Object.getOwnPropertyNames(n)),C(n)&&(0<=o.indexOf("message")||0<=o.indexOf("description")))return d(n);if(0===o.length){if(E(n)){var s=n.name?": "+n.name:"";return t.stylize("[Function"+s+"]","special")}if(S(n))return t.stylize(RegExp.prototype.toString.call(n),"regexp");if(_(n))return t.stylize(Date.prototype.toString.call(n),"date");if(C(n))return d(n)}var u,c="",l=!1,p=["{","}"];(v(n)&&(l=!0,p=["[","]"]),E(n))&&(c=" [Function"+(n.name?": "+n.name:"")+"]");return S(n)&&(c=" "+RegExp.prototype.toString.call(n)),_(n)&&(c=" "+Date.prototype.toUTCString.call(n)),C(n)&&(c=" "+d(n)),0!==o.length||l&&0!=n.length?r<0?S(n)?t.stylize(RegExp.prototype.toString.call(n),"regexp"):t.stylize("[Object]","special"):(t.seen.push(n),u=l?function(t,n,r,i,e){for(var o=[],a=0,s=n.length;a<s;++a)x(n,String(a))?o.push(h(t,n,r,i,String(a),!0)):o.push("");return e.forEach(function(e){e.match(/^\d+$/)||o.push(h(t,n,r,i,e,!0))}),o}(t,n,r,a,o):o.map(function(e){return h(t,n,r,a,e,l)}),t.seen.pop(),function(e,t,n){if(60<e.reduce(function(e,t){return 0,0<=t.indexOf("\n")&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0))return n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1];return n[0]+t+" "+e.join(", ")+" "+n[1]}(u,c,p)):p[0]+c+p[1]}function d(e){return"["+Error.prototype.toString.call(e)+"]"}function h(e,t,n,r,i,o){var a,s,u;if((u=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?s=u.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):u.set&&(s=e.stylize("[Setter]","special")),x(r,i)||(a="["+i+"]"),s||(e.seen.indexOf(u.value)<0?-1<(s=m(n)?f(e,u.value,null):f(e,u.value,n-1)).indexOf("\n")&&(s=o?s.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+s.split("\n").map(function(e){return"   "+e}).join("\n")):s=e.stylize("[Circular]","special")),w(a)){if(o&&i.match(/^\d+$/))return s;a=(a=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),e.stylize(a,"string"))}return a+": "+s}function v(e){return Array.isArray(e)}function g(e){return"boolean"==typeof e}function m(e){return null===e}function y(e){return"number"==typeof e}function b(e){return"string"==typeof e}function w(e){return void 0===e}function S(e){return l(e)&&"[object RegExp]"===t(e)}function l(e){return"object"==typeof e&&null!==e}function _(e){return l(e)&&"[object Date]"===t(e)}function C(e){return l(e)&&("[object Error]"===t(e)||e instanceof Error)}function E(e){return"function"==typeof e}function t(e){return Object.prototype.toString.call(e)}function n(e){return e<10?"0"+e.toString(10):e.toString(10)}O.debuglog=function(t){if(w(e)&&(e=i.env.NODE_DEBUG||""),t=t.toUpperCase(),!o[t])if(new RegExp("\\b"+t+"\\b","i").test(e)){var n=i.pid;o[t]=function(){var e=O.format.apply(O,arguments);console.error("%s %d: %s",t,n,e)}}else o[t]=function(){};return o[t]},(O.inspect=u).colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},u.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},O.isArray=v,O.isBoolean=g,O.isNull=m,O.isNullOrUndefined=function(e){return null==e},O.isNumber=y,O.isString=b,O.isSymbol=function(e){return"symbol"==typeof e},O.isUndefined=w,O.isRegExp=S,O.isObject=l,O.isDate=_,O.isError=C,O.isFunction=E,O.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},O.isBuffer=k(862);var p=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function x(e,t){return Object.prototype.hasOwnProperty.call(e,t)}O.log=function(){console.log("%s - %s",function(){var e=new Date,t=[n(e.getHours()),n(e.getMinutes()),n(e.getSeconds())].join(":");return[e.getDate(),p[e.getMonth()],t].join(" ")}(),O.format.apply(O,arguments))},O.inherits=k(863),O._extend=function(e,t){if(!t||!l(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e}}).call(this,k(30),k(29))},,,,,,,,,function(e,s,t){"use strict";var u=t(496),c=t(1352),n=t(751),r=t(2255),l=t(646);function i(e){return e}function p(e,t){for(var n=0;n<e.length;++n)t[n]=255&e.charCodeAt(n);return t}s.newBlob=function(t,n){s.checkSupport("blob");try{return new Blob([t],{type:n})}catch(e){try{var r=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder);return r.append(t),r.getBlob(n)}catch(e){throw new Error("Bug : can't construct the Blob.")}}};var o={stringifyByChunk:function(e,t,n){var r=[],i=0,o=e.length;if(o<=n)return String.fromCharCode.apply(null,e);for(;i<o;)"array"===t||"nodebuffer"===t?r.push(String.fromCharCode.apply(null,e.slice(i,Math.min(i+n,o)))):r.push(String.fromCharCode.apply(null,e.subarray(i,Math.min(i+n,o)))),i+=n;return r.join("")},stringifyByChar:function(e){for(var t="",n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t},applyCanBeUsed:{uint8array:function(){try{return u.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(e){return!1}}(),nodebuffer:function(){try{return u.nodebuffer&&1===String.fromCharCode.apply(null,n.newBuffer(1)).length}catch(e){return!1}}()}};function a(e){var t=65536,n=s.getTypeOf(e),r=!0;if("uint8array"===n?r=o.applyCanBeUsed.uint8array:"nodebuffer"===n&&(r=o.applyCanBeUsed.nodebuffer),r)for(;1<t;)try{return o.stringifyByChunk(e,n,t)}catch(e){t=Math.floor(t/2)}return o.stringifyByChar(e)}function f(e,t){for(var n=0;n<e.length;n++)t[n]=e[n];return t}s.applyFromCharCode=a;var d={};d.string={string:i,array:function(e){return p(e,new Array(e.length))},arraybuffer:function(e){return d.string.uint8array(e).buffer},uint8array:function(e){return p(e,new Uint8Array(e.length))},nodebuffer:function(e){return p(e,n.newBuffer(e.length))}},d.array={string:a,array:i,arraybuffer:function(e){return new Uint8Array(e).buffer},uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return n.newBuffer(e)}},d.arraybuffer={string:function(e){return a(new Uint8Array(e))},array:function(e){return f(new Uint8Array(e),new Array(e.byteLength))},arraybuffer:i,uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return n.newBuffer(new Uint8Array(e))}},d.uint8array={string:a,array:function(e){return f(e,new Array(e.length))},arraybuffer:function(e){return e.buffer},uint8array:i,nodebuffer:function(e){return n.newBuffer(e)}},d.nodebuffer={string:a,array:function(e){return f(e,new Array(e.length))},arraybuffer:function(e){return d.nodebuffer.uint8array(e).buffer},uint8array:function(e){return f(e,new Uint8Array(e.length))},nodebuffer:i},s.transformTo=function(e,t){if(t||(t=""),!e)return t;s.checkSupport(e);var n=s.getTypeOf(t);return d[n][e](t)},s.getTypeOf=function(e){return"string"==typeof e?"string":"[object Array]"===Object.prototype.toString.call(e)?"array":u.nodebuffer&&n.isBuffer(e)?"nodebuffer":u.uint8array&&e instanceof Uint8Array?"uint8array":u.arraybuffer&&e instanceof ArrayBuffer?"arraybuffer":void 0},s.checkSupport=function(e){if(!u[e.toLowerCase()])throw new Error(e+" is not supported by this platform")},s.MAX_VALUE_16BITS=65535,s.MAX_VALUE_32BITS=-1,s.pretty=function(e){var t,n,r="";for(n=0;n<(e||"").length;n++)r+="\\x"+((t=e.charCodeAt(n))<16?"0":"")+t.toString(16).toUpperCase();return r},s.delay=function(e,t,n){r(function(){e.apply(n||null,t||[])})},s.inherits=function(e,t){var n=function(){};n.prototype=t.prototype,e.prototype=new n},s.extend=function(){var e,t,n={};for(e=0;e<arguments.length;e++)for(t in arguments[e])arguments[e].hasOwnProperty(t)&&void 0===n[t]&&(n[t]=arguments[e][t]);return n},s.prepareContent=function(n,r,i,o,a){return(u.blob&&r instanceof Blob&&"undefined"!=typeof FileReader?new l.Promise(function(t,n){var e=new FileReader;e.onload=function(e){t(e.target.result)},e.onerror=function(e){n(e.target.error)},e.readAsArrayBuffer(r)}):l.Promise.resolve(r)).then(function(e){var t=s.getTypeOf(e);return t?("arraybuffer"===t?e=s.transformTo("uint8array",e):"string"===t&&(a?e=c.decode(e):i&&!0!==o&&(e=function(e){return p(e,u.uint8array?new Uint8Array(e.length):new Array(e.length))}(e))),e):l.Promise.reject(new Error("The data of '"+n+"' is in an unsupported format !"))})}},,function(e,t,n){e.exports=n(363)},function(e,t,n){var r=n(369),i=n(209);e.exports=Object.keys||function(e){return r(e,i)}},function(e,t,n){var r=n(135);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},,function(e,t,n){var r=n(100),i=n(366),o=n(367),a=Object.defineProperty;t.f=n(63)?Object.defineProperty:function(e,t,n){if(r(e),t=o(t,!0),r(n),i)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,n){var r=n(104);e.exports=function(e){return Object(r(e))}},function(e,t,n){"use strict";var r=n(14);t.__esModule=!0,t.default=function(e){if((!i&&0!==i||e)&&o.default){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),i=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return i};var i,o=r(n(40));e.exports=t.default},,function(e,t,n){var r=n(102),i=n(143);e.exports=n(63)?function(e,t,n){return r.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u=i(n(1)),r=i(n(71));function i(e){return e&&e.__esModule?e:{default:e}}t.default=(0,r.default)(function(e,t,n,r,i){var o=e[t],a=void 0===o?"undefined":s(o);return u.default.isValidElement(o)?new Error("Invalid "+r+" `"+i+"` of type ReactElement supplied to `"+n+"`, expected a ReactComponent or a DOMElement. You can usually obtain a ReactComponent or DOMElement from a ReactElement by attaching a ref to it."):"object"===a&&"function"==typeof o.render||1===o.nodeType?null:new Error("Invalid "+r+" `"+i+"` of value `"+o+"` supplied to `"+n+"`, expected a ReactComponent or a DOMElement.")}),e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){return e===e.window?e:9===e.nodeType&&(e.defaultView||e.parentWindow)},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){return e="function"==typeof e?e():e,o.default.findDOMNode(e)||t};var r,i=n(7),o=(r=i)&&r.__esModule?r:{default:r};e.exports=t.default},,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";t.__esModule=!0;var r,i=n(1718),o=(r=i)&&r.__esModule?r:{default:r};t.default=o.default||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){var r=n(208),i=n(104);e.exports=function(e){return r(i(e))}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(0<e?r:n)(e)}},function(e,t,n){var r=n(214)("keys"),i=n(216);e.exports=function(e){return r[e]||(r[e]=i(e))}},,,,,function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},,,function(e,t,n){"use strict";var r=n(14);t.__esModule=!0,t.default=t.animationEnd=t.animationDelay=t.animationTiming=t.animationDuration=t.animationName=t.transitionEnd=t.transitionDuration=t.transitionDelay=t.transitionTiming=t.transitionProperty=t.transform=void 0;var i,o,a,s,u,c,l,p,f,d,h,v=r(n(40)),g="transform";if(t.transform=g,t.animationEnd=a,t.transitionEnd=o,t.transitionDelay=l,t.transitionTiming=c,t.transitionDuration=u,t.transitionProperty=s,t.animationDelay=h,t.animationTiming=d,t.animationDuration=f,t.animationName=p,v.default){var m=function(){for(var e,t,n=document.createElement("div").style,r={O:function(e){return"o"+e.toLowerCase()},Moz:function(e){return e.toLowerCase()},Webkit:function(e){return"webkit"+e},ms:function(e){return"MS"+e}},i=Object.keys(r),o="",a=0;a<i.length;a++){var s=i[a];if(s+"TransitionProperty"in n){o="-"+s.toLowerCase(),e=r[s]("TransitionEnd"),t=r[s]("AnimationEnd");break}}!e&&"transitionProperty"in n&&(e="transitionend");!t&&"animationName"in n&&(t="animationend");return n=null,{animationEnd:t,transitionEnd:e,prefix:o}}();i=m.prefix,t.transitionEnd=o=m.transitionEnd,t.animationEnd=a=m.animationEnd,t.transform=g=i+"-"+g,t.transitionProperty=s=i+"-transition-property",t.transitionDuration=u=i+"-transition-duration",t.transitionDelay=l=i+"-transition-delay",t.transitionTiming=c=i+"-transition-timing-function",t.animationName=p=i+"-animation-name",t.animationDuration=f=i+"-animation-duration",t.animationTiming=d=i+"-animation-delay",t.animationDelay=h=i+"-animation-timing-function"}var y={transform:g,end:o,property:s,timing:c,delay:l,duration:u};t.default=y},function(e,t){e.exports={}},function(e,t,n){"use strict";var r=n(14);t.__esModule=!0,t.default=void 0;var i=function(){};r(n(40)).default&&(i=document.addEventListener?function(e,t,n,r){return e.addEventListener(t,n,r||!1)}:document.attachEvent?function(t,e,n){return t.attachEvent("on"+e,function(e){(e=e||window.event).target=e.target||e.srcElement,e.currentTarget=t,n.call(t,e)})}:void 0);var o=i;t.default=o,e.exports=t.default},function(e,t,n){"use strict";var r=n(14);t.__esModule=!0,t.default=void 0;var i=function(){};r(n(40)).default&&(i=document.addEventListener?function(e,t,n,r){return e.removeEventListener(t,n,r||!1)}:document.attachEvent?function(e,t,n){return e.detachEvent("on"+t,n)}:void 0);var o=i;t.default=o,e.exports=t.default},function(e,t,n){"use strict";var r=n(14);t.__esModule=!0,t.default=function(e){void 0===e&&(e=(0,i.default)());try{return e.activeElement}catch(e){}};var i=r(n(57));e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var o=c(n(47)),r=c(n(0)),i=c(n(1)),a=c(n(7)),s=c(n(229)),u=c(n(72));function c(e){return e&&e.__esModule?e:{default:e}}var l=function(r){function i(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,r.call(this,e,t));return n.addEventListeners=function(){var e=n.props.event,t=(0,u.default)(n);n.documentMouseCaptureListener=(0,s.default)(t,e,n.handleMouseCapture,!0),n.documentMouseListener=(0,s.default)(t,e,n.handleMouse),n.documentKeyupListener=(0,s.default)(t,"keyup",n.handleKeyUp)},n.removeEventListeners=function(){n.documentMouseCaptureListener&&n.documentMouseCaptureListener.remove(),n.documentMouseListener&&n.documentMouseListener.remove(),n.documentKeyupListener&&n.documentKeyupListener.remove()},n.handleMouseCapture=function(e){n.preventMouseRootClose=function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||!function(e){return 0===e.button}(e)||(0,o.default)(a.default.findDOMNode(n),e.target)},n.handleMouse=function(e){!n.preventMouseRootClose&&n.props.onRootClose&&n.props.onRootClose(e)},n.handleKeyUp=function(e){27===e.keyCode&&n.props.onRootClose&&n.props.onRootClose(e)},n.preventMouseRootClose=!1,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(i,r),i.prototype.componentDidMount=function(){this.props.disabled||this.addEventListeners()},i.prototype.componentDidUpdate=function(e){!this.props.disabled&&e.disabled?this.addEventListeners():this.props.disabled&&!e.disabled&&this.removeEventListeners()},i.prototype.componentWillUnmount=function(){this.props.disabled||this.removeEventListeners()},i.prototype.render=function(){return this.props.children},i}(i.default.Component);l.displayName="RootCloseWrapper",l.propTypes={onRootClose:r.default.func,children:r.default.element,disabled:r.default.bool,event:r.default.oneOf(["click","mousedown"])},l.defaultProps={event:"click"},t.default=l,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){return(0,i.default)(e)||function(e){return e&&"body"===e.tagName.toLowerCase()}(e)?function(e){var t=(0,o.default)(e),n=(0,i.default)(t).innerWidth;if(!n){var r=t.documentElement.getBoundingClientRect();n=r.right-Math.abs(r.left)}return t.body.clientWidth<n}(e):e.scrollHeight>e.clientHeight};var i=r(n(112)),o=r(n(57));function r(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,n){e.exports=n(407)},function(e,t,n){"use strict";var r=n(14);t.__esModule=!0,t.default=void 0;var i=r(n(149));t.on=i.default;var o=r(n(150));t.off=o.default;var a=r(n(426));t.filter=a.default;var s=r(n(428));t.listen=s.default;var u={on:i.default,off:o.default,filter:a.default,listen:s.default};t.default=u},function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=a(n(0)),i=a(n(3)),g=a(n(1)),m=a(n(231)),y=a(n(436)),b=a(n(152));function a(e){return e&&e.__esModule?e:{default:e}}var s=function(r){function i(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,r.call(this,e,t));return n.handleHidden=function(){var e;(n.setState({exited:!0}),n.props.onExited)&&(e=n.props).onExited.apply(e,arguments)},n.state={exited:!e.show},n.onHiddenListener=n.handleHidden.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(i,r),i.prototype.componentWillReceiveProps=function(e){e.show?this.setState({exited:!1}):e.transition||this.setState({exited:!0})},i.prototype.render=function(){var e=this.props,t=e.container,n=e.containerPadding,r=e.target,i=e.placement,o=e.shouldUpdatePosition,a=e.rootClose,s=e.children,u=e.transition,c=function(e,t){var n={};for(var r in e)0<=t.indexOf(r)||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["container","containerPadding","target","placement","shouldUpdatePosition","rootClose","children","transition"]);if(!(c.show||u&&!this.state.exited))return null;var l=s;if(l=g.default.createElement(y.default,{container:t,containerPadding:n,target:r,placement:i,shouldUpdatePosition:o},l),u){var p=c.onExit,f=c.onExiting,d=c.onEnter,h=c.onEntering,v=c.onEntered;l=g.default.createElement(u,{in:c.show,appear:!0,onExit:p,onExiting:f,onExited:this.onHiddenListener,onEnter:d,onEntering:h,onEntered:v},l)}return a&&(l=g.default.createElement(b.default,{onRootClose:c.onHide},l)),g.default.createElement(m.default,{container:t},l)},i}(g.default.Component);s.propTypes=r({},m.default.propTypes,y.default.propTypes,{show:o.default.bool,rootClose:o.default.bool,onHide:function(e){var t=o.default.func;e.rootClose&&(t=t.isRequired);for(var n=arguments.length,r=Array(1<n?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return t.apply(void 0,[e].concat(r))},transition:i.default,onEnter:o.default.func,onEntering:o.default.func,onEntered:o.default.func,onExit:o.default.func,onExiting:o.default.func,onExited:o.default.func}),t.default=s,e.exports=t.default},,,,,,,,,,,function(e,t){var n=e.exports={version:"2.6.3"};"number"==typeof __e&&(__e=n)},,,,,,,,,,,,,,,function(e,t){var n=e.exports={version:"2.6.3"};"number"==typeof __e&&(__e=n)},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},,,,,function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},,,,,,function(e,t,n){e.exports=n(373)},function(e,t,n){e.exports=n(376)},function(e,t,n){"use strict";t.__esModule=!0;var r,i=n(1260),o=(r=i)&&r.__esModule?r:{default:r};t.default=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,o.default)(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}()},,,function(e,t,n){var r=n(1124)("wks"),i=n(755),o=n(183).Symbol,a="function"==typeof o;(e.exports=function(e){return r[e]||(r[e]=a&&o[e]||(a?o:i)("Symbol."+e))}).store=r},,,,function(e,t,n){"use strict";function i(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}function r(e){var n="function"==typeof Map?new Map:void 0;return(r=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==n){if(n.has(e))return n.get(e);n.set(e,t)}function t(){return o(e,arguments,s(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),a(t,e)})(e)}function o(e,t,n){return(o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&a(i,n.prototype),i}).apply(null,arguments)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.ObjectDisposedError=t.InvalidOperationError=t.ArgumentNullError=void 0;var u=function(n){function e(e){var t;return(t=n.call(this,e)||this).name="ArgumentNull",t.message=e,t}return i(e,n),e}(r(Error));t.ArgumentNullError=u;var c=function(n){function e(e){var t;return(t=n.call(this,e)||this).name="InvalidOperation",t.message=e,t}return i(e,n),e}(r(Error));t.InvalidOperationError=c;var l=function(r){function e(e,t){var n;return(n=r.call(this,t)||this).name=e+"ObjectDisposed",n.message=t,n}return i(e,r),e}(r(Error));t.ObjectDisposedError=l},function(e,t,n){var r=n(819)("wks"),i=n(674),o=n(305).Symbol,a="function"==typeof o;(e.exports=function(e){return r[e]||(r[e]=a&&o[e]||(a?o:i)("Symbol."+e))}).store=r},,,function(e,t,n){var r=n(135),i=n(65).document,o=r(i)&&r(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}},function(e,t,n){var r=n(144);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t){t.f={}.propertyIsEnumerable},,function(e,t,n){var o=n(365);e.exports=function(r,i,e){if(o(r),void 0===i)return r;switch(e){case 1:return function(e){return r.call(i,e)};case 2:return function(e,t){return r.call(i,e,t)};case 3:return function(e,t,n){return r.call(i,e,t,n)}}return function(){return r.apply(i,arguments)}}},function(e,t,n){var r=n(137),i=Math.min;e.exports=function(e){return 0<e?i(r(e),9007199254740991):0}},function(e,t,n){var r=n(25),i=n(65),o="__core-js_shared__",a=i[o]||(i[o]={});(e.exports=function(e,t){return a[e]||(a[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:n(215)?"pure":"global",copyright:"Â© 2019 Denis Pushkarev (zloirock.ru)"})},function(e,t){e.exports=!0},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t,r){var i=r(100),o=r(378),a=r(209),s=r(138)("IE_PROTO"),u=function(){},c="prototype",l=function(){var e,t=r(207)("iframe"),n=a.length;for(t.style.display="none",r(379).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),l=e.F;n--;)delete l[c][a[n]];return l()};e.exports=Object.create||function(e,t){var n;return null!==e?(u[c]=i(e),n=new u,u[c]=null,n[s]=e):n=l(),void 0===t?n:o(n,t)}},function(e,t,n){var u=n(63),c=n(99),l=n(136),p=n(210).f;e.exports=function(s){return function(e){for(var t,n=l(e),r=c(n),i=r.length,o=0,a=[];o<i;)t=r[o++],u&&!p.call(n,t)||a.push(s?[t,n[t]]:n[t]);return a}}},function(e,t,n){"use strict";function r(e){this.name=e||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}r.prototype={push:function(e){this.emit("data",e)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(e){this.emit("error",e)}return!0},error:function(e){return!this.isFinished&&(this.isPaused?this.generatedError=e:(this.isFinished=!0,this.emit("error",e),this.previous&&this.previous.error(e),this.cleanUp()),!0)},on:function(e,t){return this._listeners[e].push(t),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(e,t){if(this._listeners[e])for(var n=0;n<this._listeners[e].length;n++)this._listeners[e][n].call(this,t)},pipe:function(e){return e.registerPrevious(this)},registerPrevious:function(e){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=e.streamInfo,this.mergeStreamInfo(),this.previous=e;var t=this;return e.on("data",function(e){t.processChunk(e)}),e.on("end",function(){t.end()}),e.on("error",function(e){t.error(e)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var e=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),e=!0),this.previous&&this.previous.resume(),!e},flush:function(){},processChunk:function(e){this.push(e)},withStreamInfo:function(e,t){return this.extraStreamInfo[e]=t,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var e in this.extraStreamInfo)this.extraStreamInfo.hasOwnProperty(e)&&(this.streamInfo[e]=this.extraStreamInfo[e])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var e="Worker "+this.name;return this.previous?this.previous+" -> "+e:e}},e.exports=r},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t,n){"use strict";t.__esModule=!0;var r,i=n(303),o=(r=i)&&r.__esModule?r:{default:r};t.default=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,o.default)(t))&&"function"!=typeof t?e:t}},function(e,t,n){e.exports={default:n(2376),__esModule:!0}},,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1877);Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})});var i=n(1887);Object.keys(i).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}})});var o=n(1992);Object.keys(o).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}})});var a=n(1993);Object.keys(a).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}})});var s=n(1994);Object.keys(s).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return s[e]}})});var u=n(1243);Object.keys(u).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return u[e]}})});var c=n(1998);Object.keys(c).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return c[e]}})});var l=n(1999);Object.keys(l).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return l[e]}})})},function(e,t,n){"use strict";var r=n(14);t.__esModule=!0,t.default=function(e){return(0,i.default)(e.replace(o,"ms-"))};var i=r(n(401)),o=/^-ms-/;e.exports=t.default},function(e,t){e.exports="\t\n\v\f\r Â áš€á Žâ€€â€â€‚â€ƒâ€„â€…â€†â€‡â€ˆâ€‰â€Šâ€¯âŸã€€\u2028\u2029\ufeff"},function(e,t,n){var r=n(102).f,i=n(103),o=n(56)("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,o)&&r(e,o,{configurable:!0,value:t})}},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t,n,r){return(0,i.default)(e,t,n,r),{remove:function(){(0,o.default)(e,t,n,r)}}};var i=r(n(149)),o=r(n(150));function r(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var r=l(n(0)),i=l(n(111)),o=l(n(1)),s=l(n(7)),u=l(n(113)),c=l(n(72)),a=l(n(433));function l(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var f=function(o){function a(){var e,t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t=p(this,o.call.apply(o,[this].concat(r)))).setContainer=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:t.props;t._portalContainerNode=(0,u.default)(e.container,(0,c.default)(t).body)},t.getMountNode=function(){return t._portalContainerNode},p(t,e)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(a,o),a.prototype.componentDidMount=function(){this.setContainer(),this.forceUpdate(this.props.onRendered)},a.prototype.componentWillReceiveProps=function(e){e.container!==this.props.container&&this.setContainer(e)},a.prototype.componentWillUnmount=function(){this._portalContainerNode=null},a.prototype.render=function(){return this.props.children&&this._portalContainerNode?s.default.createPortal(this.props.children,this._portalContainerNode):null},a}(o.default.Component);f.displayName="Portal",f.propTypes={container:r.default.oneOfType([i.default,r.default.func]),onRendered:r.default.func},t.default=s.default.createPortal?f:a.default,e.exports=t.default},function(e,t,n){"use strict";var r=n(14);t.__esModule=!0,t.default=function(e){var t=(0,s.default)(e),n=(0,a.default)(t),r=t&&t.documentElement,i={top:0,left:0,height:0,width:0};if(!t)return;if(!(0,o.default)(r,e))return i;void 0!==e.getBoundingClientRect&&(i=e.getBoundingClientRect());return i={top:i.top+(n.pageYOffset||r.scrollTop)-(r.clientTop||0),left:i.left+(n.pageXOffset||r.scrollLeft)-(r.clientLeft||0),width:(null==i.width?e.offsetWidth:i.width)||0,height:(null==i.height?e.offsetHeight:i.height)||0}};var o=r(n(47)),a=r(n(112)),s=r(n(57));e.exports=t.default},function(e,t,n){"use strict";var r=n(14);t.__esModule=!0,t.default=function(e,t){var n=(0,i.default)(e);if(void 0===t)return n?"pageYOffset"in n?n.pageYOffset:n.document.documentElement.scrollTop:e.scrollTop;n?n.scrollTo("pageXOffset"in n?n.pageXOffset:n.document.documentElement.scrollLeft,t):e.scrollTop=t};var i=r(n(112));e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var r=a(n(1747)),i=a(n(1751)),o=a(n(303));function a(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,o.default)(t)));e.prototype=(0,i.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(r.default?(0,r.default)(e,t):e.__proto__=t)}},function(e,t,n){"use strict";var r=n(14);t.__esModule=!0,t.default=void 0;var i=r(n(400));t.end=i.default;var o=r(n(147));t.properties=o.default;var a={end:i.default,properties:o.default};t.default=a},function(e,t,n){e.exports=n(412)},function(e,t,n){e.exports=n(442)},,,,,,,,,,,,,,,,,,,,,,function(e,t,n){var r=n(1375),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();e.exports=o},function(e,t,n){var r=n(1416)("wks"),i=n(1417),o=n(220).Symbol,a="function"==typeof o;(e.exports=function(e){return r[e]||(r[e]=a&&o[e]||(a?o:i)("Symbol."+e))}).store=r},,function(e,n,t){(function(e){function t(e){return Object.prototype.toString.call(e)}n.isArray=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===t(e)},n.isBoolean=function(e){return"boolean"==typeof e},n.isNull=function(e){return null===e},n.isNullOrUndefined=function(e){return null==e},n.isNumber=function(e){return"number"==typeof e},n.isString=function(e){return"string"==typeof e},n.isSymbol=function(e){return"symbol"==typeof e},n.isUndefined=function(e){return void 0===e},n.isRegExp=function(e){return"[object RegExp]"===t(e)},n.isObject=function(e){return"object"==typeof e&&null!==e},n.isDate=function(e){return"[object Date]"===t(e)},n.isError=function(e){return"[object Error]"===t(e)||e instanceof Error},n.isFunction=function(e){return"function"==typeof e},n.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},n.isBuffer=e.isBuffer}).call(this,t(83).Buffer)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){var n=Array.isArray;e.exports=n},,,,,,function(e,t,n){"use strict";t.__esModule=!0;var r=a(n(1730)),i=a(n(1738)),o="function"==typeof i.default&&"symbol"==typeof r.default?function(e){return typeof e}:function(e){return e&&"function"==typeof i.default&&e.constructor===i.default&&e!==i.default.prototype?"symbol":typeof e};function a(e){return e&&e.__esModule?e:{default:e}}t.default="function"==typeof i.default&&"symbol"===o(r.default)?function(e){return void 0===e?"undefined":o(e)}:function(e){return e&&"function"==typeof i.default&&e.constructor===i.default&&e!==i.default.prototype?"symbol":void 0===e?"undefined":o(e)}},,function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},,function(e,t,n){var r=n(347),i=n(1192),o=n(815),a=Object.defineProperty;t.f=n(338)?Object.defineProperty:function(e,t,n){if(r(e),t=o(t,!0),r(n),i)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},,,function(e,t,n){"use strict";function u(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!=e&&this.setState(e)}function c(n){this.setState(function(e){var t=this.constructor.getDerivedStateFromProps(n,e);return null!=t?t:null}.bind(this))}function l(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}function r(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!=typeof e.getDerivedStateFromProps&&"function"!=typeof t.getSnapshotBeforeUpdate)return e;var n=null,r=null,i=null;if("function"==typeof t.componentWillMount?n="componentWillMount":"function"==typeof t.UNSAFE_componentWillMount&&(n="UNSAFE_componentWillMount"),"function"==typeof t.componentWillReceiveProps?r="componentWillReceiveProps":"function"==typeof t.UNSAFE_componentWillReceiveProps&&(r="UNSAFE_componentWillReceiveProps"),"function"==typeof t.componentWillUpdate?i="componentWillUpdate":"function"==typeof t.UNSAFE_componentWillUpdate&&(i="UNSAFE_componentWillUpdate"),null!==n||null!==r||null!==i){var o=e.displayName||e.name,a="function"==typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+o+" uses "+a+" but also contains the following legacy lifecycles:"+(null!==n?"\n  "+n:"")+(null!==r?"\n  "+r:"")+(null!==i?"\n  "+i:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"==typeof e.getDerivedStateFromProps&&(t.componentWillMount=u,t.componentWillReceiveProps=c),"function"==typeof t.getSnapshotBeforeUpdate){if("function"!=typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=l;var s=t.componentDidUpdate;t.componentDidUpdate=function(e,t,n){var r=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n;s.call(this,e,t,r)}}return e}n.r(t),n.d(t,"polyfill",function(){return r}),l.__suppressDeprecationWarning=c.__suppressDeprecationWarning=u.__suppressDeprecationWarning=!0},,,,,,,,,,,,,function(e,t,n){var r=n(498);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},function(e,t){var n=e.exports={version:"2.6.3"};"number"==typeof __e&&(__e=n)},function(e,t,n){e.exports={default:n(2363),__esModule:!0}},function(e,t,n){"use strict";t.__esModule=!0;var r,i=n(2392),o=(r=i)&&r.__esModule?r:{default:r};t.default=o.default||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}},function(e,t,n){e.exports=n(2486)},,,function(e,t,n){e.exports=r;var l=n(52).EventEmitter;function r(){l.call(this)}n(115)(r,l),r.Readable=n(1841),r.Writable=n(1843),r.Duplex=n(1844),r.Transform=n(1845),r.PassThrough=n(1846),(r.Stream=r).prototype.pipe=function(t,e){var n=this;function r(e){t.writable&&!1===t.write(e)&&n.pause&&n.pause()}function i(){n.readable&&n.resume&&n.resume()}n.on("data",r),t.on("drain",i),t._isStdio||e&&!1===e.end||(n.on("end",a),n.on("close",s));var o=!1;function a(){o||(o=!0,t.end())}function s(){o||(o=!0,"function"==typeof t.destroy&&t.destroy())}function u(e){if(c(),0===l.listenerCount(this,"error"))throw e}function c(){n.removeListener("data",r),t.removeListener("drain",i),n.removeListener("end",a),n.removeListener("close",s),n.removeListener("error",u),t.removeListener("error",u),n.removeListener("end",c),n.removeListener("close",c),t.removeListener("close",c)}return n.on("error",u),t.on("error",u),n.on("end",c),n.on("close",c),t.on("close",c),t.emit("pipe",n),t}},,,,,,function(e,t,n){var v=n(305),g=n(182),m=n(853),y=n(452),b=n(339),w="prototype",S=function(e,t,n){var r,i,o,a=e&S.F,s=e&S.G,u=e&S.S,c=e&S.P,l=e&S.B,p=e&S.W,f=s?g:g[t]||(g[t]={}),d=f[w],h=s?v:u?v[t]:(v[t]||{})[w];for(r in s&&(n=t),n)(i=!a&&h&&void 0!==h[r])&&b(f,r)||(o=i?h[r]:n[r],f[r]=s&&"function"!=typeof h[r]?n[r]:l&&i?m(o,v):p&&h[r]==o?function(r){var e=function(e,t,n){if(this instanceof r){switch(arguments.length){case 0:return new r;case 1:return new r(e);case 2:return new r(e,t)}return new r(e,t,n)}return r.apply(this,arguments)};return e[w]=r[w],e}(o):c&&"function"==typeof o?m(Function.call,o):o,c&&((f.virtual||(f.virtual={}))[r]=o,e&S.R&&d&&!d[r]&&y(d,r,o)))};S.F=1,S.G=2,S.S=4,S.P=8,S.B=16,S.W=32,S.U=64,S.R=128,e.exports=S},function(e,t,n){e.exports=!n(573)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},,,function(e,t,n){"use strict";var r=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};e.exports=p;var i=n(547),o=n(262);o.inherits=n(115);var a=n(1216),s=n(836);o.inherits(p,a);for(var u=r(s.prototype),c=0;c<u.length;c++){var l=u[c];p.prototype[l]||(p.prototype[l]=s.prototype[l])}function p(e){if(!(this instanceof p))return new p(e);a.call(this,e),s.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",f)}function f(){this.allowHalfOpen||this._writableState.ended||i(d,this)}function d(e){e.end()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createNoDashGuid=t.createGuid=void 0;var r=function(){var n=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=(n+16*Math.random())%16|0;return n=Math.floor(n/16),("x"===e?t:3&t|8).toString(16)})};t.createGuid=r;t.createNoDashGuid=function(){return r().replace(new RegExp("-","g"),"").toUpperCase()}},function(e,t,n){"use strict";var r=n(14);t.__esModule=!0,t.default=function(e,t){e.classList?e.classList.add(t):(0,i.default)(e,t)||("string"==typeof e.className?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))};var i=r(n(230));e.exports=t.default},function(e,t,n){"use strict";function r(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}e.exports=function(e,t){e.classList?e.classList.remove(t):"string"==typeof e.className?e.className=r(e.className,t):e.setAttribute("class",r(e.className&&e.className.baseVal||"",t))}},,function(e,t,n){var r=n(451);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(303)),i=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}}(n(1342)),o=a(n(2228));function a(e){return e&&e.__esModule?e:{default:e}}var s=Object.keys(i).reduce(function(e,t){return e[t]=(0,o.default)(i[t]),e},{});t.default=function(e,t){return"string"==typeof t?s[t][e]:"object"===(void 0===t?"undefined":(0,r.default)(t))?(0,o.default)(t)[e]:s.chromeLight[e]}},function(e,t,n){"use strict";var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;t.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var n=t.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r])}}return e},t.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var i={arraySet:function(e,t,n,r,i){if(t.subarray&&e.subarray)e.set(t.subarray(n,n+r),i);else for(var o=0;o<r;o++)e[i+o]=t[n+o]},flattenChunks:function(e){var t,n,r,i,o,a;for(t=r=0,n=e.length;t<n;t++)r+=e[t].length;for(a=new Uint8Array(r),t=i=0,n=e.length;t<n;t++)o=e[t],a.set(o,i),i+=o.length;return a}},o={arraySet:function(e,t,n,r,i){for(var o=0;o<r;o++)e[i+o]=t[n+o]},flattenChunks:function(e){return[].concat.apply([],e)}};t.setTyped=function(e){e?(t.Buf8=Uint8Array,t.Buf16=Uint16Array,t.Buf32=Int32Array,t.assign(t,i)):(t.Buf8=Array,t.Buf16=Array,t.Buf32=Array,t.assign(t,o))},t.setTyped(r)},function(e,t,n){var v=n(183),g=n(167),m=n(752),y=n(497),b=n(499),w="prototype",S=function(e,t,n){var r,i,o,a=e&S.F,s=e&S.G,u=e&S.S,c=e&S.P,l=e&S.B,p=e&S.W,f=s?g:g[t]||(g[t]={}),d=f[w],h=s?v:u?v[t]:(v[t]||{})[w];for(r in s&&(n=t),n)(i=!a&&h&&void 0!==h[r])&&b(f,r)||(o=i?h[r]:n[r],f[r]=s&&"function"!=typeof h[r]?n[r]:l&&i?m(o,v):p&&h[r]==o?function(r){var e=function(e,t,n){if(this instanceof r){switch(arguments.length){case 0:return new r;case 1:return new r(e);case 2:return new r(e,t)}return new r(e,t,n)}return r.apply(this,arguments)};return e[w]=r[w],e}(o):c&&"function"==typeof o?m(Function.call,o):o,c&&((f.virtual||(f.virtual={}))[r]=o,e&S.R&&d&&!d[r]&&y(d,r,o)))};S.F=1,S.G=2,S.S=4,S.P=8,S.B=16,S.W=32,S.U=64,S.R=128,e.exports=S},function(e,t,n){var r=n(323),i=n(1369),o=n(1119),a=Object.defineProperty;t.f=n(360)?Object.defineProperty:function(e,t,n){if(r(e),t=o(t,!0),r(n),i)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){e.exports=!n(583)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(p){function e(e,t,n,r,i,o){var a=r||"<<anonymous>>",s=o||n;if(null==t[n])return e?new Error("Required "+i+" `"+s+"` was not specified in `"+a+"`."):null;for(var u=arguments.length,c=Array(6<u?u-6:0),l=6;l<u;l++)c[l-6]=arguments[l];return p.apply(void 0,[t,n,a,i,s].concat(c))}var t=e.bind(null,!1);return t.isRequired=e.bind(null,!0),t}},function(e,t,n){n(364),e.exports=n(25).Object.assign},function(e,t,n){var r=n(31);r(r.S+r.F,"Object",{assign:n(368)})},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){e.exports=!n(63)&&!n(85)(function(){return 7!=Object.defineProperty(n(207)("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){var i=n(135);e.exports=function(e,t){if(!i(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!i(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!i(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!i(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")}},function(e,t,n){"use strict";var f=n(63),d=n(99),h=n(372),v=n(210),g=n(105),m=n(208),i=Object.assign;e.exports=!i||n(85)(function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach(function(e){t[e]=e}),7!=i({},e)[n]||Object.keys(i({},t)).join("")!=r})?function(e,t){for(var n=g(e),r=arguments.length,i=1,o=h.f,a=v.f;i<r;)for(var s,u=m(arguments[i++]),c=o?d(u).concat(o(u)):d(u),l=c.length,p=0;p<l;)s=c[p++],f&&!a.call(u,s)||(n[s]=u[s]);return n}:i},function(e,t,n){var a=n(103),s=n(136),u=n(370)(!1),c=n(138)("IE_PROTO");e.exports=function(e,t){var n,r=s(e),i=0,o=[];for(n in r)n!=c&&a(r,n)&&o.push(n);for(;t.length>i;)a(r,n=t[i++])&&(~u(o,n)||o.push(n));return o}},function(e,t,n){var u=n(136),c=n(213),l=n(371);e.exports=function(s){return function(e,t,n){var r,i=u(e),o=c(i.length),a=l(n,o);if(s&&t!=t){for(;a<o;)if((r=i[a++])!=r)return!0}else for(;a<o;a++)if((s||a in i)&&i[a]===t)return s||a||0;return!s&&-1}}},function(e,t,n){var r=n(137),i=Math.max,o=Math.min;e.exports=function(e,t){return(e=r(e))<0?i(e+t,0):o(e,t)}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){n(374),e.exports=n(25).Object.keys},function(e,t,n){var r=n(105),i=n(99);n(375)("keys",function(){return function(e){return i(r(e))}})},function(e,t,n){var i=n(31),o=n(25),a=n(85);e.exports=function(e,t){var n=(o.Object||{})[e]||Object[e],r={};r[e]=t(n),i(i.S+i.F*a(function(){n(1)}),"Object",r)}},function(e,t,n){n(377);var r=n(25).Object;e.exports=function(e,t){return r.create(e,t)}},function(e,t,n){var r=n(31);r(r.S,"Object",{create:n(217)})},function(e,t,n){var a=n(102),s=n(100),u=n(99);e.exports=n(63)?Object.defineProperties:function(e,t){s(e);for(var n,r=u(t),i=r.length,o=0;o<i;)a.f(e,n=r[o++],t[n]);return e}},function(e,t,n){var r=n(65).document;e.exports=r&&r.documentElement},function(e,t,n){"use strict";e.exports=n(381)},function(e,t,n){"use strict";
/** @license React v16.9.0
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&Symbol.for,i=r?Symbol.for("react.element"):60103,o=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,s=r?Symbol.for("react.strict_mode"):60108,u=r?Symbol.for("react.profiler"):60114,c=r?Symbol.for("react.provider"):60109,l=r?Symbol.for("react.context"):60110,p=r?Symbol.for("react.async_mode"):60111,f=r?Symbol.for("react.concurrent_mode"):60111,d=r?Symbol.for("react.forward_ref"):60112,h=r?Symbol.for("react.suspense"):60113,v=r?Symbol.for("react.suspense_list"):60120,g=r?Symbol.for("react.memo"):60115,m=r?Symbol.for("react.lazy"):60116,y=r?Symbol.for("react.fundamental"):60117,b=r?Symbol.for("react.responder"):60118;function w(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case p:case f:case a:case u:case s:case h:return e;default:switch(e=e&&e.$$typeof){case l:case d:case c:return e;default:return t}}case m:case g:case o:return t}}}function S(e){return w(e)===f}t.typeOf=w,t.AsyncMode=p,t.ConcurrentMode=f,t.ContextConsumer=l,t.ContextProvider=c,t.Element=i,t.ForwardRef=d,t.Fragment=a,t.Lazy=m,t.Memo=g,t.Portal=o,t.Profiler=u,t.StrictMode=s,t.Suspense=h,t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===a||e===f||e===u||e===s||e===h||e===v||"object"==typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===g||e.$$typeof===c||e.$$typeof===l||e.$$typeof===d||e.$$typeof===y||e.$$typeof===b)},t.isAsyncMode=function(e){return S(e)||w(e)===p},t.isConcurrentMode=S,t.isContextConsumer=function(e){return w(e)===l},t.isContextProvider=function(e){return w(e)===c},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===i},t.isForwardRef=function(e){return w(e)===d},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===m},t.isMemo=function(e){return w(e)===g},t.isPortal=function(e){return w(e)===o},t.isProfiler=function(e){return w(e)===u},t.isStrictMode=function(e){return w(e)===s},t.isSuspense=function(e){return w(e)===h}},function(e,t,n){n(383),e.exports=n(25).Object.entries},function(e,t,n){var r=n(31),i=n(218)(!0);r(r.S,"Object",{entries:function(e){return i(e)}})},,,,,,,,,,,,,,function(e,t,n){"use strict";t.__esModule=!0,t.uncontrolledPropTypes=function(e,t){var n={};return Object.keys(e).forEach(function(e){n[o(e)]=i}),n},t.isProp=function(e,t){return void 0!==e[t]},t.defaultKey=o,t.isReactComponent=function(e){return!!(e&&e.prototype&&e.prototype.isReactComponent)};var r;(r=n(41))&&r.__esModule;var i=function(){};function o(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}},function(e,t,n){n(399),e.exports=n(25).Object.values},function(e,t,n){var r=n(31),i=n(218)(!1);r(r.S,"Object",{values:function(e){return i(e)}})},function(e,t,n){"use strict";var r=n(14);t.__esModule=!0,t.default=void 0;var a=r(n(147)),i=r(n(58));function o(e,t,n){var r,i={target:e,currentTarget:e};function o(e){e.target===e.currentTarget&&(clearTimeout(r),e.target.removeEventListener(a.default.end,o),t.call(this))}a.default.end?null==n&&(n=u(e)||0):n=0,a.default.end?(e.addEventListener(a.default.end,o,!1),r=setTimeout(function(){return o(i)},1.5*(n||100))):setTimeout(o.bind(null,i),0)}o._parseDuration=u;var s=o;function u(e){var t=(0,i.default)(e,a.default.duration),n=-1===t.indexOf("ms")?1e3:1;return parseFloat(t)*n}t.default=s,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){return e.replace(r,function(e,t){return t.toUpperCase()})};var r=/-(.)/g;e.exports=t.default},function(e,t,n){"use strict";var r=n(14);t.__esModule=!0,t.default=function(e){return(0,i.default)(e).replace(o,"-ms-")};var i=r(n(403)),o=/^ms-/;e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){return e.replace(r,"-$1").toLowerCase()};var r=/([A-Z])/g;e.exports=t.default},function(e,t,n){"use strict";var r=n(14);t.__esModule=!0,t.default=function(a){if(!a)throw new TypeError("No Element passed to `getComputedStyle()`");var e=a.ownerDocument;return"defaultView"in e?e.defaultView.opener?a.ownerDocument.defaultView.getComputedStyle(a,null):window.getComputedStyle(a,null):{getPropertyValue:function(e){var t=a.style;"float"==(e=(0,s.default)(e))&&(e="styleFloat");var n=a.currentStyle[e]||null;if(null==n&&t&&t[e]&&(n=t[e]),c.test(n)&&!u.test(e)){var r=t.left,i=a.runtimeStyle,o=i&&i.left;o&&(i.left=a.currentStyle.left),t.left="fontSize"===e?"1em":n,n=t.pixelLeft+"px",t.left=r,o&&(i.left=o)}return n}}};var s=r(n(226)),u=/^(top|right|bottom|left)$/,c=/^([+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|))(?!px)[a-z%]+$/i;e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){return"removeProperty"in e.style?e.style.removeProperty(t):e.style.removeAttribute(t)},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){return!(!e||!r.test(e))};var r=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;e.exports=t.default},function(e,t,n){n(408),e.exports=n(25).parseInt},function(e,t,n){var r=n(31),i=n(409);r(r.G+r.F*(parseInt!=i),{parseInt:i})},function(e,t,n){var r=n(65).parseInt,i=n(410).trim,o=n(227),a=/^[-+]?0[xX]/;e.exports=8!==r(o+"08")||22!==r(o+"0x16")?function(e,t){var n=i(String(e),3);return r(n,t>>>0||(a.test(n)?16:10))}:r},function(e,t,n){var a=n(31),r=n(104),s=n(85),u=n(227),i="["+u+"]",o=RegExp("^"+i+i+"*"),c=RegExp(i+i+"*$"),l=function(e,t,n){var r={},i=s(function(){return!!u[e]()||"â€‹Â…"!="â€‹Â…"[e]()}),o=r[e]=i?t(p):u[e];n&&(r[n]=o),a(a.P+a.F*i,"String",r)},p=l.trim=function(e,t){return e=String(r(e)),1&t&&(e=e.replace(o,"")),2&t&&(e=e.replace(c,"")),e};e.exports=l},function(e,t,n){"use strict";t.__esModule=!0,t.classNamesShape=t.timeoutsShape=void 0;var r;(r=n(0))&&r.__esModule;t.timeoutsShape=null;t.classNamesShape=null},function(e,t,n){n(413),n(419),e.exports=n(25).Array.from},function(e,t,n){"use strict";var r=n(414)(!0);n(415)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})})},function(e,t,n){var u=n(137),c=n(104);e.exports=function(s){return function(e,t){var n,r,i=String(c(e)),o=u(t),a=i.length;return o<0||a<=o?s?"":void 0:(n=i.charCodeAt(o))<55296||56319<n||o+1===a||(r=i.charCodeAt(o+1))<56320||57343<r?s?i.charAt(o):n:s?i.slice(o,o+2):r-56320+(n-55296<<10)+65536}}},function(e,t,n){"use strict";var b=n(215),w=n(31),S=n(416),_=n(108),C=n(148),E=n(417),x=n(228),O=n(418),k=n(56)("iterator"),P=!([].keys&&"next"in[].keys()),T="values",R=function(){return this};e.exports=function(e,t,n,r,i,o,a){E(n,t,r);var s,u,c,l=function(e){if(!P&&e in h)return h[e];switch(e){case"keys":case T:return function(){return new n(this,e)}}return function(){return new n(this,e)}},p=t+" Iterator",f=i==T,d=!1,h=e.prototype,v=h[k]||h["@@iterator"]||i&&h[i],g=v||l(i),m=i?f?l("entries"):g:void 0,y="Array"==t&&h.entries||v;if(y&&(c=O(y.call(new e)))!==Object.prototype&&c.next&&(x(c,p,!0),b||"function"==typeof c[k]||_(c,k,R)),f&&v&&v.name!==T&&(d=!0,g=function(){return v.call(this)}),b&&!a||!P&&!d&&h[k]||_(h,k,g),C[t]=g,C[p]=R,i)if(s={values:f?g:l(T),keys:o?g:l("keys"),entries:m},a)for(u in s)u in h||S(h,u,s[u]);else w(w.P+w.F*(P||d),t,s);return s}},function(e,t,n){e.exports=n(108)},function(e,t,n){"use strict";var r=n(217),i=n(143),o=n(228),a={};n(108)(a,n(56)("iterator"),function(){return this}),e.exports=function(e,t,n){e.prototype=r(a,{next:i(1,n)}),o(e,t+" Iterator")}},function(e,t,n){var r=n(103),i=n(105),o=n(138)("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=i(e),r(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},function(e,t,n){"use strict";var f=n(212),r=n(31),d=n(105),h=n(420),v=n(421),g=n(213),m=n(422),y=n(423);r(r.S+r.F*!n(425)(function(e){Array.from(e)}),"Array",{from:function(e){var t,n,r,i,o=d(e),a="function"==typeof this?this:Array,s=arguments.length,u=1<s?arguments[1]:void 0,c=void 0!==u,l=0,p=y(o);if(c&&(u=f(u,2<s?arguments[2]:void 0,2)),null==p||a==Array&&v(p))for(n=new a(t=g(o.length));l<t;l++)m(n,l,c?u(o[l],l):o[l]);else for(i=p.call(o),n=new a;!(r=i.next()).done;l++)m(n,l,c?h(i,u,[r.value,l],!0):r.value);return n.length=l,n}})},function(e,t,n){var o=n(100);e.exports=function(t,e,n,r){try{return r?e(o(n)[0],n[1]):e(n)}catch(e){var i=t.return;throw void 0!==i&&o(i.call(t)),e}}},function(e,t,n){var r=n(148),i=n(56)("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||o[i]===e)}},function(e,t,n){"use strict";var r=n(102),i=n(143);e.exports=function(e,t,n){t in e?r.f(e,t,i(0,n)):e[t]=n}},function(e,t,n){var r=n(424),i=n(56)("iterator"),o=n(148);e.exports=n(25).getIteratorMethod=function(e){if(null!=e)return e[i]||e["@@iterator"]||o[r(e)]}},function(e,t,n){var i=n(144),o=n(56)("toStringTag"),a="Arguments"==i(function(){return arguments}());e.exports=function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),o))?n:a?i(t):"Object"==(r=i(t))&&"function"==typeof t.callee?"Arguments":r}},function(e,t,n){var o=n(56)("iterator"),a=!1;try{var r=[7][o]();r.return=function(){a=!0},Array.from(r,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!a)return!1;var n=!1;try{var r=[7],i=r[o]();i.next=function(){return{done:n=!0}},r[o]=function(){return i},e(r)}catch(e){}return n}},function(e,t,n){"use strict";var r=n(14);t.__esModule=!0,t.default=function(i,o){return function(e){var t=e.currentTarget,n=e.target,r=(0,s.default)(t,i);r.some(function(e){return(0,a.default)(e,n)})&&o.call(this,e)}};var a=r(n(47)),s=r(n(427));e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){var n,r="#"===t[0],i="."===t[0],o=r||i?t.slice(1):t;if(a.test(o))return r?(e=e.getElementById?e:document,(n=e.getElementById(o))?[n]:[]):e.getElementsByClassName&&i?s(e.getElementsByClassName(o)):s(e.getElementsByTagName(t));return s(e.querySelectorAll(t))};var a=/^[\w-]*$/,s=Function.prototype.bind.call(Function.prototype.call,[].slice);e.exports=t.default},function(e,t,n){"use strict";var r=n(14);t.__esModule=!0,t.default=void 0;var i=r(n(40)),o=r(n(149)),a=r(n(150)),s=function(){};i.default&&(s=function(e,t,n,r){return(0,o.default)(e,t,n,r),function(){(0,a.default)(e,t,n,r)}});var u=s;t.default=u,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var r,i=n(22),d=(r=i)&&r.__esModule?r:{default:r};var h={};function o(p,f){return function(e,t,n,r,i){var o=n||"<<anonymous>>",a=i||t;if(null!=e[t]){var s=n+"."+t;(0,d.default)(h[s],"The "+r+" `"+a+"` of `"+o+"` is deprecated. "+f+"."),h[s]=!0}for(var u=arguments.length,c=Array(5<u?u-5:0),l=5;l<u;l++)c[l-5]=arguments[l];return p.apply(void 0,[e,t,n,r,i].concat(c))}}o._resetWarned=function(){h={}},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var s=r(n(431)),u=r(n(58)),c=r(n(106)),l=r(n(153)),p=n(432);function r(e){return e&&e.__esModule?e:{default:e}}t.default=function e(){var a=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=t.hideSiblingNodes,r=void 0===n||n,i=t.handleContainerOverflow,o=void 0===i||i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.add=function(e,t,n){var r=a.modals.indexOf(e),i=a.containers.indexOf(t);if(-1!==r)return r;if(r=a.modals.length,a.modals.push(e),a.hideSiblingNodes&&(0,p.hideSiblings)(t,e.mountNode),-1!==i)return a.data[i].modals.push(e),r;var o={modals:[e],classes:n?n.split(/\s+/):[],overflowing:(0,l.default)(t)};return a.handleContainerOverflow&&function(e,t){var n={overflow:"hidden"};e.style={overflow:t.style.overflow,paddingRight:t.style.paddingRight},e.overflowing&&(n.paddingRight=parseInt((0,u.default)(t,"paddingRight")||0,10)+(0,c.default)()+"px"),(0,u.default)(t,n)}(o,t),o.classes.forEach(s.default.addClass.bind(null,t)),a.containers.push(t),a.data.push(o),r},this.remove=function(e){var t=a.modals.indexOf(e);if(-1!==t){var n=function(e,t){return function(e,n){var r=-1;return e.some(function(e,t){if(n(e,t))return r=t,!0}),r}(e,function(e){return-1!==e.modals.indexOf(t)})}(a.data,e),r=a.data[n],i=a.containers[n];r.modals.splice(r.modals.indexOf(e),1),a.modals.splice(t,1),0===r.modals.length?(r.classes.forEach(s.default.removeClass.bind(null,i)),a.handleContainerOverflow&&function(e,t){var n=e.style;Object.keys(n).forEach(function(e){return t.style[e]=n[e]})}(r,i),a.hideSiblingNodes&&(0,p.showSiblings)(i,e.mountNode),a.containers.splice(n,1),a.data.splice(n,1)):a.hideSiblingNodes&&(0,p.ariaHidden)(!1,r.modals[r.modals.length-1].mountNode)}},this.isTopModal=function(e){return!!a.modals.length&&a.modals[a.modals.length-1]===e},this.hideSiblingNodes=r,this.handleContainerOverflow=o,this.modals=[],this.containers=[],this.data=[]},e.exports=t.default},function(e,t,n){"use strict";var r=n(14);t.__esModule=!0,t.default=void 0;var i=r(n(344));t.addClass=i.default;var o=r(n(345));t.removeClass=o.default;var a=r(n(230));t.hasClass=a.default;var s={addClass:i.default,removeClass:o.default,hasClass:a.default};t.default=s},function(e,t,n){"use strict";t.__esModule=!0,t.ariaHidden=o,t.hideSiblings=function(e,t){i(e,t,function(e){return o(!0,e)})},t.showSiblings=function(e,t){i(e,t,function(e){return o(!1,e)})};var r=["template","script","style"],i=function(e,t,n){t=[].concat(t),[].forEach.call(e.children,function(e){-1===t.indexOf(e)&&function(e){var t=e.nodeType,n=e.tagName;return 1===t&&-1===r.indexOf(n.toLowerCase())}(e)&&n(e)})};function o(e,t){t&&(e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden"))}},function(e,t,n){"use strict";t.__esModule=!0;var r=o(n(0)),i=o(n(111)),s=o(n(1)),u=o(n(7)),c=o(n(113)),l=o(n(72));function o(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var a=function(o){function a(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);for(var t=arguments.length,r=Array(t),i=0;i<t;i++)r[i]=arguments[i];return(e=n=p(this,o.call.apply(o,[this].concat(r))))._mountOverlayTarget=function(){n._overlayTarget||(n._overlayTarget=document.createElement("div"),n._portalContainerNode=(0,c.default)(n.props.container,(0,l.default)(n).body),n._portalContainerNode.appendChild(n._overlayTarget))},n._unmountOverlayTarget=function(){n._overlayTarget&&(n._portalContainerNode.removeChild(n._overlayTarget),n._overlayTarget=null),n._portalContainerNode=null},n._renderOverlay=function(){var e=n.props.children?s.default.Children.only(n.props.children):null;if(null!==e){n._mountOverlayTarget();var t=!n._overlayInstance;n._overlayInstance=u.default.unstable_renderSubtreeIntoContainer(n,e,n._overlayTarget,function(){t&&n.props.onRendered&&n.props.onRendered()})}else n._unrenderOverlay(),n._unmountOverlayTarget()},n._unrenderOverlay=function(){n._overlayTarget&&(u.default.unmountComponentAtNode(n._overlayTarget),n._overlayInstance=null)},n.getMountNode=function(){return n._overlayTarget},p(n,e)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(a,o),a.prototype.componentDidMount=function(){this._isMounted=!0,this._renderOverlay()},a.prototype.componentDidUpdate=function(){this._renderOverlay()},a.prototype.componentWillReceiveProps=function(e){this._overlayTarget&&e.container!==this.props.container&&(this._portalContainerNode.removeChild(this._overlayTarget),this._portalContainerNode=(0,c.default)(e.container,(0,l.default)(this).body),this._portalContainerNode.appendChild(this._overlayTarget))},a.prototype.componentWillUnmount=function(){this._isMounted=!1,this._unrenderOverlay(),this._unmountOverlayTarget()},a.prototype.render=function(){return null},a}(s.default.Component);a.displayName="Portal",a.propTypes={container:r.default.oneOfType([i.default,r.default.func]),onRendered:r.default.func},t.default=a,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var r=o(n(0)),i=o(n(1));function o(e){return e&&e.__esModule?e:{default:e}}var a={children:r.default.node},s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){return this.props.children},t}(i.default.Component);s.propTypes=a,t.default=s,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){var t=!document.addEventListener,n=void 0;n=t?(document.attachEvent("onfocusin",e),function(){return document.detachEvent("onfocusin",e)}):(document.addEventListener("focus",e,!0),function(){return document.removeEventListener("focus",e,!0)});return{remove:n}},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=d(n(2)),r=d(n(0)),i=d(n(111)),p=n(1),f=d(p),o=d(n(7)),a=d(n(437)),s=d(n(113)),u=d(n(72));function d(e){return e&&e.__esModule?e:{default:e}}function h(e,t){var n={};for(var r in e)0<=t.indexOf(r)||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}var v=function(r){function i(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,r.call(this,e,t));return n.getTarget=function(){var e=n.props.target,t="function"==typeof e?e():e;return t&&o.default.findDOMNode(t)||null},n.maybeUpdatePosition=function(e){var t=n.getTarget();(n.props.shouldUpdatePosition||t!==n._lastTarget||e)&&n.updatePosition(t)},n.state={positionLeft:0,positionTop:0,arrowOffsetLeft:null,arrowOffsetTop:null},n._needsFlush=!1,n._lastTarget=null,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(i,r),i.prototype.componentDidMount=function(){this.updatePosition(this.getTarget())},i.prototype.componentWillReceiveProps=function(){this._needsFlush=!0},i.prototype.componentDidUpdate=function(e){this._needsFlush&&(this._needsFlush=!1,this.maybeUpdatePosition(this.props.placement!==e.placement))},i.prototype.render=function(){var e=this.props,t=e.children,n=e.className,r=h(e,["children","className"]),i=this.state,o=i.positionLeft,a=i.positionTop,s=h(i,["positionLeft","positionTop"]);delete r.target,delete r.container,delete r.containerPadding,delete r.shouldUpdatePosition;var u=f.default.Children.only(t);return(0,p.cloneElement)(u,c({},r,s,{positionLeft:o,positionTop:a,className:(0,l.default)(n,u.props.className),style:c({},u.props.style,{left:o,top:a})}))},i.prototype.updatePosition=function(e){if(this._lastTarget=e){var t=o.default.findDOMNode(this),n=(0,s.default)(this.props.container,(0,u.default)(this).body);this.setState((0,a.default)(this.props.placement,t,e,n,this.props.containerPadding))}else this.setState({positionLeft:0,positionTop:0,arrowOffsetLeft:null,arrowOffsetTop:null})},i}(f.default.Component);v.propTypes={target:r.default.oneOfType([i.default,r.default.func]),container:r.default.oneOfType([i.default,r.default.func]),containerPadding:r.default.number,placement:r.default.oneOf(["top","right","bottom","left"]),shouldUpdatePosition:r.default.bool},v.displayName="Position",v.defaultProps={containerPadding:0,placement:"right",shouldUpdatePosition:!1},t.default=v,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t,n,r,i){var o="BODY"===r.tagName?(0,v.default)(n):(0,g.default)(n,r),a=(0,v.default)(t),s=a.height,u=a.width,c=void 0,l=void 0,p=void 0,f=void 0;if("left"===e||"right"===e){l=o.top+(o.height-s)/2,c="left"===e?o.left-u:o.left+o.width;var d=function(e,t,n,r){var i=m(n),o=i.scroll,a=i.height,s=e-r-o,u=e+r-o+t;return s<0?-s:a<u?a-u:0}(l,s,r,i);l+=d,f=50*(1-2*d/s)+"%",p=void 0}else{if("top"!==e&&"bottom"!==e)throw new Error('calcOverlayPosition(): No such placement of "'+e+'" found.');c=o.left+(o.width-u)/2,l="top"===e?o.top-s:o.top+o.height;var h=function(e,t,n,r){var i=m(n).width,o=e-r,a=e+r+t;{if(o<0)return-o;if(i<a)return i-a}return 0}(c,u,r,i);c+=h,p=50*(1-2*h/u)+"%",f=void 0}return{positionLeft:c,positionTop:l,arrowOffsetLeft:p,arrowOffsetTop:f}};var v=r(n(232)),g=r(n(438)),o=r(n(233)),a=r(n(72));function r(e){return e&&e.__esModule?e:{default:e}}function m(e){var t=void 0,n=void 0,r=void 0;if("BODY"===e.tagName)t=window.innerWidth,n=window.innerHeight,r=(0,o.default)((0,a.default)(e).documentElement)||(0,o.default)(e);else{var i=(0,v.default)(e);t=i.width,n=i.height,r=(0,o.default)(e)}return{width:t,height:n,scroll:r}}e.exports=t.default},function(e,t,n){"use strict";var r=n(14);t.__esModule=!0,t.default=function(e,t){var n,r={top:0,left:0};"fixed"===(0,c.default)(e,"position")?n=e.getBoundingClientRect():(t=t||(0,a.default)(e),n=(0,o.default)(e),"html"!==function(e){return e.nodeName&&e.nodeName.toLowerCase()}(t)&&(r=(0,o.default)(t)),r.top+=parseInt((0,c.default)(t,"borderTopWidth"),10)-(0,s.default)(t)||0,r.left+=parseInt((0,c.default)(t,"borderLeftWidth"),10)-(0,u.default)(t)||0);return(0,i.default)({},n,{top:n.top-r.top-(parseInt((0,c.default)(e,"marginTop"),10)||0),left:n.left-r.left-(parseInt((0,c.default)(e,"marginLeft"),10)||0)})};var i=r(n(439)),o=r(n(232)),a=r(n(440)),s=r(n(233)),u=r(n(441)),c=r(n(58));e.exports=t.default},function(e,t){function n(){return e.exports=n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},n.apply(this,arguments)}e.exports=n},function(e,t,n){"use strict";var r=n(14);t.__esModule=!0,t.default=function(e){var t=(0,i.default)(e),n=e&&e.offsetParent;for(;n&&"html"!==(r=e,r.nodeName&&r.nodeName.toLowerCase())&&"static"===(0,o.default)(n,"position");)n=n.offsetParent;var r;return n||t.documentElement};var i=r(n(57)),o=r(n(58));e.exports=t.default},function(e,t,n){"use strict";var r=n(14);t.__esModule=!0,t.default=function(e,t){var n=(0,i.default)(e);if(void 0===t)return n?"pageXOffset"in n?n.pageXOffset:n.document.documentElement.scrollLeft:e.scrollLeft;n?n.scrollTo(t,"pageYOffset"in n?n.pageYOffset:n.document.documentElement.scrollTop):e.scrollLeft=t};var i=r(n(112));e.exports=t.default},function(e,t,n){n(443),e.exports=n(25).Array.isArray},function(e,t,n){var r=n(31);r(r.S,"Array",{isArray:n(444)})},function(e,t,n){var r=n(144);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,n){var r=n(1194),i=n(816);e.exports=function(e){return r(i(e))}},,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WarningType=t.DataView=void 0;var r=n(12),i=(0,r.makeEnum)("OVERVIEW","PROPERTIES","TABLE");t.DataView=i;var o=(0,r.makeEnum)("CANNOT_CONVERT_COLUMN_TYPE","DUPLICATE_TABLE_NAME","IMPORT_FAILED","KEY_INVALID","KEY_RENAMED","MAX_TABLES_EXCEEDED","TABLE_NAME_INVALID","TABLE_RENAMED");t.WarningType=o},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){var r=n(307),i=n(598);e.exports=n(338)?function(e,t,n){return r.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,r,i){"use strict";(function(e){if(r.base64=!0,r.array=!0,r.string=!0,r.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,r.nodebuffer=void 0!==e,r.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)r.blob=!1;else{var t=new ArrayBuffer(0);try{r.blob=0===new Blob([t],{type:"application/zip"}).size}catch(e){try{var n=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder);n.append(t),r.blob=0===n.getBlob("application/zip").size}catch(e){r.blob=!1}}}r.nodestream=!!i(1348).prototype}).call(this,i(83).Buffer)},function(e,t,n){var r=n(359),i=n(754);e.exports=n(360)?function(e,t,n){return r.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){var r=n(2288),i=n(2293);e.exports=function(e,t){var n=i(e,t);return r(n)?n:void 0}},function(e,t,n){var r=n(656);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t,n){"use strict";n.r(t),n.d(t,"versions",function(){return a}),n.d(t,"defaultSDKVersion",function(){return s}),n.d(t,"sdkSupportsFeature",function(){return u});var r=n(800),i=n.n(r),o={MULTIPLE_FILES:"21.0.0",PROJECT_DEPENDENCIES:"25.0.0",TYPESCRIPT:"31.0.0",UNIMODULE_IMPORTS:"33.0.0"},a={"33.0.0":[],"34.0.0":[],"35.0.0":[]},s="34.0.0",u=function(e,t){var n=!!a[e]&&a[e].includes(t);return i.a.gte(e,o[t])||n}},function(e,t,n){"use strict";n.r(t),n.d(t,"haste",function(){return s}),n.d(t,"dependencies",function(){return u});var r,i,o=n(21),a=n.n(o),s=["ARTSerializablePath","ActionSheetIOS","ActivityIndicator","Alert","AlertIOS","Animated","AnimatedAddition","AnimatedDiffClamp","AnimatedDivision","AnimatedEvent","AnimatedImplementation","AnimatedInterpolation","AnimatedModulo","AnimatedMultiplication","AnimatedNode","AnimatedProps","AnimatedStyle","AnimatedTracking","AnimatedTransform","AnimatedValue","AnimatedValueXY","AnimatedWeb","AnimatedWithChildren","Animation","AppContainer","AppRegistry","AppState","Array.es6","Array.prototype.es6","AssetRegistry","AssetSourceResolver","AsyncStorage","BackAndroid","BatchedBridge","Batchinator","Blob","BlobTypes","BorderBox","BoundingDimensions","BugReporting","Button","CameraRoll","Clipboard","ColorPropType","DebugEnvironment","DecayAnimation","DeviceInfo","Dimensions","DocumentSelectionState","Easing","EdgeInsetsPropType","ElementBox","ElementProperties","EmitterSubscription","ErrorUtils","EventEmitter","EventEmitterWithHolding","EventHolder","EventSubscription","EventSubscriptionVendor","EventValidator","ExceptionsManager","FillRateHelper","FlatList","FormData","FrameRateLogger","Geolocation","HMRClient","HeapCapture","I18nManager","ImageBackground","ImageEditor","ImagePickerIOS","ImageResizeMode","ImageSource","ImageSourcePropType","ImageStore","ImageStylePropTypes","Incremental","IncrementalGroup","IncrementalPresenter","InitializeCore","InspectorAgent","InspectorOverlay","InspectorPanel","InteractionManager","InteractionMixin","JSEventLoopWatchdog","JSTimers","Keyboard","KeyboardAvoidingView","LayoutAnimation","LayoutPropTypes","LazyRenderer","Linking","ListView","ListViewDataSource","Map","MatrixMath","MessageQueue","MetroListView","MissingNativeEventEmitterShim","Modal","NativeAnimatedHelper","NativeEventEmitter","NativeMethodsMixin","NativeModules","NetInfo","NetworkAgent","NetworkOverlay","Number.es6","Object.es6","Object.es7","PanResponder","PerformanceLogger","PerformanceOverlay","PermissionsAndroid","Picker","PixelRatio","PointPropType","PooledClass","Position","Promise","QuickPerformanceLogger","RCTDeviceEventEmitter","RCTEventEmitter","RCTLog","RCTNativeAppEventEmitter","React","ReactDebugTool","ReactGlobalSharedState","ReactNative","ReactNativeART","ReactNativeBridgeEventPlugin","ReactNativeComponentTree","ReactNativeFeatureFlags","ReactNativePropRegistry","ReactNativeStyleAttributes","ReactNativeTypes","ReactNativeVersion","ReactNativeVersionCheck","ReactNativeViewAttributes","ReactPerf","ReactTypes","RefreshControl","RelativeImageStub","SamplingProfiler","SceneTracker","ScrollResponder","ScrollView","ScrollViewStickyHeader","SectionList","Set","ShadowPropTypesIOS","Share","Slider","SpringAnimation","SpringConfig","StaticContainer.react","StaticRenderer","StatusBar","String.prototype.es6","StyleSheet","StyleSheetPropType","StyleSheetTypes","StyleSheetValidation","Subscribable","SwipeableFlatList","SwipeableListView","SwipeableListViewDataSource","SwipeableQuickActionButton","SwipeableQuickActions","SwipeableRow","Switch","Systrace","TVViewPropTypes","TaskQueue","Text","TextInput","TextInputState","TextStylePropTypes","TextUpdateTest","TimingAnimation","TouchHistoryMath","Touchable","TouchableBounce","TouchableHighlight","TouchableOpacity","TouchableWithoutFeedback","TransformPropTypes","UIManager","UIManagerStatTracker","URL","UnimplementedView","Vibration","View","ViewAccessibility","ViewPropTypes","ViewStylePropTypes","ViewabilityHelper","VirtualizeUtils","VirtualizedList","VirtualizedSectionList","WebSocket","WebSocketEvent","WebSocketInterceptor","WindowedListView","XHRInterceptor","XMLHttpRequest","YellowBox","_shouldPolyfillES6Collection","babelHelpers","bezier","binaryToBase64","buildStyleInterpolator","clamp","console","convertRequestBody","createAnimatedComponent","createReactNativeComponentClass","createStrictShapeTypeChecker","deepDiffer","deepFreezeAndThrowOnMutationInDev","defineLazyObjectProperty","deprecatedPropType","dismissKeyboard","dumpReactTree","ensureComponentIsNative","ensurePositiveDelayProps","error-guard","fetch","flattenStyle","getDevServer","getObjectValues","getReactData","groupByEveryN","guid","infoLog","insetsDiffer","isEmpty","logError","mapWithSeparator","matricesDiffer","merge","mergeFast","mergeHelpers","mergeInto","mergeIntoFast","mixInEventEmitter","nativeImageSource","normalizeColor","openFileInEditor","parseErrorStack","pointsDiffer","processColor","processDecelerationRate","processTransform","promiseRejectionIsError","queryLayoutByID","react-native-implementation","react-native-interface","renderApplication","requireNativeComponent","resolveAssetSource","resolveBoxStyle","setNormalizedColorAlpha","setupDevtools","sizesDiffer","stringifySafe","symbolicateStackTrace","takeSnapshot","toIterator","truncate","utf8","verifyPropTypes","AccessibilityInfo","BackHandler","CheckBox","DatePickerAndroid","DatePickerIOS","DrawerLayoutAndroid","HMRLoadingView","Image","MaskedViewIOS","NavigatorIOS","PickerAndroid","PickerIOS","Platform","PlatformViewPropTypes","ProgressBarAndroid","ProgressViewIOS","RCTAlertManager","RCTNetworking","SafeAreaView","Sample","SegmentedControlIOS","Settings","SnapshotViewIOS","StatusBarIOS","TVEventHandler","TabBarIOS","TabBarItemIOS","TimePickerAndroid","ToastAndroid","ToolbarAndroid","TouchableNativeFeedback","VibrationIOS","ViewPagerAndroid","WebView","react-native/Libraries/ART/ReactNativeART","react-native/Libraries/Renderer/shims/ReactNativePropRegistry","react-native/package"],u={"33.0.0":(r={"@expo/vector-icons":"8.1.0",expo:"33.0.0","expo-font":"2.0.0","lottie-react-native":"2.5.0","react-native-maps":"0.22.1","react-native-screens":"1.0.0-alpha.19","react-native-gesture-handler":"1.0.12","react-native-reanimated":"1.0.0-alpha.19","react-native-svg":"8.0.10","react-native-vector-icons":"expo/vector-icons#8.1.0","react-native":"0.59.8",react:"16.8.3","expo-constants":"5.0.0","@unimodules/core":"2.0.0","expo-ads-admob":"5.0.0","expo-ads-facebook":"5.0.0","expo-app-auth":"5.0.0","expo-asset":"5.0.0","expo-av":"5.0.0","expo-background-fetch":"5.0.0","expo-barcode-scanner":"5.0.0","expo-blur":"5.0.0","expo-calendar":"5.0.0","expo-camera":"5.0.0"},a()(r,"expo-constants","5.0.0"),a()(r,"expo-contacts","5.0.0"),a()(r,"expo-document-picker","5.0.0"),a()(r,"expo-face-detector","5.0.0"),a()(r,"expo-facebook","5.0.0"),a()(r,"expo-file-system","5.0.0"),a()(r,"expo-font","5.0.0"),a()(r,"expo-gl","5.0.0"),a()(r,"expo-google-sign-in","5.0.0"),a()(r,"expo-haptics","5.0.0"),a()(r,"expo-image-manipulator","5.0.0"),a()(r,"expo-image-picker","5.0.0"),a()(r,"expo-intent-launcher","5.0.0"),a()(r,"expo-keep-awake","5.0.0"),a()(r,"expo-linear-gradient","5.0.0"),a()(r,"expo-local-authentication","5.0.0"),a()(r,"expo-localization","5.0.0"),a()(r,"expo-location","5.0.0"),a()(r,"expo-mail-composer","5.0.0"),a()(r,"expo-media-library","5.0.0"),a()(r,"expo-permissions","5.0.0"),a()(r,"expo-print","5.0.0"),a()(r,"expo-processing","~2.0.0"),a()(r,"expo-secure-store","5.0.0"),a()(r,"expo-sharing","^3.0.0"),a()(r,"expo-sms","5.0.0"),a()(r,"expo-speech","5.0.0"),a()(r,"expo-task-manager","5.0.0"),a()(r,"expo-web-browser","5.0.0"),r),"34.0.0":(i={"@expo/snack-static":"0.0.1","@expo/snack-static/react-native-logo.png":"0.0.1","@expo/vector-icons":"8.1.0",expo:"34.0.1","expo-font":"2.0.0","lottie-react-native":"2.5.0","react-native-maps":"0.22.1","react-native-screens":"1.0.0-alpha.19","react-native-gesture-handler":"1.3.0","react-native-reanimated":"1.1.0","react-native-svg":"9.5.1","react-native-vector-icons":"expo/vector-icons","react-native":"0.59.8",react:"16.8.3","expo-constants":"5.0.0","@unimodules/core":"2.0.0","expo-ads-admob":"5.0.0","expo-ads-facebook":"5.0.0","expo-app-auth":"5.0.0","expo-asset":"5.0.0","expo-av":"5.0.0","expo-background-fetch":"5.0.0","expo-barcode-scanner":"5.0.0","expo-blur":"5.0.0","expo-calendar":"5.0.0","expo-camera":"5.0.0"},a()(i,"expo-constants","5.0.0"),a()(i,"expo-contacts","5.0.0"),a()(i,"expo-document-picker","5.0.0"),a()(i,"expo-face-detector","5.0.0"),a()(i,"expo-facebook","5.0.0"),a()(i,"expo-file-system","5.0.0"),a()(i,"expo-font","5.0.0"),a()(i,"expo-gl","5.0.0"),a()(i,"expo-google-sign-in","5.0.0"),a()(i,"expo-haptics","5.0.0"),a()(i,"expo-image-manipulator","5.0.0"),a()(i,"expo-image-picker","5.0.0"),a()(i,"expo-intent-launcher","5.0.0"),a()(i,"expo-keep-awake","5.0.0"),a()(i,"expo-linear-gradient","5.0.0"),a()(i,"expo-local-authentication","5.0.0"),a()(i,"expo-localization","5.0.0"),a()(i,"expo-location","5.0.0"),a()(i,"expo-mail-composer","5.0.0"),a()(i,"expo-media-library","5.0.0"),a()(i,"expo-permissions","5.0.0"),a()(i,"expo-print","5.0.0"),a()(i,"expo-processing","~2.0.0"),a()(i,"expo-secure-store","5.0.0"),a()(i,"expo-sharing","^3.0.0"),a()(i,"expo-sms","5.0.0"),a()(i,"expo-speech","5.0.0"),a()(i,"expo-task-manager","5.0.0"),a()(i,"expo-web-browser","5.0.0"),i),"35.0.0":{"@expo/snack-static":"0.0.1","@expo/snack-static/react-native-logo.png":"0.0.1","@expo/vector-icons":"10.0.0",expo:"35.0.0","expo-asset":"7.0.0","expo-font":"7.0.0","expo-constants":"7.0.0","react-native":"0.59.8",react:"16.8.3","prop-types":"15.7.2","react-dom":"16.8.3","react-native-web":"0.11.7"},"36.0.0":{"@expo/snack-static":"0.0.1","@expo/snack-static/react-native-logo.png":"0.0.1","@expo/vector-icons":"10.0.0",expo:"36.0.0","expo-asset":"8.0.0","expo-font":"8.0.0","expo-constants":"8.0.0","react-native":"0.61.4",react:"16.9.0","prop-types":"15.7.2","react-dom":"16.9.0","react-native-web":"0.11.7"}}},function(e,t,n){e.exports={default:n(2283),__esModule:!0}},function(e,t){e.exports={}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";(function(s){!s.version||0===s.version.indexOf("v0.")||0===s.version.indexOf("v1.")&&0!==s.version.indexOf("v1.8.")?e.exports=function(e,t,n,r){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var i,o,a=arguments.length;switch(a){case 0:case 1:return s.nextTick(e);case 2:return s.nextTick(function(){e.call(null,t)});case 3:return s.nextTick(function(){e.call(null,t,n)});case 4:return s.nextTick(function(){e.call(null,t,n,r)});default:for(i=new Array(a-1),o=0;o<i.length;)i[o++]=arguments[o];return s.nextTick(function(){e.apply(null,i)})}}:e.exports=s.nextTick}).call(this,n(29))},,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:p,t=1<arguments.length?arguments[1]:void 0;if(t.type===u){var n=t.expression,r=(0,s.createUuid)();return e.push(a.default.Map({expression:n,uuid:r}))}if(t.type!==l)return t.type!==c?e:e.filter(function(e){return e.get("expression")!==t.expression});var i=t.value,o=t.expression;return e.map(function(e){return e.get("expression")===o?a.default.Map({lastValue:i,expression:o,uuid:e.get("uuid")}):e})},t.update=t.remove=t.add=void 0;var r,a=(r=n(125))&&r.__esModule?r:{default:r},s=n(12);var u="watchedExpressions/ADD_EXPRESSION",c="watchedExpressions/REMOVE_EXPRESSION",l="watchedExpressions/UPDATE_VALUE",p=a.default.List();t.add=function(e){return{type:u,expression:e}};t.remove=function(e){return{type:c,expression:e}};t.update=function(e,t){return{type:l,expression:e,value:t}}},function(e,t,n){"use strict";var r=n(1),i=n(1653);if(void 0===r)throw Error("create-react-class could not find the React object. If you are using script tags, make sure that React is being loaded before create-react-class.");var o=(new r.Component).updater;e.exports=i(r.Component,r.isValidElement,o)},,,,,,,,,,,,,,,,,,,,,function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},,,,,,function(e,t,n){"use strict";var r=n(645).Buffer,i=r.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(r.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=u,this.end=c,t=4;break;case"utf8":this.fillLast=s,t=4;break;case"base64":this.text=l,this.end=p,t=3;break;default:return this.write=f,void(this.end=d)}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(t)}function a(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:-1}function s(e){var t=this.lastTotal-this.lastNeed,n=function(e,t,n){if(128!=(192&t[0]))return e.lastNeed=0,"ï¿½".repeat(n);if(1<e.lastNeed&&1<t.length){if(128!=(192&t[1]))return e.lastNeed=1,"ï¿½".repeat(n+1);if(2<e.lastNeed&&2<t.length&&128!=(192&t[2]))return e.lastNeed=2,"ï¿½".repeat(n+2)}}(this,e,t);return void 0!==n?n:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function u(e,t){if((e.length-t)%2!=0)return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1);var n=e.toString("utf16le",t);if(n){var r=n.charCodeAt(n.length-1);if(55296<=r&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}function c(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,n)}return t}function l(e,t){var n=(e.length-t)%3;return 0==n?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,1==n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function p(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function f(e){return e.toString(this.encoding)}function d(e){return e&&e.length?this.write(e):""}(t.StringDecoder=o).prototype.write=function(e){if(0===e.length)return"";var t,n;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},o.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"ï¿½".repeat(this.lastTotal-this.lastNeed):t},o.prototype.text=function(e,t){var n=function(e,t,n){var r=t.length-1;if(r<n)return 0;var i=a(t[r]);if(0<=i)return 0<i&&(e.lastNeed=i-1),i;if(--r<n)return 0;if(0<=(i=a(t[r])))return 0<i&&(e.lastNeed=i-2),i;if(--r<n)return 0;if(0<=(i=a(t[r])))return 0<i&&(2===i?i=0:e.lastNeed=i-3),i;return 0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var r=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString("utf8",t,r)},o.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},function(e,o,t){"use strict";for(var s=t(96),u=t(496),n=t(751),r=t(219),c=new Array(256),i=0;i<256;i++)c[i]=252<=i?6:248<=i?5:240<=i?4:224<=i?3:192<=i?2:1;c[254]=c[254]=1;function a(){r.call(this,"utf-8 decode"),this.leftOver=null}function l(){r.call(this,"utf-8 encode")}o.utf8encode=function(e){return u.nodebuffer?n.newBuffer(e,"utf-8"):function(e){var t,n,r,i,o,a=e.length,s=0;for(i=0;i<a;i++)55296==(64512&(n=e.charCodeAt(i)))&&i+1<a&&56320==(64512&(r=e.charCodeAt(i+1)))&&(n=65536+(n-55296<<10)+(r-56320),i++),s+=n<128?1:n<2048?2:n<65536?3:4;for(t=u.uint8array?new Uint8Array(s):new Array(s),i=o=0;o<s;i++)55296==(64512&(n=e.charCodeAt(i)))&&i+1<a&&56320==(64512&(r=e.charCodeAt(i+1)))&&(n=65536+(n-55296<<10)+(r-56320),i++),n<128?t[o++]=n:(n<2048?t[o++]=192|n>>>6:(n<65536?t[o++]=224|n>>>12:(t[o++]=240|n>>>18,t[o++]=128|n>>>12&63),t[o++]=128|n>>>6&63),t[o++]=128|63&n);return t}(e)},o.utf8decode=function(e){return u.nodebuffer?s.transformTo("nodebuffer",e).toString("utf-8"):function(e){var t,n,r,i,o=e.length,a=new Array(2*o);for(t=n=0;t<o;)if((r=e[t++])<128)a[n++]=r;else if(4<(i=c[r]))a[n++]=65533,t+=i-1;else{for(r&=2===i?31:3===i?15:7;1<i&&t<o;)r=r<<6|63&e[t++],i--;1<i?a[n++]=65533:r<65536?a[n++]=r:(r-=65536,a[n++]=55296|r>>10&1023,a[n++]=56320|1023&r)}return a.length!==n&&(a.subarray?a=a.subarray(0,n):a.length=n),s.applyFromCharCode(a)}(e=s.transformTo(u.uint8array?"uint8array":"array",e))},s.inherits(a,r),a.prototype.processChunk=function(e){var t=s.transformTo(u.uint8array?"uint8array":"array",e.data);if(this.leftOver&&this.leftOver.length){if(u.uint8array){var n=t;(t=new Uint8Array(n.length+this.leftOver.length)).set(this.leftOver,0),t.set(n,this.leftOver.length)}else t=this.leftOver.concat(t);this.leftOver=null}var r=function(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;0<=n&&128==(192&e[n]);)n--;return n<0?t:0===n?t:n+c[e[n]]>t?n:t}(t),i=t;r!==t.length&&(u.uint8array?(i=t.subarray(0,r),this.leftOver=t.subarray(r,t.length)):(i=t.slice(0,r),this.leftOver=t.slice(r,t.length))),this.push({data:o.utf8decode(i),meta:e.meta})},a.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:o.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},o.Utf8DecodeWorker=a,s.inherits(l,r),l.prototype.processChunk=function(e){this.push({data:o.utf8encode(e.data),meta:e.meta})},o.Utf8EncodeWorker=l},function(e,t,n){"use strict";var r=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};e.exports=p;var i=n(547),o=n(262);o.inherits=n(115);var a=n(1349),s=n(1350);o.inherits(p,a);for(var u=r(s.prototype),c=0;c<u.length;c++){var l=u[c];p.prototype[l]||(p.prototype[l]=s.prototype[l])}function p(e){if(!(this instanceof p))return new p(e);a.call(this,e),s.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",f)}function f(){this.allowHalfOpen||this._writableState.ended||i(d,this)}function d(e){e.end()}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){var r=n(1371),i=n(1121);e.exports=function(e){return r(i(e))}},function(e,t,n){var r=n(259).Symbol;e.exports=r},function(e,t,n){var r=n(770),i=n(1412);e.exports=n(657)?function(e,t,n){return r.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){"use strict";t.__esModule=!0;var r,i=n(2488),o=(r=i)&&r.__esModule?r:{default:r};t.default=o.default||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}},,,,,,function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0}),t.AudioStreamFormatImpl=t.AudioStreamFormat=void 0;var i=function(){function e(){}return e.getDefaultInputFormat=function(){return o.getDefaultInputFormat()},e.getWaveFormatPCM=function(e,t,n){return new o(e,t,n)},e}(),o=function(o){function e(){var e,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:16e3,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:16,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1;(e=o.call(this)||this).setString=function(e,t,n){for(var r=0;r<n.length;r++)e.setUint8(t+r,n.charCodeAt(r))},e.formatTag=1,e.bitsPerSample=n,e.samplesPerSec=t,e.channels=r,e.avgBytesPerSec=e.samplesPerSec*e.channels*(e.bitsPerSample/8),e.blockAlign=e.channels*Math.max(e.bitsPerSample,8),e.privHeader=new ArrayBuffer(44);var i=new DataView(e.privHeader);return e.setString(i,0,"RIFF"),i.setUint32(4,0,!0),e.setString(i,8,"WAVEfmt "),i.setUint32(16,16,!0),i.setUint16(20,1,!0),i.setUint16(22,e.channels,!0),i.setUint32(24,e.samplesPerSec,!0),i.setUint32(28,e.avgBytesPerSec,!0),i.setUint16(32,e.channels*(e.bitsPerSample/8),!0),i.setUint16(34,e.bitsPerSample,!0),e.setString(i,36,"data"),i.setUint32(40,0,!0),e}return function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(e,o),e.getDefaultInputFormat=function(){return new e},e.prototype.close=function(){},function(e,t,n){t&&r(e.prototype,t),n&&r(e,n)}(e,[{key:"header",get:function(){return this.privHeader}}]),e}(t.AudioStreamFormat=i);t.AudioStreamFormatImpl=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PushAudioOutputStreamImpl=t.PushAudioOutputStream=t.PullAudioOutputStreamImpl=t.PullAudioOutputStream=t.AudioOutputStream=void 0;var u=n(44),r=n(86),i=n(709);function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function s(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}var c=function(){function e(){}return e.createPullStream=function(){return l.create()},e}(),l=function(e){function t(){return e.apply(this,arguments)||this}return s(t,e),t.create=function(){return new p},t}(t.AudioOutputStream=c),p=function(t){function e(){var e;return(e=t.call(this)||this).privId=(0,u.createNoDashGuid)(),e.privStream=new u.Stream,e.streamReader=e.privStream.getReader(),e}s(e,t);var n=e.prototype;return n.id=function(){return this.privId},n.read=function(r){var i=this,o=new Int8Array(r),a=0;if(void 0!==this.privLastChunkView){if(this.privLastChunkView.length>r.byteLength)return o.set(this.privLastChunkView.slice(0,r.byteLength)),this.privLastChunkView=this.privLastChunkView.slice(r.byteLength),u.PromiseHelper.fromResult(r.byteLength);o.set(this.privLastChunkView),a=this.privLastChunkView.length,this.privLastChunkView=void 0}var s=new u.Deferred;return function n(){a<r.byteLength&&!i.streamReader.isClosed?i.streamReader.read().onSuccessContinueWith(function(e){var t;void 0===e||e.isEnd?(i.streamReader.close(),s.resolve(a)):(e.buffer.byteLength>r.byteLength-a?(t=e.buffer.slice(0,r.byteLength-a),i.privLastChunkView=new Int8Array(e.buffer.slice(r.byteLength-a))):t=e.buffer,o.set(new Int8Array(t),a),a+=t.byteLength,n())}):s.resolve(a)}(),s.promise()},n.write=function(e){r.Contracts.throwIfNullOrUndefined(this.privStream,"must set format before writing"),this.privStream.writeStreamChunk({buffer:e,isEnd:!1,timeReceived:Date.now()})},n.close=function(){this.privStream.close()},a(e,[{key:"format",set:function(e){null==e&&(this.privFormat=i.AudioOutputFormatImpl.getDefaultOutputFormat()),this.privFormat=e},get:function(){return this.privFormat}},{key:"isClosed",get:function(){return this.privStream.isClosed}}]),e}(t.PullAudioOutputStream=l);t.PullAudioOutputStreamImpl=p;var f=function(e){function t(){return e.call(this)||this}return s(t,e),t.create=function(e){return new d(e)},t}(c),d=function(n){function e(e){var t;return(t=n.call(this)||this).privId=(0,u.createNoDashGuid)(),t.privCallback=e,t}s(e,n);var t=e.prototype;return t.write=function(e){this.privCallback.write&&this.privCallback.write(e)},t.close=function(){this.privCallback.close&&this.privCallback.close()},t.id=function(){return this.privId},a(e,[{key:"format",set:function(e){}}]),e}(t.PushAudioOutputStream=f);t.PushAudioOutputStreamImpl=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectionFactoryBase=void 0;var o=n(39),a=n(19),s=n(596),r=function(){function e(){}var t=e.prototype;return t.setCommonUrlParams=function(e,r,t){this.setUrlParameter(a.PropertyId.SpeechServiceConnection_EnableAudioLogging,s.QueryParameterNames.EnableAudioLogging,e,r,t),this.setUrlParameter(a.PropertyId.SpeechServiceResponse_RequestWordLevelTimestamps,s.QueryParameterNames.EnableWordLevelTimestamps,e,r,t),this.setUrlParameter(a.PropertyId.SpeechServiceResponse_ProfanityOption,s.QueryParameterNames.Profanify,e,r,t),this.setUrlParameter(a.PropertyId.SpeechServiceConnection_InitialSilenceTimeoutMs,s.QueryParameterNames.InitialSilenceTimeoutMs,e,r,t),this.setUrlParameter(a.PropertyId.SpeechServiceConnection_EndSilenceTimeoutMs,s.QueryParameterNames.EndSilenceTimeoutMs,e,r,t),this.setUrlParameter(a.PropertyId.SpeechServiceResponse_StablePartialResultThreshold,s.QueryParameterNames.StableIntermediateThreshold,e,r,t);var i=JSON.parse(e.parameters.getProperty(o.ServicePropertiesPropertyName,"{}"));Object.keys(i).forEach(function(e,t,n){r[e]=i[e]})},t.setUrlParameter=function(e,t,n,r,i){var o=n.parameters.getProperty(e,void 0);!o||i&&-1!==i.search(t)||(r[t]=o.toLocaleLowerCase())},e}();t.ConnectionFactoryBase=r},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0}),t.QueryParameterNames=void 0;var i=function(){function e(){}return function(e,t,n){t&&r(e.prototype,t),n&&r(e,n)}(e,null,[{key:"TestHooksParamName",get:function(){return"testhooks"}},{key:"ConnectionIdHeader",get:function(){return"X-ConnectionId"}},{key:"DeploymentIdParamName",get:function(){return"cid"}},{key:"FormatParamName",get:function(){return"format"}},{key:"LanguageParamName",get:function(){return"language"}},{key:"TranslationFromParamName",get:function(){return"from"}},{key:"TranslationToParamName",get:function(){return"to"}},{key:"Profanify",get:function(){return"profanity"}},{key:"EnableAudioLogging",get:function(){return"storeAudio"}},{key:"EnableWordLevelTimestamps",get:function(){return"wordLevelTimestamps"}},{key:"InitialSilenceTimeoutMs",get:function(){return"initialSilenceTimeoutMs"}},{key:"EndSilenceTimeoutMs",get:function(){return"endSilenceTimeoutMs"}},{key:"StableIntermediateThreshold",get:function(){return"stableIntermediateThreshold"}},{key:"StableTranslation",get:function(){return"stableTranslation"}}]),e}();t.QueryParameterNames=i},,function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},,,,function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.getDatasetInfo=function(t){return(1<arguments.length&&void 0!==arguments[1]?arguments[1]:[]).find(function(e){return e.name===t})},t.isBlank=i,t.ignoreMissingValues=function(e,t){var n=e=e||[];return(t=t||[]).forEach(function(t){n=n.filter(function(e){return!i(e[t])})}),n},t.isNumber=function(e){return!isNaN(e)&&!isNaN(parseFloat(e))},t.isBoolean=function(e){return!0===e||!1===e||"true"===e||"false"===e},t.toBoolean=function(e){if(!0===e||"true"===e)return!0;if(!1!==e&&"false"!==e)throw new Error("Unable to convert to boolean");return!1},t.castValue=function(t,n){if(""===(t=t.trim()))return;{if("undefined"===t)return;if("null"===t)return null}try{var e=JSON.parse(t);if("object"===r(e))throw new Error("Invalid entry type: object");return e}catch(e){if(e instanceof SyntaxError&&n)return t;throw e}},t.editableValue=function(e){return void 0!==e?JSON.stringify(e):"undefined"},t.displayableValue=function(e){return null===e?"null":void 0===e?"undefined":JSON.stringify(e)},t.ChartType=t.ColumnType=void 0;t.ColumnType={STRING:"string",NUMBER:"number",BOOLEAN:"boolean"};function i(e){return void 0===e||""===e||null===e}t.ChartType={NONE:0,BAR_CHART:1,HISTOGRAM:2,SCATTER_PLOT:3,CROSS_TAB:4}},,function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){var n={};for(var r in e)0<=t.indexOf(r)||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}},,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:g,t=1<arguments.length?arguments[1]:void 0;switch(t.type){case o:return e.set("tableListMap",Object.assign({},e.tableListMap,function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}({},t.tableName,t.tableType)));case a:return t.view!==i.DataView.TABLE&&(e=e.set("tableRecords",[])),e.set("view",t.view).set("tableName",t.tableName);case s:var n=Object.assign({},e.tableListMap);return delete n[t.tableName],e.set("tableListMap",n);case l:return e.set("keyValueData",Object.assign({},t.keyValueData));case u:return e.tableName===t.tableName?e.set("tableColumns",t.tableColumns):e;case c:if(e.tableName!==t.tableName)return e;if(!t.tableRecords)return e.set("tableRecords",[]);var r=Array.isArray(t.tableRecords)?t.tableRecords:Object.values(t.tableRecords);return r=r.filter(function(e){return void 0!==e}),e.set("tableRecords",r);case p:return e.set("warningMsg",t.warningMsg).set("warningTitle",t.warningTitle).set("isWarningDialogOpen",!0);case f:return e.set("warningMsg","").set("warningTitle","").set("isWarningDialogOpen",!1);case d:return e.set("isPreviewOpen",!0).set("tableName",t.tableName);case h:return e.set("isPreviewOpen",!1).set("tableName","").set("tableRecords",[]).set("tableColumns",[]);case v:return e.set("libraryManifest",t.libraryManifest);default:return e}},t.setLibraryManifest=t.hidePreview=t.showPreview=t.clearWarning=t.showWarning=t.updateTableRecords=t.updateTableColumns=t.updateKeyValueData=t.deleteTableName=t.changeView=t.addTableName=t.tableType=void 0;var r=n(125),i=n(450);var o="data/ADD_TABLE_NAME",a="data/CHANGE_VIEW",s="data/DELETE_TABLE_NAME",u="data/UPDATE_TABLE_COLUMNS",c="data/UPDATE_TABLE_RECORDS",l="data/UPDATE_KEY_VALUE_DATA",p="data/SHOW_WARNING",f="data/CLEAR_WARNING",d="data/SHOW_PREVIEW",h="data/HIDE_PREVIEW",v="data/SET_LIBRARY_MANIFEST";t.tableType={SHARED:"shared",PROJECT:"project"};var g=new((0,r.Record)({view:i.DataView.OVERVIEW,tableListMap:{},tableName:"",tableColumns:[],tableRecords:[],keyValueData:{},warningTitle:"",warningMsg:"",isWarningDialogOpen:!1,isPreviewOpen:!1,libraryManifest:{}}));t.addTableName=function(e,t){return{type:o,tableName:e,tableType:t}};t.changeView=function(e,t){return{type:a,view:e,tableName:t}};t.deleteTableName=function(e){return{type:s,tableName:e}};t.updateKeyValueData=function(e){return{type:l,keyValueData:e}};t.updateTableColumns=function(e,t){return{type:u,tableName:e,tableColumns:t}};t.updateTableRecords=function(e,t){return{type:c,tableName:e,tableRecords:t}};t.showWarning=function(e,t){return{type:p,warningMsg:e,warningTitle:t}};t.clearWarning=function(){return{type:f}};t.showPreview=function(e){return{type:d,tableName:e}};t.hidePreview=function(){return{type:h}};t.setLibraryManifest=function(e){return{type:v,libraryManifest:e}}},function(e,t,n){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.getRoot=C,t.getCommandHistory=E,t.getJSInterpreter=x,t.isPaused=O,t.isEditWhileRun=k,t.isAttached=P,t.isOpen=T,t.canRunNext=R,t.getLogOutput=A,t.getMaxLogLevel=I,t.initialize=N,t.appendLog=D,t.clearLog=j,t.attach=L,t.detach=B,t.open=F,t.close=z,t.togglePause=U,t.stepIn=H,t.stepOver=W,t.stepOut=V,t.evalInCurrentScope=q,t.reducer=K,t.reducers=t.actions=t.selectors=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=f();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}n.default=e,t&&t.set(e,n);return n}(n(125)),o=p(n(1338)),s=n(551),i=p(n(1339)),u=p(n(859)),c=p(n(551)),l=p(n(601));function p(e){return e&&e.__esModule?e:{default:e}}function f(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return f=function(){return e},e}function d(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var h=250,v="jsdebugger/INITIALIZE",g="jsdebugger/ATTACH",m="jsdebugger/DETACH",y="jsdebugger/APPEND_LOG",b="jsdebugger/CLEAR_LOG",w="jsdebugger/OPEN",S="jsdebugger/CLOSE",_=r.Record({jsInterpreter:null,runApp:null,observer:null,watchIntervalId:null,commandHistory:null,logOutput:[],maxLogLevel:"",isOpen:!1});function C(e){return e.jsdebugger}function E(e){return C(e).commandHistory}function x(e){return C(e).jsInterpreter}function O(e){return e.runState.isDebuggerPaused}function k(e){return e.runState.isEditWhileRun}function P(e){return!!x(e)}function T(e){return C(e).isOpen}function R(e){return e.runState.isDebuggerPaused&&e.runState.nextStep===u.default.StepType.RUN}function A(e){return C(e).logOutput}function I(e){return C(e).maxLogLevel}var M={getRoot:C,getCommandHistory:E,getJSInterpreter:x,isPaused:O,isEditWhileRun:k,isAttached:P,canRunNext:R,getLogOutput:A,getMaxLogLevel:I,isOpen:T};function N(e){var t=e.runApp;return{type:v,runApp:t}}function D(r,i){return function(e,t){r.skipInspector="ERROR"===i||"WARNING"===i;var n=i&&i.toLowerCase();e({type:y,output:r,logLevel:n}),T(t())||e(F())}}function j(){return{type:b}}function L(i){return function(r,e){var t=new o.default;t.observe(i.onPause,function(){r(U()),r(F())}),t.observe(i.onExecutionWarning,function(e){return r(D({output:e},"WARNING"))});var n=setInterval(function(){var n=x(e());e().watchedExpressions.forEach(function(e){var t=n.evaluateWatchExpression(e.get("expression"));r((0,s.update)(e.get("expression"),t))})},h);r(j()),r({type:g,observer:t,watchIntervalId:n,jsInterpreter:i})}}function B(){return function(e,t){var n=function(e){return C(e).observer}(t());n&&n.unobserveAll(),clearInterval(function(e){return C(e).watchIntervalId}(t())),e({type:m})}}function F(){return{type:w}}function z(){return{type:S}}function U(){return function(e,t){var n=x(t());n&&n.handlePauseContinue()}}function H(){return function(e,t){var n=x(t());if(!n){var r=function(e){return C(e).runApp}(t());if(!r)throw new Error("jsdebugger has not been initialized yet");if(r(),e(U()),!(n=x(t())))throw new Error("runApp should have attached an interpreter")}n.handleStepIn()}}function W(){return function(e,t){var n=x(t());if(!n)throw new Error("No interpreter has been attached");n.handleStepOver()}}function V(){return function(e,t){var n=x(t());if(!n)throw new Error("No interpreter has been attached");n.handleStepOut()}}function q(r){return function(e,t){var n=x(t());if(n)return n.evalInCurrentScope(r);throw new Error("No interpreter has been attached")}}t.selectors=M;var G={initialize:N,appendLog:D,clearLog:j,attach:L,detach:B,open:F,close:z,togglePause:U,stepIn:H,stepOver:W,stepOut:V,evalInCurrentScope:q};function K(e,t){return e||(e=new _({isOpen:!1})),t.type===v?e.merge({runApp:t.runApp,commandHistory:new i.default}):t.type===g?e.merge({jsInterpreter:t.jsInterpreter,observer:t.observer,watchIntervalId:t.watchIntervalId}):t.type===y?e.merge({logOutput:function(e,t,n){switch(e=e||[],n){case y:return[].concat(d(e),[t]);default:return e}}(e.logOutput,t.output,t.type),maxLogLevel:function(e,t){return"error"===t||"error"===e?"error":"warning"===t||"warning"===e?"warning":""}(e.maxLogLevel,t.logLevel)}):t.type===b?e.merge({logOutput:[],maxLogLevel:""}):t.type===m?e.merge({jsInterpreter:null,watchIntervalId:0}):t.type===S?e.set("isOpen",!1):t.type===w?e.set("isOpen",!0):e}t.actions=G;var X={jsdebugger:K,watchedExpressions:c.default,runState:l.default};t.reducers=X},,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){var r=n(83),i=r.Buffer;function o(e,t){for(var n in e)t[n]=e[n]}function a(e,t,n){return i(e,t,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=r:(o(r,t),t.Buffer=a),o(i,a),a.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,n)},a.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var r=i(e);return void 0!==t?"string"==typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},a.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},a.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}},function(e,t,n){"use strict";var r=n(2257).Promise;e.exports={Promise:r}},function(e,t,n){var r=n(1370),i=n(1125);e.exports=Object.keys||function(e){return r(e,i)}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t){e.exports=!0},function(e,t,n){var r=n(585),i=n(2289),o=n(2290),a=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?i(e):o(e)}},function(e,t,n){var r=n(1377),i=n(2301),o=n(1133);e.exports=function(e){return o(e)?r(e):i(e)}},function(e,t){e.exports=function(t){return function(e){return t(e)}}},function(e,t,n){var r=n(762);e.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},function(e,t){e.exports={}},function(e,t,n){var v=n(220),g=n(325),m=n(768),y=n(586),b=n(771),w="prototype",S=function(e,t,n){var r,i,o,a=e&S.F,s=e&S.G,u=e&S.S,c=e&S.P,l=e&S.B,p=e&S.W,f=s?g:g[t]||(g[t]={}),d=f[w],h=s?v:u?v[t]:(v[t]||{})[w];for(r in s&&(n=t),n)(i=!a&&h&&void 0!==h[r])&&b(f,r)||(o=i?h[r]:n[r],f[r]=s&&"function"!=typeof h[r]?n[r]:l&&i?m(o,v):p&&h[r]==o?function(r){var e=function(e,t,n){if(this instanceof r){switch(arguments.length){case 0:return new r;case 1:return new r(e);case 2:return new r(e,t)}return new r(e,t,n)}return r.apply(this,arguments)};return e[w]=r[w],e}(o):c&&"function"==typeof o?m(Function.call,o):o,c&&((f.virtual||(f.virtual={}))[r]=o,e&S.R&&d&&!d[r]&&y(d,r,o)))};S.F=1,S.G=2,S.S=4,S.P=8,S.B=16,S.W=32,S.U=64,S.R=128,e.exports=S},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){e.exports=!n(1155)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t){e.exports={}},,,function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(503);function i(e,t){return!!r.haste.includes(e)||!!r.dependencies[t]&&e in r.dependencies[t]}},function(e,t,n){var r=n(1403)(n(2411));e.exports=r},function(e,t,n){var r=n(2421);e.exports=function(e){return r(e,5)}},function(e,t,n){"use strict";t.__esModule=!0;var r,i=n(1161),u=(r=i)&&r.__esModule?r:{default:r};t.default=function(e){return function(){var s=e.apply(this,arguments);return new u.default(function(o,a){return function t(e,n){try{var r=s[e](n),i=r.value}catch(e){return void a(e)}if(!r.done)return u.default.resolve(i).then(function(e){t("next",e)},function(e){t("throw",e)});o(i)}("next")})}}},function(e,t,n){var r=n(1193),i=n(820);e.exports=Object.keys||function(e){return r(e,i)}},function(e,t){e.exports=function(){var a=[];return a.toString=function(){for(var e=[],t=0;t<this.length;t++){var n=this[t];n[2]?e.push("@media "+n[2]+"{"+n[1]+"}"):e.push(n[1])}return e.join("")},a.i=function(e,t){"string"==typeof e&&(e=[[null,e,""]]);for(var n={},r=0;r<this.length;r++){var i=this[r][0];"number"==typeof i&&(n[i]=!0)}for(r=0;r<e.length;r++){var o=e[r];"number"==typeof o[0]&&n[o[0]]||(t&&!o[2]?o[2]=t:t&&(o[2]="("+o[2]+") and ("+t+")"),a.push(o))}},a}},function(e,t){var u={},n=function(e){var t;return function(){return void 0===t&&(t=e.apply(this,arguments)),t}},r=n(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),i=n(function(){return document.head||document.getElementsByTagName("head")[0]}),a=null,s=0,o=[];function c(e,t){for(var n=0;n<e.length;n++){var r=e[n],i=u[r.id];if(i){i.refs++;for(var o=0;o<i.parts.length;o++)i.parts[o](r.parts[o]);for(;o<r.parts.length;o++)i.parts.push(h(r.parts[o],t))}else{var a=[];for(o=0;o<r.parts.length;o++)a.push(h(r.parts[o],t));u[r.id]={id:r.id,refs:1,parts:a}}}}function l(e){for(var t=[],n={},r=0;r<e.length;r++){var i=e[r],o=i[0],a={css:i[1],media:i[2],sourceMap:i[3]};n[o]?n[o].parts.push(a):t.push(n[o]={id:o,parts:[a]})}return t}function p(e,t){var n=i(),r=o[o.length-1];if("top"===e.insertAt)r?r.nextSibling?n.insertBefore(t,r.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),o.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(t)}}function f(e){e.parentNode.removeChild(e);var t=o.indexOf(e);0<=t&&o.splice(t,1)}function d(e){var t=document.createElement("style");return t.type="text/css",p(e,t),t}function h(t,e){var n,r,i;if(e.singleton){var o=s++;n=a||(a=d(e)),r=m.bind(null,n,o,!1),i=m.bind(null,n,o,!0)}else i=t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(e){var t=document.createElement("link");return t.rel="stylesheet",p(e,t),t}(e),r=function(e,t){var n=t.css,r=t.sourceMap;r&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var i=new Blob([n],{type:"text/css"}),o=e.href;e.href=URL.createObjectURL(i),o&&URL.revokeObjectURL(o)}.bind(null,n),function(){f(n),n.href&&URL.revokeObjectURL(n.href)}):(n=d(e),r=function(e,t){var n=t.css,r=t.media;r&&e.setAttribute("media",r);if(e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}.bind(null,n),function(){f(n)});return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else i()}}e.exports=function(e,a){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");void 0===(a=a||{}).singleton&&(a.singleton=r()),void 0===a.insertAt&&(a.insertAt="bottom");var s=l(e);return c(s,a),function(e){for(var t=[],n=0;n<s.length;n++){var r=s[n];(i=u[r.id]).refs--,t.push(i)}e&&c(l(e),a);for(n=0;n<t.length;n++){var i;if(0===(i=t[n]).refs){for(var o=0;o<i.parts.length;o++)i.parts[o]();delete u[i.id]}}}};var v,g=(v=[],function(e,t){return v[e]=t,v.filter(Boolean).join("\n")});function m(e,t,n,r){var i=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=g(t,i);else{var o=document.createTextNode(i),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(o,a[t]):e.appendChild(o)}}},,,,,,function(e,t){e.exports=!0},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t){t.f={}.propertyIsEnumerable},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.PaneButton=t.PaneSection=void 0;var r,i,s=p(n(1)),o=p(n(0)),a=p(n(15)),u=p(n(296)),c=p(n(206)),l=p(n(6));function p(e){return e&&e.__esModule?e:{default:e}}function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function d(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(Object(n));"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(e){g(t,e,n[e])})}return t}function h(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],0<=t.indexOf(n)||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function v(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m={paneSection:{textAlign:"center",whiteSpace:"nowrap",overflowX:"hidden",height:c.default["workspace-headers-height"],lineHeight:c.default["workspace-headers-height"]+"px"},headerButton:{cursor:"pointer",float:"right",overflow:"hidden",backgroundColor:l.default.light_purple,marginTop:3,marginBottom:3,marginRight:3,marginLeft:0,height:24,borderRadius:4,fontFamily:'"Gotham 5r", sans-serif',lineHeight:"18px",":hover":{backgroundColor:l.default.cyan}},headerButtonRtl:{float:"left",marginLeft:3,marginRight:0},headerButtonMinecraft:{backgroundColor:"#606060",color:"#BFBFBF",border:"none",":hover":{backgroundColor:"#606060",color:l.default.white}},headerButtonUnfocused:{backgroundColor:l.default.lightest_purple},headerButtonPressed:{backgroundColor:l.default.white,color:l.default.purple,":hover":{color:l.default.white}},headerButtonSpan:{paddingLeft:12,paddingRight:12,paddingTop:0,paddingBottom:0},headerButtonIcon:{lineHeight:"24px",paddingRight:8,fontSize:15,fontWeight:"bold"},headerButtonIconRtl:{paddingRight:0,paddingLeft:8},headerButtonNoLabel:{paddingRight:0,paddingLeft:0}},y=function(e){function t(){return e.apply(this,arguments)||this}return v(t,e),t.prototype.render=function(){var e=this.props,t=e.hasFocus,n=e.teacherOnly,r=e.style,i=e.isMinecraft,o=h(e,["hasFocus","teacherOnly","style","isMinecraft"]),a=d({},r,u.default.purpleHeader,!t&&u.default.purpleHeaderUnfocused,n&&u.default.teacherBlueHeader,n&&!t&&u.default.teacherHeaderUnfocused,i&&u.default.minecraftHeader);return s.default.createElement("div",f({},o,{style:a}))},t}(s.default.Component);g(y,"propTypes",{hasFocus:o.default.bool.isRequired,style:o.default.object,teacherOnly:o.default.bool,isMinecraft:o.default.bool});var b=(0,a.default)((i=r=function(e){function t(){return e.apply(this,arguments)||this}return v(t,e),t.prototype.render=function(){var t=this;return s.default.createElement("div",f({},this.props,{ref:function(e){return t.root=e},style:d({},m.paneSection,this.props.style)}))},t}(s.default.Component),g(r,"propTypes",{style:o.default.object}),i));t.PaneSection=b;var w=(0,a.default)(function(e){var t=d({},m.headerButton,e.isRtl!==!!e.leftJustified&&m.headerButtonRtl,e.isMinecraft&&m.headerButtonMinecraft,e.isPressed&&m.headerButtonPressed,!e.headerHasFocus&&m.headerButtonUnfocused,e.style),n=d({},m.headerButtonIcon,e.isRtl&&m.headerButtonIconRtl),r=e.isPressed?e.pressedLabel:e.label;return r||(n=d({},n,m.headerButtonNoLabel)),s.default.createElement("div",{id:e.id,style:t,onClick:e.onClick},s.default.createElement("span",{style:m.headerButtonSpan},e.hiddenImage,s.default.createElement("i",{className:e.iconClass,style:n}),s.default.createElement("span",{style:m.noPadding},r)))});(t.PaneButton=w).propTypes={headerHasFocus:o.default.bool.isRequired,iconClass:o.default.string.isRequired,label:o.default.string.isRequired,isRtl:o.default.bool.isRequired,leftJustified:o.default.bool,isPressed:o.default.bool,pressedLabel:o.default.string,onClick:o.default.func,hiddenImage:o.default.element,isMinecraft:o.default.bool,id:o.default.string,style:o.default.object};var S=(0,a.default)(y);t.default=S},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AudioOutputFormatImpl=t.AudioFormatTag=void 0;var r,i,o,a=n(1231),s=n(593);function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}t.AudioFormatTag=i,(o=i||(t.AudioFormatTag=i={}))[o.PCM=1]="PCM",o[o.MuLaw=2]="MuLaw",o[o.Siren=3]="Siren",o[o.MP3=4]="MP3",o[o.SILKSkype=5]="SILKSkype";var l=function(l){function t(e,t,n,r,i,o,a,s,u){var c;return(c=l.call(this,n,o,t)||this).formatTag=e,c.avgBytesPerSec=r,c.blockAlign=i,c.priAudioFormatString=a,c.priRequestAudioFormatString=s,c.priHasHeader=u,c}return function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(t,l),t.fromSpeechSynthesisOutputFormat=function(e){return t.fromSpeechSynthesisOutputFormatString(t.SpeechSynthesisOutputFormatToString[e])},t.fromSpeechSynthesisOutputFormatString=function(e){switch(e){case"raw-8khz-8bit-mono-mulaw":return new t(i.PCM,1,8e3,8e3,1,8,e,e,!1);case"riff-16khz-16kbps-mono-siren":return new t(i.Siren,1,16e3,2e3,40,0,e,"audio-16khz-16kbps-mono-siren",!0);case"audio-16khz-16kbps-mono-siren":return new t(i.Siren,1,16e3,2e3,40,0,e,e,!1);case"audio-16khz-32kbitrate-mono-mp3":return new t(i.MP3,1,16e3,4096,2,16,e,e,!1);case"audio-16khz-128kbitrate-mono-mp3":return new t(i.MP3,1,16e3,16384,2,16,e,e,!1);case"audio-16khz-64kbitrate-mono-mp3":return new t(i.MP3,1,16e3,8192,2,16,e,e,!1);case"audio-24khz-48kbitrate-mono-mp3":return new t(i.MP3,1,16e3,6144,2,16,e,e,!1);case"audio-24khz-96kbitrate-mono-mp3":return new t(i.MP3,1,16e3,12288,2,16,e,e,!1);case"audio-24khz-160kbitrate-mono-mp3":return new t(i.MP3,1,16e3,20480,2,16,e,e,!1);case"raw-16khz-16bit-mono-truesilk":return new t(i.SILKSkype,1,16e3,32e3,2,16,e,e,!1);case"riff-8khz-16bit-mono-pcm":return new t(i.PCM,1,8e3,16e3,2,16,e,"raw-8khz-16bit-mono-pcm",!0);case"riff-24khz-16bit-mono-pcm":return new t(i.PCM,1,24e3,48e3,2,16,e,"raw-24khz-16bit-mono-pcm",!0);case"riff-8khz-8bit-mono-mulaw":return new t(i.MuLaw,1,8e3,8e3,1,8,e,"raw-8khz-8bit-mono-mulaw",!0);case"raw-16khz-16bit-mono-pcm":return new t(i.PCM,1,16e3,32e3,2,16,e,"raw-16khz-16bit-mono-pcm",!1);case"raw-24khz-16bit-mono-pcm":return new t(i.PCM,1,24e3,48e3,2,16,e,"raw-24khz-16bit-mono-pcm",!1);case"raw-8khz-16bit-mono-pcm":return new t(i.PCM,1,8e3,16e3,2,16,e,"raw-8khz-16bit-mono-pcm",!1);case"riff-16khz-16bit-mono-pcm":default:return new t(i.PCM,1,16e3,32e3,2,16,"riff-16khz-16bit-mono-pcm","raw-16khz-16bit-mono-pcm",!0)}},t.getDefaultOutputFormat=function(){return t.fromSpeechSynthesisOutputFormatString("")},t.prototype.updateHeader=function(e){this.priHasHeader&&new DataView(this.privHeader).setUint32(40,e,!0)},function(e,t,n){t&&c(e.prototype,t),n&&c(e,n)}(t,[{key:"hasHeader",get:function(){return this.priHasHeader}},{key:"header",get:function(){if(this.hasHeader)return this.privHeader}},{key:"requestAudioFormatString",get:function(){return this.priRequestAudioFormatString}}]),t}(s.AudioStreamFormatImpl);(t.AudioOutputFormatImpl=l).SpeechSynthesisOutputFormatToString=(u(r={},a.SpeechSynthesisOutputFormat.Raw8Khz8BitMonoMULaw,"raw-8khz-8bit-mono-mulaw"),u(r,a.SpeechSynthesisOutputFormat.Riff16Khz16KbpsMonoSiren,"riff-16khz-16kbps-mono-siren"),u(r,a.SpeechSynthesisOutputFormat.Audio16Khz16KbpsMonoSiren,"audio-16khz-16kbps-mono-siren"),u(r,a.SpeechSynthesisOutputFormat.Audio16Khz32KBitRateMonoMp3,"audio-16khz-32kbitrate-mono-mp3"),u(r,a.SpeechSynthesisOutputFormat.Audio16Khz128KBitRateMonoMp3,"audio-16khz-128kbitrate-mono-mp3"),u(r,a.SpeechSynthesisOutputFormat.Audio16Khz64KBitRateMonoMp3,"audio-16khz-64kbitrate-mono-mp3"),u(r,a.SpeechSynthesisOutputFormat.Audio24Khz48KBitRateMonoMp3,"audio-24khz-48kbitrate-mono-mp3"),u(r,a.SpeechSynthesisOutputFormat.Audio24Khz96KBitRateMonoMp3,"audio-24khz-96kbitrate-mono-mp3"),u(r,a.SpeechSynthesisOutputFormat.Audio24Khz160KBitRateMonoMp3,"audio-24khz-160kbitrate-mono-mp3"),u(r,a.SpeechSynthesisOutputFormat.Raw16Khz16BitMonoTrueSilk,"raw-16khz-16bit-mono-truesilk"),u(r,a.SpeechSynthesisOutputFormat.Riff16Khz16BitMonoPcm,"riff-16khz-16bit-mono-pcm"),u(r,a.SpeechSynthesisOutputFormat.Riff8Khz16BitMonoPcm,"riff-8khz-16bit-mono-pcm"),u(r,a.SpeechSynthesisOutputFormat.Riff24Khz16BitMonoPcm,"riff-24khz-16bit-mono-pcm"),u(r,a.SpeechSynthesisOutputFormat.Riff8Khz8BitMonoMULaw,"riff-8khz-8bit-mono-mulaw"),u(r,a.SpeechSynthesisOutputFormat.Raw16Khz16BitMonoPcm,"raw-16khz-16bit-mono-pcm"),u(r,a.SpeechSynthesisOutputFormat.Raw24Khz16BitMonoPcm,"raw-24khz-16bit-mono-pcm"),u(r,a.SpeechSynthesisOutputFormat.Raw8Khz16BitMonoPcm,"raw-8khz-16bit-mono-pcm"),r)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.extractHeaderValue=function(e,t){var n="";try{var r=t.trim().split(/[\r\n]+/),i={};r.forEach(function(e){var t=e.split(": "),n=t.shift().toLowerCase(),r=t.join(": ");i[n]=r}),n=i[e.toLowerCase()]}catch(e){}return n},t.request=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null,i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:l.defaultRequestOptions,o=5<arguments.length?arguments[5]:void 0,a=i.ignoreCache||l.defaultRequestOptions.ignoreCache,s=i.headers||l.defaultRequestOptions.headers,u=i.timeout||l.defaultRequestOptions.timeout,c=new XMLHttpRequest;c.open(e,function(e){var t=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(t).map(function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t[e])}).join("&")}(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{});return t?e+(-1===e.indexOf("?")?"?":"&")+t:e}(t,n),!0),s&&Object.keys(s).forEach(function(e){return c.setRequestHeader(e,s[e])});a&&c.setRequestHeader("Cache-Control","no-cache");c.timeout=u,c.onload=function(e){o(function(e){return{data:e.responseText,headers:e.getAllResponseHeaders(),json:function(){return JSON.parse(e.responseText)},ok:200<=e.status&&e.status<300,status:e.status,statusText:e.statusText}}(c))},c.onerror=function(e){o(p(c,"Failed to make request."))},c.ontimeout=function(e){o(p(c,"Request took longer than expected."))},"post"===e&&r?(c.setRequestHeader("Content-Type","application/json"),c.send(JSON.stringify(r))):c.send()},t.PromiseToEmptyCallback=function(e,n,r){e?e.continueWith(function(t){try{t.isError?r&&r(t.error):n&&n()}catch(e){r&&r("'Unhandled error on promise callback: ".concat(e,". InnerError: ").concat(t.error,"'"))}}):r&&r("Null promise")},t.ConversationTranslatorConfig=void 0;var l={apiVersion:"2.0",auth:{placeholderRegion:"westus",placeholderSubscriptionKey:"abcdefghijklmnopqrstuvwxyz012345"},clientAppId:"FC539C22-1767-4F1F-84BC-B4D811114F15",defaultLanguageCode:"en-US",defaultRequestOptions:{headers:{Accept:"application/json"},ignoreCache:!1,timeout:5e3},host:"dev.microsofttranslator.com",params:{apiVersion:"api-version",authorization:"Authorization",clientAppId:"X-ClientAppId",correlationId:"X-CorrelationId",languageCode:"language",nickname:"nickname",profanity:"profanity",requestId:"X-RequestId",roomId:"roomid",sessionToken:"token",subscriptionKey:"Ocp-Apim-Subscription-Key",subscriptionRegion:"Ocp-Apim-Subscription-Region",token:"X-CapitoToken"},restPath:"/capito/room",speechHost:"{region}.s2s.speech.microsoft.com",speechPath:"/speech/translation/cognitiveservices/v1",strings:{authInvalidSubscriptionKey:"You must specify either an authentication token to use, or a Cognitive Speech subscription key.",authInvalidSubscriptionRegion:"You must specify the Cognitive Speech region to use.",invalidArgs:"Required input not found: {arg}.",invalidCreateJoinConversationResponse:"Creating/Joining conversation failed with HTTP {status}.",invalidParticipantRequest:"The requested participant was not found.",permissionDeniedConnect:"Required credentials not found.",permissionDeniedConversation:"Invalid operation: only the host can {command} the conversation.",permissionDeniedParticipant:"Invalid operation: only the host can {command} a participant.",permissionDeniedSend:"Invalid operation: the conversation is not in a connected state.",permissionDeniedStart:"Invalid operation: there is already an active conversation."},textMessageMaxLength:1e3,webSocketPath:"/capito/translate"};function p(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;return{data:t||e.statusText,headers:e.getAllResponseHeaders(),json:function(){return JSON.parse(t||'"'+e.statusText+'"')},ok:!1,status:e.status,statusText:e.statusText}}t.ConversationTranslatorConfig=l},,function(e,t,n){"use strict";var r=n(1732)(!0);n(1195)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})})},function(e,t,n){"undefined"!=typeof SVGElement&&(n(3472),n(3597))},,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isResponsiveFromState=l,t.default=t.VISUALIZATION_DIV_ID=void 0;var r=u(n(0)),i=u(n(1)),o=n(9),a=u(n(2)),s=u(n(201));function u(e){return e&&e.__esModule?e:{default:e}}var c="visualization";function l(e){return e.pageConstants.isResponsive}t.VISUALIZATION_DIV_ID=c;var p,f,d,h=function(e){function t(){return e.apply(this,arguments)||this}return function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(t,e),t.prototype.render=function(){return i.default.createElement(s.default,{id:c,className:(0,a.default)({responsive:this.props.isResponsive})},this.props.children)},t}(i.default.Component);p=h,f="propTypes",d={isResponsive:r.default.bool.isRequired,children:r.default.node},f in p?Object.defineProperty(p,f,{value:d,enumerable:!0,configurable:!0,writable:!0}):p[f]=d;var v=(0,o.connect)(function(e){return{isResponsive:l(e)}})(h);t.default=v},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.injectErrorHandler=function(e){i=e},t.outputError=d,t.outputWarning=h,t.getAsyncOutputWarning=function(){var e;return(e=i).getAsyncOutputWarning.apply(e,arguments)},t.apiValidateType=v,t.apiValidateTypeAndRange=function(e,t,n,r,i,o,a,s){var u="validated_type_"+n,c="validated_range_"+n;if(v(e,t,n,r,i,s),e[u]&&void 0===e[c]){var l=void 0===o||o<=r;l&&(l=void 0===a||r<=a),(l=l||s===f&&void 0===r)||h(t+"() "+n+" parameter value ("+r+") is not in the expected range."),e[c]=l}},t.OPTIONAL=void 0;var c=r(n(1874)),l=r(n(5));function r(e){return e&&e.__esModule?e:{default:e}}function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var i,f=!0;function d(){var e;(e=i).outputError.apply(e,arguments)}function h(){var e;(e=i).outputWarning.apply(e,arguments)}function v(e,t,n,r,i,o){var a="validated_type_"+n;if(void 0===e[a]){var s;switch(i){case"color":if(s="string"==typeof r)s=new c.default(r).ok;break;case"uistring":s="string"==typeof r||"number"==typeof r||"boolean"==typeof r;break;case"pinid":s="string"==typeof r||"number"==typeof r;break;case"number":s="number"==typeof r||"string"==typeof r&&!isNaN(r);break;case"primitive":(s=g(r))||(i="string, number, boolean, undefined or null");break;case"array":s=Array.isArray(r);break;case"record":if(s="object"===p(r)&&!Array.isArray(r))if(!Object.values(r).every(function(e){return g(e)}))return d(l.default.invalidRecordTypeError()),!1;break;default:s=p(r)===i}if(!(s=s||o===f&&void 0===r)){var u="function"==typeof r?"function":r;h("".concat(t,"() ").concat(n," parameter value (").concat(u,") is not a ").concat(i,"."))}e[a]=s}return!!e[a]}function g(e){switch(p(e)){case"string":case"number":case"boolean":case"undefined":return!0;case"object":return null===e;default:return!1}}t.OPTIONAL=f},,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initFirebaseStorage=function(e){return(0,c.init)(e),o},t.default=void 0;var r,u=n(602),i=(r=n(1870))&&r.__esModule?r:{default:r},c=n(804),s=n(1871),l=n(1654),a=n(618),p=n(450);var o={},f="storage/keys";function d(e,t){var n=(0,c.fixFirebaseKey)(e);return n!==e&&(t({type:p.WarningType.KEY_RENAMED,msg:'The key was renamed from "'.concat(e,'" to "').concat(n,'" because the characters ')+'"$", "#", "[", "]", and "/" are not allowed in key names.'}),e=n),e}function h(e,t){var n=(0,c.fixFirebaseKey)(e);return n!==e&&(t({type:p.WarningType.TABLE_RENAMED,msg:'The table was renamed from "'.concat(e,'" to "').concat(n,'" because the characters ')+'"$", "#", "[", "]", and "/" are not allowed in table names.'}),e=n),e}function v(e,t){return(0,c.getPathRef)((0,c.getProjectDatabase)(),"storage/tables/".concat(e,"/records/").concat(t)).once("value").then(function(e){return null!==e.val()})}function g(e){try{return(0,c.validateFirebaseKey)(e),Promise.resolve()}catch(e){return Promise.reject({type:p.WarningType.TABLE_NAME_INVALID,msg:"The table name is invalid. ".concat(e.message)})}}function m(t,e){return t?e&&!t.id?Promise.reject("Missing record id: ".concat(t.id)):!e&&t.id?Promise.reject("Unexpected record id: ".concat(t.id)):(0,c.loadConfig)().then(function(e){return JSON.stringify(t).length>e.maxRecordSize-16?Promise.reject("The record is too large. The maximum allowable size is ".concat(e.maxRecordSize," bytes.")):Promise.resolve()}):Promise.reject("Invalid record: ".concat(t))}o.getLibraryManifest=function(){return(0,c.getPathRef)((0,c.getSharedDatabase)(),"metadata/manifest").once("value").then(function(e){return e.val()})},o.getColumnsForTable=function(e,t){var n="shared"===t?(0,c.getSharedDatabase)():(0,c.getProjectDatabase)();return(0,l.getColumnNamesSnapshot)(n,e)},o.channelExists=function(){return(0,c.getProjectDatabase)().once("value").then(function(e){return null!==e.val()})},o.clearAllData=function(e,t){(0,c.getProjectDatabase)().set(null).then(e,t)},o.getKeyValue=function(e,n,t){e=d(e,t);try{(0,c.validateFirebaseKey)(e)}catch(e){return void t({type:p.WarningType.KEY_INVALID,msg:"The key is invalid. ".concat(e.message)})}(0,c.getPathRef)((0,c.getProjectDatabase)(),"".concat(f,"/").concat(e)).once("value",function(e){var t=null===e.val()?void 0:JSON.parse(e.val());n(t)},t)},o.setKeyValue=function(t,e,n,r){t=d(t,r);var i=void 0===e?null:JSON.stringify(e);(0,c.loadConfig)().then(function(e){try{(0,c.validateFirebaseKey)(t)}catch(e){return Promise.reject({type:p.WarningType.KEY_INVALID,msg:"The key is invalid. ".concat(e.message)})}return i&&i.length>e.maxPropertySize?Promise.reject("The value is too large. The maximum allowable size is ".concat(e.maxPropertySize," bytes.")):(0,s.incrementRateLimitCounters)()}).then(function(){return(0,c.getPathRef)((0,c.getProjectDatabase)(),"".concat(f,"/").concat(t)).set(i)}).then(n,r)},o.deleteKeyValue=function(e,t,n){(0,c.getPathRef)((0,c.getProjectDatabase)(),"".concat(f,"/").concat(e)).set(null).then(t,n)},o.createRecord=function(t,n,e,r){t=h(t,r);m(n).then(function(){return g(t)}).then(function(){return(0,s.incrementRateLimitCounters)()}).then(function(){return(0,s.updateTableCounters)(t,1,!0)}).then(function(e){return n.id=e,(0,c.getPathRef)((0,c.getProjectDatabase)(),"storage/tables/".concat(t,"/records/").concat(n.id)).set(JSON.stringify(n))}).then(function(){return(0,l.addMissingColumns)(t,(0,l.getColumnNamesFromRecords)([JSON.stringify(n)]))}).then(function(){return e(n)},r)},o.readRecords=function(e,i,t,n){var r;e=h(e,n),Promise.all([(0,c.getPathRef)((0,c.getProjectDatabase)(),"current_tables/".concat(e)).once("value",function(e){e.val()&&(r=(0,c.getSharedDatabase)())}),(0,c.getProjectCountersRef)(e).once("value",function(e){e.val()&&(r=(0,c.getProjectDatabase)())})]).then(function(){r?(0,c.getPathRef)(r,"storage/tables/".concat(e,"/records")).once("value",function(e){var n=e.val()||{},r=[];Object.keys(n).forEach(function(e){var t=JSON.parse(n[e]);(function(t,n){var r=!0;return Object.keys(n||{}).forEach(function(e){r=r&&t[e]===n[e]}),r})(t,i)&&r.push(t)}),t(r)},n):t(null)})},o.updateRecord=function(t,n,r,i){t=h(t,i);var o=JSON.stringify(n),a=(0,c.getPathRef)((0,c.getProjectDatabase)(),"storage/tables/".concat(t,"/records/").concat(n.id));m(n,!0).then(function(){return v(t,n.id)}).then(function(e){e?(0,s.incrementRateLimitCounters)().then(function(){return(0,s.updateTableCounters)(t,0)}).then(function(){return a.set(o)}).then(function(){return(0,l.addMissingColumns)(t,(0,l.getColumnNamesFromRecords)([o]))}).then(function(){return r(n,!0)},i):r(null,!1)})},o.deleteRecord=function(t,e,n,r){t=h(t,r);var i=(0,c.getPathRef)((0,c.getProjectDatabase)(),"storage/tables/".concat(t,"/records/").concat(e.id));v(t,e.id).then(function(e){e?(0,c.loadConfig)().then(function(){return(0,s.incrementRateLimitCounters)()}).then(function(){return(0,s.updateTableCounters)(t,-1)}).then(function(){return i.set(null)}).then(function(){return n(!0)},r):n(!1)})};var y=[];function b(e){var t=function(e,t){return e.once("value").then(function(e){if(e.val())return Promise.reject({type:p.WarningType.DUPLICATE_TABLE_NAME,msg:'There is already a table with name "'.concat(t,'"')})})};return Promise.all([t((0,c.getProjectCountersRef)(e),e),t((0,c.getPathRef)((0,c.getProjectDatabase)(),"current_tables/".concat(e)),e)])}function w(e){var r={};return e.forEach(function(e,t){var n=t+1;e.id=n,r[n]=JSON.stringify(e)}),r}function S(e,t){var n=(0,c.getRecordsRef)(e),r=(0,c.getProjectCountersRef)(e);return(0,l.getColumnsRef)((0,c.getProjectDatabase)(),e).set(null).then(function(){return n.set(t)}).then(function(){return r.set(null)}).then(function(){var e=Object.keys(t).length;return r.set({lastId:e,rowCount:e})}).then(function(){return(0,l.addMissingColumns)(e,(0,l.getColumnNamesFromRecords)(Object.values(t)))})}o.onRecordEvent=function(t,r,e,i){if("function"!=typeof e)throw new Error("onError is a required parameter to FirebaseStorage.onRecordEvent");t?(y.includes(t)&&e('onRecordEvent was already called for table "'.concat(t,'". To avoid ')+"unexpected behavior in your program, you should only call onRecordEvent once per table, and use if/else statements to handle the different event types."),y.push(t),(0,s.getLastRecordId)(t).then(function(n){var e=(0,c.getRecordsRef)(t);e.on("child_added",function(e){var t=JSON.parse(e.val());(i||t.id>n)&&r(t,"create")}),e.on("child_changed",function(e){r(JSON.parse(e.val()),"update")}),e.on("child_removed",function(e){var t=JSON.parse(e.val());r({id:t.id},"delete")})})):e('Error listening for record events: missing required parameter "tableName"',400)},o.resetRecordListener=function(){y.forEach(function(e){return(0,c.getRecordsRef)(e).off()}),y=[]},o.resetForTesting=function(){(0,c.isInitialized)()&&(o.resetRecordListener(),(0,c.getProjectDatabase)().set(null),(0,c.resetConfigForTesting)())},o.addCurrentTableToProject=function(t,e,n){return b(t).then(s.incrementRateLimitCounters).then(c.loadConfig).then(function(e){return(0,s.enforceTableCount)(e,t)}).then(function(){(0,c.getPathRef)((0,c.getProjectDatabase)(),"current_tables/".concat(t)).set(!0)}).then(e,n)},o.copyStaticTable=function(t,e,n){return b(t).then(s.incrementRateLimitCounters).then(c.loadConfig).then(function(e){return(0,s.enforceTableCount)(e,t)}).then(function(){return(0,c.getPathRef)((0,c.getSharedDatabase)(),"counters/tables/".concat(t)).once("value")}).then(function(e){(0,c.getProjectCountersRef)(t).set(e.val())}).then(function(){return(0,c.getPathRef)((0,c.getSharedDatabase)(),"storage/tables/".concat(t,"/records")).once("value")}).then(function(e){return(0,c.getRecordsRef)(t).set(e.val()),e}).then(function(e){return(0,l.addMissingColumns)(t,(0,l.getColumnNamesFromRecords)(e.val()))}).then(e,n)},o.createTable=function(t,e,n){return g(t).then(function(){return b(t)}).then(s.incrementRateLimitCounters).then(c.loadConfig).then(function(e){return(0,s.enforceTableCount)(e,t)}).then(function(){(0,c.getProjectCountersRef)(t).transaction(function(e){return null===e?{lastId:0,rowCount:0}:e}).then(function(e){return e.committed?Promise.resolve():Promise.reject('Unexpected error creating table "'.concat(t,'"'))})}).then(function(){return(0,l.addColumnName)(t,"id")}).then(e,n)},o.deleteTable=function(e,t,n,r){if(t===a.tableType.SHARED)(0,c.getPathRef)((0,c.getProjectDatabase)(),"current_tables/".concat(e)).set(null).then(n,r);else{var i=(0,c.getPathRef)((0,c.getProjectDatabase)(),"storage/tables/".concat(e)),o=(0,c.getProjectCountersRef)(e);i.set(null).then(function(){return o.set(null)}).then(function(){return(0,l.getColumnsRef)((0,c.getProjectDatabase)(),e).set(null)}).then(n,r)}},o.clearTable=function(e,t,n){(0,c.getPathRef)((0,c.getProjectDatabase)(),"storage/tables/".concat(e)).set(null).then(function(){return(0,c.getPathRef)((0,c.getProjectCountersRef)(e),"rowCount").set(0)}).then(t,n)},o.populateTable=function(o){return o&&o.length?(0,s.incrementRateLimitCounters)().then(function(){return(0,c.getPathRef)((0,c.getProjectDatabase)(),"counters/tables").once("value").then(function(e){return e.val()||{}})}).then(function(e){var t,n=[];try{t=JSON.parse(o)}catch(e){return Promise.reject("".concat(e,"\nwhile parsing initial table data: ").concat(o))}for(var r in t)if(void 0===e[r]){var i=w(t[r]);n.push(S(r,i))}return Promise.all(n)}):Promise.resolve()},o.populateKeyValue=function(i,e,t){i&&i.length&&(0,c.getPathRef)((0,c.getProjectDatabase)(),f).once("value").then(function(e){return e.val()||{}}).then(function(e){var t;try{t=JSON.parse(i)}catch(e){return Promise.reject("".concat(e,"\nwhile parsing initial key/value data: ").concat(i))}var n={};for(var r in t)void 0===e[r]&&(n[r]=JSON.stringify(t[r]));return n}).then(function(e){return(0,c.getPathRef)((0,c.getProjectDatabase)(),f).update(e)}).then(e,t)},o.addColumn=function(e,t,n,r){return(0,l.addColumnName)(e,t).then(n,r)},o.deleteColumn=function(e,r,t,n){var i=(0,c.getRecordsRef)(e);i.once("value").then(function(e){var n=e.val()||{};return Object.keys(n).forEach(function(e){var t=JSON.parse(n[e]);delete t[r],n[e]=JSON.stringify(t)}),n}).then(function(e){return i.set(e)}).then(function(){return(0,l.deleteColumnName)(e,r)}).then(t,n)},o.renameColumn=function(e,i,o,t,n){if(e){var r=(0,c.getRecordsRef)(e);r.once("value").then(function(e){var r=e.val()||{};return Object.keys(r).forEach(function(e){var t=JSON.parse(r[e]),n={};Object.keys(t).forEach(function(e){n[e===i?o:e]=t[e]}),r[e]=JSON.stringify(n)}),r}).then(function(e){return r.set(e)}).then(function(){return(0,l.renameColumnName)(e,i,o)}).then(t,n)}else n("tableName is a required parameter to FirebaseStorage.renameColumn")},o.coerceColumn=function(e,i,o,t,a){var s=(0,c.getRecordsRef)(e);s.once("value").then(function(e){var n=e.val()||{},r=!0;return Object.keys(n).forEach(function(e){var t=JSON.parse(n[e]);r=r&&function(e,t,n){var r=e[t];if(void 0===r)return!0;switch(n){case u.ColumnType.STRING:return e[t]=String(r),!0;case u.ColumnType.NUMBER:return!!(0,u.isNumber)(r)&&(e[t]=parseFloat(r),!0);case u.ColumnType.BOOLEAN:return!!(0,u.isBoolean)(r)&&(e[t]=(0,u.toBoolean)(r),!0);default:throw new Error("Unexpected column type ".concat(n))}}(t,i,o),n[e]=JSON.stringify(t)}),r||a({type:p.WarningType.CANNOT_CONVERT_COLUMN_TYPE,msg:'Not all values in column "'.concat(i,'" could be converted to type "').concat(o,'".')}),s.set(n)}).then(t,a)},o.importCsv=function(t,e,n,r){(function(e){return new Promise(function(n,r){(0,i.default)(e,{columns:!0},function(e,t){if(e)return r(e);n(t)})}).then(function(e){var i={};return e.forEach(function(e,t){var n=t+1;for(var r in e)e[r]=(0,u.castValue)(e[r],!0);e.id=n,i[n]=JSON.stringify(e)}),i})})(e).then(function(e){return function(n){return(0,c.loadConfig)().then(function(t){return Object.keys(n).length>t.maxTableRows?Promise.reject({type:p.WarningType.IMPORT_FAILED,msg:"Import failed because the data is too large. "+"A table may only contain ".concat(t.maxTableRows," rows.")}):Object.keys(n).some(function(e){return n[e].length>t.maxRecordSize})?Promise.reject({type:p.WarningType.IMPORT_FAILED,msg:"Import failed because one of of the records is too large. "+"The maximum allowable size is ".concat(t.maxRecordSize," bytes.")}):n})}(e)}).then(function(e){return S(t,e)}).then(n,r)};var _=o;t.default=_},,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u=a(n(1)),r=n(9),i=a(n(0)),o=a(n(15)),c=a(n(2208)),l=n(495),p=a(n(1340));function a(e){return e&&e.__esModule?e:{default:e}}var f={container:{position:"relative"},main:{backgroundColor:"white",borderRadius:10,margin:"5px 0",paddingTop:5,paddingBottom:5,paddingLeft:10,paddingRight:10,position:"relative",borderStyle:"dashed",borderWidth:1},minecraft:{backgroundColor:"#3B3B3B",borderRadius:4,borderWidth:0},withAudioControls:{paddingRight:76},audioControls:{position:"absolute",top:7,right:12}},d={wrapper:{position:"relative"},button:{height:"32px"},buttonImg:{lineHeight:"32px",fontSize:20}},s=function(e){var t=e.children,n=e.isMinecraft,r=e.skinId,i=e.borderColor,o=e.ttsUrl,a=e.ttsMessage;i=i||"white";var s=e.textToSpeechEnabled&&(o||a);return u.default.createElement("div",{style:f.container},u.default.createElement("div",{style:[f.main,n&&f.minecraft,s&&f.withAudioControls,{borderColor:i}]},t,(0,l.shouldDisplayChatTips)(r)&&u.default.createElement(c.default,{color:i})),s&&u.default.createElement("div",{style:f.audioControls},u.default.createElement(p.default,{src:o,message:a,style:d})))};s.propTypes={borderColor:i.default.string,children:i.default.arrayOf(i.default.node).isRequired,isMinecraft:i.default.bool,skinId:i.default.string,ttsUrl:i.default.string,ttsMessage:i.default.string,textToSpeechEnabled:i.default.bool};var h=(0,r.connect)(function(e){return{skinId:e.pageConstants.skinId,isMinecraft:!!e.pageConstants.isMinecraft,textToSpeechEnabled:e.pageConstants.textToSpeechEnabled||e.pageConstants.isK1}})((0,o.default)(s));t.default=h,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u=i(n(134)),c=i(n(1)),r=i(n(0)),l=i(n(356));function i(e){return e&&e.__esModule?e:{default:e}}var o=function(e,t){var n=e.name,r=e.dimmed,i=e.styles,o=t.theme,a=(0,l.default)("ObjectName",o),s=(0,u.default)({},a.base,r?a.dimmed:{},i);return c.default.createElement("span",{style:s},n)};o.propTypes={name:r.default.string,dimmed:r.default.bool},o.defaultProps={dimmed:!1},o.contextTypes={theme:r.default.oneOfType([r.default.string,r.default.object])},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i(n(303)),u=i(n(134)),c=i(n(1)),r=i(n(0)),l=i(n(356));function i(e){return e&&e.__esModule?e:{default:e}}var o=function(e,t){var n=e.object,r=e.styles,i=t.theme,o=(0,l.default)("ObjectValue",i),a=function(e){return(0,u.default)({},o[e],r)};switch(void 0===n?"undefined":(0,s.default)(n)){case"number":return c.default.createElement("span",{style:a("objectValueNumber")},String(n));case"string":return c.default.createElement("span",{style:a("objectValueString")},'"',n,'"');case"boolean":return c.default.createElement("span",{style:a("objectValueBoolean")},String(n));case"undefined":return c.default.createElement("span",{style:a("objectValueUndefined")},"undefined");case"object":return null===n?c.default.createElement("span",{style:a("objectValueNull")},"null"):n instanceof Date?c.default.createElement("span",null,n.toString()):n instanceof RegExp?c.default.createElement("span",{style:a("objectValueRegExp")},n.toString()):Array.isArray(n)?c.default.createElement("span",null,"Array["+n.length+"]"):n.constructor?"function"==typeof n.constructor.isBuffer&&n.constructor.isBuffer(n)?c.default.createElement("span",null,"Buffer["+n.length+"]"):c.default.createElement("span",null,n.constructor.name):c.default.createElement("span",null,"Object");case"function":return c.default.createElement("span",null,c.default.createElement("span",{style:a("objectValueFunctionKeyword")},"function"),c.default.createElement("span",{style:a("objectValueFunctionName")},"Â ",n.name,"()"));case"symbol":return c.default.createElement("span",{style:a("objectValueSymbol")},n.toString());default:return c.default.createElement("span",null)}};o.propTypes={object:r.default.any},o.contextTypes={theme:r.default.oneOfType([r.default.string,r.default.object])},t.default=o},function(e,t,n){"use strict";(function(n){e.exports={isNode:void 0!==n,newBuffer:function(e,t){return new n(e,t)},isBuffer:function(e){return n.isBuffer(e)},isStream:function(e){return e&&"function"==typeof e.on&&"function"==typeof e.pause&&"function"==typeof e.resume}}}).call(this,n(83).Buffer)},function(e,t,n){var o=n(753);e.exports=function(r,i,e){if(o(r),void 0===i)return r;switch(e){case 1:return function(e){return r.call(i,e)};case 2:return function(e,t){return r.call(i,e,t)};case 3:return function(e,t,n){return r.call(i,e,t,n)}}return function(){return r.apply(i,arguments)}}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t,n){var r=n(2305),i=n(2306),o=n(2307),a=n(2308),s=n(2309);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,e.exports=u},function(e,t,n){var r=n(1135);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},function(e,t,n){var r=n(500)(Object,"create");e.exports=r},function(e,t,n){var r=n(2323);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},function(e,t,n){var r=n(2336),i=n(1136),o=n(2337),a=n(2338),s=n(2339),u=n(650),c=n(1376),l="[object Map]",p="[object Promise]",f="[object Set]",d="[object WeakMap]",h="[object DataView]",v=c(r),g=c(i),m=c(o),y=c(a),b=c(s),w=u;(r&&w(new r(new ArrayBuffer(1)))!=h||i&&w(new i)!=l||o&&w(o.resolve())!=p||a&&w(new a)!=f||s&&w(new s)!=d)&&(w=function(e){var t=u(e),n="[object Object]"==t?e.constructor:void 0,r=n?c(n):"";if(r)switch(r){case v:return h;case g:return l;case m:return p;case y:return f;case b:return d}return t}),e.exports=w},function(e,t,n){var r=n(297),i=n(1142),o=n(2343),a=n(2346);e.exports=function(e,t){return r(e)?e:i(e,t)?[e]:o(a(e))}},function(e,t,n){var r=n(650),i=n(361);e.exports=function(e){return"symbol"==typeof e||i(e)&&"[object Symbol]"==r(e)}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}},function(e,t,n){var r=n(359).f,i=n(499),o=n(199)("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,o)&&r(e,o,{configurable:!0,value:t})}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,n){"use strict";var i,r,o,a=n(2397),s="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_-";function u(){o=!1}function c(e){if(e){if(e!==i){if(e.length!==s.length)throw new Error("Custom alphabet for shortid must be "+s.length+" unique characters. You submitted "+e.length+" characters: "+e);var t=e.split("").filter(function(e,t,n){return t!==n.lastIndexOf(e)});if(t.length)throw new Error("Custom alphabet for shortid must be "+s.length+" unique characters. These characters were not unique: "+t.join(", "));i=e,u()}}else i!==s&&(i=s,u())}function l(){return o||(o=function(){i||c(s);for(var e,t=i.split(""),n=[],r=a.nextValue();0<t.length;)r=a.nextValue(),e=Math.floor(r*t.length),n.push(t.splice(e,1)[0]);return n.join("")}())}e.exports={characters:function(e){return c(e),i},seed:function(e){a.seed(e),r!==e&&(u(),r=e)},lookup:function(e){return l()[e]},shuffled:l}},function(e,t,n){var c=n(1150),l=n(1126);e.exports=function(e,t,n,r){var i=!n;n||(n={});for(var o=-1,a=t.length;++o<a;){var s=t[o],u=r?r(n[s],e[s],s,n,e):void 0;void 0===u&&(u=e[s]),i?l(n,s,u):c(n,s,u)}return n}},function(e,t,n){var o=n(769);e.exports=function(r,i,e){if(o(r),void 0===i)return r;switch(e){case 1:return function(e){return r.call(i,e)};case 2:return function(e,t){return r.call(i,e,t)};case 3:return function(e,t,n){return r.call(i,e,t,n)}}return function(){return r.apply(i,arguments)}}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){var r=n(501),i=n(2458),o=n(2459),a=Object.defineProperty;t.f=n(657)?Object.defineProperty:function(e,t,n){if(r(e),t=o(t,!0),r(n),i)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.r(t),n.d(t,"standardizeDependencies",function(){return u}),n.d(t,"convertDependencyFormat",function(){return c});var r=n(504),i=n.n(r),o=n(1162),a=n.n(o),s=n(502),u=function(e,t){return c(e,Object(s.sdkSupportsFeature)(t,"PROJECT_DEPENDENCIES"))},c=function(e,t){var n=l(e);return t?n?p(e):e:n?e:f(e)},l=function(t){return i()(t).every(function(e){return"string"==typeof t[e]})},p=function(e){return a()(e,function(e){var t={version:e,isUserSpecified:!0};return e.resolved&&(t.resolved=e.resolved),t})},f=function(e){return a()(e,function(e){return e.version})}},function(pe,fe,e){(function(e){var p;fe=pe.exports=q,p="object"==typeof e&&e.env&&e.env.NODE_DEBUG&&/\bsemver\b/i.test(e.env.NODE_DEBUG)?function(){var e=Array.prototype.slice.call(arguments,0);e.unshift("SEMVER"),console.log.apply(console,e)}:function(){},fe.SEMVER_SPEC_VERSION="2.0.0";var r=256,i=Number.MAX_SAFE_INTEGER||9007199254740991,o=fe.re=[],t=fe.src=[],n=0,a=n++;t[a]="0|[1-9]\\d*";var s=n++;t[s]="[0-9]+";var u=n++;t[u]="\\d*[a-zA-Z-][a-zA-Z0-9-]*";var c=n++;t[c]="("+t[a]+")\\.("+t[a]+")\\.("+t[a]+")";var l=n++;t[l]="("+t[s]+")\\.("+t[s]+")\\.("+t[s]+")";var f=n++;t[f]="(?:"+t[a]+"|"+t[u]+")";var d=n++;t[d]="(?:"+t[s]+"|"+t[u]+")";var h=n++;t[h]="(?:-("+t[f]+"(?:\\."+t[f]+")*))";var v=n++;t[v]="(?:-?("+t[d]+"(?:\\."+t[d]+")*))";var g=n++;t[g]="[0-9A-Za-z-]+";var m=n++;t[m]="(?:\\+("+t[g]+"(?:\\."+t[g]+")*))";var y=n++,b="v?"+t[c]+t[h]+"?"+t[m]+"?";t[y]="^"+b+"$";var w="[v=\\s]*"+t[l]+t[v]+"?"+t[m]+"?",S=n++;t[S]="^"+w+"$";var _=n++;t[_]="((?:<|>)?=?)";var C=n++;t[C]=t[s]+"|x|X|\\*";var E=n++;t[E]=t[a]+"|x|X|\\*";var x=n++;t[x]="[v=\\s]*("+t[E]+")(?:\\.("+t[E]+")(?:\\.("+t[E]+")(?:"+t[h]+")?"+t[m]+"?)?)?";var O=n++;t[O]="[v=\\s]*("+t[C]+")(?:\\.("+t[C]+")(?:\\.("+t[C]+")(?:"+t[v]+")?"+t[m]+"?)?)?";var k=n++;t[k]="^"+t[_]+"\\s*"+t[x]+"$";var P=n++;t[P]="^"+t[_]+"\\s*"+t[O]+"$";var T=n++;t[T]="(?:~>?)";var R=n++;t[R]="(\\s*)"+t[T]+"\\s+",o[R]=new RegExp(t[R],"g");var A=n++;t[A]="^"+t[T]+t[x]+"$";var I=n++;t[I]="^"+t[T]+t[O]+"$";var M=n++;t[M]="(?:\\^)";var N=n++;t[N]="(\\s*)"+t[M]+"\\s+",o[N]=new RegExp(t[N],"g");var D=n++;t[D]="^"+t[M]+t[x]+"$";var j=n++;t[j]="^"+t[M]+t[O]+"$";var L=n++;t[L]="^"+t[_]+"\\s*("+w+")$|^$";var B=n++;t[B]="^"+t[_]+"\\s*("+b+")$|^$";var F=n++;t[F]="(\\s*)"+t[_]+"\\s*("+w+"|"+t[x]+")",o[F]=new RegExp(t[F],"g");var z=n++;t[z]="^\\s*("+t[x]+")\\s+-\\s+("+t[x]+")\\s*$";var U=n++;t[U]="^\\s*("+t[O]+")\\s+-\\s+("+t[O]+")\\s*$";var H=n++;t[H]="(<|>)?=?\\s*\\*";for(var W=0;W<34;W++)p(W,t[W]),o[W]||(o[W]=new RegExp(t[W]));function V(e,t){if(e instanceof q)return e;if("string"!=typeof e)return null;if(e.length>r)return null;if(!(t?o[S]:o[y]).test(e))return null;try{return new q(e,t)}catch(e){return null}}function q(e,t){if(e instanceof q){if(e.loose===t)return e;e=e.version}else if("string"!=typeof e)throw new TypeError("Invalid Version: "+e);if(e.length>r)throw new TypeError("version is longer than "+r+" characters");if(!(this instanceof q))return new q(e,t);p("SemVer",e,t),this.loose=t;var n=e.trim().match(t?o[S]:o[y]);if(!n)throw new TypeError("Invalid Version: "+e);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>i||this.major<0)throw new TypeError("Invalid major version");if(this.minor>i||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>i||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(function(e){if(/^[0-9]+$/.test(e)){var t=+e;if(0<=t&&t<i)return t}return e}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}fe.parse=V,fe.valid=function(e,t){var n=V(e,t);return n?n.version:null},fe.clean=function(e,t){var n=V(e.trim().replace(/^[=v]+/,""),t);return n?n.version:null},(fe.SemVer=q).prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version},q.prototype.toString=function(){return this.version},q.prototype.compare=function(e){return p("SemVer.compare",this.version,this.loose,e),e instanceof q||(e=new q(e,this.loose)),this.compareMain(e)||this.comparePre(e)},q.prototype.compareMain=function(e){return e instanceof q||(e=new q(e,this.loose)),K(this.major,e.major)||K(this.minor,e.minor)||K(this.patch,e.patch)},q.prototype.comparePre=function(e){if(e instanceof q||(e=new q(e,this.loose)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;var t=0;do{var n=this.prerelease[t],r=e.prerelease[t];if(p("prerelease compare",t,n,r),void 0===n&&void 0===r)return 0;if(void 0===r)return 1;if(void 0===n)return-1;if(n!==r)return K(n,r)}while(++t)},q.prototype.inc=function(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t),this.inc("pre",t);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(var n=this.prerelease.length;0<=--n;)"number"==typeof this.prerelease[n]&&(this.prerelease[n]++,n=-2);-1===n&&this.prerelease.push(0)}t&&(this.prerelease[0]===t?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error("invalid increment argument: "+e)}return this.format(),this.raw=this.version,this},fe.inc=function(e,t,n,r){"string"==typeof n&&(r=n,n=void 0);try{return new q(e,n).inc(t,r).version}catch(e){return null}},fe.diff=function(e,t){{if(Q(e,t))return null;var n=V(e),r=V(t);if(n.prerelease.length||r.prerelease.length){for(var i in n)if(("major"===i||"minor"===i||"patch"===i)&&n[i]!==r[i])return"pre"+i;return"prerelease"}for(var i in n)if(("major"===i||"minor"===i||"patch"===i)&&n[i]!==r[i])return i}},fe.compareIdentifiers=K;var G=/^[0-9]+$/;function K(e,t){var n=G.test(e),r=G.test(t);return n&&r&&(e=+e,t=+t),n&&!r?-1:r&&!n?1:e<t?-1:t<e?1:0}function X(e,t,n){return new q(e,n).compare(t)}function Y(e,t,n){return X(t,e,n)}function J(e,t,n){return 0<X(e,t,n)}function $(e,t,n){return X(e,t,n)<0}function Q(e,t,n){return 0===X(e,t,n)}function Z(e,t,n){return 0!==X(e,t,n)}function ee(e,t,n){return 0<=X(e,t,n)}function te(e,t,n){return X(e,t,n)<=0}function ne(e,t,n,r){var i;switch(t){case"===":"object"==typeof e&&(e=e.version),"object"==typeof n&&(n=n.version),i=e===n;break;case"!==":"object"==typeof e&&(e=e.version),"object"==typeof n&&(n=n.version),i=e!==n;break;case"":case"=":case"==":i=Q(e,n,r);break;case"!=":i=Z(e,n,r);break;case">":i=J(e,n,r);break;case">=":i=ee(e,n,r);break;case"<":i=$(e,n,r);break;case"<=":i=te(e,n,r);break;default:throw new TypeError("Invalid operator: "+t)}return i}function re(e,t){if(e instanceof re){if(e.loose===t)return e;e=e.value}if(!(this instanceof re))return new re(e,t);p("comparator",e,t),this.loose=t,this.parse(e),this.semver===ie?this.value="":this.value=this.operator+this.semver.version,p("comp",this)}fe.rcompareIdentifiers=function(e,t){return K(t,e)},fe.major=function(e,t){return new q(e,t).major},fe.minor=function(e,t){return new q(e,t).minor},fe.patch=function(e,t){return new q(e,t).patch},fe.compare=X,fe.compareLoose=function(e,t){return X(e,t,!0)},fe.rcompare=Y,fe.sort=function(e,n){return e.sort(function(e,t){return fe.compare(e,t,n)})},fe.rsort=function(e,n){return e.sort(function(e,t){return fe.rcompare(e,t,n)})},fe.gt=J,fe.lt=$,fe.eq=Q,fe.neq=Z,fe.gte=ee,fe.lte=te,fe.cmp=ne,fe.Comparator=re;var ie={};function oe(e,t){if(e instanceof oe&&e.loose===t)return e;if(!(this instanceof oe))return new oe(e,t);if(this.loose=t,this.raw=e,this.set=e.split(/\s*\|\|\s*/).map(function(e){return this.parseRange(e.trim())},this).filter(function(e){return e.length}),!this.set.length)throw new TypeError("Invalid SemVer Range: "+e);this.format()}function ae(e){return!e||"x"===e.toLowerCase()||"*"===e}function se(e,t,n,r,i,o,a,s,u,c,l,p,f){return((t=ae(n)?"":ae(r)?">="+n+".0.0":ae(i)?">="+n+"."+r+".0":">="+t)+" "+(s=ae(u)?"":ae(c)?"<"+(+u+1)+".0.0":ae(l)?"<"+u+"."+(+c+1)+".0":p?"<="+u+"."+c+"."+l+"-"+p:"<="+s)).trim()}function ue(e,t){for(var n=0;n<e.length;n++)if(!e[n].test(t))return!1;if(t.prerelease.length){for(n=0;n<e.length;n++)if(p(e[n].semver),e[n].semver!==ie&&0<e[n].semver.prerelease.length){var r=e[n].semver;if(r.major===t.major&&r.minor===t.minor&&r.patch===t.patch)return!0}return!1}return!0}function ce(e,t,n){try{t=new oe(t,n)}catch(e){return!1}return t.test(e)}function le(e,t,n,r){var i,o,a,s,u;switch(e=new q(e,r),t=new oe(t,r),n){case">":i=J,o=te,a=$,s=">",u=">=";break;case"<":i=$,o=ee,a=J,s="<",u="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(ce(e,t,r))return!1;for(var c=0;c<t.set.length;++c){var l=t.set[c],p=null,f=null;if(l.forEach(function(e){e.semver===ie&&(e=new re(">=0.0.0")),p=p||e,f=f||e,i(e.semver,p.semver,r)?p=e:a(e.semver,f.semver,r)&&(f=e)}),p.operator===s||p.operator===u)return!1;if((!f.operator||f.operator===s)&&o(e,f.semver))return!1;if(f.operator===u&&a(e,f.semver))return!1}return!0}re.prototype.parse=function(e){var t=this.loose?o[L]:o[B],n=e.match(t);if(!n)throw new TypeError("Invalid comparator: "+e);this.operator=n[1],"="===this.operator&&(this.operator=""),n[2]?this.semver=new q(n[2],this.loose):this.semver=ie},re.prototype.toString=function(){return this.value},re.prototype.test=function(e){return p("Comparator.test",e,this.loose),this.semver===ie||("string"==typeof e&&(e=new q(e,this.loose)),ne(e,this.operator,this.semver,this.loose))},(fe.Range=oe).prototype.format=function(){return this.range=this.set.map(function(e){return e.join(" ").trim()}).join("||").trim(),this.range},oe.prototype.toString=function(){return this.range},oe.prototype.parseRange=function(e){var t=this.loose;e=e.trim(),p("range",e,t);var n=t?o[U]:o[z];e=e.replace(n,se),p("hyphen replace",e),e=e.replace(o[F],"$1$2$3"),p("comparator trim",e,o[F]),e=(e=(e=e.replace(o[R],"$1~")).replace(o[N],"$1^")).split(/\s+/).join(" ");var r=t?o[L]:o[B],i=e.split(" ").map(function(e){return function(e,t){return p("comp",e),e=function(e,t){return e.trim().split(/\s+/).map(function(e){return function(a,e){p("caret",a,e);var t=e?o[j]:o[D];return a.replace(t,function(e,t,n,r,i){var o;return p("caret",a,e,t,n,r,i),o=ae(t)?"":ae(n)?">="+t+".0.0 <"+(+t+1)+".0.0":ae(r)?"0"===t?">="+t+"."+n+".0 <"+t+"."+(+n+1)+".0":">="+t+"."+n+".0 <"+(+t+1)+".0.0":i?(p("replaceCaret pr",i),"-"!==i.charAt(0)&&(i="-"+i),"0"===t?"0"===n?">="+t+"."+n+"."+r+i+" <"+t+"."+n+"."+(+r+1):">="+t+"."+n+"."+r+i+" <"+t+"."+(+n+1)+".0":">="+t+"."+n+"."+r+i+" <"+(+t+1)+".0.0"):(p("no pr"),"0"===t?"0"===n?">="+t+"."+n+"."+r+" <"+t+"."+n+"."+(+r+1):">="+t+"."+n+"."+r+" <"+t+"."+(+n+1)+".0":">="+t+"."+n+"."+r+" <"+(+t+1)+".0.0"),p("caret return",o),o})}(e,t)}).join(" ")}(e,t),p("caret",e),e=function(e,t){return e.trim().split(/\s+/).map(function(e){return function(a,e){var t=e?o[I]:o[A];return a.replace(t,function(e,t,n,r,i){var o;return p("tilde",a,e,t,n,r,i),o=ae(t)?"":ae(n)?">="+t+".0.0 <"+(+t+1)+".0.0":ae(r)?">="+t+"."+n+".0 <"+t+"."+(+n+1)+".0":i?(p("replaceTilde pr",i),"-"!==i.charAt(0)&&(i="-"+i),">="+t+"."+n+"."+r+i+" <"+t+"."+(+n+1)+".0"):">="+t+"."+n+"."+r+" <"+t+"."+(+n+1)+".0",p("tilde return",o),o})}(e,t)}).join(" ")}(e,t),p("tildes",e),e=function(e,t){return p("replaceXRanges",e,t),e.split(/\s+/).map(function(e){return function(l,e){l=l.trim();var t=e?o[P]:o[k];return l.replace(t,function(e,t,n,r,i,o){p("xRange",l,e,t,n,r,i,o);var a=ae(n),s=a||ae(r),u=s||ae(i),c=u;return"="===t&&c&&(t=""),a?e=">"===t||"<"===t?"<0.0.0":"*":t&&c?(s&&(r=0),u&&(i=0),">"===t?(t=">=",s?(n=+n+1,i=r=0):u&&(r=+r+1,i=0)):"<="===t&&(t="<",s?n=+n+1:r=+r+1),e=t+n+"."+r+"."+i):s?e=">="+n+".0.0 <"+(+n+1)+".0.0":u&&(e=">="+n+"."+r+".0 <"+n+"."+(+r+1)+".0"),p("xRange return",e),e})}(e,t)}).join(" ")}(e,t),p("xrange",e),e=function(e,t){return p("replaceStars",e,t),e.trim().replace(o[H],"")}(e,t),p("stars",e),e}(e,t)}).join(" ").split(/\s+/);return this.loose&&(i=i.filter(function(e){return!!e.match(r)})),i=i.map(function(e){return new re(e,t)})},fe.toComparators=function(e,t){return new oe(e,t).set.map(function(e){return e.map(function(e){return e.value}).join(" ").trim().split(" ")})},oe.prototype.test=function(e){if(!e)return!1;"string"==typeof e&&(e=new q(e,this.loose));for(var t=0;t<this.set.length;t++)if(ue(this.set[t],e))return!0;return!1},fe.satisfies=ce,fe.maxSatisfying=function(e,t,n){return e.filter(function(e){return ce(e,t,n)}).sort(function(e,t){return Y(e,t,n)})[0]||null},fe.minSatisfying=function(e,t,n){return e.filter(function(e){return ce(e,t,n)}).sort(function(e,t){return X(e,t,n)})[0]||null},fe.validRange=function(e,t){try{return new oe(e,t).range||"*"}catch(e){return null}},fe.ltr=function(e,t,n){return le(e,t,"<",n)},fe.gtr=function(e,t,n){return le(e,t,">",n)},fe.outside=le,fe.prerelease=function(e,t){var n=V(e,t);return n&&n.prerelease.length?n.prerelease:null}}).call(this,e(29))},,function(e,t,n){"use strict";t.byteLength=function(e){return 3*e.length/4-p(e)},t.toByteArray=function(e){var t,n,r,i,o,a,s=e.length;o=p(e),a=new l(3*s/4-o),r=0<o?s-4:s;var u=0;for(n=t=0;t<r;t+=4,n+=3)i=c[e.charCodeAt(t)]<<18|c[e.charCodeAt(t+1)]<<12|c[e.charCodeAt(t+2)]<<6|c[e.charCodeAt(t+3)],a[u++]=i>>16&255,a[u++]=i>>8&255,a[u++]=255&i;2===o?(i=c[e.charCodeAt(t)]<<2|c[e.charCodeAt(t+1)]>>4,a[u++]=255&i):1===o&&(i=c[e.charCodeAt(t)]<<10|c[e.charCodeAt(t+1)]<<4|c[e.charCodeAt(t+2)]>>2,a[u++]=i>>8&255,a[u++]=255&i);return a},t.fromByteArray=function(e){for(var t,n=e.length,r=n%3,i="",o=[],a=0,s=n-r;a<s;a+=16383)o.push(f(e,a,s<a+16383?s:a+16383));1==r?(t=e[n-1],i+=u[t>>2],i+=u[t<<4&63],i+="=="):2==r&&(t=(e[n-2]<<8)+e[n-1],i+=u[t>>10],i+=u[t>>4&63],i+=u[t<<2&63],i+="=");return o.push(i),o.join("")};for(var u=[],c=[],l="undefined"!=typeof Uint8Array?Uint8Array:Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,o=r.length;i<o;++i)u[i]=r[i],c[r.charCodeAt(i)]=i;function p(e){var t=e.length;if(0<t%4)throw new Error("Invalid string. Length must be a multiple of 4");return"="===e[t-2]?2:"="===e[t-1]?1:0}function f(e,t,n){for(var r,i,o=[],a=t;a<n;a+=3)r=(e[a]<<16)+(e[a+1]<<8)+e[a+2],o.push(u[(i=r)>>18&63]+u[i>>12&63]+u[i>>6&63]+u[63&i]);return o.join("")}c["-".charCodeAt(0)]=62,c["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,n,r,i){var o,a,s=8*i-r-1,u=(1<<s)-1,c=u>>1,l=-7,p=n?i-1:0,f=n?-1:1,d=e[t+p];for(p+=f,o=d&(1<<-l)-1,d>>=-l,l+=s;0<l;o=256*o+e[t+p],p+=f,l-=8);for(a=o&(1<<-l)-1,o>>=-l,l+=r;0<l;a=256*a+e[t+p],p+=f,l-=8);if(0===o)o=1-c;else{if(o===u)return a?NaN:1/0*(d?-1:1);a+=Math.pow(2,r),o-=c}return(d?-1:1)*a*Math.pow(2,o-r)},t.write=function(e,t,n,r,i,o){var a,s,u,c=8*o-i-1,l=(1<<c)-1,p=l>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:o-1,h=r?1:-1,v=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=l):(a=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-a))<1&&(a--,u*=2),2<=(t+=1<=a+p?f/u:f*Math.pow(2,1-p))*u&&(a++,u/=2),l<=a+p?(s=0,a=l):1<=a+p?(s=(t*u-1)*Math.pow(2,i),a+=p):(s=t*Math.pow(2,p-1)*Math.pow(2,i),a=0));8<=i;e[n+d]=255&s,d+=h,s/=256,i-=8);for(a=a<<i|s,c+=i;0<c;e[n+d]=255&a,d+=h,a/=256,c-=8);e[n+d-h]|=128*v}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.init=function(e){if("function"!=typeof(o=e).showRateLimitAlert)throw"No `showRateLimitAlert` set for Firebase"},t.loadConfig=function(){if(u)return Promise.resolve(u);var t=p();return t.once("value").then(function(e){return l(e.val()),t.off(),t.on("value",function(e){return l(e.val())}),Promise.resolve(u)})},t.resetConfigForTesting=function(){p().off(),p().set(null)},t.getConfigRef=p,t.getRecordsRef=function(e){return d(f(),"storage/tables/".concat(e,"/records"))},t.getProjectCountersRef=function(e){return d(f(),"counters/tables/".concat(e))},t.getSharedDatabase=function(){return d(h(c),"v3/channels/shared")},t.getProjectDatabase=f,t.getPathRef=d,t.unescapeFirebaseKey=function(e){return e.replace(/%2E/g,".")},t.isInitialized=function(){return!!a},t.fixFirebaseKey=function(e){return e.replace(v,"-")},t.validateFirebaseKey=function(e){if(0===e.length)throw new Error("The name must not be empty.");if(768<e.length)throw new Error('The name "'.concat(e,'" is too long.'));for(var t=0;t<e.length;t++){if(v.test(e.charAt(t)))throw new Error('The name "'.concat(e,'" contains an illegal character "').concat(e.charAt(t),'".')+' The characters "$", "#", "[", "]", and "/" are not allowed.');if(e.charCodeAt(t)<32||127===e.charCodeAt(t))throw new Error("The name ".concat(e," contains an illegal character code ").concat(e.charCodeAt(t)))}},t.showRateLimitAlert=function(){o.showRateLimitAlert()};var r,i=(r=n(1223))&&r.__esModule?r:{default:r};var o,a,s,u,c="cdo-v3-shared";function l(e){if(!function(e){return e&&0<e.maxTableCount&&0<e.maxTableRows&&0<e.maxRecordSize&&0<e.maxPropertySize&&e.limits&&0<Object.keys(e.limits).length}(e))throw new Error("invalid firebase config: "+JSON.stringify(e));u=e}function p(){return d(h(o.firebaseName),"v3/config/channels")}function f(){var e="v3/channels/".concat(o.channelId).concat(o.firebaseChannelIdSuffix);return d(h(o.firebaseName),e)}function d(e,t){return e.child(function(e){return e.replace(/\./g,"%2E")}(t))}function h(e){var t=e===c?s:a;if(!t){if(!e)throw new Error("Error connecting to Firebase: Firebase name not specified");var n=e===c?o.firebaseSharedAuthToken:o.firebaseAuthToken;if(!n)throw new Error("Error connecting to Firebase: CDO.firebase_shared_secret and/or CDO.firebase_secret not specified");var r="https://".concat(e,".firebaseio.com");t=new i.default(r),n&&t.authWithCustomToken(n,function(e,t){if(e)throw new Error("error authenticating to Firebase: ".concat(e))}),e===c?s=t:a=t}return t}var v=/[\$#\[\]\/]/g},function(e,t,n){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.injectExecuteCmd=function(e){i=e},t.executors=t.commands=void 0;var r,i,o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=l();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}n.default=e,t&&t.set(e,n);return n}(n(385)),s=n(717),u=n(1875),c=(r=n(306))&&r.__esModule?r:{default:r};function l(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return l=function(){return e},e}var p={playSound:function(e){(0,s.apiValidateType)(e,"playSound","url",e.url,"string"),(0,s.apiValidateType)(e,"playSound","loop",e.loop,"boolean",s.OPTIONAL),(0,s.apiValidateType)(e,"playSound","callback",e.callback,"function",s.OPTIONAL),(0,s.apiValidateType)(e,"playSound","onEnded",e.onEnded,"function",s.OPTIONAL);var t=o.fixPath(e.url);c.default.getSingleton().isPlaying(t)&&e.callback&&e.callback(!1);var n=!1;"file:"===window.location.protocol&&(n=!0),c.default.getSingleton().playURL(t,{volume:1,loop:!!e.loop,forceHTML5:n,allowHTML5Mobile:!0,callback:e.callback,onEnded:e.onEnded})},stopSound:function(e){if((0,s.apiValidateType)(e,"stopSound","url",e.url,"string",s.OPTIONAL),e.url){var t=o.fixPath(e.url);c.default.getSingleton().isPlaying(t)&&c.default.getSingleton().stopLoopingAudio(t)}else c.default.getSingleton().stopAllAudio()},playSpeech:function(e){(0,s.apiValidateType)(e,"playSpeech","text",e.text,"string"),(0,s.apiValidateType)(e,"playSpeech","gender",e.gender,"string"),(0,s.apiValidateType)(e,"playSpeech","language",e.language,"string",s.OPTIONAL),(0,u.textToSpeech)(e.text,e.gender,e.language,appOptions.azureSpeechServiceToken,appOptions.azureSpeechServiceRegion,appOptions.azureSpeechServiceLanguages)}};t.commands=p;var f={playSound:function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],n=2<arguments.length?arguments[2]:void 0;return i(null,"playSound",{url:e,loop:t,callback:n})},stopSound:function(e){return i(null,"stopSound",{url:e})},playSpeech:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"en-US";return i(null,"playSpeech",{text:e,gender:t,language:n})}};t.executors=f},function(e,t,n){var r=n(816);e.exports=function(e){return Object(r(e))}},,,,,,,function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){var r=n(307).f,i=n(339),o=n(204)("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,o)&&r(e,o,{configurable:!0,value:t})}},function(e,t,n){var i=n(451);e.exports=function(e,t){if(!i(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!i(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!i(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!i(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(0<e?r:n)(e)}},function(e,t,n){var r=n(819)("keys"),i=n(674);e.exports=function(e){return r[e]||(r[e]=i(e))}},function(e,t,n){var r=n(182),i=n(305),o="__core-js_shared__",a=i[o]||(i[o]={});(e.exports=function(e,t){return a[e]||(a[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:n(673)?"pure":"global",copyright:"Â© 2019 Denis Pushkarev (zloirock.ru)"})},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,r){var i=r(347),o=r(1734),a=r(820),s=r(818)("IE_PROTO"),u=function(){},c="prototype",l=function(){var e,t=r(1191)("iframe"),n=a.length;for(t.style.display="none",r(1719).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),l=e.F;n--;)delete l[c][a[n]];return l()};e.exports=Object.create||function(e,t){var n;return null!==e?(u[c]=i(e),n=new u,u[c]=null,n[s]=e):n=l(),void 0===t?n:o(n,t)}},function(e,t,n){t.f=n(204)},function(e,t,n){var r=n(305),i=n(182),o=n(673),a=n(823),s=n(307).f;e.exports=function(e){var t=i.Symbol||(i.Symbol=o?{}:r.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:a.f(e)})}},function(e,t,n){n(1735);for(var r=n(305),i=n(452),o=n(505),a=n(204)("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),u=0;u<s.length;u++){var c=s[u],l=r[c],p=l&&l.prototype;p&&!p[a]&&i(p,a,c),o[c]=o.Array}},,,,,,,,,,,function(w,e,S){"use strict";(function(e,t){w.exports=f;var a=S(547),s=!e.browser&&-1<["v0.10","v0.9."].indexOf(e.version.slice(0,5))?t:a,u=S(83).Buffer;f.WritableState=p;var n=S(262);n.inherits=S(115);var r,i={deprecate:S(1267)};!function(){try{r=S(331)}catch(e){}finally{r||(r=S(52).EventEmitter)}}();var o;u=S(83).Buffer;function c(){}function l(e,t,n){this.chunk=e,this.encoding=t,this.callback=n,this.next=null}function p(e,t){o=o||S(342),e=e||{},this.objectMode=!!e.objectMode,t instanceof o&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var n=e.highWaterMark,r=this.objectMode?16:16384;this.highWaterMark=n||0===n?n:r,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1;var i=(this.finished=!1)===e.decodeStrings;this.decodeStrings=!i,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var n=e._writableState,r=n.sync,i=n.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(n),t)!function(e,t,n,r,i){--t.pendingcb,n?a(i,r):i(r);e._writableState.errorEmitted=!0,e.emit("error",r)}(e,n,r,t,i);else{var o=g(n);o||n.corked||n.bufferProcessing||!n.bufferedRequest||v(e,n),r?s(h,e,n,o,i):h(e,n,o,i)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new b(this),this.corkedRequestsFree.next=new b(this)}function f(e){if(o=o||S(342),!(this instanceof f||this instanceof o))return new f(e);this._writableState=new p(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev)),r.call(this)}function d(e,t,n,r,i,o,a){t.writelen=r,t.writecb=a,t.writing=!0,t.sync=!0,n?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function h(e,t,n,r){n||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,r(),y(e,t)}function v(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var r=t.bufferedRequestCount,i=new Array(r),o=t.corkedRequestsFree;o.entry=n;for(var a=0;n;)n=(i[a]=n).next,a+=1;d(e,t,!0,t.length,i,"",o.finish),t.pendingcb++,t.lastBufferedRequest=null,t.corkedRequestsFree=o.next,o.next=null}else{for(;n;){var s=n.chunk,u=n.encoding,c=n.callback;if(d(e,t,!1,t.objectMode?1:s.length,s,u,c),n=n.next,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequestCount=0,t.bufferedRequest=n,t.bufferProcessing=!1}function g(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function m(e,t){t.prefinished||(t.prefinished=!0,e.emit("prefinish"))}function y(e,t){var n=g(t);return n&&(0===t.pendingcb?(m(e,t),t.finished=!0,e.emit("finish")):m(e,t)),n}function b(r){var i=this;this.next=null,this.entry=null,this.finish=function(e){var t=i.entry;for(i.entry=null;t;){var n=t.callback;r.pendingcb--,n(e),t=t.next}r.corkedRequestsFree?r.corkedRequestsFree.next=i:r.corkedRequestsFree=i}}n.inherits(f,r),p.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(p.prototype,"buffer",{get:i.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.")})}catch(e){}}(),f.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe. Not readable."))},f.prototype.write=function(e,t,n){var r=this._writableState,i=!1;return"function"==typeof t&&(n=t,t=null),u.isBuffer(e)?t="buffer":t||(t=r.defaultEncoding),"function"!=typeof n&&(n=c),r.ended?function(e,t){var n=new Error("write after end");e.emit("error",n),a(t,n)}(this,n):function(e,t,n,r){var i=!0;if(!u.isBuffer(n)&&"string"!=typeof n&&null!=n&&!t.objectMode){var o=new TypeError("Invalid non-string/buffer chunk");e.emit("error",o),a(r,o),i=!1}return i}(this,r,e,n)&&(r.pendingcb++,i=function(e,t,n,r,i){n=function(e,t,n){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=new u(t,n)),t}(t,n,r),u.isBuffer(n)&&(r="buffer");var o=t.objectMode?1:n.length;t.length+=o;var a=t.length<t.highWaterMark;a||(t.needDrain=!0);if(t.writing||t.corked){var s=t.lastBufferedRequest;t.lastBufferedRequest=new l(n,r,i),s?s.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else d(e,t,!1,o,n,r,i);return a}(this,r,e,t,n)),i},f.prototype.cork=function(){this._writableState.corked++},f.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||v(this,e))},f.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(-1<["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())))throw new TypeError("Unknown encoding: "+e);this._writableState.defaultEncoding=e},f.prototype._write=function(e,t,n){n(new Error("not implemented"))},f.prototype._writev=null,f.prototype.end=function(e,t,n){var r=this._writableState;"function"==typeof e?(n=e,t=e=null):"function"==typeof t&&(n=t,t=null),null!=e&&this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||function(e,t,n){t.ending=!0,y(e,t),n&&(t.finished?a(n):e.once("finish",n));t.ended=!0,e.writable=!1}(this,r,n)}}).call(this,S(29),S(911).setImmediate)},function(e,t,n){"use strict";e.exports=a;var r=n(342),i=n(262);function o(n){this.afterTransform=function(e,t){return function(e,t,n){var r=e._transformState;r.transforming=!1;var i=r.writecb;if(!i)return e.emit("error",new Error("no writecb in Transform class"));r.writechunk=null,(r.writecb=null)!=n&&e.push(n);i(t);var o=e._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&e._read(o.highWaterMark)}(n,e,t)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function a(e){if(!(this instanceof a))return new a(e);r.call(this,e),this._transformState=new o(this);var t=this;this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.once("prefinish",function(){"function"==typeof this._flush?this._flush(function(e){s(t,e)}):s(t)})}function s(e,t){if(t)return e.emit("error",t);var n=e._writableState,r=e._transformState;if(n.length)throw new Error("calling transform done when ws.length != 0");if(r.transforming)throw new Error("calling transform done when still transforming");return e.push(null)}i.inherits=n(115),i.inherits(a,r),a.prototype.push=function(e,t){return this._transformState.needTransform=!1,r.prototype.push.call(this,e,t)},a.prototype._transform=function(e,t,n){throw new Error("not implemented")},a.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},a.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PlatformEvent=t.EventType=void 0;var r,i,o=n(343);function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}t.EventType=r,(i=r||(t.EventType=r={}))[i.Debug=0]="Debug",i[i.Info=1]="Info",i[i.Warning=2]="Warning",i[i.Error=3]="Error";var s=function(){function e(e,t){this.privName=e,this.privEventId=(0,o.createNoDashGuid)(),this.privEventTime=(new Date).toISOString(),this.privEventType=t,this.privMetadata={}}return function(e,t,n){t&&a(e.prototype,t),n&&a(e,n)}(e,[{key:"name",get:function(){return this.privName}},{key:"eventId",get:function(){return this.privEventId}},{key:"eventTime",get:function(){return this.privEventTime}},{key:"eventType",get:function(){return this.privEventType}},{key:"metadata",get:function(){return this.privMetadata}}]),e}();t.PlatformEvent=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sink=t.Deferred=t.Promise=t.PromiseHelper=t.PromiseResultEventSource=t.PromiseResult=t.PromiseState=void 0;var u,r,l=n(203);function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}t.PromiseState=u,(r=u||(t.PromiseState=u={}))[r.None=0]="None",r[r.Resolved=1]="Resolved",r[r.Rejected=2]="Rejected";var a=function(){function e(e){var t=this;this.throwIfError=function(){if(t.isError)throw t.error},e.on(function(e){t.privIsCompleted||(t.privIsCompleted=!0,t.privIsError=!1,t.privResult=e)},function(e){t.privIsCompleted||(t.privIsCompleted=!0,t.privIsError=!0,t.privError=e)})}return o(e,[{key:"isCompleted",get:function(){return this.privIsCompleted}},{key:"isError",get:function(){return this.privIsError}},{key:"error",get:function(){return this.privError}},{key:"result",get:function(){return this.privResult}}]),e}();t.PromiseResult=a;var c=function(){var n=this;this.setResult=function(e){n.privOnSetResult(e)},this.setError=function(e){n.privOnSetError(e)},this.on=function(e,t){n.privOnSetResult=e,n.privOnSetError=t}};t.PromiseResultEventSource=c;var s=function(){};(t.PromiseHelper=s).whenAll=function(e){if(!e||0===e.length)throw new l.ArgumentNullError("promises");var t=new f,n=[],r=0,i=function(){++r===e.length&&(0===n.length?t.resolve(!0):t.reject(n.join(", ")))},o=!0,a=!1,s=void 0;try{for(var u,c=e[Symbol.iterator]();!(o=(u=c.next()).done);o=!0){u.value.on(function(e){i()},function(e){n.push(e),i()})}}catch(e){a=!0,s=e}finally{try{o||null==c.return||c.return()}finally{if(a)throw s}}return t.promise()},s.fromResult=function(e){var t=new f;return t.resolve(e),t.promise()},s.fromError=function(e){var t=new f;return t.reject(e),t.promise()};var p=function(e){var i=this;this.result=function(){return i.privSink.result},this.continueWith=function(n){if(!n)throw new l.ArgumentNullError("continuationCallback");var r=new f;return i.privSink.on(function(e){try{var t=n(i.privSink.result);r.resolve(t)}catch(e){r.reject(e)}},function(t){try{var e=n(i.privSink.result);r.resolve(e)}catch(e){r.reject("'Error handler for error ".concat(t," threw error ").concat(e,"'"))}}),r.promise()},this.onSuccessContinueWith=function(n){if(!n)throw new l.ArgumentNullError("continuationCallback");var r=new f;return i.privSink.on(function(e){try{var t=n(e);r.resolve(t)}catch(e){r.reject(e)}},function(e){r.reject(e)}),r.promise()},this.continueWithPromise=function(n){if(!n)throw new l.ArgumentNullError("continuationCallback");var r=new f;return i.privSink.on(function(e){try{var t=n(i.privSink.result);if(!t)throw new Error("'Continuation callback did not return promise'");t.on(function(e){r.resolve(e)},function(e){r.reject(e)})}catch(e){r.reject(e)}},function(t){try{var e=n(i.privSink.result);if(!e)throw new Error("Continuation callback did not return promise");e.on(function(e){r.resolve(e)},function(e){r.reject(e)})}catch(e){r.reject("'Error handler for error ".concat(t," threw error ").concat(e,"'"))}}),r.promise()},this.onSuccessContinueWithPromise=function(n){if(!n)throw new l.ArgumentNullError("continuationCallback");var r=new f;return i.privSink.on(function(e){try{var t=n(e);if(!t)throw new Error("Continuation callback did not return promise");t.on(function(e){r.resolve(e)},function(e){r.reject(e)})}catch(e){r.reject(e)}},function(e){r.reject(e)}),r.promise()},this.on=function(e,t){if(!e)throw new l.ArgumentNullError("successCallback");if(!t)throw new l.ArgumentNullError("errorCallback");return i.privSink.on(e,t),i},this.finally=function(t){if(!t)throw new l.ArgumentNullError("callback");var e=function(e){t()};return i.on(e,e)},this.privSink=e};t.Promise=p;var f=function(){var t=this;this.state=function(){return t.privSink.state},this.promise=function(){return t.privPromise},this.resolve=function(e){return t.privSink.resolve(e),t},this.reject=function(e){return t.privSink.reject(e),t},this.privSink=new d,this.privPromise=new p(this.privSink)};t.Deferred=f;var d=function(){function e(){var s=this;this.privState=u.None,this.privPromiseResult=null,this.privPromiseResultEvents=null,this.privSuccessHandlers=[],this.privErrorHandlers=[],this.resolve=function(e){if(s.privState!==u.None)throw new Error("'Cannot resolve a completed promise'");s.privState=u.Resolved,s.privPromiseResultEvents.setResult(e);for(var t=0;t<s.privSuccessHandlers.length;t++)s.executeSuccessCallback(e,s.privSuccessHandlers[t],s.privErrorHandlers[t]);s.detachHandlers()},this.reject=function(e){if(s.privState!==u.None)throw new Error("'Cannot reject a completed promise'");s.privState=u.Rejected,s.privPromiseResultEvents.setError(e);var t=!0,n=!1,r=void 0;try{for(var i,o=s.privErrorHandlers[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var a=i.value;s.executeErrorCallback(e,a)}}catch(e){n=!0,r=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw r}}s.detachHandlers()},this.on=function(e,t){null==e&&(e=function(e){}),s.privState===u.None?(s.privSuccessHandlers.push(e),s.privErrorHandlers.push(t)):(s.privState===u.Resolved?s.executeSuccessCallback(s.privPromiseResult.result,e,t):s.privState===u.Rejected&&s.executeErrorCallback(s.privPromiseResult.error,t),s.detachHandlers())},this.executeSuccessCallback=function(e,t,n){try{t(e)}catch(e){s.executeErrorCallback("'Unhandled callback error: ".concat(e,"'"),n)}},this.executeErrorCallback=function(t,e){if(!e)throw new Error("'Unhandled error: ".concat(t,"'"));try{e(t)}catch(e){throw new Error("'Unhandled callback error: ".concat(e,". InnerError: ").concat(t,"'"))}},this.detachHandlers=function(){s.privErrorHandlers=[],s.privSuccessHandlers=[]},this.privPromiseResultEvents=new c,this.privPromiseResult=new a(this.privPromiseResultEvents)}return o(e,[{key:"state",get:function(){return this.privState}},{key:"result",get:function(){return this.privPromiseResult}}]),e}();t.Sink=d},function(e,t,n){"use strict";var r,i;Object.defineProperty(t,"__esModule",{value:!0}),t.TranslationStatus=void 0,t.TranslationStatus=r,(i=r||(t.TranslationStatus=r={}))[i.Success=0]="Success",i[i.Error=1]="Error"},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0}),t.AuthInfo=void 0;var i=function(){function e(e,t){this.privHeaderName=e,this.privToken=t}return function(e,t,n){t&&r(e.prototype,t),n&&r(e,n)}(e,[{key:"headerName",get:function(){return this.privHeaderName}},{key:"token",get:function(){return this.privToken}}]),e}();t.AuthInfo=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DialogServiceConfigImpl=t.DialogServiceConfig=void 0;var r=n(86),i=n(19);function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=function(){},s=function(t){function e(){var e;return(e=t.call(this)||this).privSpeechConfig=new i.SpeechConfigImpl,e}!function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(e,t);var n=e.prototype;return n.setProperty=function(e,t){this.privSpeechConfig.setProperty(e,t)},n.getProperty=function(e,t){return this.privSpeechConfig.getProperty(e)},n.setProxy=function(e,t,n,r){this.setProperty(i.PropertyId.SpeechServiceConnection_ProxyHostName,e),this.setProperty(i.PropertyId.SpeechServiceConnection_ProxyPort,"".concat(t)),n&&this.setProperty(i.PropertyId.SpeechServiceConnection_ProxyUserName,n),r&&this.setProperty(i.PropertyId.SpeechServiceConnection_ProxyPassword,r)},n.setServiceProperty=function(e,t,n){this.privSpeechConfig.setServiceProperty(e,t,n)},n.close=function(){},function(e,t,n){t&&o(e.prototype,t),n&&o(e,n)}(e,[{key:"properties",get:function(){return this.privSpeechConfig.properties}},{key:"speechRecognitionLanguage",get:function(){return this.privSpeechConfig.speechRecognitionLanguage},set:function(e){r.Contracts.throwIfNullOrWhitespace(e,"value"),this.privSpeechConfig.speechRecognitionLanguage=e}}]),e}(t.DialogServiceConfig=a);t.DialogServiceConfigImpl=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RecognitionEndedEvent=t.RecognitionCompletionStatus=t.RecognitionStartedEvent=t.ConnectingToServiceEvent=t.ListeningStartedEvent=t.RecognitionTriggeredEvent=t.SpeechRecognitionEvent=void 0;var l=n(44);function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}function u(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}var i=function(o){function e(e,t,n){var r,i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:l.EventType.Info;return(r=o.call(this,e,i)||this).privRequestId=t,r.privSessionId=n,r}return u(e,o),s(e,[{key:"requestId",get:function(){return this.privRequestId}},{key:"sessionId",get:function(){return this.privSessionId}}]),e}(l.PlatformEvent),o=function(o){function e(e,t,n,r){var i;return(i=o.call(this,"RecognitionTriggeredEvent",e,t)||this).privAudioSourceId=n,i.privAudioNodeId=r,i}return u(e,o),s(e,[{key:"audioSourceId",get:function(){return this.privAudioSourceId}},{key:"audioNodeId",get:function(){return this.privAudioNodeId}}]),e}(t.SpeechRecognitionEvent=i);t.RecognitionTriggeredEvent=o;var a=function(o){function e(e,t,n,r){var i;return(i=o.call(this,"ListeningStartedEvent",e,t)||this).privAudioSourceId=n,i.privAudioNodeId=r,i}return u(e,o),s(e,[{key:"audioSourceId",get:function(){return this.privAudioSourceId}},{key:"audioNodeId",get:function(){return this.privAudioNodeId}}]),e}(i);t.ListeningStartedEvent=a;var c=function(i){function e(e,t,n){var r;return(r=i.call(this,"ConnectingToServiceEvent",e,n)||this).privAuthFetchEventid=t,r}return u(e,i),s(e,[{key:"authFetchEventid",get:function(){return this.privAuthFetchEventid}}]),e}(i);t.ConnectingToServiceEvent=c;var p,f,d=function(a){function e(e,t,n,r,i){var o;return(o=a.call(this,"RecognitionStartedEvent",e,i)||this).privAudioSourceId=t,o.privAudioNodeId=n,o.privAuthFetchEventId=r,o}return u(e,a),s(e,[{key:"audioSourceId",get:function(){return this.privAudioSourceId}},{key:"audioNodeId",get:function(){return this.privAudioNodeId}},{key:"authFetchEventId",get:function(){return this.privAuthFetchEventId}}]),e}(i);t.RecognitionStartedEvent=d,t.RecognitionCompletionStatus=p,(f=p||(t.RecognitionCompletionStatus=p={}))[f.Success=0]="Success",f[f.AudioSourceError=1]="AudioSourceError",f[f.AudioSourceTimeout=2]="AudioSourceTimeout",f[f.AuthTokenFetchError=3]="AuthTokenFetchError",f[f.AuthTokenFetchTimeout=4]="AuthTokenFetchTimeout",f[f.UnAuthorized=5]="UnAuthorized",f[f.ConnectTimeout=6]="ConnectTimeout",f[f.ConnectError=7]="ConnectError",f[f.ClientRecognitionActivityTimeout=8]="ClientRecognitionActivityTimeout",f[f.UnknownError=9]="UnknownError";var h=function(c){function e(e,t,n,r,i,o,a,s){var u;return(u=c.call(this,"RecognitionEndedEvent",e,i,a===p.Success?l.EventType.Info:l.EventType.Error)||this).privAudioSourceId=t,u.privAudioNodeId=n,u.privAuthFetchEventId=r,u.privStatus=a,u.privError=s,u.privServiceTag=o,u}return u(e,c),s(e,[{key:"audioSourceId",get:function(){return this.privAudioSourceId}},{key:"audioNodeId",get:function(){return this.privAudioNodeId}},{key:"authFetchEventId",get:function(){return this.privAuthFetchEventId}},{key:"serviceTag",get:function(){return this.privServiceTag}},{key:"status",get:function(){return this.privStatus}},{key:"error",get:function(){return this.privError}}]),e}(i);t.RecognitionEndedEvent=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SpeechConnectionMessage=void 0;var f=n(44);function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var d="Content-Type",h="X-RequestId",v="X-Timestamp",g="x-streamid",s=function(p){function e(e,t,n,r,i,o,a,s){var u;if(!t)throw new f.ArgumentNullError("path");if(!n)throw new f.ArgumentNullError("requestId");var c={};if(c.Path=t,c[h]=n,c[v]=(new Date).toISOString(),r&&(c[d]=r),o&&(c[g]=o),a)for(var l in a)l&&(c[l]=a[l]);return(u=s?p.call(this,e,i,c,s)||this:p.call(this,e,i,c)||this).privPath=t,u.privRequestId=n,u.privContentType=r,u.privStreamId=o,u.privAdditionalHeaders=a,function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(u)}return function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(e,p),function(e,t,n){t&&r(e.prototype,t),n&&r(e,n)}(e,[{key:"path",get:function(){return this.privPath}},{key:"requestId",get:function(){return this.privRequestId}},{key:"contentType",get:function(){return this.privContentType}},{key:"streamId",get:function(){return this.privStreamId}},{key:"additionalHeaders",get:function(){return this.privAdditionalHeaders}}]),e}(f.ConnectionMessage);(t.SpeechConnectionMessage=s).fromConnectionMessage=function(e){var t=null,n=null,r=null,i=null,o={};if(e.headers)for(var a in e.headers)a&&(a.toLowerCase()==="Path".toLowerCase()?t=e.headers[a]:a.toLowerCase()===h.toLowerCase()?n=e.headers[a]:a.toLowerCase()===v.toLowerCase()?e.headers[a]:a.toLowerCase()===d.toLowerCase()?r=e.headers[a]:a.toLowerCase()===g.toLowerCase()?i=e.headers[a]:o[a]=e.headers[a]);return new s(e.messageType,t,n,r,e.body,i,o,e.id)}},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0}),t.ConversationTranslatorCommandTypes=t.ConversationTranslatorMessageTypes=t.InternalParticipants=void 0;var i=function(){function e(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t=1<arguments.length?arguments[1]:void 0;this.participants=e,this.meId=t}var t=e.prototype;return t.addOrUpdateParticipant=function(e){if(void 0!==e){var t=this.getParticipantIndex(e.id);return-1<t?this.participants.splice(t,1,e):this.participants.push(e),this.getParticipant(e.id)}},t.getParticipantIndex=function(t){return this.participants.findIndex(function(e){return e.id===t})},t.getParticipant=function(t){return this.participants.find(function(e){return e.id===t})},t.deleteParticipant=function(t){this.participants=this.participants.filter(function(e){return e.id!==t})},function(e,t,n){t&&r(e.prototype,t),n&&r(e,n)}(e,[{key:"host",get:function(){return this.participants.find(function(e){return!0===e.isHost})}},{key:"me",get:function(){return this.getParticipant(this.meId)}}]),e}();t.InternalParticipants=i;t.ConversationTranslatorMessageTypes={command:"command",final:"final",info:"info",instantMessage:"instant_message",partial:"partial",participantCommand:"participant_command",translatedMessage:"translated_message"};t.ConversationTranslatorCommandTypes={changeNickname:"ChangeNickname",disconnectSession:"DisconnectSession",ejectParticipant:"EjectParticipant",instant_message:"instant_message",joinSession:"JoinSession",leaveSession:"LeaveSession",participantList:"ParticipantList",roomExpirationWarning:"RoomExpirationWarning",setLockState:"SetLockState",setMute:"SetMute",setMuteAll:"SetMuteAll",setProfanityFiltering:"SetProfanityFiltering",setTranslateToLanguages:"SetTranslateToLanguages",setUseTTS:"SetUseTTS"}},,,,,,,,function(e,t,n){var o=n(1716);e.exports=function(r,i,e){if(o(r),void 0===i)return r;switch(e){case 1:return function(e){return r.call(i,e)};case 2:return function(e,t){return r.call(i,e,t)};case 3:return function(e,t,n){return r.call(i,e,t,n)}}return function(){return r.apply(i,arguments)}}},,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.UnconnectedGameButtons=t.ResetButton=t.RunButton=t.FinishButton=void 0;var r=d(n(1)),i=d(n(5)),o=d(n(201)),a=d(n(296)),s=d(n(2)),u=d(n(0)),c=d(n(15)),l=d(n(2180)),p=n(9),f=d(n(2181));function d(e){return e&&e.__esModule?e:{default:e}}var h={main:{marginBottom:-18}},v=function(){return r.default.createElement("button",{type:"button",id:"finishButton",className:"share"},r.default.createElement("img",{src:"/blockly/media/1x1.gif"}),i.default.finish())};t.FinishButton=v;var g=(0,c.default)(function(e){return r.default.createElement("span",{id:"runButtonWrapper"},r.default.createElement("button",{type:"button",id:"runButton",className:(0,s.default)(["launch","blocklyLaunch",e.hidden&&"invisible"]),style:e.style},r.default.createElement("div",null,e.runButtonText||i.default.runProgram()),r.default.createElement("img",{src:f.default,className:"run26"})))});(t.RunButton=g).propTypes={hidden:u.default.bool,style:u.default.object,runButtonText:u.default.string},g.displayName="RunButton";var m=(0,c.default)(function(e){return r.default.createElement("button",{type:"button",id:"resetButton",className:(0,s.default)(["launch","blocklyLaunch",e.hideText&&"hideText"]),style:[a.default.hidden,e.style]},r.default.createElement("div",null,!e.hideText&&i.default.resetProgram()),r.default.createElement("img",{src:f.default,className:"reset26"}))});(t.ResetButton=m).propTypes={style:u.default.object,hideText:u.default.bool},m.displayName="ResetButton";var y=function(e){return r.default.createElement("div",null,r.default.createElement(o.default,{id:"gameButtons",style:h.main},!(e.playspacePhoneFrame||e.widgetMode)&&r.default.createElement(g,{hidden:e.hideRunButton,runButtonText:e.runButtonText}),!(e.playspacePhoneFrame||e.widgetMode)&&r.default.createElement(m,null)," ",e.children),r.default.createElement("div",{id:"gameButtonExtras"},e.showSkipButton&&r.default.createElement(l.default,{nextLevelUrl:e.nextLevelUrl}),e.showFinishButton&&r.default.createElement(v,null)))};(t.UnconnectedGameButtons=y).propTypes={hideRunButton:u.default.bool,runButtonText:u.default.string,playspacePhoneFrame:u.default.bool,nextLevelUrl:u.default.string,showSkipButton:u.default.bool,widgetMode:u.default.bool,showFinishButton:u.default.bool,children:u.default.node},y.displayName="GameButtons";var b=(0,p.connect)(function(e){return{hideRunButton:e.pageConstants.hideRunButton,runButtonText:e.pageConstants.runButtonText,playspacePhoneFrame:e.pageConstants.playspacePhoneFrame,nextLevelUrl:e.pageConstants.nextLevelUrl,showSkipButton:e.pageConstants.isChallengeLevel,widgetMode:e.pageConstants.widgetMode}})(y);t.default=b},,function(e,t){e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){var r=Function.prototype.apply;function i(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new i(r.call(setTimeout,window,arguments),clearTimeout)},t.setInterval=function(){return new i(r.call(setInterval,window,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(window,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;0<=t&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n(1650),t.setImmediate=setImmediate,t.clearImmediate=clearImmediate},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return r.default.createElement(i.default,{id:"belowVisualization"})};var r=o(n(1)),i=o(n(201));function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.videoDataShape=void 0;var r,i=(r=n(0))&&r.__esModule?r:{default:r};var o=i.default.shape({src:i.default.string.isRequired,name:i.default.string,key:i.default.string,download:i.default.string,thumbnail:i.default.string,enable_fallback:i.default.bool,autoplay:i.default.bool});t.videoDataShape=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=c(n(188)),i=c(n(196)),o=c(n(221)),a=c(n(234)),s=n(1),u=c(n(0));function c(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){return(0,r.default)(this,t),(0,o.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,a.default)(t,e),(0,i.default)(t,[{key:"getChildContext",value:function(){return{theme:this.props.theme}}},{key:"render",value:function(){return this.props.children}}]),t}(s.Component);l.childContextTypes={theme:u.default.oneOfType([u.default.string,u.default.object])},t.default=l},function(e,t,n){"use strict";var r=n(646),i=n(1355),o=n(1356),a=n(1357);o=n(1356);function s(e,t,n,r,i){this.compressedSize=e,this.uncompressedSize=t,this.crc32=n,this.compression=r,this.compressedContent=i}s.prototype={getContentWorker:function(){var e=new i(r.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new o("data_length")),t=this;return e.on("end",function(){if(this.streamInfo.data_length!==t.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),e},getCompressedWorker:function(){return new i(r.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},s.createWorkerFrom=function(e,t,n){return e.pipe(new a).pipe(new o("uncompressedSize")).pipe(t.compressWorker(n)).pipe(new o("compressedSize")).withStreamInfo("compression",t)},e.exports=s},function(e,t,n){"use strict";var r=n(96);var s=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();e.exports=function(e,t){return void 0!==e&&e.length?"string"!==r.getTypeOf(e)?function(e,t,n,r){var i=s,o=r+n;e^=-1;for(var a=r;a<o;a++)e=e>>>8^i[255&(e^t[a])];return-1^e}(0|t,e,e.length,0):function(e,t,n,r){var i=s,o=r+n;e^=-1;for(var a=r;a<o;a++)e=e>>>8^i[255&(e^t.charCodeAt(a))];return-1^e}(0|t,e,e.length,0):0}},function(e,t,n){"use strict";e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},function(e,t,n){var r=n(498),i=n(183).document,o=r(i)&&r(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}},function(e,t,n){var i=n(498);e.exports=function(e,t){if(!i(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!i(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!i(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!i(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")}},function(e,t,n){var r=n(1121);e.exports=function(e){return Object(r(e))}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(0<e?r:n)(e)}},function(e,t,n){var r=n(1124)("keys"),i=n(755);e.exports=function(e){return r[e]||(r[e]=i(e))}},function(e,t,n){var r=n(167),i=n(183),o="__core-js_shared__",a=i[o]||(i[o]={});(e.exports=function(e,t){return a[e]||(a[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:n(649)?"pure":"global",copyright:"Â© 2019 Denis Pushkarev (zloirock.ru)"})},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,n){var r=n(1373);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},function(e,t,n){var r=n(2298),i=n(361),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,u=r(function(){return arguments}())?r:function(e){return i(e)&&a.call(e,"callee")&&!s.call(e,"callee")};e.exports=u},function(e,s,u){(function(e){var t=u(259),n=u(2299),r=s&&!s.nodeType&&s,i=r&&"object"==typeof e&&e&&!e.nodeType&&e,o=i&&i.exports===r?t.Buffer:void 0,a=(o?o.isBuffer:void 0)||n;e.exports=a}).call(this,u(89)(e))},function(e,t){var r=/^(?:0|[1-9]\d*)$/;e.exports=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&r.test(e))&&-1<e&&e%1==0&&e<t}},function(e,t){e.exports=function(e){return"number"==typeof e&&-1<e&&e%1==0&&e<=9007199254740991}},function(e,a,s){(function(e){var t=s(1375),n=a&&!a.nodeType&&a,r=n&&"object"==typeof e&&e&&!e.nodeType&&e,i=r&&r.exports===n&&t.process,o=function(){try{var e=r&&r.require&&r.require("util").types;return e||i&&i.binding&&i.binding("util")}catch(e){}}();e.exports=o}).call(this,s(89)(e))},function(e,t){var n=Object.prototype;e.exports=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||n)}},function(e,t,n){var r=n(1374),i=n(1130);e.exports=function(e){return null!=e&&i(e.length)&&!r(e)}},function(e,t,n){var r=n(756),i=n(2310),o=n(2311),a=n(2312),s=n(2313),u=n(2314);function c(e){var t=this.__data__=new r(e);this.size=t.size}c.prototype.clear=i,c.prototype.delete=o,c.prototype.get=a,c.prototype.has=s,c.prototype.set=u,e.exports=c},function(e,t){e.exports=function(e,t){return e===t||e!=e&&t!=t}},function(e,t,n){var r=n(500)(n(259),"Map");e.exports=r},function(e,t,n){var r=n(2315),i=n(2322),o=n(2324),a=n(2325),s=n(2326);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,e.exports=u},function(e,t,n){var a=n(2327),s=n(361);e.exports=function e(t,n,r,i,o){return t===n||(null==t||null==n||!s(t)&&!s(n)?t!=t&&n!=n:a(t,n,r,i,e,o))}},function(e,t){e.exports=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}},function(e,t,n){var r=n(2335),i=n(1387),o=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(t){return null==t?[]:(t=Object(t),r(a(t),function(e){return o.call(t,e)}))}:i;e.exports=s},function(e,t,n){var i=n(761),o=n(653);e.exports=function(e,t){for(var n=0,r=(t=i(t,e)).length;null!=e&&n<r;)e=e[o(t[n++])];return n&&n==r?e:void 0}},function(e,t,n){var r=n(297),i=n(762),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!i(e))||a.test(e)||!o.test(e)||null!=t&&e in Object(t)}},function(e,t){e.exports=function(e){return e}},function(e,t,n){n(2355);for(var r=n(183),i=n(497),o=n(654),a=n(199)("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),u=0;u<s.length;u++){var c=s[u],l=r[c],p=l&&l.prototype;p&&!p[a]&&i(p,a,c),o[c]=o.Array}},function(e,t,n){"use strict";var r=n(2361)(!0);n(1390)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})})},function(e,t,n){t.f=n(199)},function(e,t,n){var r=n(183),i=n(167),o=n(649),a=n(1146),s=n(359).f;e.exports=function(e){var t=i.Symbol||(i.Symbol=o?{}:r.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:a.f(e)})}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){"use strict";var i=n(753);function r(e){var n,r;this.promise=new e(function(e,t){if(void 0!==n||void 0!==r)throw TypeError("Bad Promise constructor");n=e,r=t}),this.resolve=i(n),this.reject=i(r)}e.exports.f=function(e){return new r(e)}},function(e,t,n){var i=n(1126),o=n(1135),a=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var r=e[t];a.call(e,t)&&o(r,n)&&(void 0!==n||t in e)||i(e,t,n)}},function(e,t,n){var r=n(1384);e.exports=function(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(0<e?r:n)(e)}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t){e.exports=!0},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){var r=n(656),i=n(220).document,o=r(i)&&r(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}},function(e,t,n){var r=n(1414),i=n(1153);e.exports=function(e){return r(i(e))}},function(e,t,n){var r=n(1416)("keys"),i=n(1417);e.exports=function(e){return r[e]||(r[e]=i(e))}},function(e,t,n){var r=n(770).f,i=n(771),o=n(260)("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,o)&&r(e,o,{configurable:!0,value:t})}},function(e,t,n){"use strict";var i=n(769);function r(e){var n,r;this.promise=new e(function(e,t){if(void 0!==n||void 0!==r)throw TypeError("Bad Promise constructor");n=e,r=t}),this.resolve=i(n),this.reject=i(r)}e.exports.f=function(e){return new r(e)}},function(e,t,n){e.exports={default:n(2454),__esModule:!0}},function(e,t,n){var o=n(1126),a=n(2294),s=n(1380);e.exports=function(e,r){var i={};return r=s(r,3),a(e,function(e,t,n){o(i,t,r(e,t,n))}),i}},function(e,t,n){e.exports={default:n(2354),__esModule:!0}},function(e,t,n){"use strict";t.__esModule=!0;var r=a(n(2364)),i=a(n(2366)),o="function"==typeof i.default&&"symbol"==typeof r.default?function(e){return typeof e}:function(e){return e&&"function"==typeof i.default&&e.constructor===i.default&&e!==i.default.prototype?"symbol":typeof e};function a(e){return e&&e.__esModule?e:{default:e}}t.default="function"==typeof i.default&&"symbol"===o(r.default)?function(e){return void 0===e?"undefined":o(e)}:function(e){return e&&"function"==typeof i.default&&e.constructor===i.default&&e!==i.default.prototype?"symbol":void 0===e?"undefined":o(e)}},function(e,t,n){"use strict";e.exports=n(2396)},function(e,t,n){var r=n(1138);e.exports=function(e,t){return r(e,t)}},function(e,t,n){var r=n(763),i=n(1380),o=n(2417),a=n(1406);e.exports=function(e,n){if(null==e)return{};var t=r(a(e),function(e){return[e]});return n=i(n),o(e,t,function(e,t){return n(e,t[0])})}},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){var n={};for(var r in e)0<=t.indexOf(r)||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}},,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_PLATFORM=t.PLATFORM_IOS=t.PLATFORM_ANDROID=t.EXPO_SDK_VERSION=void 0;t.EXPO_SDK_VERSION="36.0.0";t.PLATFORM_ANDROID="android";t.PLATFORM_IOS="ios";t.DEFAULT_PLATFORM="android"},,,function(e,t,n){var r=n(675),i=n(598),o=n(445),a=n(815),s=n(339),u=n(1192),c=Object.getOwnPropertyDescriptor;t.f=n(338)?c:function(e,t){if(e=o(e),t=a(t,!0),u)try{return c(e,t)}catch(e){}if(s(e,t))return i(!r.f.call(e,t),e[t])}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setTimeout=function(e,t){var n=window.setTimeout.apply(window,arguments);return r.push(n),n},t.clearTimeouts=function(){r.forEach(window.clearTimeout,window),r.length=0},t.clearTimeout=function(e){window.clearTimeout(e);var t=r.indexOf(e);-1<t&&r.splice(t,1)},t.setInterval=o,t.clearIntervals=function(){i.forEach(window.clearInterval,window),i.length=0},t.clearInterval=a,t.timedLoop=function(e,t){var n=o(t,e);return s.push(n),n},t.stopTimedLoop=function(e){void 0===e?s.slice().forEach(function(e){return t.clearInterval(e)}):a(e)};var r=[];var i=[];function o(e,t){var n=window.setInterval.apply(window,arguments);return i.push(n),n}function a(e){window.clearInterval(e);var t=s.indexOf(e);-1<t&&s.splice(t,1);var n=i.indexOf(e);-1<n&&i.splice(n,1)}var s=[]},,,,function(e,t,n){var r=n(451),i=n(305).document,o=r(i)&&r(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}},function(e,t,n){e.exports=!n(338)&&!n(573)(function(){return 7!=Object.defineProperty(n(1191)("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){var a=n(339),s=n(445),u=n(1726)(!1),c=n(818)("IE_PROTO");e.exports=function(e,t){var n,r=s(e),i=0,o=[];for(n in r)n!=c&&a(r,n)&&o.push(n);for(;t.length>i;)a(r,n=t[i++])&&(~u(o,n)||o.push(n));return o}},function(e,t,n){var r=n(813);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t,n){"use strict";var b=n(673),w=n(337),S=n(1196),_=n(452),C=n(505),E=n(1733),x=n(814),O=n(1704),k=n(204)("iterator"),P=!([].keys&&"next"in[].keys()),T="values",R=function(){return this};e.exports=function(e,t,n,r,i,o,a){E(n,t,r);var s,u,c,l=function(e){if(!P&&e in h)return h[e];switch(e){case"keys":case T:return function(){return new n(this,e)}}return function(){return new n(this,e)}},p=t+" Iterator",f=i==T,d=!1,h=e.prototype,v=h[k]||h["@@iterator"]||i&&h[i],g=v||l(i),m=i?f?l("entries"):g:void 0,y="Array"==t&&h.entries||v;if(y&&(c=O(y.call(new e)))!==Object.prototype&&c.next&&(x(c,p,!0),b||"function"==typeof c[k]||_(c,k,R)),f&&v&&v.name!==T&&(d=!0,g=function(){return v.call(this)}),b&&!a||!P&&!d&&h[k]||_(h,k,g),C[t]=g,C[p]=R,i)if(s={values:f?g:l(T),keys:o?g:l("keys"),entries:m},a)for(u in s)u in h||S(h,u,s[u]);else w(w.P+w.F*(P||d),t,s);return s}},function(e,t,n){e.exports=n(452)},function(e,t,n){var r=n(1193),i=n(820).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},function(e,t,n){var i=n(813),o=n(204)("toStringTag"),a="Arguments"==i(function(){return arguments}());e.exports=function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),o))?n:a?i(t):"Object"==(r=i(t))&&"function"==typeof t.callee?"Arguments":r}},,,,,,,,,,,,,,,,,,function(x,e,O){"use strict";(function(v){x.exports=r;var g=O(547),m=O(574),f=O(83).Buffer;r.ReadableState=n;O(52);var i,y=function(e,t){return e.listeners(t).length};!function(){try{i=O(331)}catch(e){}finally{i||(i=O(52).EventEmitter)}}();f=O(83).Buffer;var e=O(262);e.inherits=O(115);var o,a,t=O(1842),b=void 0;function n(e,t){a=a||O(342),e=e||{},this.objectMode=!!e.objectMode,t instanceof a&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var n=e.highWaterMark,r=this.objectMode?16:16384;this.highWaterMark=n||0===n?n:r,this.highWaterMark=~~this.highWaterMark,this.buffer=[],this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(o||(o=O(580).StringDecoder),this.decoder=new o(e.encoding),this.encoding=e.encoding)}function r(e){if(a=a||O(342),!(this instanceof r))return new r(e);this._readableState=new n(e,this),this.readable=!0,e&&"function"==typeof e.read&&(this._read=e.read),i.call(this)}function s(e,t,n,r,i){var o=function(e,t){var n=null;f.isBuffer(t)||"string"==typeof t||null==t||e.objectMode||(n=new TypeError("Invalid non-string/buffer chunk"));return n}(t,n);if(o)e.emit("error",o);else if(null===n)t.reading=!1,function(e,t){if(t.ended)return;if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,l(e)}(e,t);else if(t.objectMode||n&&0<n.length)if(t.ended&&!i){var a=new Error("stream.push() after EOF");e.emit("error",a)}else if(t.endEmitted&&i){a=new Error("stream.unshift() after end event");e.emit("error",a)}else{var s;!t.decoder||i||r||(n=t.decoder.write(n),s=!t.objectMode&&0===n.length),i||(t.reading=!1),s||(t.flowing&&0===t.length&&!t.sync?(e.emit("data",n),e.read(0)):(t.length+=t.objectMode?1:n.length,i?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&l(e))),function(e,t){t.readingMore||(t.readingMore=!0,g(d,e,t))}(e,t)}else i||(t.reading=!1);return function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(t)}b=t&&t.debuglog?t.debuglog("stream"):function(){},e.inherits(r,i),r.prototype.push=function(e,t){var n=this._readableState;return n.objectMode||"string"!=typeof e||(t=t||n.defaultEncoding)!==n.encoding&&(e=new f(e,t),t=""),s(this,n,e,t,!1)},r.prototype.unshift=function(e){return s(this,this._readableState,e,"",!0)},r.prototype.isPaused=function(){return!1===this._readableState.flowing},r.prototype.setEncoding=function(e){return o||(o=O(580).StringDecoder),this._readableState.decoder=new o(e),this._readableState.encoding=e,this};var u=8388608;function c(e,t){return 0===t.length&&t.ended?0:t.objectMode?0===e?0:1:null===e||isNaN(e)?t.flowing&&t.buffer.length?t.buffer[0].length:t.length:e<=0?0:(e>t.highWaterMark&&(t.highWaterMark=function(e){return u<=e?e=u:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e>t.length?t.ended?t.length:(t.needReadable=!0,0):e)}function l(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(b("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?g(p,e):p(e))}function p(e){b("emit readable"),e.emit("readable"),S(e)}function d(e,t){for(var n=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(b("maybeReadMore read 0"),e.read(0),n!==t.length);)n=t.length;t.readingMore=!1}function h(e){b("readable nexttick read 0"),e.read(0)}function w(e,t){t.reading||(b("resume read 0"),e.read(0)),t.resumeScheduled=!1,e.emit("resume"),S(e),t.flowing&&!t.reading&&e.read(0)}function S(e){var t=e._readableState;if(b("flow",t.flowing),t.flowing)do{var n=e.read()}while(null!==n&&t.flowing)}function _(e,t){var n,r=t.buffer,i=t.length,o=!!t.decoder,a=!!t.objectMode;if(0===r.length)return null;if(0===i)n=null;else if(a)n=r.shift();else if(!e||i<=e)n=o?r.join(""):1===r.length?r[0]:f.concat(r,i),r.length=0;else{if(e<r[0].length)n=(l=r[0]).slice(0,e),r[0]=l.slice(e);else if(e===r[0].length)n=r.shift();else{n=o?"":new f(e);for(var s=0,u=0,c=r.length;u<c&&s<e;u++){var l=r[0],p=Math.min(e-s,l.length);o?n+=l.slice(0,p):l.copy(n,s,0,p),p<l.length?r[0]=l.slice(p):r.shift(),s+=p}}}return n}function C(e){var t=e._readableState;if(0<t.length)throw new Error("endReadable called on non-empty stream");t.endEmitted||(t.ended=!0,g(E,t,e))}function E(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}r.prototype.read=function(e){b("read",e);var t=this._readableState,n=e;if(("number"!=typeof e||0<e)&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return b("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?C(this):l(this),null;if(0===(e=c(e,t))&&t.ended)return 0===t.length&&C(this),null;var r,i=t.needReadable;return b("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&b("length less than watermark",i=!0),(t.ended||t.reading)&&b("reading or ended",i=!1),i&&(b("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1),i&&!t.reading&&(e=c(n,t)),null===(r=0<e?_(e,t):null)&&(t.needReadable=!0,e=0),t.length-=e,0!==t.length||t.ended||(t.needReadable=!0),n!==e&&t.ended&&0===t.length&&C(this),null!==r&&this.emit("data",r),r},r.prototype._read=function(e){this.emit("error",new Error("not implemented"))},r.prototype.pipe=function(t,e){var n=this,r=this._readableState;switch(r.pipesCount){case 0:r.pipes=t;break;case 1:r.pipes=[r.pipes,t];break;default:r.pipes.push(t)}r.pipesCount+=1,b("pipe count=%d opts=%j",r.pipesCount,e);var i=(!e||!1!==e.end)&&t!==v.stdout&&t!==v.stderr?a:c;function o(e){b("onunpipe"),e===n&&c()}function a(){b("onend"),t.end()}r.endEmitted?g(i):n.once("end",i),t.on("unpipe",o);var s=function(t){return function(){var e=t._readableState;b("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&y(t,"data")&&(e.flowing=!0,S(t))}}(n);t.on("drain",s);var u=!1;function c(){b("cleanup"),t.removeListener("close",f),t.removeListener("finish",d),t.removeListener("drain",s),t.removeListener("error",p),t.removeListener("unpipe",o),n.removeListener("end",a),n.removeListener("end",c),n.removeListener("data",l),u=!0,!r.awaitDrain||t._writableState&&!t._writableState.needDrain||s()}function l(e){b("ondata"),!1===t.write(e)&&(1!==r.pipesCount||r.pipes[0]!==t||1!==n.listenerCount("data")||u||(b("false write response, pause",n._readableState.awaitDrain),n._readableState.awaitDrain++),n.pause())}function p(e){b("onerror",e),h(),t.removeListener("error",p),0===y(t,"error")&&t.emit("error",e)}function f(){t.removeListener("finish",d),h()}function d(){b("onfinish"),t.removeListener("close",f),h()}function h(){b("unpipe"),n.unpipe(t)}return n.on("data",l),t._events&&t._events.error?m(t._events.error)?t._events.error.unshift(p):t._events.error=[p,t._events.error]:t.on("error",p),t.once("close",f),t.once("finish",d),t.emit("pipe",n),r.flowing||(b("pipe resume"),n.resume()),t},r.prototype.unpipe=function(e){var t=this._readableState;if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this)),this;if(!e){var n=t.pipes,r=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var i=0;i<r;i++)n[i].emit("unpipe",this);return this}var o=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}(t.pipes,e);return-1===o||(t.pipes.splice(o,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this)),this},r.prototype.addListener=r.prototype.on=function(e,t){var n=i.prototype.on.call(this,e,t);if("data"===e&&!1!==this._readableState.flowing&&this.resume(),"readable"===e&&!this._readableState.endEmitted){var r=this._readableState;r.readableListening||(r.readableListening=!0,r.emittedReadable=!1,r.needReadable=!0,r.reading?r.length&&l(this):g(h,this))}return n},r.prototype.resume=function(){var e=this._readableState;return e.flowing||(b("resume"),e.flowing=!0,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,g(w,e,t))}(this,e)),this},r.prototype.pause=function(){return b("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(b("pause"),this._readableState.flowing=!1,this.emit("pause")),this},r.prototype.wrap=function(t){var n=this._readableState,r=!1,i=this;for(var e in t.on("end",function(){if(b("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&i.push(e)}i.push(null)}),t.on("data",function(e){(b("wrapped data"),n.decoder&&(e=n.decoder.write(e)),n.objectMode&&null==e)||(n.objectMode||e&&e.length)&&(i.push(e)||(r=!0,t.pause()))}),t)void 0===this[e]&&"function"==typeof t[e]&&(this[e]=function(e){return function(){return t[e].apply(t,arguments)}}(e));return function(e,t){for(var n=0,r=e.length;n<r;n++)t(e[n],n)}(["error","close","destroy","pause","resume"],function(e){t.on(e,i.emit.bind(i,e))}),i._read=function(e){b("wrapped _read",e),r&&(r=!1,t.resume())},i},r._fromList=_}).call(this,O(29))},function(e,t,n){"use strict";e.exports=o;var r=n(837),i=n(262);function o(e){if(!(this instanceof o))return new o(e);r.call(this,e)}i.inherits=n(115),i.inherits(o,r),o.prototype._transform=function(e,t,n){n(null,e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.shouldRunStateOverlaysBeVisible=f,t.shouldOverlaysBeVisible=d,t.default=t.VisualizationOverlay=void 0;var r=s(n(0)),o=s(n(1)),i=n(9),a=s(n(701));function s(e){return e&&e.__esModule?e:{default:e}}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l=function(i){function e(){for(var n,e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return c(u(n=i.call.apply(i,[this].concat(t))||this),"state",{mouseX:-1,mouseY:-1}),c(u(n),"recalculateTransform",function(){var e=n.refs.root,t=e.getBoundingClientRect();0!==t.width&&0!==t.height&&(n.screenSpaceToAppSpaceTransform=e.createSVGMatrix().scale(n.props.width/t.width).translate(-t.left,-t.top))}),c(u(n),"onMouseMove",function(e){n.screenSpaceToAppSpaceTransform&&(n.mousePos_.x=e.clientX,n.mousePos_.y=e.clientY,n.mousePos_=n.mousePos_.matrixTransform(n.screenSpaceToAppSpaceTransform),n.setState({mouseX:n.mousePos_.x,mouseY:n.mousePos_.y}),"function"==typeof n.props.onMouseMove&&n.props.onMouseMove(n.mousePos_.x,n.mousePos_.y))}),n}!function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(e,i);var t=e.prototype;return t.componentDidMount=function(){this.screenSpaceToAppSpaceTransform=null,this.mousePos_=this.refs.root.createSVGPoint(),this.recalculateTransform(),window.addEventListener("resize",(0,a.default)(this.recalculateTransform,100)),document.addEventListener("mousemove",this.onMouseMove)},t.componentWillReceiveProps=function(e){this.props.width===e.width&&this.props.height===e.height||this.recalculateTransform()},t.componentWillUnmount=function(){document.removeEventListener("mousemove",this.onMouseMove)},t.renderOverlays=function(){var n=this;return o.default.Children.map(this.props.children,function(e,t){if(e.props.showWhileRunning&&n.props.areRunStateOverlaysVisible||n.props.areOverlaysVisible)return o.default.cloneElement(e,{key:t,width:n.props.width,height:n.props.height,mouseX:n.state.mouseX,mouseY:n.state.mouseY})})},t.render=function(){return o.default.createElement("svg",{ref:"root",id:"visualizationOverlay",version:"1.1",baseProfile:"full",width:this.props.width,height:this.props.height,viewBox:"0 0 "+this.props.width+" "+this.props.height,pointerEvents:"none"},this.renderOverlays())},e}(o.default.Component);c(t.VisualizationOverlay=l,"propTypes",{width:r.default.number.isRequired,height:r.default.number.isRequired,areOverlaysVisible:r.default.bool.isRequired,areRunStateOverlaysVisible:r.default.bool.isRequired,onMouseMove:r.default.func,children:r.default.node});var p=(0,i.connect)(function(e){return{areOverlaysVisible:d(e),areRunStateOverlaysVisible:f(e)}})(l);function f(e){return!e.pageConstants.widgetMode&&!e.pageConstants.hideCoordinateOverlay&&!e.pageConstants.isShareView}function d(e){return!e.pageConstants.widgetMode&&!e.pageConstants.hideCoordinateOverlay&&!(e.runState.isRunning||e.pageConstants.isShareView)}t.default=p},,,,,function(module,exports){
/*! @license Firebase v2.4.2
    License: https://www.firebase.com/terms/terms-of-service.html */
!function(){var h,n=this;function p(e){return void 0!==e}function aa(){}function ba(e){e.yb=function(){return e.zf?e.zf:e.zf=new e}}function ca(e){var t=typeof e;if("object"==t){if(!e)return"null";if(e instanceof Array)return"array";if(e instanceof Object)return t;var n=Object.prototype.toString.call(e);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof e.length&&void 0!==e.splice&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==e.call&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("call"))return"function"}else if("function"==t&&void 0===e.call)return"object";return t}function da(e){return"array"==ca(e)}function ea(e){var t=ca(e);return"array"==t||"object"==t&&"number"==typeof e.length}function q(e){return"string"==typeof e}function fa(e){return"number"==typeof e}function r(e){return"function"==ca(e)}function ga(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function ha(e,t,n){return e.call.apply(e.bind,arguments)}function ia(t,n,e){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var e=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(e,r),t.apply(n,e)}}return function(){return t.apply(n,arguments)}}function u(e,t,n){return(u=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ha:ia).apply(null,arguments)}var ja=Date.now||function(){return+new Date};function ka(e,o){function t(){}t.prototype=o.prototype,e.ph=o.prototype,e.prototype=new t,(e.prototype.constructor=e).lh=function(e,t,n){for(var r=Array(arguments.length-2),i=2;i<arguments.length;i++)r[i-2]=arguments[i];return o.prototype[t].apply(e,r)}}function la(e){if(Error.captureStackTrace)Error.captureStackTrace(this,la);else{var t=Error().stack;t&&(this.stack=t)}e&&(this.message=String(e))}function v(e,t){for(var n in e)t.call(void 0,e[n],n,e)}function ma(e,t){var n,r={};for(n in e)r[n]=t.call(void 0,e[n],n,e);return r}function na(e,t){for(var n in e)if(!t.call(void 0,e[n],n,e))return!1;return!0}function oa(e){var t,n=0;for(t in e)n++;return n}function pa(e){for(var t in e)return t}function qa(e){var t,n=[],r=0;for(t in e)n[r++]=e[t];return n}function ra(e){var t,n=[],r=0;for(t in e)n[r++]=t;return n}function sa(e,t){for(var n in e)if(e[n]==t)return!0;return!1}function ta(e,t,n){for(var r in e)if(t.call(n,e[r],r,e))return r}function ua(e,t){var n=ta(e,t,void 0);return n&&e[n]}function va(e){for(var t in e)return!1;return!0}function wa(e){var t,n={};for(t in e)n[t]=e[t];return n}ka(la,Error),la.prototype.name="CustomError";var xa="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ya(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var o=0;o<xa.length;o++)n=xa[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function za(a){if(a=String(a),!/^\s*$/.test(a)&&/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,"")))try{return eval("("+a+")")}catch(e){}throw Error("Invalid JSON string: "+a)}function Aa(){this.Vd=void 0}function Ba(e,t,n){switch(typeof t){case"string":Ca(t,n);break;case"number":n.push(isFinite(t)&&!isNaN(t)?t:"null");break;case"boolean":n.push(t);break;case"undefined":n.push("null");break;case"object":if(null==t){n.push("null");break}if(da(t)){var r=t.length;n.push("[");for(var i="",o=0;o<r;o++)n.push(i),i=t[o],Ba(e,e.Vd?e.Vd.call(t,String(o),i):i,n),i=",";n.push("]");break}for(o in n.push("{"),r="",t)Object.prototype.hasOwnProperty.call(t,o)&&("function"!=typeof(i=t[o])&&(n.push(r),Ca(o,n),n.push(":"),Ba(e,e.Vd?e.Vd.call(t,o,i):i,n),r=","));n.push("}");break;case"function":break;default:throw Error("Unknown type: "+typeof t)}}var Da={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},Ea=/\uffff/.test("ï¿¿")?/[\\\"\x00-\x1f\x7f-\uffff]/g:/[\\\"\x00-\x1f\x7f-\xff]/g,w;function Ca(e,t){t.push('"',e.replace(Ea,function(e){if(e in Da)return Da[e];var t=e.charCodeAt(0),n="\\u";return t<16?n+="000":t<256?n+="00":t<4096&&(n+="0"),Da[e]=n+t.toString(16)}),'"')}function Fa(){return Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^ja()).toString(36)}e:{var Ga=n.navigator;if(Ga){var Ha=Ga.userAgent;if(Ha){w=Ha;break e}}w=""}function Ia(){this.Ya=-1}function Ja(){this.Ya=-1,this.Ya=64,this.P=[],this.pe=[],this.eg=[],this.Od=[],this.Od[0]=128;for(var e=1;e<this.Ya;++e)this.Od[e]=0;this.ge=this.ec=0,this.reset()}function Ka(e,t,n){n||(n=0);var r=e.eg;if(q(t))for(var i=0;i<16;i++)r[i]=t.charCodeAt(n)<<24|t.charCodeAt(n+1)<<16|t.charCodeAt(n+2)<<8|t.charCodeAt(n+3),n+=4;else for(i=0;i<16;i++)r[i]=t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3],n+=4;for(i=16;i<80;i++){var o=r[i-3]^r[i-8]^r[i-14]^r[i-16];r[i]=4294967295&(o<<1|o>>>31)}t=e.P[0],n=e.P[1];var a,s=e.P[2],u=e.P[3],c=e.P[4];for(i=0;i<80;i++)a=i<40?i<20?(o=u^n&(s^u),1518500249):(o=n^s^u,1859775393):i<60?(o=n&s|u&(n|s),2400959708):(o=n^s^u,3395469782),o=(t<<5|t>>>27)+o+c+a+r[i]&4294967295,c=u,u=s,s=4294967295&(n<<30|n>>>2),n=t,t=o;e.P[0]=e.P[0]+t&4294967295,e.P[1]=e.P[1]+n&4294967295,e.P[2]=e.P[2]+s&4294967295,e.P[3]=e.P[3]+u&4294967295,e.P[4]=e.P[4]+c&4294967295}ka(Ja,Ia),Ja.prototype.reset=function(){this.P[0]=1732584193,this.P[1]=4023233417,this.P[2]=2562383102,this.P[3]=271733878,this.P[4]=3285377520,this.ge=this.ec=0},Ja.prototype.update=function(e,t){if(null!=e){p(t)||(t=e.length);for(var n=t-this.Ya,r=0,i=this.pe,o=this.ec;r<t;){if(0==o)for(;r<=n;)Ka(this,e,r),r+=this.Ya;if(q(e)){for(;r<t;)if(i[o]=e.charCodeAt(r),++r,++o==this.Ya){Ka(this,i),o=0;break}}else for(;r<t;)if(i[o]=e[r],++r,++o==this.Ya){Ka(this,i),o=0;break}}this.ec=o,this.ge+=t}};var x=Array.prototype,La=x.indexOf?function(e,t,n){return x.indexOf.call(e,t,n)}:function(e,t,n){if(n=null==n?0:n<0?Math.max(0,e.length+n):n,q(e))return q(t)&&1==t.length?e.indexOf(t,n):-1;for(;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},Ma=x.forEach?function(e,t,n){x.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i=q(e)?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)},Na=x.filter?function(e,t,n){return x.filter.call(e,t,n)}:function(e,t,n){for(var r=e.length,i=[],o=0,a=q(e)?e.split(""):e,s=0;s<r;s++)if(s in a){var u=a[s];t.call(n,u,s,e)&&(i[o++]=u)}return i},Oa=x.map?function(e,t,n){return x.map.call(e,t,n)}:function(e,t,n){for(var r=e.length,i=Array(r),o=q(e)?e.split(""):e,a=0;a<r;a++)a in o&&(i[a]=t.call(n,o[a],a,e));return i},Pa=x.reduce?function(e,t,n,r){for(var i=[],o=1,a=arguments.length;o<a;o++)i.push(arguments[o]);return r&&(i[0]=u(t,r)),x.reduce.apply(e,i)}:function(n,r,e,i){var o=e;return Ma(n,function(e,t){o=r.call(i,o,e,t,n)}),o},Qa=x.every?function(e,t,n){return x.every.call(e,t,n)}:function(e,t,n){for(var r=e.length,i=q(e)?e.split(""):e,o=0;o<r;o++)if(o in i&&!t.call(n,i[o],o,e))return!1;return!0},Ya,ab;function Ra(e,t){var n=Sa(e,t,void 0);return n<0?null:q(e)?e.charAt(n):e[n]}function Sa(e,t,n){for(var r=e.length,i=q(e)?e.split(""):e,o=0;o<r;o++)if(o in i&&t.call(n,i[o],o,e))return o;return-1}function Ta(e,t){var n=La(e,t);0<=n&&x.splice.call(e,n,1)}function Ua(e,t,n){return arguments.length<=2?x.slice.call(e,t):x.slice.call(e,t,n)}function Va(e,t){e.sort(t||Wa)}function Wa(e,t){return t<e?1:e<t?-1:0}function Xa(e){n.setTimeout(function(){throw e},0)}function Za(){var e=n.MessageChannel;if(void 0===e&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&-1==w.indexOf("Presto")&&(e=function(){(r=document.createElement("iframe")).style.display="none",r.src="",document.documentElement.appendChild(r);var e=r.contentWindow;(r=e.document).open(),r.write(""),r.close();var t="callImmediate"+Math.random(),n="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host,r=u(function(e){"*"!=n&&e.origin!=n||e.data!=t||this.port1.onmessage()},this);e.addEventListener("message",r,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(t,n)}}}),void 0===e||-1!=w.indexOf("Trident")||-1!=w.indexOf("MSIE"))return"undefined"!=typeof document&&"onreadystatechange"in document.createElement("script")?function(e){var t=document.createElement("script");t.onreadystatechange=function(){t.onreadystatechange=null,t.parentNode.removeChild(t),t=null,e(),e=null},document.documentElement.appendChild(t)}:function(e){n.setTimeout(e,0)};var t=new e,r={},i=r;return t.port1.onmessage=function(){if(p(r.next)){var e=(r=r.next).hb;r.hb=null,e()}},function(e){i.next={hb:e},i=i.next,t.port2.postMessage(0)}}function $a(e,t){ab||bb(),cb||(ab(),cb=!0),db.push(new eb(e,t))}function bb(){if(n.Promise&&n.Promise.resolve){var e=n.Promise.resolve();ab=function(){e.then(fb)}}else ab=function(){var e=fb;!r(n.setImmediate)||n.Window&&n.Window.prototype&&n.Window.prototype.setImmediate==n.setImmediate?(Ya||(Ya=Za()),Ya(e)):n.setImmediate(e)}}var cb=!1,db=[];function fb(){for(;db.length;){var e=db;db=[];for(var t=0;t<e.length;t++){var n=e[t];try{n.yg.call(n.scope)}catch(e){Xa(e)}}}cb=!1}function eb(e,t){this.yg=e,this.scope=t}[].push(function(){cb=!1,db=[]});var gb=-1!=w.indexOf("Opera")||-1!=w.indexOf("OPR"),hb=-1!=w.indexOf("Trident")||-1!=w.indexOf("MSIE"),ib=-1!=w.indexOf("Gecko")&&-1==w.toLowerCase().indexOf("webkit")&&!(-1!=w.indexOf("Trident")||-1!=w.indexOf("MSIE")),jb=-1!=w.toLowerCase().indexOf("webkit"),xhc,whc;whc="",gb&&n.opera?r(whc=n.opera.version)&&whc():(ib?xhc=/rv\:([^\);]+)(\)|;)/:hb?xhc=/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/:jb&&(xhc=/WebKit\/(\S+)/),xhc&&(whc=(whc=xhc.exec(w))?whc[1]:""),hb&&(xhc=(xhc=n.document)?xhc.documentMode:void 0)>parseFloat(whc)&&String(xhc));var kb=null,lb=null,mb=null;function nb(e,t){if(!ea(e))throw Error("encodeByteArray takes an array as a parameter");ob();for(var n=t?lb:kb,r=[],i=0;i<e.length;i+=3){var o=e[i],a=i+1<e.length,s=a?e[i+1]:0,u=i+2<e.length,c=o>>2,l=(o=(3&o)<<4|s>>4,s=(15&s)<<2|(l=u?e[i+2]:0)>>6,63&l);u||(l=64,a||(s=64)),r.push(n[c],n[o],n[s],n[l])}return r.join("")}function ob(){if(!kb){kb={},lb={},mb={};for(var e=0;e<65;e++)kb[e]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(e),lb[e]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(e),62<=(mb[lb[e]]=e)&&(mb["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(e)]=e)}}function pb(e,t){if(this.N=qb,this.Rf=void 0,this.Ba=this.Ha=null,this.yd=this.ye=!1,e==rb)sb(this,tb,t);else try{var n=this;e.call(t,function(e){sb(n,tb,e)},function(e){if(!(e instanceof ub))try{if(e instanceof Error)throw e;throw Error("Promise rejected.")}catch(e){}sb(n,vb,e)})}catch(e){sb(this,vb,e)}}var qb=0,tb=2,vb=3;function rb(){}function xb(e,t){if(e.N==qb)if(e.Ha){var n=e.Ha;if(n.Ba){for(var r,i=0,o=-1,a=0;(r=n.Ba[a])&&!((r=r.o)&&(i++,r==e&&(o=a),0<=o&&1<i));a++);0<=o&&(n.N==qb&&1==i?xb(n,t):(i=n.Ba.splice(o,1)[0],yb(n,i,vb,t)))}e.Ha=null}else sb(e,vb,t)}function zb(e,t){e.Ba&&e.Ba.length||e.N!=tb&&e.N!=vb||Ab(e),e.Ba||(e.Ba=[]),e.Ba.push(t)}function wb(e,i,o,a){var t={o:null,Hf:null,Jf:null};return t.o=new pb(function(n,r){t.Hf=i?function(e){try{var t=i.call(a,e);n(t)}catch(e){r(e)}}:n,t.Jf=o?function(e){try{var t=o.call(a,e);!p(t)&&e instanceof ub?r(e):n(t)}catch(e){r(e)}}:r}),zb(t.o.Ha=e,t),t.o}function sb(e,t,n){if(e.N==qb){if(e==n)t=vb,n=new TypeError("Promise cannot resolve to itself");else{var i;if(n)try{i=!!n.$goog_Thenable}catch(e){i=!1}else i=!1;if(i)return e.N=1,void n.then(e.Yf,e.Zf,e);if(ga(n))try{var o=n.then;if(r(o))return void Bb(e,n,o)}catch(e){t=vb,n=e}}e.Rf=n,e.N=t,e.Ha=null,Ab(e),t!=vb||n instanceof ub||Cb(e,n)}}function Bb(t,e,n){function r(e){i||(i=!0,t.Zf(e))}var i=!(t.N=1);try{n.call(e,function(e){i||(i=!0,t.Yf(e))},r)}catch(e){r(e)}}function Ab(e){e.ye||(e.ye=!0,$a(e.wg,e))}function yb(e,t,n,r){if(n==tb)t.Hf(r);else{if(t.o)for(;e&&e.yd;e=e.Ha)e.yd=!1;t.Jf(r)}}function Cb(e,t){e.yd=!0,$a(function(){e.yd&&Db.call(null,t)})}pb.prototype.then=function(e,t,n){return wb(this,r(e)?e:null,r(t)?t:null,n)},pb.prototype.then=pb.prototype.then,pb.prototype.$goog_Thenable=!0,h=pb.prototype,h.gh=function(e,t){return wb(this,null,e,t)},h.cancel=function(e){this.N==qb&&$a(function(){xb(this,new ub(e))},this)},h.Yf=function(e){this.N=qb,sb(this,tb,e)},h.Zf=function(e){this.N=qb,sb(this,vb,e)},h.wg=function(){for(;this.Ba&&this.Ba.length;){var e=this.Ba;this.Ba=null;for(var t=0;t<e.length;t++)yb(this,e[t],this.N,this.Rf)}this.ye=!1};var Db=Xa;function ub(e){la.call(this,e)}ka(ub,la),ub.prototype.name="cancel";var Eb=Eb||"2.4.2";function y(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function z(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]}function Fb(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Gb(e){var n={};return Fb(e,function(e,t){n[e]=t}),n}function Hb(e){return"object"==typeof e&&null!==e}function Ib(e){var n=[];return Fb(e,function(t,e){da(e)?Ma(e,function(e){n.push(encodeURIComponent(t)+"="+encodeURIComponent(e))}):n.push(encodeURIComponent(t)+"="+encodeURIComponent(e))}),n.length?"&"+n.join("&"):""}function Jb(e){var t={};return e=e.replace(/^\?/,"").split("&"),Ma(e,function(e){e&&(e=e.split("="),t[e[0]]=e[1])}),t}function Kb(e,t){if(!e)throw Lb(t)}function Lb(e){return Error("Firebase ("+Eb+") INTERNAL ASSERT FAILED: "+e)}var Mb=n.Promise||pb;function B(){var n=this;this.reject=this.resolve=null,this.D=new Mb(function(e,t){n.resolve=e,n.reject=t})}function C(n,i){return function(e,t){e?n.reject(e):n.resolve(t),r(i)&&(Nb(n.D),1===i.length?i(e):i(e,t))}}function Nb(e){e.then(void 0,aa)}function Ob(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);55296<=i&&i<=56319&&(i-=55296,Kb(++r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(i<<10)+(e.charCodeAt(r)-56320)),i<128?t[n++]=i:(i<2048?t[n++]=i>>6|192:(i<65536?t[n++]=i>>12|224:(t[n++]=i>>18|240,t[n++]=i>>12&63|128),t[n++]=i>>6&63|128),t[n++]=63&i|128)}return t}function Pb(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:55296<=r&&r<=56319?(t+=4,n++):t+=3}return t}function D(e,t,n,r){var i;if(r<t?i="at least "+t:n<r&&(i=0===n?"none":"no more than "+n),i)throw Error(e+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")}function E(e,t,n){var r="";switch(t){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}return e+" failed: "+r+" argument "}function F(e,t,n,i){if((!i||p(n))&&!r(n))throw Error(E(e,t,i)+"must be a valid function.")}function Qb(e,t,n){if(p(n)&&(!ga(n)||null===n))throw Error(E(e,t,!0)+"must be a valid context object.")}function Rb(e){return"undefined"!=typeof JSON&&p(JSON.parse)?JSON.parse(e):za(e)}function G(e){if("undefined"!=typeof JSON&&p(JSON.stringify))e=JSON.stringify(e);else{var t=[];Ba(new Aa,e,t),e=t.join("")}return e}function Sb(){this.Zd=H}function Tb(){}pb.prototype.catch=pb.prototype.gh,Sb.prototype.j=function(e){return this.Zd.S(e)},Sb.prototype.toString=function(){return this.Zd.toString()},Tb.prototype.uf=function(){return null},Tb.prototype.Ce=function(){return null};var Ub=new Tb;function Vb(e,t,n){this.bg=e,this.Oa=t,this.Nd=n}function Zb(){this.xb=[]}function $b(e,t){for(var n=null,r=0;r<t.length;r++){var i=t[r],o=i.cc();null===n||o.ea(n.cc())||(e.xb.push(n),n=null),null===n&&(n=new ac(o)),n.add(i)}n&&e.xb.push(n)}function bc(e,t,n){$b(e,n),cc(e,function(e){return e.ea(t)})}function dc(e,t,n){$b(e,n),cc(e,function(e){return e.contains(t)||t.contains(e)})}function cc(e,t){for(var n=!0,r=0;r<e.xb.length;r++){if(i=e.xb[r])if(t(i=i.cc())){for(var i=e.xb[r],o=0;o<i.xd.length;o++){var a=i.xd[o];if(null!==a){i.xd[o]=null;var s=a.Zb();ec&&fc("event: "+a.toString()),gc(s)}}e.xb[r]=null}else n=!1}n&&(e.xb=[])}function ac(e){this.ta=e,this.xd=[]}function J(e,t,n,r){this.type=e,this.Na=t,this.Za=n,this.Oe=r,this.Td=void 0}function hc(e){return new J(ic,e)}Vb.prototype.uf=function(e){var t=this.Oa.Q;return Wb(t,e)?t.j().T(e):(t=null!=this.Nd?new Xb(this.Nd,!0,!1):this.Oa.w(),this.bg.Bc(e,t))},Vb.prototype.Ce=function(e,t,n){var r=null!=this.Nd?this.Nd:Yb(this.Oa);return 0===(e=this.bg.qe(r,t,1,n,e)).length?null:e[0]},ac.prototype.add=function(e){this.xd.push(e)},ac.prototype.cc=function(){return this.ta};var ic="value";function jc(e,t,n,r){this.xe=t,this.be=n,this.Td=r,this.wd=e}function kc(e,t,n){this.xe=e,this.error=t,this.path=n}function Xb(e,t,n){this.A=e,this.ga=t,this.Yb=n}function lc(e){return e.ga}function mc(e){return e.Yb}function nc(e,t){return t.e()?e.ga&&!e.Yb:Wb(e,K(t))}function Wb(e,t){return e.ga&&!e.Yb||e.A.Fa(t)}function oc(e){this.pg=e,this.Gd=null}function pc(e,t){this.Vf={},this.hd=new oc(e),this.da=t;var n=1e4+2e4*Math.random();setTimeout(u(this.Of,this),Math.floor(n))}function qc(){this.Hc={}}function rc(e,t,n){p(n)||(n=1),y(e.Hc,t)||(e.Hc[t]=0),e.Hc[t]+=n}jc.prototype.cc=function(){var e=this.be.Mb();return"value"===this.wd?e.path:e.parent().path},jc.prototype.De=function(){return this.wd},jc.prototype.Zb=function(){return this.xe.Zb(this)},jc.prototype.toString=function(){return this.cc().toString()+":"+this.wd+":"+G(this.be.qf())},kc.prototype.cc=function(){return this.path},kc.prototype.De=function(){return"cancel"},kc.prototype.Zb=function(){return this.xe.Zb(this)},kc.prototype.toString=function(){return this.path.toString()+":cancel"},Xb.prototype.j=function(){return this.A},oc.prototype.get=function(){var e=this.pg.get(),t=wa(e);if(this.Gd)for(var n in this.Gd)t[n]-=this.Gd[n];return this.Gd=e,t},pc.prototype.Of=function(){var e,t=this.hd.get(),n={},r=!1;for(e in t)0<t[e]&&y(this.Vf,e)&&(n[e]=t[e],r=!0);r&&this.da.Ye(n),setTimeout(u(this.Of,this),Math.floor(6e5*Math.random()))},qc.prototype.get=function(){return wa(this.Hc)};var sc={},tc={};function uc(e){return e=e.toString(),sc[e]||(sc[e]=new qc),sc[e]}function vc(e,t){var n=e.toString();return tc[n]||(tc[n]=t()),tc[n]}function L(e,t){this.name=e,this.U=t}function wc(e,t){return new L(e,t)}function xc(e,t){return yc(e.name,t.name)}function zc(e,t){return yc(e,t)}function Ac(e,t,n){this.type=Bc,this.source=e,this.path=t,this.Ja=n}function Cc(e,t){this.type=Dc,this.source=e,this.path=t}function Ec(e,t){this.Pa=e,this.xa=t||Fc}function Gc(e,t){for(var n,r=e.xa,i=null;!r.e();){if(0===(n=e.Pa(t,r.key))){if(r.left.e())return i?i.key:null;for(r=r.left;!r.right.e();)r=r.right;return r.key}n<0?r=r.left:0<n&&(r=(i=r).right)}throw Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}function Hc(e,t,n,r,i){for(this.Xd=i||null,this.Je=r,this.Ta=[],i=1;!e.e();)if(i=t?n(e.key,t):1,r&&(i*=-1),i<0)e=this.Je?e.left:e.right;else{if(0===i){this.Ta.push(e);break}this.Ta.push(e),e=this.Je?e.right:e.left}}function Ic(e){if(0===e.Ta.length)return null;var t,n=e.Ta.pop();if(t=e.Xd?e.Xd(n.key,n.value):{key:n.key,value:n.value},e.Je)for(n=n.left;!n.e();)e.Ta.push(n),n=n.right;else for(n=n.right;!n.e();)e.Ta.push(n),n=n.left;return t}function Jc(e){return 0===e.Ta.length?null:(t=(t=e.Ta)[t.length-1],e.Xd?e.Xd(t.key,t.value):{key:t.key,value:t.value});var t}function Kc(e,t,n,r,i){this.key=e,this.value=t,this.color=null==n||n,this.left=null!=r?r:Fc,this.right=null!=i?i:Fc}function Lc(e){return e.left.e()?e:Lc(e.left)}function Nc(e){return e.left.e()?Fc:(e.left.ha()||e.left.left.ha()||(e=Oc(e)),Mc(e=e.$(null,null,null,Nc(e.left),null)))}function Mc(e){return e.right.ha()&&!e.left.ha()&&(e=Rc(e)),e.left.ha()&&e.left.left.ha()&&(e=Pc(e)),e.left.ha()&&e.right.ha()&&(e=Qc(e)),e}function Oc(e){return(e=Qc(e)).right.left.ha()&&(e=Qc(e=Rc(e=e.$(null,null,null,null,Pc(e.right))))),e}function Rc(e){return e.right.$(null,null,e.color,e.$(null,null,!0,null,e.right.left),null)}function Pc(e){return e.left.$(null,null,e.color,null,e.$(null,null,!0,e.left.right,null))}function Qc(e){return e.$(null,null,!e.color,e.left.$(null,null,!e.left.color,null,null),e.right.$(null,null,!e.right.color,null,null))}function Sc(){}Ac.prototype.$c=function(e){return this.path.e()?new Ac(this.source,M,this.Ja.T(e)):new Ac(this.source,N(this.path),this.Ja)},Ac.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" overwrite: "+this.Ja.toString()+")"},Cc.prototype.$c=function(){return this.path.e()?new Cc(this.source,M):new Cc(this.source,N(this.path))},Cc.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" listen_complete)"},h=Ec.prototype,h.Sa=function(e,t){return new Ec(this.Pa,this.xa.Sa(e,t,this.Pa).$(null,null,!1,null,null))},h.remove=function(e){return new Ec(this.Pa,this.xa.remove(e,this.Pa).$(null,null,!1,null,null))},h.get=function(e){for(var t,n=this.xa;!n.e();){if(0===(t=this.Pa(e,n.key)))return n.value;t<0?n=n.left:0<t&&(n=n.right)}return null},h.e=function(){return this.xa.e()},h.count=function(){return this.xa.count()},h.Vc=function(){return this.xa.Vc()},h.jc=function(){return this.xa.jc()},h.ka=function(e){return this.xa.ka(e)},h.ac=function(e){return new Hc(this.xa,null,this.Pa,!1,e)},h.bc=function(e,t){return new Hc(this.xa,e,this.Pa,!1,t)},h.dc=function(e,t){return new Hc(this.xa,e,this.Pa,!0,t)},h.xf=function(e){return new Hc(this.xa,null,this.Pa,!0,e)},h=Kc.prototype,h.$=function(e,t,n,r,i){return new Kc(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)},h.count=function(){return this.left.count()+1+this.right.count()},h.e=function(){return!1},h.ka=function(e){return this.left.ka(e)||e(this.key,this.value)||this.right.ka(e)},h.Vc=function(){return Lc(this).key},h.jc=function(){return this.right.e()?this.key:this.right.jc()},h.Sa=function(e,t,n){var r,i;return Mc(i=(r=n(e,(i=this).key))<0?i.$(null,null,null,i.left.Sa(e,t,n),null):0===r?i.$(null,t,null,null,null):i.$(null,null,null,null,i.right.Sa(e,t,n)))},h.remove=function(e,t){var n,r;if(t(e,(n=this).key)<0)n.left.e()||n.left.ha()||n.left.left.ha()||(n=Oc(n)),n=n.$(null,null,null,n.left.remove(e,t),null);else{if(n.left.ha()&&(n=Pc(n)),n.right.e()||n.right.ha()||n.right.left.ha()||(n=Qc(n)).left.left.ha()&&(n=Qc(n=Pc(n))),0===t(e,n.key)){if(n.right.e())return Fc;r=Lc(n.right),n=n.$(r.key,r.value,null,null,Nc(n.right))}n=n.$(null,null,null,null,n.right.remove(e,t))}return Mc(n)},h.ha=function(){return this.color},h=Sc.prototype,h.$=function(){return this},h.Sa=function(e,t){return new Kc(e,t,null)},h.remove=function(){return this},h.count=function(){return 0},h.e=function(){return!0},h.ka=function(){return!1},h.Vc=function(){return null},h.jc=function(){return null},h.ha=function(){return!1};var Fc=new Sc;function Tc(e,t){return e&&"object"==typeof e?(O(".sv"in e,"Unexpected leaf node or priority contents"),t[e[".sv"]]):e}function Uc(e,n){var r=new Vc;return Wc(e,new P(""),function(e,t){r.rc(e,Xc(t,n))}),r}function Xc(e,r){var i,t=Tc(t=e.C().J(),r);if(e.L()){var n=Tc(e.Ea(),r);return n!==e.Ea()||t!==e.C().J()?new Yc(n,Q(t)):e}return t!==(i=e).C().J()&&(i=i.ia(new Yc(t))),e.R(R,function(e,t){var n=Xc(t,r);n!==t&&(i=i.W(e,n))}),i}function Zc(){this.Ac={}}function $c(e){this.Ic=e,this.Sd="firebase:"}function ad(e){try{if("undefined"!=typeof window&&void 0!==window[e]){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new $c(t)}}catch(e){}return new Zc}Zc.prototype.set=function(e,t){null==t?delete this.Ac[e]:this.Ac[e]=t},Zc.prototype.get=function(e){return y(this.Ac,e)?this.Ac[e]:null},Zc.prototype.remove=function(e){delete this.Ac[e]},Zc.prototype.Af=!0,h=$c.prototype,h.set=function(e,t){null==t?this.Ic.removeItem(this.Sd+e):this.Ic.setItem(this.Sd+e,G(t))},h.get=function(e){return null==(e=this.Ic.getItem(this.Sd+e))?null:Rb(e)},h.remove=function(e){this.Ic.removeItem(this.Sd+e)},h.Af=!1,h.toString=function(){return this.Ic.toString()};var bd=ad("localStorage"),cd=ad("sessionStorage");function dd(e,t,n,r,i){this.host=e.toLowerCase(),this.domain=this.host.substr(this.host.indexOf(".")+1),this.ob=t,this.lc=n,this.jh=r,this.Rd=i||"",this.ab=bd.get("host:"+e)||this.host}function ed(e,t){t!==e.ab&&(e.ab=t,"s-"===e.ab.substr(0,2)&&bd.set("host:"+e.host,e.ab))}function fd(e,t,n){if(O("string"==typeof t,"typeof type must == string"),O("object"==typeof n,"typeof params must == object"),t===gd)t=(e.ob?"wss://":"ws://")+e.ab+"/.ws?";else{if(t!==hd)throw Error("Unknown connection type: "+t);t=(e.ob?"https://":"http://")+e.ab+"/.lp?"}e.host!==e.ab&&(n.ns=e.lc);var r=[];return v(n,function(e,t){r.push(t+"="+e)}),t+r.join("&")}dd.prototype.toString=function(){var e=(this.ob?"https://":"http://")+this.host;return this.Rd&&(e+="<"+this.Rd+">"),e};var id=(xnc=1,function(){return xnc++}),O=Kb,jd=Lb,xnc;function kd(e){try{var t;if("undefined"!=typeof atob)t=atob(e);else{ob();for(var n=mb,r=[],i=0;i<e.length;){var o=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==o||null==a||null==s||null==u)throw Error();r.push(o<<2|a>>4),64!=s&&(r.push(a<<4&240|s>>2),64!=u&&r.push(s<<6&192|u))}if(r.length<8192)t=String.fromCharCode.apply(null,r);else{for(e="",n=0;n<r.length;n+=8192)e+=String.fromCharCode.apply(null,Ua(r,n,n+8192));t=e}}return t}catch(e){fc("base64Decode failed: ",e)}return null}function ld(e){var t=Ob(e);(e=new Ja).update(t);t=[];var n=8*e.ge;e.ec<56?e.update(e.Od,56-e.ec):e.update(e.Od,e.Ya-(e.ec-56));for(var r=e.Ya-1;56<=r;r--)e.pe[r]=255&n,n/=256;for(Ka(e,e.pe),r=n=0;r<5;r++)for(var i=24;0<=i;i-=8)t[n]=e.P[r]>>i&255,++n;return nb(t)}function md(e){for(var t="",n=0;n<arguments.length;n++)t=ea(arguments[n])?t+md.apply(null,arguments[n]):"object"==typeof arguments[n]?t+G(arguments[n]):t+arguments[n],t+=" ";return t}var ec=null,nd=!0;function od(e,t){Kb(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?("undefined"!=typeof console&&("function"==typeof console.log?ec=u(console.log,console):"object"==typeof console.log&&(ec=function(e){console.log(e)})),t&&cd.set("logging_enabled",!0)):r(e)?ec=e:(ec=null,cd.remove("logging_enabled"))}function fc(e){if(!0===nd&&(nd=!1,null===ec&&!0===cd.get("logging_enabled")&&od(!0)),ec){var t=md.apply(null,arguments);ec(t)}}function pd(e){return function(){fc(e,arguments)}}function qd(e){if("undefined"!=typeof console){var t="FIREBASE INTERNAL ERROR: "+md.apply(null,arguments);void 0!==console.error?console.error(t):console.log(t)}}function rd(e){var t=md.apply(null,arguments);throw Error("FIREBASE FATAL ERROR: "+t)}function S(e){if("undefined"!=typeof console){var t="FIREBASE WARNING: "+md.apply(null,arguments);void 0!==console.warn?console.warn(t):console.log(t)}}function sd(e){var t="",n="",r="",i="",o=!0,a="https",s=443;if(q(e)){var u=e.indexOf("//");for(0<=u&&(a=e.substring(0,u-1),e=e.substring(u+2)),-1===(u=e.indexOf("/"))&&(u=e.length),t=e.substring(0,u),i="",e=e.substring(u).split("/"),u=0;u<e.length;u++)if(0<e[u].length){var c=e[u];try{c=decodeURIComponent(c.replace(/\+/g," "))}catch(e){}i+="/"+c}3===(e=t.split(".")).length?(n=e[1],r=e[0].toLowerCase()):2===e.length&&(n=e[0]),0<=(u=t.indexOf(":"))&&(o="https"===a||"wss"===a,s=t.substring(u+1),isFinite(s)&&(s=String(s)),s=q(s)?/^\s*-?0x/i.test(s)?parseInt(s,16):parseInt(s,10):NaN)}return{host:t,port:s,domain:n,fh:r,ob:o,scheme:a,bd:i}}function td(e){return fa(e)&&(e!=e||e==Number.POSITIVE_INFINITY||e==Number.NEGATIVE_INFINITY)}function ud(e){if("complete"===document.readyState)e();else{var t=!1,n=function(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}}function yc(e,t){if(e===t)return 0;if("[MIN_NAME]"===e||"[MAX_NAME]"===t)return-1;if("[MIN_NAME]"===t||"[MAX_NAME]"===e)return 1;var n=vd(e),r=vd(t);return null!==n?null!==r?0==n-r?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1}function wd(e,t){if(t&&e in t)return t[e];throw Error("Missing required key ("+e+") in object: "+G(t))}function xd(e){if("object"!=typeof e||null===e)return G(e);var t,n=[];for(t in e)n.push(t);n.sort(),t="{";for(var r=0;r<n.length;r++)0!==r&&(t+=","),t+=G(n[r]),t+=":",t+=xd(e[n[r]]);return t+"}"}function yd(e,t){if(e.length<=t)return[e];for(var n=[],r=0;r<e.length;r+=t)e<r+t?n.push(e.substring(r,e.length)):n.push(e.substring(r,r+t));return n}function zd(e,t){if(da(e))for(var n=0;n<e.length;++n)t(n,e[n]);else v(e,t)}function Ad(e){var t,n,r,i;for(O(!td(e),"Invalid JSON number"),0===e?(r=n=0,t=-1/0==1/e?1:0):(t=e<0,r=(e=Math.abs(e))>=Math.pow(2,-1022)?(n=(r=Math.min(Math.floor(Math.log(e)/Math.LN2),1023))+1023,Math.round(e*Math.pow(2,52-r)-Math.pow(2,52))):(n=0,Math.round(e/Math.pow(2,-1074)))),i=[],e=52;e;--e)i.push(r%2?1:0),r=Math.floor(r/2);for(e=11;e;--e)i.push(n%2?1:0),n=Math.floor(n/2);for(i.push(t?1:0),i.reverse(),t=i.join(""),n="",e=0;e<64;e+=8)1===(r=parseInt(t.substr(e,8),2).toString(16)).length&&(r="0"+r),n+=r;return n.toLowerCase()}var Bd=/^-?\d{1,10}$/;function vd(e){return Bd.test(e)&&(-2147483648<=(e=Number(e))&&e<=2147483647)?e:null}function gc(e){try{e()}catch(e){setTimeout(function(){throw S("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}}function T(e,t){if(r(e)){var n=Array.prototype.slice.call(arguments,1).slice();gc(function(){e.apply(null,n)})}}function Cd(e){var t={},n={},r={},i="";try{var o=e.split(".");t=Rb(kd(o[0])||""),n=Rb(kd(o[1])||""),i=o[2],r=n.d||{};delete n.d}catch(e){}return{mh:t,Ec:n,data:r,bh:i}}function Dd(e){return"object"==typeof(e=Cd(e).Ec)&&e.hasOwnProperty("iat")?z(e,"iat"):null}function Ed(e){var t=(e=Cd(e)).Ec;return!!e.bh&&!!t&&"object"==typeof t&&t.hasOwnProperty("iat")}function Fd(e){this.Y=e,this.g=e.n.g}function Gd(t,e,n,r){var i=[],o=[];return Ma(e,function(e){"child_changed"===e.type&&t.g.Dd(e.Oe,e.Na)&&o.push(new J("child_moved",e.Na,e.Za))}),Hd(t,i,"child_removed",e,r,n),Hd(t,i,"child_added",e,r,n),Hd(t,i,"child_moved",o,r,n),Hd(t,i,"child_changed",e,r,n),Hd(t,i,ic,e,r,n),i}function Hd(r,i,t,e,o,a){Va(e=Na(e,function(e){return e.type===t}),u(r.qg,r)),Ma(e,function(t){var n=Id(r,t,a);Ma(o,function(e){e.Qf(t.type)&&i.push(e.createEvent(n,r.Y))})})}function Id(e,t,n){return"value"!==t.type&&"child_removed"!==t.type&&(t.Td=n.wf(t.Za,t.Na,e.g)),t}function Jd(){this.ib={}}function Kd(e,t){var n=t.type,r=t.Za;O("child_added"==n||"child_changed"==n||"child_removed"==n,"Only child changes supported for tracking"),O(".priority"!==r,"Only non-priority child changes can be tracked.");var i=z(e.ib,r);if(i){var o=i.type;if("child_added"==n&&"child_removed"==o)e.ib[r]=new J("child_changed",t.Na,r,i.Na);else if("child_removed"==n&&"child_added"==o)delete e.ib[r];else if("child_removed"==n&&"child_changed"==o)e.ib[r]=new J("child_removed",i.Oe,r);else if("child_changed"==n&&"child_added"==o)e.ib[r]=new J("child_added",t.Na,r);else{if("child_changed"!=n||"child_changed"!=o)throw jd("Illegal combination of changes: "+t+" occurred after "+i);e.ib[r]=new J("child_changed",t.Na,r,i.Oe)}}else e.ib[r]=t}function Ld(e){this.g=e}function Md(e){var t;this.Fe=new Ld(e.g),this.g=e.g,t=e.oa?(t=Nd(e),e.g.Sc(Od(e),t)):e.g.Wc(),this.gd=t,e=e.ra?(t=Pd(e),e.g.Sc(Rd(e),t)):e.g.Tc(),this.Jc=e}function Sd(e){this.ua=new Md(e),this.g=e.g,O(e.la,"Only valid if limit has been set"),this.ma=e.ma,this.Nb=!Td(e)}function Ud(e,t,n,r,i,o){var a;if(e.Nb){var s=Vd(e.g);a=function(e,t){return s(t,e)}}else a=Vd(e.g);O(t.Hb()==e.ma,"");var u=new L(n,r),c=e.Nb?Wd(t,e.g):Xd(t,e.g),l=e.ua.matches(u);if(t.Fa(n)){var p=t.T(n);for(c=i.Ce(e.g,c,e.Nb);null!=c&&(c.name==n||t.Fa(c.name));)c=i.Ce(e.g,c,e.Nb);return i=null==c?1:a(c,u),l&&!r.e()&&0<=i?(null!=o&&Kd(o,new J("child_changed",r,n,p)),t.W(n,r)):(null!=o&&Kd(o,new J("child_removed",p,n)),t=t.W(n,H),null!=c&&e.ua.matches(c)?(null!=o&&Kd(o,new J("child_added",c.U,c.name)),t.W(c.name,c.U)):t)}return r.e()?t:l&&0<=a(c,u)?(null!=o&&(Kd(o,new J("child_removed",c.U,c.name)),Kd(o,new J("child_added",r,n))),t.W(n,r).W(c.name,H)):t}function Yd(e,t){this.me=e,this.og=t}function Zd(e){this.X=e}function ie(e,t,n,r,i,o){var a,s=t.Q;if(null!=r.xc(n))return t;if(n.e())O(lc(t.w()),"If change path is empty, we must have complete server data"),r=mc(t.w())?(i=Yb(t),r.Cc(i instanceof fe?i:H)):r.Aa(Yb(t)),o=e.X.ya(t.Q.j(),r,o);else{var u=K(n);if(".priority"==u)O(1==le(n),"Can't have a priority with additional path components"),o=s.j(),a=t.w().j(),o=null!=(r=r.nd(n,o,a))?e.X.ia(o,r):s.j();else{var c=N(n);o=null!=(r=Wb(s,u)?(a=t.w().j(),null!=(r=r.nd(n,s.j(),a))?s.j().T(u).H(c,r):s.j().T(u)):r.Bc(u,t.w()))?e.X.H(s.j(),u,r,c,i,o):s.j()}}return ge(t,o,s.ga||n.e(),e.X.Ra())}function ae(e,t,n,r,i,o,a,s){var u=t.w();if(a=a?e.X:e.X.$b(),n.e())r=a.ya(u.j(),r,null);else if(a.Ra()&&!u.Yb)r=u.j().H(n,r),r=a.ya(u.j(),r,null);else{var c=K(n);if(!nc(u,n)&&1<le(n))return t;var l=N(n);r=u.j().T(c).H(l,r),r=".priority"==c?a.ia(u.j(),r):a.H(u.j(),c,r,l,Ub,null)}return u=u.ga||n.e(),ie(e,t=new je(t.Q,new Xb(r,u,a.Ra())),n,i,new Vb(i,t,o),s)}function $d(e,t,n,r,i,o,a){var s=t.Q;if(i=new Vb(i,t,o),n.e())a=e.X.ya(t.Q.j(),r,a),e=ge(t,a,!0,e.X.Ra());else if(".priority"===(o=K(n)))a=e.X.ia(t.Q.j(),r),e=ge(t,a,s.ga,s.Yb);else{n=N(n);var u=s.j().T(o);if(!n.e()){var c=i.uf(o);r=null!=c?".priority"===me(n)&&c.S(n.parent()).e()?c:c.H(n,r):H}e=u.ea(r)?t:ge(t,a=e.X.H(s.j(),o,r,n,i,a),s.ga,e.X.Ra())}return e}function ce(r,i,o,e,a,s,u){var c=i;return ne(e,function(e,t){var n=o.o(e);Wb(i.Q,K(n))&&(c=$d(r,c,n,t,a,s,u))}),ne(e,function(e,t){var n=o.o(e);Wb(i.Q,K(n))||(c=$d(r,c,n,t,a,s,u))}),c}function oe(n,e){return ne(e,function(e,t){n=n.H(e,t)}),n}function de(r,i,e,t,o,a,s,u){if(i.w().j().e()&&!lc(i.w()))return i;var c=i;e=e.e()?t:pe(qe,e,t);var l=i.w().j();return e.children.ka(function(e,t){if(l.Fa(e)){var n=oe(n=i.w().j().T(e),t);c=ae(r,c,new P(e),n,o,a,s,u)}}),e.children.ka(function(e,t){var n=!Wb(i.w(),e)&&null==t.value;l.Fa(e)||n||(n=oe(n=i.w().j().T(e),t),c=ae(r,c,new P(e),n,o,a,s,u))}),c}function he(e,t,n,r,i,o,a){if(null!=i.xc(n))return t;var s=mc(t.w()),u=t.w();if(null==r.value)return c=qe,ne(r,function(e){var t=n.o(e);nc(u,t)&&(c=c.set(e,u.j().S(t)))}),de(e,t,n,c,i,o,s,a);if(n.e()&&u.ga||nc(u,n))return ae(e,t,n,u.j().S(n),i,o,s,a);if(n.e()){var c=qe;return u.j().R(re,function(e,t){c=c.set(new P(e),t)}),de(e,t,n,c,i,o,s,a)}return t}function se(){}Fd.prototype.qg=function(e,t){if(null==e.Za||null==t.Za)throw jd("Should only compare child_ events.");return this.g.compare(new L(e.Za,e.Na),new L(t.Za,t.Na))},h=Ld.prototype,h.H=function(e,t,n,r,i,o){return O(e.Mc(this.g),"A node must be indexed if only a child is updated"),(i=e.T(t)).S(r).ea(n.S(r))&&i.e()==n.e()?e:(null!=o&&(n.e()?e.Fa(t)?Kd(o,new J("child_removed",i,t)):O(e.L(),"A child remove without an old child only makes sense on a leaf node"):i.e()?Kd(o,new J("child_added",n,t)):Kd(o,new J("child_changed",n,t,i))),e.L()&&n.e()?e:e.W(t,n).pb(this.g))},h.ya=function(r,n,i){return null!=i&&(r.L()||r.R(R,function(e,t){n.Fa(e)||Kd(i,new J("child_removed",t,e))}),n.L()||n.R(R,function(e,t){if(r.Fa(e)){var n=r.T(e);n.ea(t)||Kd(i,new J("child_changed",t,e,n))}else Kd(i,new J("child_added",t,e))})),n.pb(this.g)},h.ia=function(e,t){return e.e()?H:e.ia(t)},h.Ra=function(){return!1},h.$b=function(){return this},h=Md.prototype,h.matches=function(e){return this.g.compare(this.gd,e)<=0&&this.g.compare(e,this.Jc)<=0},h.H=function(e,t,n,r,i,o){return this.matches(new L(t,n))||(n=H),this.Fe.H(e,t,n,r,i,o)},h.ya=function(e,t,n){t.L()&&(t=H);var r=(r=t.pb(this.g)).ia(H),i=this;return t.R(R,function(e,t){i.matches(new L(e,t))||(r=r.W(e,H))}),this.Fe.ya(e,r,n)},h.ia=function(e){return e},h.Ra=function(){return!0},h.$b=function(){return this.Fe},h=Sd.prototype,h.H=function(e,t,n,r,i,o){return this.ua.matches(new L(t,n))||(n=H),e.T(t).ea(n)?e:e.Hb()<this.ma?this.ua.$b().H(e,t,n,r,i,o):Ud(this,e,t,n,i,o)},h.ya=function(e,t,n){var r;if(t.L()||t.e())r=H.pb(this.g);else if(2*this.ma<t.Hb()&&t.Mc(this.g)){r=H.pb(this.g),t=this.Nb?t.dc(this.ua.Jc,this.g):t.bc(this.ua.gd,this.g);for(var i=0;0<t.Ta.length&&i<this.ma;){var o=Ic(t);if(!(this.Nb?this.g.compare(this.ua.gd,o)<=0:this.g.compare(o,this.ua.Jc)<=0))break;r=r.W(o.name,o.U),i++}}else{var a,s,u;if(r=(r=t.pb(this.g)).ia(H),this.Nb){t=r.xf(this.g),a=this.ua.Jc,s=this.ua.gd;var c=Vd(this.g);u=function(e,t){return c(t,e)}}else t=r.ac(this.g),a=this.ua.gd,s=this.ua.Jc,u=Vd(this.g);i=0;for(var l=!1;0<t.Ta.length;)o=Ic(t),!l&&u(a,o)<=0&&(l=!0),l&&i<this.ma&&u(o,s)<=0?i++:r=r.W(o.name,H)}return this.ua.$b().ya(e,r,n)},h.ia=function(e){return e},h.Ra=function(){return!0},h.$b=function(){return this.ua.$b()},Zd.prototype.gb=function(e,t,n,r){var i,o=new Jd;if(t.type===Bc)n=t.source.Ae?$d(this,e,t.path,t.Ja,n,r,o):(O(t.source.tf,"Unknown source."),i=t.source.ef||mc(e.w())&&!t.path.e(),ae(this,e,t.path,t.Ja,n,r,i,o));else if(t.type===be)n=t.source.Ae?ce(this,e,t.path,t.children,n,r,o):(O(t.source.tf,"Unknown source."),i=t.source.ef||mc(e.w()),de(this,e,t.path,t.children,n,r,i,o));else if(t.type===ee)if(t.Yd)if(t=t.path,null!=n.xc(t))n=e;else{if(i=new Vb(n,e,r),r=e.Q.j(),t.e()||".priority"===K(t))t=lc(e.w())?n.Aa(Yb(e)):(t=e.w().j(),O(t instanceof fe,"serverChildren would be complete if leaf node"),n.Cc(t)),t=this.X.ya(r,t,o);else{var a=K(t),s=n.Bc(a,e.w());null==s&&Wb(e.w(),a)&&(s=r.T(a)),(t=null!=s?this.X.H(r,a,s,N(t),i,o):e.Q.j().Fa(a)?this.X.H(r,a,H,N(t),i,o):r).e()&&lc(e.w())&&((r=n.Aa(Yb(e))).L()&&(t=this.X.ya(t,r,o)))}r=lc(e.w())||null!=n.xc(M),n=ge(e,t,r,this.X.Ra())}else n=he(this,e,t.path,t.Ub,n,r,o);else{if(t.type!==Dc)throw jd("Unknown operation type: "+t.type);r=t.path,i=(t=e.w()).j(),a=t.ga||r.e(),n=ie(this,new je(e.Q,new Xb(i,a,t.Yb)),r,n,Ub,o)}return o=qa(o.ib),(t=(r=n).Q).ga&&(i=t.j().L()||t.j().e(),a=ke(e),(0<o.length||!e.Q.ga||i&&!t.j().ea(a)||!t.j().C().ea(a.C()))&&o.push(hc(ke(r)))),new Yd(n,o)};var te={};function Vd(e){return u(e.compare,e)}function ve(e){O(!e.e()&&".priority"!==K(e),"Can't create PathIndex with empty path or .priority key"),this.gc=e}function xe(){}se.prototype.Dd=function(e,t){return 0!==this.compare(new L("[MIN_NAME]",e),new L("[MIN_NAME]",t))},se.prototype.Wc=function(){return ue},ka(ve,se),h=ve.prototype,h.Lc=function(e){return!e.S(this.gc).e()},h.compare=function(e,t){var n=e.U.S(this.gc),r=t.U.S(this.gc);return 0===(n=n.Gc(r))?yc(e.name,t.name):n},h.Sc=function(e,t){var n=Q(e);return new L(t,n=H.H(this.gc,n))},h.Tc=function(){return new L("[MAX_NAME]",H.H(this.gc,we))},h.toString=function(){return this.gc.slice().join("/")},ka(xe,se),h=xe.prototype,h.compare=function(e,t){var n=e.U.C(),r=t.U.C();return 0===(n=n.Gc(r))?yc(e.name,t.name):n},h.Lc=function(e){return!e.C().e()},h.Dd=function(e,t){return!e.C().ea(t.C())},h.Wc=function(){return ue},h.Tc=function(){return new L("[MAX_NAME]",new Yc("[PRIORITY-POST]",we))},h.Sc=function(e,t){return new L(t,new Yc("[PRIORITY-POST]",Q(e)))},h.toString=function(){return".priority"};var R=new xe;function ye(){}ka(ye,se),h=ye.prototype,h.compare=function(e,t){return yc(e.name,t.name)},h.Lc=function(){throw jd("KeyIndex.isDefinedOn not expected to be called.")},h.Dd=function(){return!1},h.Wc=function(){return ue},h.Tc=function(){return new L("[MAX_NAME]",H)},h.Sc=function(e){return O(q(e),"KeyIndex indexValue must always be a string."),new L(e,H)},h.toString=function(){return".key"};var re=new ye;function ze(){}ka(ze,se),h=ze.prototype,h.compare=function(e,t){var n=e.U.Gc(t.U);return 0===n?yc(e.name,t.name):n},h.Lc=function(){return!0},h.Dd=function(e,t){return!e.ea(t)},h.Wc=function(){return ue},h.Tc=function(){return Ae},h.Sc=function(e,t){return new L(t,Q(e))},h.toString=function(){return".value"};var Be=new ze;function Ce(){this.Xb=this.ra=this.Pb=this.oa=this.la=!1,this.ma=0,this.Rb="",this.ic=null,this.Bb="",this.fc=null,this.zb="",this.g=R}var De=new Ce;function Td(e){return""===e.Rb?e.oa:"l"===e.Rb}function Od(e){return O(e.oa,"Only valid if start has been set"),e.ic}function Nd(e){return O(e.oa,"Only valid if start has been set"),e.Pb?e.Bb:"[MIN_NAME]"}function Rd(e){return O(e.ra,"Only valid if end has been set"),e.fc}function Pd(e){return O(e.ra,"Only valid if end has been set"),e.Xb?e.zb:"[MAX_NAME]"}function Ee(e){var t=new Ce;return t.la=e.la,t.ma=e.ma,t.oa=e.oa,t.ic=e.ic,t.Pb=e.Pb,t.Bb=e.Bb,t.ra=e.ra,t.fc=e.fc,t.Xb=e.Xb,t.zb=e.zb,t.g=e.g,t}function Fe(e,t){var n=Ee(e);return n.g=t,n}function Ge(e){var t={};if(e.oa&&(t.sp=e.ic,e.Pb&&(t.sn=e.Bb)),e.ra&&(t.ep=e.fc,e.Xb&&(t.en=e.zb)),e.la){t.l=e.ma;var n=e.Rb;""===n&&(n=Td(e)?"l":"r"),t.vf=n}return e.g!==R&&(t.i=e.g.toString()),t}function He(e){return!(e.oa||e.ra||e.la)}function Ie(e){return He(e)&&e.g==R}function Je(e){var t,n={};return Ie(e)||(t=e.g===R?"$priority":e.g===Be?"$value":e.g===re?"$key":(O(e.g instanceof ve,"Unrecognized index type!"),e.g.toString()),n.orderBy=G(t),e.oa&&(n.startAt=G(e.ic),e.Pb&&(n.startAt+=","+G(e.Bb))),e.ra&&(n.endAt=G(e.fc),e.Xb&&(n.endAt+=","+G(e.zb))),e.la&&(Td(e)?n.limitToFirst=e.ma:n.limitToLast=e.ma)),n}function Ke(e,t){this.Ed=e,this.hc=t}function Le(a,s,u){return new Ke(ma(a.Ed,function(e,t){var n=z(a.hc,t);if(O(n,"Missing index implementation for "+t),e!==te)return r=e,(n=u.get(s.name))&&(r=r.remove(new L(s.name,n))),r.Sa(s,s.U);if(n.Lc(s.U)){for(var r=[],i=u.ac(wc),o=Ic(i);o;)o.name!=s.name&&r.push(o),o=Ic(i);return r.push(s),Me(r,Vd(n))}return te}),a.hc)}function Ne(e,n,r){return new Ke(ma(e.Ed,function(e){if(e===te)return e;var t=r.get(n.name);return t?e.remove(new L(n.name,t)):e}),e.hc)}h=Ce.prototype,h.Le=function(e){var t=Ee(this);return t.la=!0,t.ma=e,t.Rb="",t},h.Me=function(e){var t=Ee(this);return t.la=!0,t.ma=e,t.Rb="l",t},h.Ne=function(e){var t=Ee(this);return t.la=!0,t.ma=e,t.Rb="r",t},h.ce=function(e,t){var n=Ee(this);return n.oa=!0,p(e)||(e=null),n.ic=e,null!=t?(n.Pb=!0,n.Bb=t):(n.Pb=!1,n.Bb=""),n},h.vd=function(e,t){var n=Ee(this);return n.ra=!0,p(e)||(e=null),n.fc=e,p(t)?(n.Xb=!0,n.zb=t):(n.oh=!1,n.zb=""),n},h.toString=function(){return G(Ge(this))},Ke.prototype.get=function(e){var t=z(this.Ed,e);if(!t)throw Error("No index defined for "+e);return t===te?null:t};var Oe=new Ke({".priority":te},{".priority":R});function Yc(e,t){this.B=e,O(p(this.B)&&null!==this.B,"LeafNode shouldn't be created with null/undefined value."),this.ca=t||H,Pe(this.ca),this.Gb=null}var Qe=["object","boolean","number","string"];function fe(e,t,n){this.m=e,(this.ca=t)&&Pe(this.ca),e.e()&&O(!this.ca||this.ca.e(),"An empty node cannot have a priority"),this.Ab=n,this.Gb=null}h=Yc.prototype,h.L=function(){return!0},h.C=function(){return this.ca},h.ia=function(e){return new Yc(this.B,e)},h.T=function(e){return".priority"===e?this.ca:H},h.S=function(e){return e.e()?this:".priority"===K(e)?this.ca:H},h.Fa=function(){return!1},h.wf=function(){return null},h.W=function(e,t){return".priority"===e?this.ia(t):t.e()&&".priority"!==e?this:H.W(e,t).ia(this.ca)},h.H=function(e,t){var n=K(e);return null===n?t:t.e()&&".priority"!==n?this:(O(".priority"!==n||1===le(e),".priority must be the last token in a path"),this.W(n,H.H(N(e),t)))},h.e=function(){return!1},h.Hb=function(){return 0},h.R=function(){return!1},h.J=function(e){return e&&!this.C().e()?{".value":this.Ea(),".priority":this.C().J()}:this.Ea()},h.hash=function(){if(null===this.Gb){var e="";this.ca.e()||(e+="priority:"+Re(this.ca.J())+":");var t=typeof this.B;e=e+t+":",e="number"==t?e+Ad(this.B):e+this.B;this.Gb=ld(e)}return this.Gb},h.Ea=function(){return this.B},h.Gc=function(e){if(e===H)return 1;if(e instanceof fe)return-1;O(e.L(),"Unknown node type");var t=typeof e.B,n=typeof this.B,r=La(Qe,t),i=La(Qe,n);return O(0<=r,"Unknown leaf type: "+t),O(0<=i,"Unknown leaf type: "+n),r===i?"object"==n?0:this.B<e.B?-1:this.B===e.B?0:1:i-r},h.pb=function(){return this},h.Mc=function(){return!0},h.ea=function(e){return e===this||!!e.L()&&(this.B===e.B&&this.ca.ea(e.ca))},h.toString=function(){return G(this.J(!0))},h=fe.prototype,h.L=function(){return!1},h.C=function(){return this.ca||H},h.ia=function(e){return this.m.e()?this:new fe(this.m,e,this.Ab)},h.T=function(e){return".priority"===e?this.C():null===(e=this.m.get(e))?H:e},h.S=function(e){var t=K(e);return null===t?this:this.T(t).S(N(e))},h.Fa=function(e){return null!==this.m.get(e)},h.W=function(e,t){if(O(t,"We should always be passing snapshot nodes"),".priority"===e)return this.ia(t);var n,r,i=new L(e,t);return i=t.e()?(n=this.m.remove(e),Ne(this.Ab,i,this.m)):(n=this.m.Sa(e,t),Le(this.Ab,i,this.m)),r=n.e()?H:this.ca,new fe(n,r,i)},h.H=function(e,t){var n=K(e);if(null===n)return t;O(".priority"!==K(e)||1===le(e),".priority must be the last token in a path");var r=this.T(n).H(N(e),t);return this.W(n,r)},h.e=function(){return this.m.e()},h.Hb=function(){return this.m.count()};var Se=/^(0|[1-9]\d*)$/;function Wd(e,t){var n;return(n=(n=Te(e,t))?(n=n.Vc())&&n.name:e.m.Vc())?new L(n,e.m.get(n)):null}function Xd(e,t){var n;return(n=(n=Te(e,t))?(n=n.jc())&&n.name:e.m.jc())?new L(n,e.m.get(n)):null}function Te(e,t){return t===re?null:e.Ab.get(t.toString())}function Q(e,t){if(null===e)return H;var n=null;if("object"==typeof e&&".priority"in e?n=e[".priority"]:void 0!==t&&(n=t),O(null===n||"string"==typeof n||"number"==typeof n||"object"==typeof n&&".sv"in n,"Invalid priority type found: "+typeof n),"object"==typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!=typeof e||".sv"in e)return new Yc(e,Q(n));if(e instanceof Array){var r=H,i=e;return v(i,function(e,t){if(y(i,t)&&"."!==t.substring(0,1)){var n=Q(e);!n.L()&&n.e()||(r=r.W(t,n))}}),r.ia(Q(n))}var o=[],a=!1,s=e;if(Fb(s,function(e){if("string"!=typeof e||"."!==e.substring(0,1)){var t=Q(s[e]);t.e()||(a=a||!t.C().e(),o.push(new L(e,t)))}}),0==o.length)return H;var u=Me(o,xc,function(e){return e.name},zc);if(a){var c=Me(o,Vd(R));return new fe(u,Q(n),new Ke({".priority":c},{".priority":R}))}return new fe(u,Q(n),Oe)}h=fe.prototype,h.J=function(n){if(this.e())return null;var r={},i=0,o=0,a=!0;if(this.R(R,function(e,t){r[e]=t.J(n),i++,a&&Se.test(e)?o=Math.max(o,Number(e)):a=!1}),!n&&a&&o<2*i){var e,t=[];for(e in r)t[e]=r[e];return t}return n&&!this.C().e()&&(r[".priority"]=this.C().J()),r},h.hash=function(){if(null===this.Gb){var r="";this.C().e()||(r+="priority:"+Re(this.C().J())+":"),this.R(R,function(e,t){var n=t.hash();""!==n&&(r+=":"+e+":"+n)}),this.Gb=""===r?"":ld(r)}return this.Gb},h.wf=function(e,t,n){return(n=Te(this,n))?(e=Gc(n,new L(e,t)))?e.name:null:Gc(this.m,e)},h.R=function(e,t){var n=Te(this,e);return n?n.ka(function(e){return t(e.name,e.U)}):this.m.ka(t)},h.ac=function(e){return this.bc(e.Wc(),e)},h.bc=function(e,t){if(n=Te(this,t))return n.bc(e,function(e){return e});for(var n,r=Jc(n=this.m.bc(e.name,wc));null!=r&&t.compare(r,e)<0;)Ic(n),r=Jc(n);return n},h.xf=function(e){return this.dc(e.Tc(),e)},h.dc=function(e,t){if(n=Te(this,t))return n.dc(e,function(e){return e});for(var n,r=Jc(n=this.m.dc(e.name,wc));null!=r&&0<t.compare(r,e);)Ic(n),r=Jc(n);return n},h.Gc=function(e){return this.e()?e.e()?0:-1:e.L()||e.e()?1:e===we?-1:0},h.pb=function(e){if(e===re||sa(this.Ab.hc,e.toString()))return this;var t=this.Ab,n=this.m;O(e!==re,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r=[],i=!1,o=Ic(n=n.ac(wc));o;)i=i||e.Lc(o.U),r.push(o),o=Ic(n);return r=i?Me(r,Vd(e)):te,i=e.toString(),(n=wa(t.hc))[i]=e,(e=wa(t.Ed))[i]=r,new fe(this.m,this.ca,new Ke(e,n))},h.Mc=function(e){return e===re||sa(this.Ab.hc,e.toString())},h.ea=function(e){if(e===this)return!0;if(e.L())return!1;if(this.C().ea(e.C())&&this.m.count()===e.m.count()){var t=this.ac(R);e=e.ac(R);for(var n=Ic(t),r=Ic(e);n&&r;){if(n.name!==r.name||!n.U.ea(r.U))return!1;n=Ic(t),r=Ic(e)}return null===n&&null===r}return!1},h.toString=function(){return G(this.J(!0))};var Ue=Math.log(2);function Ve(e){this.count=parseInt(Math.log(e+1)/Ue,10),this.nf=this.count-1,this.ng=e+1&parseInt(Array(this.count+1).join("1"),2)}function We(e){var t=!(e.ng&1<<e.nf);return e.nf--,t}function Me(u,e,c,t){u.sort(e);var n=function(e){function t(e,t){var n=a-e,r=a;a-=e;r=function e(t,n){if(0==(i=n-t))return null;if(1==i){var r=u[t];return new Kc(c?c(r):r,r.U,!1,null,null)}var i=e(t,r=parseInt(i/2,10)+t),o=e(r+1,n);r=u[r];return new Kc(c?c(r):r,r.U,!1,i,o)}(n+1,r),n=u[n],r=new Kc(c?c(n):n,n.U,t,null,r);i?i.left=r:o=r,i=r}for(var i=null,o=null,a=u.length,n=0;n<e.count;++n){var r=We(e),s=Math.pow(2,e.count-(n+1));r?t(s,!1):(t(s,!1),t(s,!0))}return o}(new Ve(u.length));return null!==n?new Ec(t||e,n):new Ec(t||e)}function Re(e){return"number"==typeof e?"number:"+Ad(e):"string:"+e}function Pe(e){if(e.L()){var t=e.J();O("string"==typeof t||"number"==typeof t||"object"==typeof t&&y(t,".sv"),"Priority must be a string or number.")}else O(e===we||e.e(),"priority of unexpected type.");O(e===we||e.C().e(),"Priority nodes can't have a priority of their own.")}var H=new fe(new Ec(zc),null,Oe);function Xe(){fe.call(this,new Ec(zc),H,Oe)}ka(Xe,fe),h=Xe.prototype,h.Gc=function(e){return e===this?0:1},h.ea=function(e){return e===this},h.C=function(){return this},h.T=function(){return H},h.e=function(){return!1};var we=new Xe,ue=new L("[MIN_NAME]",H),Ae=new L("[MAX_NAME]",we);function je(e,t){this.Q=e,this.ae=t}function ge(e,t,n,r){return new je(new Xb(t,n,r),e.ae)}function ke(e){return e.Q.ga?e.Q.j():null}function Yb(e){return e.ae.ga?e.ae.j():null}function Ye(e,t){var n=new Ld((r=(this.Y=e).n).g),r=He(r)?new Ld(r.g):r.la?new Sd(r):new Md(r);this.Nf=new Zd(r);var i=t.w(),o=t.Q,a=n.ya(H,i.j(),null),s=r.ya(H,o.j(),null);this.Oa=new je(new Xb(s,o.ga,r.Ra()),new Xb(a,i.ga,n.Ra())),this.$a=[],this.ug=new Fd(e)}function Ze(e){return e.Y}function af(e,t){var n=e.Oa.Q,r=[];return n.j().L()||n.j().R(R,function(e,t){r.push(new J("child_added",t,e))}),n.ga&&r.push(hc(n.j())),$e(e,r,n.j(),t)}function $e(e,t,n,r){return Gd(e.ug,t,n,r?[r]:e.$a)}function bf(e,t,n){this.type=be,this.source=e,this.path=t,this.children=n}function cf(e,t){this.f=pd("p:rest:"),this.G=e,this.Kb=t,this.Ca=null,this.ba={}}function df(e,t){return p(t)?"tag$"+t:(O(Ie(e.n),"should have a tag if it's not a default query."),e.path.toString())}function ef(t,e,n,r){(n=n||{}).format="export",t.Ca&&(n.auth=t.Ca);var i=(t.G.ob?"https://":"http://")+t.G.host+e+"?"+Ib(n);t.f("Sending REST request for "+i);var o=new XMLHttpRequest;o.onreadystatechange=function(){if(r&&4===o.readyState){t.f("REST Response for "+i+" received. status:",o.status,"response:",o.responseText);var e=null;if(200<=o.status&&o.status<300){try{e=Rb(o.responseText)}catch(e){S("Failed to parse JSON response for "+i+": "+o.responseText)}r(null,e)}else 401!==o.status&&404!==o.status&&S("Got unsuccessful REST response for "+i+" Status: "+o.status),r(o.status);r=null}},o.open("GET",i,!0),o.send()}function ff(e){O(da(e)&&0<e.length,"Requires a non-empty array"),this.fg=e,this.Rc={}}function gf(e,t){O(Ra(e.fg,function(e){return e===t}),"Unknown event: "+t)}je.prototype.w=function(){return this.ae},h=Ye.prototype,h.w=function(){return this.Oa.w().j()},h.kb=function(e){var t=Yb(this.Oa);return t&&(He(this.Y.n)||!e.e()&&!t.T(K(e)).e())?t.S(e):null},h.e=function(){return 0===this.$a.length},h.Tb=function(e){this.$a.push(e)},h.nb=function(e,t){var n=[];if(t){O(null==e,"A cancel should cancel all event registrations.");var r=this.Y.path;Ma(this.$a,function(e){(e=e.lf(t,r))&&n.push(e)})}if(e){for(var i=[],o=0;o<this.$a.length;++o){var a=this.$a[o];if(a.matches(e)){if(e.yf()){i=i.concat(this.$a.slice(o+1));break}}else i.push(a)}this.$a=i}else this.$a=[];return n},h.gb=function(e,t,n){e.type===be&&null!==e.source.Lb&&(O(Yb(this.Oa),"We should always have a full cache before handling merges"),O(ke(this.Oa),"Missing event cache, even though we have a server cache"));var r=this.Oa;return e=this.Nf.gb(r,e,t,n),t=this.Nf,n=e.me,O(n.Q.j().Mc(t.X.g),"Event snap not indexed"),O(n.w().j().Mc(t.X.g),"Server snap not indexed"),O(lc(e.me.w())||!lc(r.w()),"Once a server snap is complete, it should never go back"),this.Oa=e.me,$e(this,e.og,e.me.Q.j(),null)},bf.prototype.$c=function(e){return this.path.e()?(e=this.children.subtree(new P(e))).e()?null:e.value?new Ac(this.source,M,e.value):new bf(this.source,M,e):(O(K(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new bf(this.source,N(this.path),this.children))},bf.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},h=cf.prototype,h.Cf=function(e,t,r,i){var o=e.path.toString();this.f("Listen called for "+o+" "+e.wa());var a=df(e,r),s={};this.ba[a]=s,e=Je(e.n);var u=this;ef(this,o+".json",e,function(e,t){var n=t;404===e&&(e=n=null),null===e&&u.Kb(o,n,!1,r),z(u.ba,a)===s&&i(e?401==e?"permission_denied":"rest_error:"+e:"ok",null)})},h.$f=function(e,t){var n=df(e,t);delete this.ba[n]},h.O=function(e,t){var n=(r=Cd(this.Ca=e)).data,r=r.Ec&&r.Ec.exp;t&&t("ok",{auth:n,expires:r})},h.je=function(e){e("ok",this.Ca=null)},h.Qe=function(){},h.Gf=function(){},h.Md=function(){},h.put=function(){},h.Df=function(){},h.Ye=function(){},ff.prototype.ie=function(e,t){var n,r=(n=this.Rc[e]||[]).length;if(0<r){for(var i=Array(r),o=0;o<r;o++)i[o]=n[o];n=i}else n=[];for(r=0;r<n.length;r++)n[r].Dc.apply(n[r].Qa,Array.prototype.slice.call(arguments,1))},ff.prototype.Ib=function(e,t,n){gf(this,e),this.Rc[e]=this.Rc[e]||[],this.Rc[e].push({Dc:t,Qa:n}),(e=this.Ee(e))&&t.apply(n,e)},ff.prototype.mc=function(e,t,n){gf(this,e),e=this.Rc[e]||[];for(var r=0;r<e.length;r++)if(e[r].Dc===t&&(!n||n===e[r].Qa)){e.splice(r,1);break}};var hf=(ryc=0,syc=[],function(e){var t=e===ryc;ryc=e;for(var n=Array(8),r=7;0<=r;r--)n[r]="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz".charAt(e%64),e=Math.floor(e/64);if(O(0===e,"Cannot push at time == 0"),e=n.join(""),t){for(r=11;0<=r&&63===syc[r];r--)syc[r]=0;syc[r]++}else for(r=0;r<12;r++)syc[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)e+="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz".charAt(syc[r]);return O(20===e.length,"nextPushId: Length should be 20."),e}),ryc,syc;function jf(){if(ff.call(this,["online"]),this.oc=!0,"undefined"!=typeof window&&void 0!==window.addEventListener){var e=this;window.addEventListener("online",function(){e.oc||(e.oc=!0,e.ie("online",!0))},!1),window.addEventListener("offline",function(){e.oc&&(e.oc=!1,e.ie("online",!1))},!1)}}function kf(){var t,e;if(ff.call(this,["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(e="visibilitychange",t="hidden"):void 0!==document.mozHidden?(e="mozvisibilitychange",t="mozHidden"):void 0!==document.msHidden?(e="msvisibilitychange",t="msHidden"):void 0!==document.webkitHidden&&(e="webkitvisibilitychange",t="webkitHidden")),this.Sb=!0,e){var n=this;document.addEventListener(e,function(){var e=!document[t];e!==n.Sb&&(n.Sb=e,n.ie("visible",e))},!1)}}function P(e,t){if(1==arguments.length){this.u=e.split("/");for(var n=0,r=0;r<this.u.length;r++)0<this.u[r].length&&(this.u[n]=this.u[r],n++);this.u.length=n,this.aa=0}else this.u=e,this.aa=t}function lf(e,t){var n=K(e);if(null===n)return t;if(n===K(t))return lf(N(e),N(t));throw Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function mf(e,t){for(var n=e.slice(),r=t.slice(),i=0;i<n.length&&i<r.length;i++){var o=yc(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1}function K(e){return e.aa>=e.u.length?null:e.u[e.aa]}function le(e){return e.u.length-e.aa}function N(e){var t=e.aa;return t<e.u.length&&t++,new P(e.u,t)}function me(e){return e.aa<e.u.length?e.u[e.u.length-1]:null}ka(jf,ff),jf.prototype.Ee=function(e){return O("online"===e,"Unknown event type: "+e),[this.oc]},ba(jf),ka(kf,ff),kf.prototype.Ee=function(e){return O("visible"===e,"Unknown event type: "+e),[this.Sb]},ba(kf),h=P.prototype,h.toString=function(){for(var e="",t=this.aa;t<this.u.length;t++)""!==this.u[t]&&(e+="/"+this.u[t]);return e||"/"},h.slice=function(e){return this.u.slice(this.aa+(e||0))},h.parent=function(){if(this.aa>=this.u.length)return null;for(var e=[],t=this.aa;t<this.u.length-1;t++)e.push(this.u[t]);return new P(e,0)},h.o=function(e){for(var t=[],n=this.aa;n<this.u.length;n++)t.push(this.u[n]);if(e instanceof P)for(n=e.aa;n<e.u.length;n++)t.push(e.u[n]);else for(e=e.split("/"),n=0;n<e.length;n++)0<e[n].length&&t.push(e[n]);return new P(t,0)},h.e=function(){return this.aa>=this.u.length},h.ea=function(e){if(le(this)!==le(e))return!1;for(var t=this.aa,n=e.aa;t<=this.u.length;t++,n++)if(this.u[t]!==e.u[n])return!1;return!0},h.contains=function(e){var t=this.aa,n=e.aa;if(le(this)>le(e))return!1;for(;t<this.u.length;){if(this.u[t]!==e.u[n])return!1;++t,++n}return!0};var M=new P("");function nf(e,t){this.Ua=e.slice(),this.Ka=Math.max(1,this.Ua.length),this.pf=t;for(var n=0;n<this.Ua.length;n++)this.Ka+=Pb(this.Ua[n]);of(this)}function of(e){if(768<e.Ka)throw Error(e.pf+"has a key path longer than 768 bytes ("+e.Ka+").");if(32<e.Ua.length)throw Error(e.pf+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+pf(e))}function pf(e){return 0==e.Ua.length?"":"in property '"+e.Ua.join(".")+"'"}function qf(e,t){this.value=e,this.children=t||rf}nf.prototype.push=function(e){0<this.Ua.length&&(this.Ka+=1),this.Ua.push(e),this.Ka+=Pb(e),of(this)},nf.prototype.pop=function(){var e=this.Ua.pop();this.Ka-=Pb(e),0<this.Ua.length&&--this.Ka};var rf=new Ec(function(e,t){return e===t?0:e<t?-1:1});function sf(e){var n=qe;return v(e,function(e,t){n=n.set(new P(t),e)}),n}function tf(e,t,n){if(null!=e.value&&n(e.value))return{path:M,value:e.value};if(t.e())return null;var r=K(t);return null!==(e=e.children.get(r))?null!=(t=tf(e,N(t),n))?{path:new P(r).o(t.path),value:t.value}:null:null}function uf(e,t){return tf(e,t,function(){return!0})}function pe(e,t,n){if(t.e())return n;var r=K(t);return r=(t=pe(e.children.get(r)||qe,N(t),n)).e()?e.children.remove(r):e.children.Sa(r,t),new qf(e.value,r)}function vf(e,t){return wf(e,M,t)}function wf(e,n,r){var i={};return e.children.ka(function(e,t){i[e]=wf(t,n.o(e),r)}),r(n,e.value,i)}function xf(e,t,n){return yf(e,t,M,n)}function yf(e,t,n,r){var i=!!e.value&&r(n,e.value);return i||(t.e()?null:(i=K(t),(e=e.children.get(i))?yf(e,N(t),n.o(i),r):null))}function zf(e,t,n){Af(e,t,M,n)}function Af(e,t,n,r){if(t.e())return e;e.value&&r(n,e.value);var i=K(t);return(e=e.children.get(i))?Af(e,N(t),n.o(i),r):qe}function ne(e,t){Bf(e,M,t)}function Bf(e,n,r){e.children.ka(function(e,t){Bf(t,n.o(e),r)}),e.value&&r(n,e.value)}function Cf(e,n){e.children.ka(function(e,t){t.value&&n(e,t.value)})}h=qf.prototype,h.e=function(){return null===this.value&&this.children.e()},h.subtree=function(e){if(e.e())return this;var t=this.children.get(K(e));return null!==t?t.subtree(N(e)):qe},h.set=function(e,t){if(e.e())return new qf(t,this.children);var n=K(e),r=(this.children.get(n)||qe).set(N(e),t);n=this.children.Sa(n,r);return new qf(this.value,n)},h.remove=function(e){if(e.e())return this.children.e()?qe:new qf(null,this.children);var t=K(e),n=this.children.get(t);return n?(t=(e=n.remove(N(e))).e()?this.children.remove(t):this.children.Sa(t,e),null===this.value&&t.e()?qe:new qf(this.value,t)):this},h.get=function(e){if(e.e())return this.value;var t=this.children.get(K(e));return t?t.get(N(e)):null};var qe=new qf(null);function Df(e,t,n){this.type=ee,this.source=Ef,this.path=e,this.Ub=t,this.Yd=n}qf.prototype.toString=function(){var n={};return ne(this,function(e,t){n[e.toString()]=t.toString()}),G(n)},Df.prototype.$c=function(e){return this.path.e()?null!=this.Ub.value?(O(this.Ub.children.e(),"affectedTree should not have overlapping affected paths."),this):(e=this.Ub.subtree(new P(e)),new Df(M,e,this.Yd)):(O(K(this.path)===e,"operationForChild called for unrelated child."),new Df(N(this.path),this.Ub,this.Yd))},Df.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" ack write revert="+this.Yd+" affectedTree="+this.Ub+")"};var Bc=0,be=1,ee=2,Dc=3;function Ff(e,t,n,r){this.Ae=e,this.tf=t,this.Lb=n,this.ef=r,O(!r||t,"Tagged queries must be from server.")}var Ef=new Ff(!0,!1,null,!1),Gf=new Ff(!1,!0,null,!1);function Hf(e){this.Z=e}Ff.prototype.toString=function(){return this.Ae?"user":this.ef?"server(queryID="+this.Lb+")":"server"};var If=new Hf(new qf(null));function Jf(e,t,n){if(t.e())return new Hf(new qf(n));if(null==(i=uf(e.Z,t)))return new Hf(e=pe(e.Z,t,new qf(n)));var r=i.path,i=i.value;return t=lf(r,t),i=i.H(t,n),new Hf(e.Z.set(r,i))}function Kf(e,n,t){var r=e;return Fb(t,function(e,t){r=Jf(r,n.o(e),t)}),r}function Lf(e,t){var n=uf(e.Z,t);return null!=n?e.Z.get(n.path).S(lf(n.path,t)):null}function Mf(e){var n=[],t=e.Z.value;return null!=t?t.L()||t.R(R,function(e,t){n.push(new L(e,t))}):e.Z.children.ka(function(e,t){null!=t.value&&n.push(new L(e,t.value))}),n}function Nf(e,t){if(t.e())return e;var n=Lf(e,t);return new Hf(null!=n?new qf(n):e.Z.subtree(t))}function Of(n,e,r){if(null!=e.value)return r.H(n,e.value);var i=null;return e.children.ka(function(e,t){".priority"===e?(O(null!==t.value,"Priority writes must always be leaf nodes"),i=t.value):r=Of(n.o(e),t,r)}),r.S(n).e()||null===i||(r=r.H(n.o(".priority"),i)),r}function Pf(){this.V=If,this.pa=[],this.Pc=-1}function Qf(e,t){for(var n=0;n<e.pa.length;n++){var r=e.pa[n];if(r.md===t)return r}return null}function Rf(n,r){return n.Ja?n.path.contains(r):!!ta(n.children,function(e,t){return n.path.o(t).contains(r)})}function Tf(e){return e.visible}function Sf(e,t,n){for(var r=If,i=0;i<e.length;++i){var o=e[i];if(t(o)){var a=o.path;if(o.Ja)n.contains(a)?r=Jf(r,a=lf(n,a),o.Ja):a.contains(n)&&(a=lf(a,n),r=Jf(r,M,o.Ja.S(a)));else{if(!o.children)throw jd("WriteRecord should have .snap or .children");n.contains(a)?r=Kf(r,a=lf(n,a),o.children):a.contains(n)&&((a=lf(a,n)).e()?r=Kf(r,M,o.children):(o=z(o.children,K(a)))&&(o=o.S(N(a)),r=Jf(r,M,o)))}}}return r}function Uf(e,t){this.Qb=e,this.Z=t}function Vf(){this.children={},this.pd=0,this.value=null}function Wf(e,t,n){this.Jd=e||"",this.Ha=t||null,this.A=n||new Vf}function Xf(e,t){for(var n,r=t instanceof P?t:new P(t),i=e;null!==(n=K(r));)i=new Wf(n,i,z(i.A.children,n)||new Vf),r=N(r);return i}function Yf(e,t){O(void 0!==t,"Cannot set value to undefined"),e.A.value=t,Zf(e)}function $f(e,t,n,r){n&&!r&&t(e),e.R(function(e){$f(e,t,!0,r)}),n&&r&&t(e)}function ag(e,t){for(var n=e.parent();null!==n&&!t(n);)n=n.parent()}function Zf(e){if(null!==e.Ha){var t=e.Ha,n=e.Jd,r=e.e(),i=y(t.A.children,n);r&&i?(delete t.A.children[n],t.A.pd--,Zf(t)):r||i||(t.A.children[n]=e.A,t.A.pd++,Zf(t))}}Hf.prototype.Ud=function(e){return e.e()?If:new Hf(e=pe(this.Z,e,qe))},Hf.prototype.e=function(){return this.Z.e()},Hf.prototype.apply=function(e){return Of(M,this.Z,e)},h=Pf.prototype,h.Ud=function(t){var e=Sa(this.pa,function(e){return e.md===t});O(0<=e,"removeWrite called with nonexistent writeId.");var n=this.pa[e];this.pa.splice(e,1);for(var r=n.visible,i=!1,o=this.pa.length-1;r&&0<=o;){var a=this.pa[o];a.visible&&(e<=o&&Rf(a,n.path)?r=!1:n.path.contains(a.path)&&(i=!0)),o--}if(r){if(i)this.V=Sf(this.pa,Tf,M),this.Pc=0<this.pa.length?this.pa[this.pa.length-1].md:-1;else if(n.Ja)this.V=this.V.Ud(n.path);else{var s=this;v(n.children,function(e,t){s.V=s.V.Ud(n.path.o(t))})}return!0}return!1},h.Aa=function(t,e,n,r){if(n||r){var i=Nf(this.V,t);return!r&&i.e()?e:r||null!=e||null!=Lf(i,M)?(i=Sf(this.pa,function(e){return(e.visible||r)&&(!n||!(0<=La(n,e.md)))&&(e.path.contains(t)||t.contains(e.path))},t),e=e||H,i.apply(e)):null}return null!=(i=Lf(this.V,t))?i:(i=Nf(this.V,t)).e()?e:null!=e||null!=Lf(i,M)?(e=e||H,i.apply(e)):null},h.Cc=function(e,t){var r=H,n=Lf(this.V,e);if(n)n.L()||n.R(R,function(e,t){r=r.W(e,t)});else if(t){var i=Nf(this.V,e);t.R(R,function(e,t){var n=Nf(i,new P(e)).apply(t);r=r.W(e,n)}),Ma(Mf(i),function(e){r=r.W(e.name,e.U)})}else i=Nf(this.V,e),Ma(Mf(i),function(e){r=r.W(e.name,e.U)});return r},h.nd=function(e,t,n,r){return O(n||r,"Either existingEventSnap or existingServerSnap must exist"),e=e.o(t),null!=Lf(this.V,e)?null:(e=Nf(this.V,e)).e()?r.S(t):e.apply(r.S(t))},h.Bc=function(e,t,n){e=e.o(t);var r=Lf(this.V,e);return null!=r?r:Wb(n,t)?Nf(this.V,e).apply(n.j().T(t)):null},h.xc=function(e){return Lf(this.V,e)},h.qe=function(e,t,n,r,i,o){var a;if(null==(a=Lf(e=Nf(this.V,e),M))){if(null==t)return[];a=e.apply(t)}if((a=a.pb(o)).e()||a.L())return[];for(t=[],e=Vd(o),o=Ic(i=i?a.dc(n,o):a.bc(n,o));o&&t.length<r;)0!==e(o,n)&&t.push(o),o=Ic(i);return t},h=Uf.prototype,h.Aa=function(e,t,n){return this.Z.Aa(this.Qb,e,t,n)},h.Cc=function(e){return this.Z.Cc(this.Qb,e)},h.nd=function(e,t,n){return this.Z.nd(this.Qb,e,t,n)},h.xc=function(e){return this.Z.xc(this.Qb.o(e))},h.qe=function(e,t,n,r,i){return this.Z.qe(this.Qb,e,t,n,r,i)},h.Bc=function(e,t){return this.Z.Bc(this.Qb,e,t)},h.o=function(e){return new Uf(this.Qb.o(e),this.Z)},h=Wf.prototype,h.Ea=function(){return this.A.value},h.clear=function(){this.A.value=null,this.A.children={},this.A.pd=0,Zf(this)},h.zd=function(){return 0<this.A.pd},h.e=function(){return null===this.Ea()&&!this.zd()},h.R=function(n){var r=this;v(this.A.children,function(e,t){n(new Wf(t,r,e))})},h.path=function(){return new P(null===this.Ha?this.Jd:this.Ha.path()+"/"+this.Jd)},h.name=function(){return this.Jd},h.parent=function(){return this.Ha};var bg=/[\[\].#$\/\u0000-\u001F\u007F]/,cg=/[\[\].#$\u0000-\u001F\u007F]/,dg=/^[a-zA-Z][a-zA-Z._\-+]+$/;function eg(e){return q(e)&&0!==e.length&&!bg.test(e)}function fg(e){return null===e||q(e)||fa(e)&&!td(e)||ga(e)&&y(e,".sv")}function gg(e,t,n,r){r&&!p(t)||hg(E(e,1,r),t,n)}function hg(n,e,i){if(i instanceof P&&(i=new nf(i,n)),!p(e))throw Error(n+"contains undefined "+pf(i));if(r(e))throw Error(n+"contains a function "+pf(i)+" with contents: "+e.toString());if(td(e))throw Error(n+"contains "+e.toString()+" "+pf(i));if(q(e)&&e.length>10485760/3&&10485760<Pb(e))throw Error(n+"contains a string greater than 10485760 utf8 bytes "+pf(i)+" ('"+e.substring(0,50)+"...')");if(ga(e)){var o=!1,a=!1;if(Fb(e,function(e,t){if(".value"===e)o=!0;else if(".priority"!==e&&".sv"!==e&&(a=!0,!eg(e)))throw Error(n+" contains an invalid key ("+e+") "+pf(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');i.push(e),hg(n,t,i),i.pop()}),o&&a)throw Error(n+' contains ".value" child '+pf(i)+" in addition to actual children.")}}function ig(e,t){var n,r;for(n=0;n<t.length;n++)for(var i=(r=t[n]).slice(),o=0;o<i.length;o++)if((".priority"!==i[o]||o!==i.length-1)&&!eg(i[o]))throw Error(e+"contains an invalid key ("+i[o]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');for(t.sort(mf),i=null,n=0;n<t.length;n++){if(r=t[n],null!==i&&i.contains(r))throw Error(e+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}}function jg(e,t,r){var i=E(e,1,!1);if(!ga(t)||da(t))throw Error(i+" must be an object containing the children to replace.");var o=[];Fb(t,function(e,t){var n=new P(e);if(hg(i,t,r.o(n)),".priority"===me(n)&&!fg(t))throw Error(i+"contains an invalid value for '"+n.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(n)}),ig(i,o)}function kg(e,t,n){if(td(n))throw Error(E(e,t,!1)+"is "+n.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!fg(n))throw Error(E(e,t,!1)+"must be a valid Firebase priority (a string, finite number, server value, or null).")}function lg(e,t,n){if(!n||p(t))switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw Error(E(e,1,n)+'must be a valid event type: "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}function mg(e,t){if(p(t)&&!eg(t))throw Error(E(e,2,!0)+'was an invalid key: "'+t+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')}function ng(e,t){if(!q(t)||0===t.length||cg.test(t))throw Error(E(e,1,!1)+'was an invalid path: "'+t+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')}function og(e,t){if(".info"===K(t))throw Error(e+" failed: Can't modify data under /.info/")}function pg(e,t){if(!q(t))throw Error(E(e,1,!1)+"must be a valid credential (a string).")}function qg(e,t,n){if(!q(n))throw Error(E(e,t,!1)+"must be a valid string.")}function rg(e,t){if(qg(e,1,t),!dg.test(t))throw Error(E(e,1,!1)+"'"+t+"' is not a valid authentication provider.")}function sg(e,t,n,r){if((!r||p(n))&&(!ga(n)||null===n))throw Error(E(e,t,r)+"must be a valid object.")}function tg(e,t,n){if(!ga(t)||!y(t,n))throw Error(E(e,1,!1)+'must contain the key "'+n+'"');if(!q(z(t,n)))throw Error(E(e,1,!1)+'must contain the key "'+n+'" with type "string"')}function ug(){this.set={}}function vg(e,n){v(e.set,function(e,t){n(t,e)})}function Vc(){this.m=this.B=null}function wg(n,e){if(e.e())return n.B=null,!(n.m=null);if(null===n.B)return null===n.m||(t=K(e),e=N(e),n.m.contains(t)&&wg(n.m.get(t),e)&&n.m.remove(t),!!n.m.e()&&!(n.m=null));if(n.B.L())return!1;var t=n.B;return n.B=null,t.R(R,function(e,t){n.rc(new P(e),t)}),wg(n,e)}function Wc(e,n,r){null!==e.B?r(n,e.B):e.R(function(e,t){Wc(t,new P(n.toString()+"/"+e),r)})}h=ug.prototype,h.add=function(e,t){this.set[e]=null===t||t},h.contains=function(e){return y(this.set,e)},h.get=function(e){return this.contains(e)?this.set[e]:void 0},h.remove=function(e){delete this.set[e]},h.clear=function(){this.set={}},h.e=function(){return va(this.set)},h.count=function(){return oa(this.set)},h.keys=function(){var n=[];return v(this.set,function(e,t){n.push(t)}),n},Vc.prototype.find=function(e){if(null!=this.B)return this.B.S(e);if(e.e()||null==this.m)return null;var t=K(e);return e=N(e),this.m.contains(t)?this.m.get(t).find(e):null},Vc.prototype.rc=function(e,t){if(e.e())this.B=t,this.m=null;else if(null!==this.B)this.B=this.B.H(e,t);else{null==this.m&&(this.m=new ug);var n=K(e);this.m.contains(n)||this.m.add(n,new Vc),n=this.m.get(n),e=N(e),n.rc(e,t)}},Vc.prototype.R=function(n){null!==this.m&&vg(this.m,function(e,t){n(e,t)})};var xg="auth.firebase.com";function yg(e,t,n){this.qd=e||{},this.he=t||{},this.fb=n||{},this.qd.remember||(this.qd.remember="default")}var zg=["remember","redirectTo"];function Ag(e){var n={},r={};return Fb(e||{},function(e,t){0<=La(zg,e)?n[e]=t:r[e]=t}),new yg(n,{},r)}function Bg(e,t){this.Ue=["session",e.Rd,e.lc].join(":"),this.ee=t}function Cg(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Dg(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Cg())}function Eg(){return"undefined"!=typeof location&&/^file:\//.test(location.href)}function Fg(e){var t=Cg();if(""===t)return!1;if("Microsoft Internet Explorer"===navigator.appName){if((t=t.match(/MSIE ([0-9]{1,}[\.0-9]{0,})/))&&1<t.length)return parseFloat(t[1])>=e}else if(-1<t.indexOf("Trident")&&(t=t.match(/rv:([0-9]{2,2}[\.0-9]{0,})/))&&1<t.length)return parseFloat(t[1])>=e;return!1}function Gg(){var e,t=window.opener.frames;for(e=t.length-1;0<=e;e--)try{if(t[e].location.protocol===window.location.protocol&&t[e].location.host===window.location.host&&"__winchan_relay_frame"===t[e].name)return t[e]}catch(e){}return null}function Hg(e,t,n){e.attachEvent?e.attachEvent("on"+t,n):e.addEventListener&&e.addEventListener(t,n,!1)}function Ig(e,t,n){e.detachEvent?e.detachEvent("on"+t,n):e.removeEventListener&&e.removeEventListener(t,n,!1)}function Jg(e){/^https?:\/\//.test(e)||(e=window.location.href);var t=/^(https?:\/\/[\-_a-zA-Z\.0-9:]+)/.exec(e);return t?t[1]:e}function Kg(e){var t="";try{var n=Jb(e=e.replace(/.*\?/,""));n&&y(n,"__firebase_request_key")&&(t=z(n,"__firebase_request_key"))}catch(e){}return t}function Lg(){try{var e=(e=(e=document.location.hash.replace(/&__firebase_request_key=([a-zA-z0-9]*)/,"")).replace(/\?$/,"")).replace(/^#+$/,"");document.location.hash=e}catch(e){}}function Mg(){var e=sd(xg);return e.scheme+"://"+e.host+"/v2"}function Ng(e){return Mg()+"/"+e+"/auth/channel"}function Og(e){var t=this;if(this.hb=e,this.fe="*",Fg(8)?this.Uc=this.Cd=Gg():(this.Uc=window.opener,this.Cd=window),!t.Uc)throw"Unable to find relay frame";Hg(this.Cd,"message",u(this.nc,this)),Hg(this.Cd,"message",u(this.Ff,this));try{Pg(this,{a:"ready"})}catch(e){Hg(this.Uc,"load",function(){Pg(t,{a:"ready"})})}Hg(window,"unload",u(this.Ng,this))}function Pg(e,t){t=G(t),Fg(8)?e.Uc.doPost(t,e.fe):e.Uc.postMessage(t,e.fe)}function Qg(e){this.tc=Fa()+Fa()+Fa(),this.Kf=e}Bg.prototype.set=function(e,t){if(!t){if(!this.ee.length)throw Error("fb.login.SessionManager : No storage options available!");t=this.ee[0]}t.set(this.Ue,e)},Bg.prototype.get=function(){var e=Oa(this.ee,u(this.Bg,this));return Va(e=Na(e,function(e){return null!==e}),function(e,t){return Dd(t.token)-Dd(e.token)}),0<e.length?e.shift():null},Bg.prototype.Bg=function(e){try{var t=e.get(this.Ue);if(t&&t.token)return t}catch(e){}return null},Bg.prototype.clear=function(){var t=this;Ma(this.ee,function(e){e.remove(t.Ue)})},Og.prototype.nc=function(e){var t,n=this;try{t=Rb(e.data)}catch(e){}t&&"request"===t.a&&(Ig(window,"message",this.nc),this.fe=e.origin,this.hb&&setTimeout(function(){n.hb(n.fe,t.d,function(e,t){n.mg=!t,n.hb=void 0,Pg(n,{a:"response",d:e,forceKeepWindowOpen:t})})},0))},Og.prototype.Ng=function(){try{Ig(this.Cd,"message",this.Ff)}catch(e){}this.hb&&(Pg(this,{a:"error",d:"unknown closed window"}),this.hb=void 0);try{window.close()}catch(e){}},Og.prototype.Ff=function(e){if(this.mg&&"die"===e.data)try{window.close()}catch(e){}},Qg.prototype.open=function(e,t){cd.set("redirect_request_id",this.tc),cd.set("redirect_request_id",this.tc),t.requestId=this.tc,t.redirectTo=t.redirectTo||window.location.href,e+=(/\?/.test(e)?"":"?")+Ib(t),window.location=e},Qg.isAvailable=function(){return!Eg()&&!Dg()},Qg.prototype.Fc=function(){return"redirect"};var Rg={NETWORK_ERROR:"Unable to contact the Firebase server.",SERVER_ERROR:"An unknown server error occurred.",TRANSPORT_UNAVAILABLE:"There are no login transports available for the requested method.",REQUEST_INTERRUPTED:"The browser redirected the page before the login request could complete.",USER_CANCELLED:"The user cancelled authentication."};function Sg(e){var t=Error(z(Rg,e),e);return t.code=e,t}function Tg(e){var t;(t=!e.window_features)||(t=-1!==(t=Cg()).indexOf("Fennec/")||-1!==t.indexOf("Firefox/")&&-1!==t.indexOf("Android")),t&&(e.window_features=void 0),e.window_name||(e.window_name="_blank"),this.options=e}function Ug(e){e.method||(e.method="GET"),e.headers||(e.headers={}),e.headers.content_type||(e.headers.content_type="application/json"),e.headers.content_type=e.headers.content_type.toLowerCase(),this.options=e}function Vg(e){this.tc=Fa()+Fa()+Fa(),this.Kf=e}function Wg(e){e.callback_parameter||(e.callback_parameter="callback"),this.options=e,window.__firebase_auth_jsonp=window.__firebase_auth_jsonp||{}}function Xg(n,r,i){setTimeout(function(){try{var e=document.createElement("script");e.type="text/javascript",e.id=n,e.async=!0,e.src=r,e.onerror=function(){var e=document.getElementById(n);null!==e&&e.parentNode.removeChild(e),i&&i(Sg("NETWORK_ERROR"))};var t=document.getElementsByTagName("head");(t&&0!=t.length?t[0]:document.documentElement).appendChild(e)}catch(e){i&&i(Sg("NETWORK_ERROR"))}},0)}function Yg(e,t,n,r){ff.call(this,["auth_status"]),this.G=e,this.hf=t,this.ih=n,this.Pe=r,this.wc=new Bg(e,[bd,cd]),this.qb=null,this.We=!1,Zg(this)}function Zg(n){cd.get("redirect_request_id")&&$g(n);var r=n.wc.get();r&&r.token?(ah(n,r),n.hf(r.token,function(e,t){bh(n,e,t,!1,r.token,r)},function(e,t){ch(n,"resumeSession()",e,t)})):ah(n,null)}function dh(n,r,i,o,a,s){"firebaseio-demo.com"===n.G.domain&&S("Firebase authentication is not supported on demo Firebases (*.firebaseio-demo.com). To secure your Firebase, create a production Firebase at https://www.firebase.com."),n.hf(r,function(e,t){bh(n,e,t,!0,r,i,o||{},a)},function(e,t){ch(n,"auth()",e,t,s)})}function eh(e,i){e.wc.clear(),ah(e,null),e.ih(function(e,t){if("ok"===e)T(i,null);else{var n=(e||"error").toUpperCase(),r=n;t&&(r+=": "+t),(r=Error(r)).code=n,T(i,r)}})}function bh(e,t,n,r,i,o,a,s){"ok"===t?(r&&(t=n.auth,o.auth=t,o.expires=n.expires,o.token=Ed(i)?i:"",n=null,t&&y(t,"uid")?n=z(t,"uid"):y(o,"uid")&&(n=z(o,"uid")),o.uid=n,n="custom",t&&y(t,"provider")?n=z(t,"provider"):y(o,"provider")&&(n=z(o,"provider")),o.provider=n,e.wc.clear(),Ed(i)&&(n=bd,"sessionOnly"===(a=a||{}).remember&&(n=cd),"none"!==a.remember&&e.wc.set(o,n)),ah(e,o)),T(s,null,o)):(e.wc.clear(),ah(e,null),o=e=(t||"error").toUpperCase(),n&&(o+=": "+n),(o=Error(o)).code=e,T(s,o))}function ch(e,t,n,r,i){S(t+" was canceled: "+r),e.wc.clear(),ah(e,null),(e=Error(r)).code=n.toUpperCase(),T(i,e)}function fh(e,t,n,r,i){gh(e),hh(e,[Ug,Wg],"/auth/"+t,n=new yg(r||{},{},n||{}),i)}function ih(e,t,n,r){gh(e);var i=[Tg,Vg];n=Ag(n);var o=625;"anonymous"===t||"password"===t?setTimeout(function(){T(r,Sg("TRANSPORT_UNAVAILABLE"))},0):("github"===t&&(o=1025),n.he.window_features="menubar=yes,modal=yes,alwaysRaised=yeslocation=yes,resizable=yes,scrollbars=yes,status=yes,height=625,width="+o+",top="+("object"==typeof screen?.5*(screen.height-625):0)+",left="+("object"==typeof screen?.5*(screen.width-o):0),n.he.relay_url=Ng(e.G.lc),n.he.requestWithCredential=u(e.uc,e),hh(e,i,"/auth/"+t,n,r))}function $g(e){if(n=cd.get("redirect_request_id")){var t=cd.get("redirect_client_options");cd.remove("redirect_request_id"),cd.remove("redirect_client_options");var n,r=[Ug,Wg];t=new yg(t,{},n={requestId:n,requestKey:Kg(document.location.hash)});e.We=!0,Lg(),hh(e,r,"/auth/session",t,function(){this.We=!1}.bind(e))}}function hh(n,e,t,r,i){jh(n,e,t,r,function(e,t){!e&&t&&t.token&&t.uid?dh(n,t.token,t,r.qd,function(e,t){e?T(i,e):T(i,null,t)}):T(i,e||Sg("UNKNOWN_ERROR"))})}function jh(e,t,n,r,i){0===(t=Na(t,function(e){return"function"==typeof e.isAvailable&&e.isAvailable()})).length?setTimeout(function(){T(i,Sg("TRANSPORT_UNAVAILABLE"))},0):(t=new(t.shift())(r.he),(r=Gb(r.fb)).v="js-"+Eb,r.transport=t.Fc(),r.suppress_status_codes=!0,e=Mg()+"/"+e.G.lc+n,t.open(e,r,function(e,t){if(e)T(i,e);else if(t&&t.error){var n=Error(t.error.message);n.code=t.error.code,n.details=t.error.details,T(i,n)}else T(i,null,t)}))}function ah(e,t){var n=null!==e.qb||null!==t;e.qb=t,n&&e.ie("auth_status",t),e.Pe(null!==t)}function gh(e){var t=e.G;if("firebaseio.com"!==t.domain&&"firebaseio-demo.com"!==t.domain&&"auth.firebase.com"===xg)throw Error("This custom Firebase server ('"+e.G.domain+"') does not support delegated login.")}Tg.prototype.open=function(e,t,n){function r(e){if(o&&(document.body.removeChild(o),o=void 0),l&&(l=clearInterval(l)),Ig(window,"message",i),Ig(window,"unload",r),c&&!e)try{c.close()}catch(e){a.postMessage("die",u)}c=a=void 0}function i(e){if(e.origin===u)try{var t=Rb(e.data);"ready"===t.a?a.postMessage(p,u):"error"===t.a?(r(!1),n&&(n(t.d),n=null)):"response"===t.a&&(r(t.forceKeepWindowOpen),n&&(n(null,t.d),n=null))}catch(e){}}var o,a,s=Fg(8);if(!this.options.relay_url)return n(Error("invalid arguments: origin of url and relay_url must match"));var u=Jg(e);if(u!==Jg(this.options.relay_url))n&&setTimeout(function(){n(Error("invalid arguments: origin of url and relay_url must match"))},0);else{s&&((o=document.createElement("iframe")).setAttribute("src",this.options.relay_url),o.style.display="none",o.setAttribute("name","__winchan_relay_frame"),document.body.appendChild(o),a=o.contentWindow),e+=(/\?/.test(e)?"":"?")+Ib(t);var c=window.open(e,this.options.window_name,this.options.window_features);a||(a=c);var l=setInterval(function(){c&&c.closed&&(r(!1),n&&(n(Sg("USER_CANCELLED")),n=null))},500),p=G({a:"request",d:t});Hg(window,"unload",r),Hg(window,"message",i)}},Tg.isAvailable=function(){var e;return(e="postMessage"in window&&!Eg())&&((e=Dg()||"undefined"!=typeof navigator&&(!!Cg().match(/Windows Phone/)||!!window.Windows&&/^ms-appx:/.test(location.href)))||(e=Cg(),e="undefined"!=typeof navigator&&"undefined"!=typeof window&&!!(e.match(/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i)||e.match(/CriOS/)||e.match(/Twitter for iPhone/)||e.match(/FBAN\/FBIOS/)||window.navigator.standalone)),e=!e),e&&!Cg().match(/PhantomJS/)},Tg.prototype.Fc=function(){return"popup"},Ug.prototype.open=function(e,t,n){function r(){n&&(n(Sg("REQUEST_INTERRUPTED")),n=null)}var i,o=new XMLHttpRequest,a=this.options.method.toUpperCase();if(Hg(window,"beforeunload",r),o.onreadystatechange=function(){if(n&&4===o.readyState){var e;if(200<=o.status&&o.status<300){try{e=Rb(o.responseText)}catch(e){}n(null,e)}else 500<=o.status&&o.status<600?n(Sg("SERVER_ERROR")):n(Sg("NETWORK_ERROR"));n=null,Ig(window,"beforeunload",r)}},"GET"===a)e+=(/\?/.test(e)?"":"?")+Ib(t),i=null;else{var s=this.options.headers.content_type;"application/json"===s&&(i=G(t)),"application/x-www-form-urlencoded"===s&&(i=Ib(t))}for(var u in o.open(a,e,!0),ya(e={"X-Requested-With":"XMLHttpRequest",Accept:"application/json;text/plain"},this.options.headers),e)o.setRequestHeader(u,e[u]);o.send(i)},Ug.isAvailable=function(){var e;return(e=!!window.XMLHttpRequest)&&(e=!((e=Cg()).match(/MSIE/)||e.match(/Trident/))||Fg(10)),e},Ug.prototype.Fc=function(){return"json"},Vg.prototype.open=function(e,t,i){function o(){i&&(i(Sg("USER_CANCELLED")),i=null)}var a,s=this,u=sd(xg);t.requestId=this.tc,t.redirectTo=u.scheme+"://"+u.host+"/blank/page.html",e+=/\?/.test(e)?"":"?",e+=Ib(t),(a=window.open(e,"_blank","location=no"))&&r(a.addEventListener)?(a.addEventListener("loadstart",function(e){var t;if(t=e&&e.url)e:{try{var n=document.createElement("a");n.href=e.url,t=n.host===u.host&&"/blank/page.html"===n.pathname;break e}catch(e){}t=!1}t&&(e=Kg(e.url),a.removeEventListener("exit",o),a.close(),e=new yg(null,null,{requestId:s.tc,requestKey:e}),s.Kf.requestWithCredential("/auth/session",e,i),i=null)}),a.addEventListener("exit",o)):i(Sg("TRANSPORT_UNAVAILABLE"))},Vg.isAvailable=function(){return Dg()},Vg.prototype.Fc=function(){return"redirect"},Wg.prototype.open=function(e,t,n){function r(){n&&(n(Sg("REQUEST_INTERRUPTED")),n=null)}var i="fn"+(new Date).getTime()+Math.floor(99999*Math.random());t[this.options.callback_parameter]="__firebase_auth_jsonp."+i,e+=(/\?/.test(e)?"":"?")+Ib(t),Hg(window,"beforeunload",r),window.__firebase_auth_jsonp[i]=function(e){n&&(n(null,e),n=null),setTimeout(function(){window.__firebase_auth_jsonp[i]=void 0,va(window.__firebase_auth_jsonp)&&(window.__firebase_auth_jsonp=void 0);try{var e=document.getElementById(i);e&&e.parentNode.removeChild(e)}catch(e){}},1),Ig(window,"beforeunload",r)},Xg(i,e,n)},Wg.isAvailable=function(){return"undefined"!=typeof document&&null!=document.createElement},Wg.prototype.Fc=function(){return"json"},ka(Yg,ff),h=Yg.prototype,h.Be=function(){return this.qb||null},h.ve=function(e,n){gh(this);var t=Ag(e);t.fb._method="POST",this.uc("/users",t,function(e,t){e?T(n,e):T(n,e,t)})},h.Xe=function(e,n){var r=this;gh(this);var t="/users/"+encodeURIComponent(e.email),i=Ag(e);i.fb._method="DELETE",this.uc(t,i,function(e,t){!e&&t&&t.uid&&r.qb&&r.qb.uid&&r.qb.uid===t.uid&&eh(r),T(n,e)})},h.se=function(e,t){gh(this);var n="/users/"+encodeURIComponent(e.email)+"/password",r=Ag(e);r.fb._method="PUT",r.fb.password=e.newPassword,this.uc(n,r,function(e){T(t,e)})},h.re=function(e,t){gh(this);var n="/users/"+encodeURIComponent(e.oldEmail)+"/email",r=Ag(e);r.fb._method="PUT",r.fb.email=e.newEmail,r.fb.password=e.password,this.uc(n,r,function(e){T(t,e)})},h.Ze=function(e,t){gh(this);var n="/users/"+encodeURIComponent(e.email)+"/password",r=Ag(e);r.fb._method="POST",this.uc(n,r,function(e){T(t,e)})},h.uc=function(e,t,n){jh(this,[Ug,Wg],e,t,n)},h.Ee=function(e){return O("auth_status"===e,'initial event must be of type "auth_status"'),this.We?null:[this.qb]};var gd="websocket",hd="long_polling",oh,ph;function kh(e){this.nc=e,this.Qd=[],this.Wb=0,this.te=-1,this.Jb=null}function lh(e,t,n){e.te=t,e.Jb=n,e.te<e.Wb&&(e.Jb(),e.Jb=null)}function mh(e,t,n){for(e.Qd[t]=n;e.Qd[e.Wb];){var r=e.Qd[e.Wb];delete e.Qd[e.Wb];for(var i=0;i<r.length;++i)if(r[i]){var o=e;gc(function(){o.nc(r[i])})}if(e.Wb===e.te){e.Jb&&(clearTimeout(e.Jb),e.Jb(),e.Jb=null);break}e.Wb++}}function nh(e,t,n,r){this.ue=e,this.f=pd(e),this.rb=this.sb=0,this.Xa=uc(t),this.Xf=n,this.Kc=!1,this.Fb=r,this.ld=function(e){return fd(t,hd,e)}}function rh(e,t){var n=G(t).length;e.rb+=n,rc(e.Xa,"bytes_received",n)}function qh(t,e,n,r){if(this.ld=r,this.lb=n,this.Te=new ug,this.cd=[],this.we=Math.floor(1e8*Math.random()),this.$d=!0,this.ke=id(),window["pLPCommand"+this.ke]=t,window["pRTLPCB"+this.ke]=e,(t=document.createElement("iframe")).style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||fc("No IE domain setting required")}catch(e){t.src="javascript:void((function(){document.open();document.domain='"+document.domain+"';document.close();})())"}t.contentDocument?t.jb=t.contentDocument:t.contentWindow?t.jb=t.contentWindow.document:t.document&&(t.jb=t.document),this.Ga=t,t="",this.Ga.src&&"javascript:"===this.Ga.src.substr(0,11)&&(t='<script>document.domain="'+document.domain+'";<\/script>'),t="<html><body>"+t+"</body></html>";try{this.Ga.jb.open(),this.Ga.jb.write(t),this.Ga.jb.close()}catch(e){fc("frame writing exception"),e.stack&&fc(e.stack),fc(e)}}function th(e){if(e.oe&&e.$d&&e.Te.count()<(0<e.cd.length?2:1)){e.we++,(t={}).id=e.Gg,t.pw=e.Hg,t.ser=e.we;for(var t=e.ld(t),n="",r=0;0<e.cd.length&&e.cd[0].of.length+30+n.length<=1870;){var i=e.cd.shift();n=n+"&seg"+r+"="+i.Yg+"&ts"+r+"="+i.hh+"&d"+r+"="+i.of;r++}return uh(e,t+n,e.we),!0}return!1}function uh(e,t,n){function r(){e.Te.remove(n),th(e)}e.Te.add(n,1);var i=setTimeout(r,Math.floor(25e3));sh(e,t,function(){clearTimeout(i),r()})}function sh(e,n,r){setTimeout(function(){try{if(e.$d){var t=e.Ga.jb.createElement("script");t.type="text/javascript",t.async=!0,t.src=n,t.onload=t.onreadystatechange=function(){var e=t.readyState;e&&"loaded"!==e&&"complete"!==e||(t.onload=t.onreadystatechange=null,t.parentNode&&t.parentNode.removeChild(t),r())},t.onerror=function(){fc("Long-poll script failed to load: "+n),e.$d=!1,e.close()},e.Ga.jb.body.appendChild(t)}}catch(e){}},Math.floor(1))}nh.prototype.open=function(e,t){this.mf=0,this.na=t,this.Ef=new kh(e),this.Db=!1;var o=this;this.ub=setTimeout(function(){o.f("Timed out trying to connect."),o.bb(),o.ub=null},Math.floor(3e4)),ud(function(){if(!o.Db){o.Wa=new qh(function(e,t,n,r,i){if(rh(o,arguments),o.Wa)if(o.ub&&(clearTimeout(o.ub),o.ub=null),o.Kc=!0,"start"==e)o.id=t,o.Mf=n;else{if("close"!==e)throw Error("Unrecognized command received: "+e);t?(o.Wa.$d=!1,lh(o.Ef,t,function(){o.bb()})):o.bb()}},function(e,t){rh(o,arguments),mh(o.Ef,e,t)},function(){o.bb()},o.ld);var e={start:"t"};e.ser=Math.floor(1e8*Math.random()),o.Wa.ke&&(e.cb=o.Wa.ke),e.v="5",o.Xf&&(e.s=o.Xf),o.Fb&&(e.ls=o.Fb),"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(e.r="f"),e=o.ld(e),o.f("Connecting via long-poll to "+e),sh(o.Wa,e,function(){})}})},nh.prototype.start=function(){var e=this.Wa,t=this.Mf;for(e.Gg=this.id,e.Hg=t,e.oe=!0;th(e););e=this.id,t=this.Mf,this.kc=document.createElement("iframe");var n={dframe:"t"};n.id=e,n.pw=t,this.kc.src=this.ld(n),this.kc.style.display="none",document.body.appendChild(this.kc)},nh.isAvailable=function(){return oh||!ph&&"undefined"!=typeof document&&null!=document.createElement&&!("object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"==typeof Windows&&"object"==typeof Windows.kh)&&!0},h=nh.prototype,h.Hd=function(){},h.fd=function(){this.Db=!0,this.Wa&&(this.Wa.close(),this.Wa=null),this.kc&&(document.body.removeChild(this.kc),this.kc=null),this.ub&&(clearTimeout(this.ub),this.ub=null)},h.bb=function(){this.Db||(this.f("Longpoll is closing itself"),this.fd(),this.na&&(this.na(this.Kc),this.na=null))},h.close=function(){this.Db||(this.f("Longpoll is being closed."),this.fd())},h.send=function(e){e=G(e),this.sb+=e.length,rc(this.Xa,"bytes_sent",e.length),e=yd(e=nb(e=Ob(e),!0),1840);for(var t=0;t<e.length;t++){var n=this.Wa;n.cd.push({Yg:this.mf,hh:e.length,of:e[t]}),n.oe&&th(n),this.mf++}},qh.prototype.close=function(){if(this.oe=!1,this.Ga){this.Ga.jb.body.innerHTML="";var e=this;setTimeout(function(){null!==e.Ga&&(document.body.removeChild(e.Ga),e.Ga=null)},Math.floor(0))}var t=this.lb;t&&(this.lb=null,t())};var vh=null,xh;function wh(e,t,n,r){this.ue=e,this.f=pd(this.ue),this.frames=this.Nc=null,this.rb=this.sb=this.ff=0,this.Xa=uc(t),e={v:"5"},"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(e.r="f"),n&&(e.s=n),r&&(e.ls=r),this.jf=fd(t,gd,e)}function zh(e,t){if(e.frames.push(t),e.frames.length==e.ff){var n=e.frames.join("");e.frames=null,n=Rb(n),e.Lg(n)}}function yh(e){clearInterval(e.Nc),e.Nc=setInterval(function(){e.La&&Ah(e,"0"),yh(e)},Math.floor(45e3))}function Ah(t,e){try{t.La.send(e)}catch(e){t.f("Exception thrown from WebSocket.send():",e.message||e.data,"Closing connection."),setTimeout(u(t.bb,t),0)}}function Bh(e){Ch(this,e)}"undefined"!=typeof MozWebSocket?vh=MozWebSocket:"undefined"!=typeof WebSocket&&(vh=WebSocket),wh.prototype.open=function(e,t){this.lb=t,this.Lg=e,this.f("Websocket connecting to "+this.jf),this.Kc=!1,bd.set("previous_websocket_failure",!0);try{this.La=new vh(this.jf)}catch(e){this.f("Error instantiating WebSocket.");var n=e.message||e.data;return n&&this.f(n),void this.bb()}var r=this;this.La.onopen=function(){r.f("Websocket connected."),r.Kc=!0},this.La.onclose=function(){r.f("Websocket connection was disconnected."),r.La=null,r.bb()},this.La.onmessage=function(e){if(null!==r.La)if(e=e.data,r.rb+=e.length,rc(r.Xa,"bytes_received",e.length),yh(r),null!==r.frames)zh(r,e);else{e:{if(O(null===r.frames,"We already have a frame buffer"),e.length<=6){var t=Number(e);if(!isNaN(t)){r.ff=t,r.frames=[],e=null;break e}}r.ff=1,r.frames=[]}null!==e&&zh(r,e)}},this.La.onerror=function(e){r.f("WebSocket error.  Closing connection."),(e=e.message||e.data)&&r.f(e),r.bb()}},wh.prototype.start=function(){},wh.isAvailable=function(){var e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var t=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);t&&1<t.length&&parseFloat(t[1])<4.4&&(e=!0)}return!e&&null!==vh&&!xh},wh.responsesRequiredToBeHealthy=2,wh.healthyTimeout=3e4,h=wh.prototype,h.Hd=function(){bd.remove("previous_websocket_failure")},h.send=function(e){yh(this),e=G(e),this.sb+=e.length,rc(this.Xa,"bytes_sent",e.length),1<(e=yd(e,16384)).length&&Ah(this,String(e.length));for(var t=0;t<e.length;t++)Ah(this,e[t])},h.fd=function(){this.Db=!0,this.Nc&&(clearInterval(this.Nc),this.Nc=null),this.La&&(this.La.close(),this.La=null)},h.bb=function(){this.Db||(this.f("WebSocket is closing itself"),this.fd(),this.lb&&(this.lb(this.Kc),this.lb=null))},h.close=function(){this.Db||(this.f("WebSocket is being closed"),this.fd())};var Dh=[nh,wh];function Ch(e,t){var n=wh&&wh.isAvailable(),r=n&&!(bd.Af||!0===bd.get("previous_websocket_failure"));if(t.jh&&(n||S("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)e.jd=[wh];else{var i=e.jd=[];zd(Dh,function(e,t){t&&t.isAvailable()&&i.push(t)})}}function Eh(e){if(0<e.jd.length)return e.jd[0];throw Error("No transports available")}function Fh(e,t,n,r,i,o,a){this.id=e,this.f=pd("c:"+this.id+":"),this.nc=n,this.Zc=r,this.na=i,this.Re=o,this.G=t,this.Pd=[],this.kf=0,this.Wf=new Bh(t),this.N=0,this.Fb=a,this.f("Connection created"),Gh(this)}function Gh(e){var t=Eh(e.Wf);e.K=new t("c:"+e.id+":"+e.kf++,e.G,void 0,e.Fb),e.Ve=t.responsesRequiredToBeHealthy||0;var n=Hh(e,e.K),r=Ih(e,e.K);e.kd=e.K,e.ed=e.K,e.F=null,e.Eb=!1,setTimeout(function(){e.K&&e.K.open(n,r)},Math.floor(0)),0<(t=t.healthyTimeout||0)&&(e.Bd=setTimeout(function(){e.Bd=null,e.Eb||(e.K&&102400<e.K.rb?(e.f("Connection exceeded healthy timeout but has received "+e.K.rb+" bytes.  Marking connection healthy."),e.Eb=!0,e.K.Hd()):e.K&&10240<e.K.sb?e.f("Connection exceeded healthy timeout but has sent "+e.K.sb+" bytes.  Leaving connection alive."):(e.f("Closing unhealthy connection after timeout."),e.close()))},Math.floor(t)))}function Ih(t,n){return function(e){n===t.K?(t.K=null,e||0!==t.N?1===t.N&&t.f("Realtime connection lost."):(t.f("Realtime connection failed."),"s-"===t.G.ab.substr(0,2)&&(bd.remove("host:"+t.G.host),t.G.ab=t.G.host)),t.close()):n===t.F?(t.f("Secondary connection lost."),e=t.F,t.F=null,t.kd!==e&&t.ed!==e||t.close()):t.f("closing an old connection")}}function Hh(i,o){return function(e){if(2!=i.N)if(o===i.ed){var t=wd("t",e);if(e=wd("d",e),"c"==t){if(t=wd("t",e),"d"in e)if(e=e.d,"h"===t){t=e.ts;var n=e.v,r=e.h;i.Uf=e.s,ed(i.G,r),0==i.N&&(i.K.start(),Jh(i,i.K,t),"5"!==n&&S("Protocol version mismatch detected"),(e=1<(e=i.Wf).jd.length?e.jd[1]:null)&&Kh(i,e))}else if("n"===t){for(i.f("recvd end transmission on primary"),i.ed=i.F,e=0;e<i.Pd.length;++e)i.Ld(i.Pd[e]);i.Pd=[],Lh(i)}else"s"===t?(i.f("Connection shutdown command received. Shutting down..."),i.Re&&(i.Re(e),i.Re=null),i.na=null,i.close()):"r"===t?(i.f("Reset packet received.  New host: "+e),ed(i.G,e),1===i.N?i.close():(Mh(i),Gh(i))):"e"===t?qd("Server Error: "+e):"o"===t?(i.f("got pong on primary."),Nh(i),Oh(i)):qd("Unknown control packet command: "+t)}else"d"==t&&i.Ld(e)}else if(o===i.F)if(t=wd("t",e),e=wd("d",e),"c"==t)"t"in e&&("a"===(e=e.t)?Ph(i):"r"===e?(i.f("Got a reset on secondary, closing it"),i.F.close(),i.kd!==i.F&&i.ed!==i.F||i.close()):"o"===e&&(i.f("got pong on secondary."),i.Tf--,Ph(i)));else{if("d"!=t)throw Error("Unknown protocol layer: "+t);i.Pd.push(e)}else i.f("message on old connection")}}function Lh(e){e.kd===e.F&&e.ed===e.F&&(e.f("cleaning up and promoting a connection: "+e.F.ue),e.K=e.F,e.F=null)}function Ph(e){e.Tf<=0?(e.f("Secondary connection is healthy."),e.Eb=!0,e.F.Hd(),e.F.start(),e.f("sending client ack on secondary"),e.F.send({t:"c",d:{t:"a",d:{}}}),e.f("Ending transmission on primary"),e.K.send({t:"c",d:{t:"n",d:{}}}),e.kd=e.F,Lh(e)):(e.f("sending ping on secondary."),e.F.send({t:"c",d:{t:"p",d:{}}}))}function Nh(e){e.Eb||(e.Ve--,e.Ve<=0&&(e.f("Primary connection is healthy."),e.Eb=!0,e.K.Hd()))}function Kh(e,t){e.F=new t("c:"+e.id+":"+e.kf++,e.G,e.Uf),e.Tf=t.responsesRequiredToBeHealthy||0,e.F.open(Hh(e,e.F),Ih(e,e.F)),setTimeout(function(){e.F&&(e.f("Timed out trying to upgrade."),e.F.close())},Math.floor(6e4))}function Jh(e,t,n){e.f("Realtime connection established."),e.K=t,e.N=1,e.Zc&&(e.Zc(n,e.Uf),e.Zc=null),0===e.Ve?(e.f("Primary connection is healthy."),e.Eb=!0):setTimeout(function(){Oh(e)},Math.floor(5e3))}function Oh(e){e.Eb||1!==e.N||(e.f("sending ping on primary."),Qh(e,{t:"c",d:{t:"p",d:{}}}))}function Qh(e,t){if(1!==e.N)throw"Connection is not connected";e.kd.send(t)}function Mh(e){e.f("Shutting down all connections"),e.K&&(e.K.close(),e.K=null),e.F&&(e.F.close(),e.F=null),e.Bd&&(clearTimeout(e.Bd),e.Bd=null)}function Rh(e,t,n,r){this.id=Sh++,this.f=pd("p:"+this.id+":"),this.Bf=this.Ie=!1,this.ba={},this.sa=[],this.ad=0,this.Yc=[],this.qa=!1,this.eb=1e3,this.Id=3e5,this.Kb=t,this.Xc=n,this.Se=r,this.G=e,this.wb=this.Ca=this.Ma=this.Fb=this.$e=null,this.Sb=!1,this.Wd={},this.Xg=0,this.rf=!0,this.Oc=this.Ke=null,Th(this,0),kf.yb().Ib("visible",this.Og,this),-1===e.host.indexOf("fblocal")&&jf.yb().Ib("online",this.Mg,this)}Fh.prototype.Ia=function(e){Qh(this,{t:"d",d:e})},Fh.prototype.Ld=function(e){Nh(this),this.nc(e)},Fh.prototype.close=function(){2!==this.N&&(this.f("Closing realtime connection."),this.N=2,Mh(this),this.na&&(this.na(),this.na=null))};var Sh=0,Uh=0;function Vh(i,o){var a=o.Ug,s=a.path.toString(),u=a.wa();i.f("Listen on "+s+" for "+u);var e={p:s};o.tag&&(e.q=Ge(a.n),e.t=o.tag),e.h=o.Ad(),i.Ia("q",e,function(e){var t=e.d,n=e.s;if(t&&"object"==typeof t&&y(t,"w")){var r=z(t,"w");da(r)&&0<=La(r,"no_index")&&S('Using an unspecified index. Consider adding ".indexOn": "'+a.n.g.toString()+'" at '+a.path.toString()+" to your security rules for better performance")}(i.ba[s]&&i.ba[s][u])===o&&(i.f("listen response",e),"ok"!==n&&Wh(i,s,u),o.I&&o.I(n,t))})}function Xh(n){var r=n.Ca;n.qa&&r&&n.Ia("auth",{cred:r.rg},function(e){var t=e.s;e=e.d||"error","ok"!==t&&n.Ca===r&&(n.Ca=null),r.sf?"ok"!==t&&r.od&&r.od(t,e):(r.sf=!0,r.Dc&&r.Dc(t,e))})}function Yh(e,t,n,r,i){n={p:n,d:r},e.f("onDisconnect "+t,n),e.Ia(t,n,function(e){i&&setTimeout(function(){i(e.s,e.d)},Math.floor(0))})}function Zh(e,t,n,r,i,o){r={p:n,d:r},p(o)&&(r.h=o),e.sa.push({action:t,Pf:r,I:i}),e.ad++,t=e.sa.length-1,e.qa?$h(e,t):e.f("Buffering put: "+n)}function $h(t,n){var r=t.sa[n].action,e=t.sa[n].Pf,i=t.sa[n].I;t.sa[n].Vg=t.qa,t.Ia(r,e,function(e){t.f(r+" response",e),delete t.sa[n],t.ad--,0===t.ad&&(t.sa=[]),i&&i(e.s,e.d)})}function Th(e,t){O(!e.Ma,"Scheduling a connect when we're already connected/ing?"),e.wb&&clearTimeout(e.wb),e.wb=setTimeout(function(){e.wb=null,ci(e)},Math.floor(t))}function ci(t){if(di(t)){t.f("Making a connection attempt"),t.Ke=(new Date).getTime(),t.Oc=null;var e=u(t.Ld,t),n=u(t.Zc,t),r=u(t.If,t),i=t.id+":"+Uh++;t.Ma=new Fh(i,t.G,e,n,r,function(e){S(e+" ("+t.G.toString()+")"),t.Bf=!0},t.Fb)}}function ai(e,t,n){(e=Wh(e,t,n=n?Oa(n,function(e){return xd(e)}).join("$"):"default"))&&e.I&&e.I("permission_denied")}function Wh(e,t,n){var r;return t=new P(t).toString(),p(e.ba[t])?(r=e.ba[t][n],delete e.ba[t][n],0===oa(e.ba[t])&&delete e.ba[t]):r=void 0,r}function bi(t){Xh(t),v(t.ba,function(e){v(e,function(e){Vh(t,e)})});for(var e=0;e<t.sa.length;e++)t.sa[e]&&$h(t,e);for(;t.Yc.length;)e=t.Yc.shift(),Yh(t,e.action,e.bd,e.data,e.I)}function di(e){var t;return t=jf.yb().oc,!e.Bf&&!e.Ie&&t}h=Rh.prototype,h.Ia=function(e,t,n){var r=++this.Xg;e={r:r,a:e,b:t},this.f(G(e)),O(this.qa,"sendRequest call when we're not connected not allowed."),this.Ma.Ia(e),n&&(this.Wd[r]=n)},h.Cf=function(e,t,n,r){var i=e.wa(),o=e.path.toString();this.f("Listen called for "+o+" "+i),this.ba[o]=this.ba[o]||{},O(Ie(e.n)||!He(e.n),"listen() called for non-default but complete query"),O(!this.ba[o][i],"listen() called twice for same path/queryId."),e={I:r,Ad:t,Ug:e,tag:n},this.ba[o][i]=e,this.qa&&Vh(this,e)},h.O=function(e,t,n){this.Ca={rg:e,sf:!1,Dc:t,od:n},this.f("Authenticating using credential: "+e),Xh(this),(t=40==e.length)||(t="object"==typeof(e=Cd(e).Ec)&&!0===z(e,"admin")),t&&(this.f("Admin auth credential detected.  Reducing max reconnect time."),this.Id=3e4)},h.je=function(t){this.Ca=null,this.qa&&this.Ia("unauth",{},function(e){t(e.s,e.d)})},h.$f=function(e,t){var n=e.path.toString(),r=e.wa();if(this.f("Unlisten called for "+n+" "+r),O(Ie(e.n)||!He(e.n),"unlisten() called for non-default but complete query"),Wh(this,n,r)&&this.qa){var i=Ge(e.n);this.f("Unlisten on "+n+" for "+r),n={p:n},t&&(n.q=i,n.t=t),this.Ia("n",n)}},h.Qe=function(e,t,n){this.qa?Yh(this,"o",e,t,n):this.Yc.push({bd:e,action:"o",data:t,I:n})},h.Gf=function(e,t,n){this.qa?Yh(this,"om",e,t,n):this.Yc.push({bd:e,action:"om",data:t,I:n})},h.Md=function(e,t){this.qa?Yh(this,"oc",e,null,t):this.Yc.push({bd:e,action:"oc",data:null,I:t})},h.put=function(e,t,n,r){Zh(this,"p",e,t,n,r)},h.Df=function(e,t,n,r){Zh(this,"m",e,t,n,r)},h.Ye=function(e){this.qa&&(e={c:e},this.f("reportStats",e),this.Ia("s",e,function(e){"ok"!==e.s&&this.f("reportStats","Error sending stats: "+e.d)}))},h.Ld=function(e){if("r"in e){this.f("from server: "+G(e));var t=e.r,n=this.Wd[t];n&&(delete this.Wd[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&(t=e.a,n=e.b,this.f("handleServerMessage",t,n),"d"===t?this.Kb(n.p,n.d,!1,n.t):"m"===t?this.Kb(n.p,n.d,!0,n.t):"c"===t?ai(this,n.p,n.q):"ac"===t?(e=n.s,t=n.d,n=this.Ca,this.Ca=null,n&&n.od&&n.od(e,t)):"sd"===t?this.$e?this.$e(n):"msg"in n&&"undefined"!=typeof console&&console.log("FIREBASE: "+n.msg.replace("\n","\nFIREBASE: ")):qd("Unrecognized action received from server: "+G(t)+"\nAre you using the latest client?"))}},h.Zc=function(e,t){if(this.f("connection ready"),this.qa=!0,this.Oc=(new Date).getTime(),this.Se({serverTimeOffset:e-(new Date).getTime()}),this.Fb=t,this.rf){var n={};n["sdk.js."+Eb.replace(/\./g,"-")]=1,Dg()?n["framework.cordova"]=1:"object"==typeof navigator&&"ReactNative"===navigator.product&&(n["framework.reactnative"]=1),this.Ye(n)}bi(this),this.rf=!1,this.Xc(!0)},h.Og=function(e){e&&!this.Sb&&this.eb===this.Id&&(this.f("Window became visible.  Reducing delay."),this.eb=1e3,this.Ma||Th(this,0)),this.Sb=e},h.Mg=function(e){e?(this.f("Browser went online."),this.eb=1e3,this.Ma||Th(this,0)):(this.f("Browser went offline.  Killing connection."),this.Ma&&this.Ma.close())},h.If=function(){this.f("data client disconnected"),this.qa=!1,this.Ma=null;for(var e=0;e<this.sa.length;e++){var t=this.sa[e];t&&"h"in t.Pf&&t.Vg&&(t.I&&t.I("disconnect"),delete this.sa[e],this.ad--)}0===this.ad&&(this.sa=[]),this.Wd={},di(this)&&(this.Sb?this.Oc&&(3e4<(new Date).getTime()-this.Oc&&(this.eb=1e3),this.Oc=null):(this.f("Window isn't visible.  Delaying reconnect."),this.eb=this.Id,this.Ke=(new Date).getTime()),e=Math.max(0,this.eb-((new Date).getTime()-this.Ke)),e*=Math.random(),this.f("Trying to reconnect in "+e+"ms"),Th(this,e),this.eb=Math.min(this.Id,1.3*this.eb)),this.Xc(!1)},h.Cb=function(){this.Ie=!0,this.Ma?this.Ma.close():(this.wb&&(clearTimeout(this.wb),this.wb=null),this.qa&&this.If())},h.vc=function(){this.Ie=!1,this.eb=1e3,this.Ma||Th(this,0)};var U={zg:function(){oh=xh=!0}};function ei(e,t){this.committed=e,this.snapshot=t}function V(e,t){this.dd=e,this.ta=t}function W(e,t,n){this.A=e,this.Y=t,this.g=n}function ii(e,t,n){this.Vb=e,this.tb=t,this.vb=n||null}function ji(e,t,n){this.ja=e,this.tb=t,this.vb=n}function ki(){this.za={}}function mi(e){return Na(qa(e.za),function(e){return!He(e.Y.n)})}function ni(e,t){if(He(t.n))return li(e);var n=t.wa();return z(e.za,n)}function li(e){return ua(e.za,function(e){return He(e.Y.n)})||null}function oi(e){this.va=qe,this.mb=new Pf,this.df={},this.qc={},this.Qc=e}function pi(e,t,n,r,i){var o=e.mb,a=i;return O(r>o.Pc,"Stacking an older write on top of newer ones"),p(a)||(a=!0),o.pa.push({path:t,Ja:n,md:r,visible:a}),a&&(o.V=Jf(o.V,t,n)),o.Pc=r,i?qi(e,new Ac(Ef,t,n)):[]}function ri(e,t,n,r){var i=e.mb;return O(r>i.Pc,"Stacking an older merge on top of newer ones"),i.pa.push({path:t,children:n,md:r,visible:!0}),i.V=Kf(i.V,t,n),i.Pc=r,n=sf(n),qi(e,new bf(Ef,t,n))}function si(e,t,n){n=n||!1;var r=Qf(e.mb,t);if(e.mb.Ud(t)){var i=qe;return null!=r.Ja?i=i.set(M,!0):Fb(r.children,function(e,t){i=i.set(new P(e),t)}),qi(e,new Df(r.path,i,n))}return[]}function ti(e,t,n){return n=sf(n),qi(e,new bf(Gf,t,n))}function ui(e,t,n,r){if(null==(r=vi(e,r)))return[];var i=wi(r);return r=i.path,i=i.Lb,t=lf(r,t),xi(e,r,n=new Ac(new Ff(!1,!0,i,!0),t,n))}function yi(e,t,n,r){if(r=vi(e,r)){var i=wi(r);return r=i.path,i=i.Lb,t=lf(r,t),n=sf(n),xi(e,r,n=new bf(new Ff(!1,!0,i,!0),t,n))}return[]}function Ci(e){return vf(e,function(e,t,n){if(t&&null!=li(t))return[li(t)];var r=[];return t&&(r=mi(t)),v(n,function(e){r=r.concat(e)}),r})}function Gi(e,t){for(var n=0;n<t.length;++n){if(!He((r=t[n]).n)){var r=zi(r),i=e.qc[r];delete e.qc[r],delete e.df["_"+i]}}}function Ei(e){return He(e.n)&&!Ie(e.n)?e.Mb():e}function Bi(e,t,n){var r=t.path,i=Fi(e,t);if(n=Di(e,n),t=e.Qc.af(Ei(t),i,n.Ad,n.I),r=e.va.subtree(r),i)O(null==li(r.value),"If we're adding a query, it shouldn't be shadowed");else for(i=vf(r,function(e,t,n){if(!e.e()&&t&&null!=li(t))return[Ze(li(t))];var r=[];return t&&(r=r.concat(Oa(mi(t),function(e){return e.Y}))),v(n,function(e){r=r.concat(e)}),r}),r=0;r<i.length;++r)n=i[r],e.Qc.de(Ei(n),Fi(e,n));return t}function Di(r,e){var i=e.Y,o=Fi(r,i);return{Ad:function(){return(e.w()||H).hash()},I:function(e){if("ok"!==e)return t="Unknown Error","too_big"===e?t="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"==e?t="Client doesn't have permission to access the desired data.":"unavailable"==e&&(t="The service is unavailable"),(t=Error(e+" at "+i.path.toString()+": "+t)).code=e.toUpperCase(),r.nb(i,null,t);if(o){var t=i.path;if(e=vi(r,o)){var n=wi(e);e=n.path,n=n.Lb,t=lf(e,t),t=new Cc(new Ff(!1,!0,n,!0),t),e=xi(r,e,t)}else e=[]}else e=qi(r,new Cc(Gf,i.path));return e}}}function zi(e){return e.path.toString()+"$"+e.wa()}function wi(e){var t=e.indexOf("$");return O(-1!==t&&t<e.length-1,"Bad queryKey."),{Lb:e.substr(t+1),path:new P(e.substr(0,t))}}function vi(e,t){var n=e.df,r="_"+t;return r in n?n[r]:void 0}function Fi(e,t){var n=zi(t);return z(e.qc,n)}U.forceLongPolling=U.zg,U.Ag=function(){ph=!0},U.forceWebSockets=U.Ag,U.Eg=function(){return wh.isAvailable()},U.isWebSocketsAvailable=U.Eg,U.ah=function(e,t){e.k.Va.$e=t},U.setSecurityDebugCallback=U.ah,U.bf=function(e,t){e.k.bf(t)},U.stats=U.bf,U.cf=function(e,t){e.k.cf(t)},U.statsIncrementCounter=U.cf,U.ud=function(e){return e.k.ud},U.dataUpdateCount=U.ud,U.Dg=function(e,t){e.k.He=t},U.interceptServerData=U.Dg,U.Kg=function(e){new Og(e)},U.onPopupOpen=U.Kg,U.Zg=function(e){xg=e},U.setAuthenticationServer=U.Zg,V.prototype.cancel=function(e){D("Firebase.onDisconnect().cancel",0,1,arguments.length),F("Firebase.onDisconnect().cancel",1,e,!0);var t=new B;return this.dd.Md(this.ta,C(t,e)),t.D},V.prototype.cancel=V.prototype.cancel,V.prototype.remove=function(e){D("Firebase.onDisconnect().remove",0,1,arguments.length),og("Firebase.onDisconnect().remove",this.ta),F("Firebase.onDisconnect().remove",1,e,!0);var t=new B;return fi(this.dd,this.ta,null,C(t,e)),t.D},V.prototype.remove=V.prototype.remove,V.prototype.set=function(e,t){D("Firebase.onDisconnect().set",1,2,arguments.length),og("Firebase.onDisconnect().set",this.ta),gg("Firebase.onDisconnect().set",e,this.ta,!1),F("Firebase.onDisconnect().set",2,t,!0);var n=new B;return fi(this.dd,this.ta,e,C(n,t)),n.D},V.prototype.set=V.prototype.set,V.prototype.Ob=function(e,t,n){D("Firebase.onDisconnect().setWithPriority",2,3,arguments.length),og("Firebase.onDisconnect().setWithPriority",this.ta),gg("Firebase.onDisconnect().setWithPriority",e,this.ta,!1),kg("Firebase.onDisconnect().setWithPriority",2,t),F("Firebase.onDisconnect().setWithPriority",3,n,!0);var r=new B;return gi(this.dd,this.ta,e,t,C(r,n)),r.D},V.prototype.setWithPriority=V.prototype.Ob,V.prototype.update=function(e,t){if(D("Firebase.onDisconnect().update",1,2,arguments.length),og("Firebase.onDisconnect().update",this.ta),da(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,S("Passing an Array to Firebase.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}return jg("Firebase.onDisconnect().update",e,this.ta),F("Firebase.onDisconnect().update",2,t,!0),n=new B,hi(this.dd,this.ta,e,C(n,t)),n.D},V.prototype.update=V.prototype.update,W.prototype.J=function(){return D("Firebase.DataSnapshot.val",0,0,arguments.length),this.A.J()},W.prototype.val=W.prototype.J,W.prototype.qf=function(){return D("Firebase.DataSnapshot.exportVal",0,0,arguments.length),this.A.J(!0)},W.prototype.exportVal=W.prototype.qf,W.prototype.xg=function(){return D("Firebase.DataSnapshot.exists",0,0,arguments.length),!this.A.e()},W.prototype.exists=W.prototype.xg,W.prototype.o=function(e){D("Firebase.DataSnapshot.child",0,1,arguments.length),fa(e)&&(e=String(e)),ng("Firebase.DataSnapshot.child",e);var t=new P(e),n=this.Y.o(t);return new W(this.A.S(t),n,R)},W.prototype.child=W.prototype.o,W.prototype.Fa=function(e){D("Firebase.DataSnapshot.hasChild",1,1,arguments.length),ng("Firebase.DataSnapshot.hasChild",e);var t=new P(e);return!this.A.S(t).e()},W.prototype.hasChild=W.prototype.Fa,W.prototype.C=function(){return D("Firebase.DataSnapshot.getPriority",0,0,arguments.length),this.A.C().J()},W.prototype.getPriority=W.prototype.C,W.prototype.forEach=function(n){if(D("Firebase.DataSnapshot.forEach",1,1,arguments.length),F("Firebase.DataSnapshot.forEach",1,n,!1),this.A.L())return!1;var r=this;return!!this.A.R(this.g,function(e,t){return n(new W(t,r.Y.o(e),R))})},W.prototype.forEach=W.prototype.forEach,W.prototype.zd=function(){return D("Firebase.DataSnapshot.hasChildren",0,0,arguments.length),!this.A.L()&&!this.A.e()},W.prototype.hasChildren=W.prototype.zd,W.prototype.name=function(){return S("Firebase.DataSnapshot.name() being deprecated. Please use Firebase.DataSnapshot.key() instead."),D("Firebase.DataSnapshot.name",0,0,arguments.length),this.key()},W.prototype.name=W.prototype.name,W.prototype.key=function(){return D("Firebase.DataSnapshot.key",0,0,arguments.length),this.Y.key()},W.prototype.key=W.prototype.key,W.prototype.Hb=function(){return D("Firebase.DataSnapshot.numChildren",0,0,arguments.length),this.A.Hb()},W.prototype.numChildren=W.prototype.Hb,W.prototype.Mb=function(){return D("Firebase.DataSnapshot.ref",0,0,arguments.length),this.Y},W.prototype.ref=W.prototype.Mb,h=ii.prototype,h.Qf=function(e){return"value"===e},h.createEvent=function(e,t){var n=t.n.g;return new jc("value",this,new W(e.Na,t.Mb(),n))},h.Zb=function(e){var t=this.vb;if("cancel"===e.De()){O(this.tb,"Raising a cancel event on a listener with no cancel callback");var n=this.tb;return function(){n.call(t,e.error)}}var r=this.Vb;return function(){r.call(t,e.be)}},h.lf=function(e,t){return this.tb?new kc(this,e,t):null},h.matches=function(e){return e instanceof ii&&(!e.Vb||!this.Vb||e.Vb===this.Vb&&e.vb===this.vb)},h.yf=function(){return null!==this.Vb},h=ji.prototype,h.Qf=function(e){return("children_removed"===(e="children_added"===e?"child_added":e)?"child_removed":e)in this.ja},h.lf=function(e,t){return this.tb?new kc(this,e,t):null},h.createEvent=function(e,t){O(null!=e.Za,"Child events should have a childName.");var n=t.Mb().o(e.Za);return new jc(e.type,this,new W(e.Na,n,t.n.g),e.Td)},h.Zb=function(e){var t=this.vb;if("cancel"===e.De()){O(this.tb,"Raising a cancel event on a listener with no cancel callback");var n=this.tb;return function(){n.call(t,e.error)}}var r=this.ja[e.wd];return function(){r.call(t,e.be,e.Td)}},h.matches=function(n){if(n instanceof ji){if(!this.ja||!n.ja)return!0;if(this.vb===n.vb)if((e=oa(n.ja))===oa(this.ja)){if(1!==e)return na(this.ja,function(e,t){return n.ja[t]===e});var e=pa(n.ja),t=pa(this.ja);return!(t!==e||n.ja[e]&&this.ja[t]&&n.ja[e]!==this.ja[t])}}return!1},h.yf=function(){return null!==this.ja},h=ki.prototype,h.e=function(){return va(this.za)},h.gb=function(t,n,r){var e=t.source.Lb;if(null!==e)return e=z(this.za,e),O(null!=e,"SyncTree gave us an op for an invalid query."),e.gb(t,n,r);var i=[];return v(this.za,function(e){i=i.concat(e.gb(t,n,r))}),i},h.Tb=function(e,t,n,r,i){var o=e.wa();if(!(a=z(this.za,o))){var a,s=!1;s=!!(a=n.Aa(i?r:null))||(a=r instanceof fe?n.Cc(r):H,!1),a=new Ye(e,new je(new Xb(a,s,!1),new Xb(r,i,!1))),this.za[o]=a}return a.Tb(t),af(a,t)},h.nb=function(e,n,r){var t=e.wa(),i=[],o=[],a=null!=li(this);if("default"===t){var s=this;v(this.za,function(e,t){o=o.concat(e.nb(n,r)),e.e()&&(delete s.za[t],He(e.Y.n)||i.push(e.Y))})}else{var u=z(this.za,t);u&&(o=o.concat(u.nb(n,r)),u.e()&&(delete this.za[t],He(u.Y.n)||i.push(u.Y)))}return a&&null==li(this)&&i.push(new X(e.k,e.path)),{Wg:i,vg:o}},h.kb=function(t){var n=null;return v(this.za,function(e){n=n||e.kb(t)}),n},oi.prototype.Tb=function(e,t){var r=e.path,i=null,o=!1;zf(this.va,r,function(e,t){var n=lf(e,r);i=i||t.kb(n),o=o||null!=li(t)});var n,a=this.va.get(r);a?(o=o||null!=li(a),i=i||a.kb(M)):(a=new ki,this.va=this.va.set(r,a)),null!=i?n=!0:(n=!1,i=H,Cf(this.va.subtree(r),function(e,t){var n=t.kb(M);n&&(i=i.W(e,n))}));var s=null!=ni(a,e);if(!s&&!He(e.n)){var u=zi(e);O(!(u in this.qc),"View does not exist, but we have a tag");var c=Ai++;this.qc[u]=c,this.df["_"+c]=u}return n=a.Tb(e,t,new Uf(r,this.mb),i,n),s||o||(a=ni(a,e),n=n.concat(Bi(this,e,a))),n},oi.prototype.nb=function(e,t,n){var r=e.path,i=this.va.get(r),o=[];if(i&&("default"===e.wa()||null!=ni(i,e))){o=i.nb(e,t,n),i.e()&&(this.va=this.va.remove(r)),i=o.Wg,o=o.vg,t=-1!==Sa(i,function(e){return He(e.n)});var a=xf(this.va,r,function(e,t){return null!=li(t)});if(t&&!a&&!(r=this.va.subtree(r)).e()){r=Ci(r);for(var s=0;s<r.length;++s){var u=(c=r[s]).Y,c=Di(this,c);this.Qc.af(Ei(u),Fi(this,u),c.Ad,c.I)}}if(!a&&0<i.length&&!n)if(t)this.Qc.de(Ei(e),null);else{var l=this;Ma(i,function(e){e.wa();var t=l.qc[zi(e)];l.Qc.de(Ei(e),t)})}Gi(this,i)}return o},oi.prototype.Aa=function(r,e){var t=this.mb,n=xf(this.va,r,function(e,t){var n=lf(e,r);if(n=t.kb(n))return n});return t.Aa(r,n,e,!0)};var Ai=1;function xi(e,t,n){var r=e.va.get(t);return O(r,"Missing sync point for query tag that we're tracking"),r.gb(n,new Uf(t,e.mb),null)}function qi(e,t){return Hi(e,t,e.va,null,new Uf(M,e.mb))}function Hi(e,t,n,r,i){if(t.path.e())return Ii(e,t,n,r,i);var o=n.get(M);null==r&&null!=o&&(r=o.kb(M));var a=[],s=K(t.path),u=t.$c(s);if((n=n.children.get(s))&&u){var c=r?r.T(s):null;s=i.o(s),a=a.concat(Hi(e,u,n,c,s))}return o&&(a=a.concat(o.gb(t,i,r))),a}function Ii(o,a,e,s,u){var t=e.get(M);null==s&&null!=t&&(s=t.kb(M));var c=[];return e.children.ka(function(e,t){var n=s?s.T(e):null,r=u.o(e),i=a.$c(e);i&&(c=c.concat(Ii(o,i,t,n,r)))}),t&&(c=c.concat(t.gb(a,u,s))),c}function Ji(e,t){this.G=e,this.Xa=uc(e),this.hd=null,this.fa=new Zb,this.Kd=1,this.Va=null,t||0<=("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)?(this.da=new cf(this.G,u(this.Kb,this)),setTimeout(u(this.Xc,this,!0),0)):this.da=this.Va=new Rh(this.G,u(this.Kb,this),u(this.Xc,this),u(this.Se,this)),this.eh=vc(e,u(function(){return new pc(this.Xa,this.da)},this)),this.yc=new Wf,this.Ge=new Sb;var o=this;this.Fd=new oi({af:function(e,t,n,r){return t=[],(n=o.Ge.j(e.path)).e()||(t=qi(o.Fd,new Ac(Gf,e.path,n)),setTimeout(function(){r("ok")},0)),t},de:aa}),Ki(this,"connected",!1),this.na=new Vc,this.O=new Yg(e,u(this.da.O,this.da),u(this.da.je,this.da),u(this.Pe,this)),this.ud=0,this.He=null,this.M=new oi({af:function(r,e,t,i){return o.da.Cf(r,t,e,function(e,t){var n=i(e,t);dc(o.fa,r.path,n)}),[]},de:function(e,t){o.da.$f(e,t)}})}function Li(e){return e=e.Ge.j(new P(".info/serverTimeOffset")).J()||0,(new Date).getTime()+e}function Mi(e){return(e=e={timestamp:Li(e)}).timestamp=e.timestamp||(new Date).getTime(),e}function Ki(e,t,n){t=new P("/.info/"+t),n=Q(n);var r=e.Ge;r.Zd=r.Zd.H(t,n),n=qi(e.Fd,new Ac(Gf,t,n)),dc(e.fa,t,n)}function Oi(r){r.f("onDisconnectEvents");var e=Mi(r),i=[];Wc(Uc(r.na,e),M,function(e,t){i=i.concat(qi(r.M,new Ac(Gf,e,t)));var n=Qi(r,e);Ni(r,n)}),r.na=new Vc,dc(r.fa,M,i)}function fi(n,r,e,i){var o=Q(e);n.da.Qe(r.toString(),o.J(!0),function(e,t){"ok"===e&&n.na.rc(r,o),Pi(i,e,t)})}function gi(n,r,e,t,i){var o=Q(e,t);n.da.Qe(r.toString(),o.J(!0),function(e,t){"ok"===e&&n.na.rc(r,o),Pi(i,e,t)})}function hi(i,o,a,s){var e,t=!0;for(e in a)t=!1;t?(fc("onDisconnect().update() called with empty data.  Don't do anything."),Pi(s,"ok")):i.da.Gf(o.toString(),a,function(e,t){if("ok"===e)for(var n in a){var r=Q(a[n]);i.na.rc(o.o(n),r)}Pi(s,e,t)})}function Ri(e,t,n){n=".info"===K(t.path)?e.Fd.Tb(t,n):e.M.Tb(t,n),bc(e.fa,t.path,n)}function Pi(n,r,i){n&&gc(function(){if("ok"==r)n(null);else{var e=(r||"error").toUpperCase(),t=e;i&&(t+=": "+i),(t=Error(t)).code=e,n(t)}})}function Si(e,t,n,r,i){function o(){}e.f("transaction on "+t);var a=new X(e,t);if(a.Ib("value",o),n={path:t,update:n,I:r,status:null,Lf:id(),gf:i,Sf:0,le:function(){a.mc("value",o)},ne:null,Da:null,rd:null,sd:null,td:null},r=e.M.Aa(t,void 0)||H,n.rd=r,p(r=n.update(r.J()))){hg("transaction failed: Data returned ",r,n.path),n.status=1;var s=(i=Xf(e.yc,t)).Ea()||[];s.push(n),Yf(i,s),"object"==typeof r&&null!==r&&y(r,".priority")?(s=z(r,".priority"),O(fg(s),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):s=(e.M.Aa(t)||H).C().J(),i=Mi(e),i=Xc(r=Q(r,s),i),n.sd=r,n.td=i,n.Da=e.Kd++,n=pi(e.M,t,i,n.Da,n.gf),dc(e.fa,t,n),Ti(e)}else n.le(),n.sd=null,n.td=null,n.I&&(e=new W(n.rd,new X(e,n.path),R),n.I(null,!1,e))}function Ti(t,e){var n=e||t.yc;if(e||Ui(t,n),null!==n.Ea()){var r=Vi(t,n);O(0<r.length,"Sending zero length transaction queue"),Qa(r,function(e){return 1===e.status})&&Wi(t,n.path(),r)}else n.zd()&&n.R(function(e){Ti(t,e)})}function Wi(i,o,a){for(var e=Oa(a,function(e){return e.Da}),t=(e=t=i.M.Aa(o,e)||H,t.hash()),s=0;s<a.length;s++){var n=a[s];O(1===n.status,"tryToSendTransactionQueue_: items in queue should all be run."),n.status=2,n.Sf++;var r=lf(o,n.path);e=e.H(r,n.sd)}e=e.J(!0),i.da.put(o.toString(),e,function(e){i.f("transaction put response",{path:o.toString(),status:e});var t=[];if("ok"===e){for(e=[],s=0;s<a.length;s++){if(a[s].status=3,t=t.concat(si(i.M,a[s].Da)),a[s].I){var n=a[s].td,r=new X(i,a[s].path);e.push(u(a[s].I,null,null,!0,new W(n,r,R)))}a[s].le()}for(Ui(i,Xf(i.yc,o)),Ti(i),dc(i.fa,o,t),s=0;s<e.length;s++)gc(e[s])}else{if("datastale"===e)for(s=0;s<a.length;s++)a[s].status=4===a[s].status?5:1;else for(S("transaction at "+o.toString()+" failed: "+e),s=0;s<a.length;s++)a[s].status=5,a[s].ne=e;Ni(i,o)}},t)}function Ni(e,t){var n,r=(n=Xi(e,t)).path();return Yi(e,n=Vi(e,n),r),r}function Yi(e,t,n){if(0!==t.length){for(var r=[],i=[],o=Na(t,function(e){return 1===e.status}),a=(o=Oa(o,function(e){return e.Da}),0);a<t.length;a++){var s,c=t[a],l=lf(n,c.path),f=!1;if(O(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),5===c.status)f=!0,s=c.ne,i=i.concat(si(e.M,c.Da,!0));else if(1===c.status)if(25<=c.Sf)f=!0,s="maxretry",i=i.concat(si(e.M,c.Da,!0));else{var d=e.M.Aa(c.path,o)||H;c.rd=d;var h=t[a].update(d.J());i=p(h)?(hg("transaction failed: Data returned ",h,c.path),l=Q(h),"object"==typeof h&&null!=h&&y(h,".priority")||(l=l.ia(d.C())),d=c.Da,h=Xc(l,h=Mi(e)),c.sd=l,c.td=h,c.Da=e.Kd++,Ta(o,d),(i=i.concat(pi(e.M,c.path,h,c.Da,c.gf))).concat(si(e.M,d,!0))):(f=!0,s="nodata",i.concat(si(e.M,c.Da,!0)))}dc(e.fa,n,i),i=[],f&&(t[a].status=3,setTimeout(t[a].le,Math.floor(0)),t[a].I&&("nodata"===s?(c=new X(e,t[a].path),r.push(u(t[a].I,null,null,!1,new W(t[a].rd,c,R)))):r.push(u(t[a].I,null,Error(s),!1,null))))}for(Ui(e,e.yc),a=0;a<r.length;a++)gc(r[a]);Ti(e)}}function Xi(e,t){for(var n,r=e.yc;null!==(n=K(t))&&null===r.Ea();)r=Xf(r,n),t=N(t);return r}function Vi(e,t){var n=[];return Zi(e,t,n),n.sort(function(e,t){return e.Lf-t.Lf}),n}function Zi(t,e,n){var r=e.Ea();if(null!==r)for(var i=0;i<r.length;i++)n.push(r[i]);e.R(function(e){Zi(t,e,n)})}function Ui(t,e){var n=e.Ea();if(n){for(var r=0,i=0;i<n.length;i++)3!==n[i].status&&(n[r]=n[i],r++);n.length=r,Yf(e,0<n.length?n:null)}e.R(function(e){Ui(t,e)})}function Qi(t,e){var n=Xi(t,e).path(),r=Xf(t.yc,e);return ag(r,function(e){$i(t,e)}),$i(t,r),$f(r,function(e){$i(t,e)}),n}function $i(e,t){var n=t.Ea();if(null!==n){for(var r=[],i=[],o=-1,a=0;a<n.length;a++)4!==n[a].status&&(2===n[a].status?(O(o===a-1,"All SENT items should be at beginning of queue."),n[o=a].status=4,n[a].ne="set"):(O(1===n[a].status,"Unexpected transaction status in abort"),n[a].le(),i=i.concat(si(e.M,n[a].Da,!0)),n[a].I&&r.push(u(n[a].I,null,Error("set"),!1,null))));for(-1===o?Yf(t,null):n.length=o+1,dc(e.fa,t.path(),i),a=0;a<r.length;a++)gc(r[a])}}function aj(){this.sc={},this.ag=!1}function Y(e,t,n,r){this.k=e,this.path=t,this.n=n,this.pc=r}function bj(e){var t=null,n=null;if(e.oa&&(t=Od(e)),e.ra&&(n=Rd(e)),e.g===re){if(e.oa){if("[MIN_NAME]"!=Nd(e))throw Error("Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().");if("string"!=typeof t)throw Error("Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.")}if(e.ra){if("[MAX_NAME]"!=Pd(e))throw Error("Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().");if("string"!=typeof n)throw Error("Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.")}}else if(e.g===R){if(null!=t&&!fg(t)||null!=n&&!fg(n))throw Error("Query: When ordering by priority, the first argument passed to startAt(), endAt(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(O(e.g instanceof ve||e.g===Be,"unknown index type."),null!=t&&"object"==typeof t||null!=n&&"object"==typeof n)throw Error("Query: First argument passed to startAt(), endAt(), or equalTo() cannot be an object.")}function cj(e){if(e.oa&&e.ra&&e.la&&(!e.la||""===e.Rb))throw Error("Query: Can't combine startAt(), endAt(), and limit(). Use limitToFirst() or limitToLast() instead.")}function dj(e,t){if(!0===e.pc)throw Error(t+": You can't combine multiple orderBy calls.")}function ej(e,t,n){var r={cancel:null,Qa:null};if(t&&n)r.cancel=t,F(e,3,r.cancel,!0),r.Qa=n,Qb(e,4,r.Qa);else if(t)if("object"==typeof t&&null!==t)r.Qa=t;else{if("function"!=typeof t)throw Error(E(e,3,!0)+" must either be a cancel callback or a context object.");r.cancel=t}return r}h=Ji.prototype,h.toString=function(){return(this.G.ob?"https://":"http://")+this.G.host},h.name=function(){return this.G.lc},h.Kb=function(e,t,n,r){this.ud++;var i=new P(e);t=this.He?this.He(e,t):t,e=[],e=r?n?(t=ma(t,function(e){return Q(e)}),yi(this.M,i,t,r)):(t=Q(t),ui(this.M,i,t,r)):n?(r=ma(t,function(e){return Q(e)}),ti(this.M,i,r)):(r=Q(t),qi(this.M,new Ac(Gf,i,r))),r=i,0<e.length&&(r=Ni(this,i)),dc(this.fa,r,e)},h.Xc=function(e){Ki(this,"connected",e),!1===e&&Oi(this)},h.Se=function(e){var n=this;zd(e,function(e,t){Ki(n,t,e)})},h.Pe=function(e){Ki(this,"authenticated",e)},h.Ob=function(r,e,t,i){this.f("set",{path:r.toString(),value:e,nh:t});var n=Mi(this),o=(n=Xc(e=Q(e,t),n),this.Kd++);n=pi(this.M,r,n,o,!0);$b(this.fa,n);var a=this;this.da.put(r.toString(),e.J(!0),function(e,t){var n="ok"===e;n||S("set at "+r+" failed: "+e),n=si(a.M,o,!n),dc(a.fa,r,n),Pi(i,e,t)}),Ni(this,n=Qi(this,r)),dc(this.fa,n,[])},h.update=function(i,e,o){this.f("update",{path:i.toString(),value:e});var r=!0,a=Mi(this),s={};if(v(e,function(e,t){r=!1;var n=Q(e);s[t]=Xc(n,a)}),r)fc("update() called with empty data.  Don't do anything."),Pi(o,"ok");else{var u=this.Kd++,t=ri(this.M,i,s,u);$b(this.fa,t);var c=this;this.da.Df(i.toString(),e,function(e,t){(n="ok"===e)||S("update at "+i+" failed: "+e);var n=si(c.M,u,!n),r=i;0<n.length&&(r=Ni(c,i)),dc(c.fa,r,n),Pi(o,e,t)}),Ni(this,e=Qi(this,i)),dc(this.fa,i,[])}},h.Md=function(n,r){var i=this;this.da.Md(n.toString(),function(e,t){"ok"===e&&wg(i.na,n),Pi(r,e,t)})},h.Cb=function(){this.Va&&this.Va.Cb()},h.vc=function(){this.Va&&this.Va.vc()},h.bf=function(e){if("undefined"!=typeof console){e=e?(this.hd||(this.hd=new oc(this.Xa)),this.hd.get()):this.Xa.get();var t,n=Pa(ra(e),function(e,t){return Math.max(t.length,e)},0);for(t in e){for(var r=e[t],i=t.length;i<n+2;i++)t+=" ";console.log(t+r)}}},h.cf=function(e){rc(this.Xa,e),this.eh.Vf[e]=!0},h.f=function(e){var t="";this.Va&&(t=this.Va.id+":"),fc(t,arguments)},aj.prototype.Cb=function(){for(var e in this.sc)this.sc[e].Cb()},aj.prototype.vc=function(){for(var e in this.sc)this.sc[e].vc()},aj.prototype.ze=function(){this.ag=!0},ba(aj),aj.prototype.interrupt=aj.prototype.Cb,aj.prototype.resume=aj.prototype.vc,h=Y.prototype,h.Mb=function(){return D("Query.ref",0,0,arguments.length),new X(this.k,this.path)},h.Ib=function(e,t,n,r){D("Query.on",2,4,arguments.length),lg("Query.on",e,!1),F("Query.on",2,t,!1);var i=ej("Query.on",n,r);if("value"===e)Ri(this.k,this,new ii(t,i.cancel||null,i.Qa||null));else{var o={};o[e]=t,Ri(this.k,this,new ji(o,i.cancel,i.Qa))}return t},h.mc=function(e,t,n){D("Query.off",0,3,arguments.length),lg("Query.off",e,!0),F("Query.off",2,t,!0),Qb("Query.off",3,n);var r=null,i=null;"value"===e?r=new ii(t||null,null,n||null):e&&(t&&((i={})[e]=t),r=new ji(i,null,n||null)),i=this.k,r=".info"===K(this.path)?i.Fd.nb(this,r):i.M.nb(this,r),bc(i.fa,this.path,r)},h.Pg=function(t,n){function r(e){a&&(a=!1,o.mc(t,r),n&&n.call(i.Qa,e),s.resolve(e))}D("Query.once",1,4,arguments.length),lg("Query.once",t,!1),F("Query.once",2,n,!0);var i=ej("Query.once",arguments[2],arguments[3]),o=this,a=!0,s=new B;return Nb(s.D),this.Ib(t,r,function(e){o.mc(t,r),i.cancel&&i.cancel.call(i.Qa,e),s.reject(e)}),s.D},h.Le=function(e){if(S("Query.limit() being deprecated. Please use Query.limitToFirst() or Query.limitToLast() instead."),D("Query.limit",1,1,arguments.length),!fa(e)||Math.floor(e)!==e||e<=0)throw Error("Query.limit: First argument must be a positive integer.");if(this.n.la)throw Error("Query.limit: Limit was already set (by another call to limit, limitToFirst, orlimitToLast.");var t=this.n.Le(e);return cj(t),new Y(this.k,this.path,t,this.pc)},h.Me=function(e){if(D("Query.limitToFirst",1,1,arguments.length),!fa(e)||Math.floor(e)!==e||e<=0)throw Error("Query.limitToFirst: First argument must be a positive integer.");if(this.n.la)throw Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new Y(this.k,this.path,this.n.Me(e),this.pc)},h.Ne=function(e){if(D("Query.limitToLast",1,1,arguments.length),!fa(e)||Math.floor(e)!==e||e<=0)throw Error("Query.limitToLast: First argument must be a positive integer.");if(this.n.la)throw Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new Y(this.k,this.path,this.n.Ne(e),this.pc)},h.Qg=function(e){if(D("Query.orderByChild",1,1,arguments.length),"$key"===e)throw Error('Query.orderByChild: "$key" is invalid.  Use Query.orderByKey() instead.');if("$priority"===e)throw Error('Query.orderByChild: "$priority" is invalid.  Use Query.orderByPriority() instead.');if("$value"===e)throw Error('Query.orderByChild: "$value" is invalid.  Use Query.orderByValue() instead.');ng("Query.orderByChild",e),dj(this,"Query.orderByChild");var t=new P(e);if(t.e())throw Error("Query.orderByChild: cannot pass in empty path.  Use Query.orderByValue() instead.");return t=new ve(t),bj(t=Fe(this.n,t)),new Y(this.k,this.path,t,!0)},h.Rg=function(){D("Query.orderByKey",0,0,arguments.length),dj(this,"Query.orderByKey");var e=Fe(this.n,re);return bj(e),new Y(this.k,this.path,e,!0)},h.Sg=function(){D("Query.orderByPriority",0,0,arguments.length),dj(this,"Query.orderByPriority");var e=Fe(this.n,R);return bj(e),new Y(this.k,this.path,e,!0)},h.Tg=function(){D("Query.orderByValue",0,0,arguments.length),dj(this,"Query.orderByValue");var e=Fe(this.n,Be);return bj(e),new Y(this.k,this.path,e,!0)},h.ce=function(e,t){D("Query.startAt",0,2,arguments.length),gg("Query.startAt",e,this.path,!0),mg("Query.startAt",t);var n=this.n.ce(e,t);if(cj(n),bj(n),this.n.oa)throw Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");return p(e)||(t=e=null),new Y(this.k,this.path,n,this.pc)},h.vd=function(e,t){D("Query.endAt",0,2,arguments.length),gg("Query.endAt",e,this.path,!0),mg("Query.endAt",t);var n=this.n.vd(e,t);if(cj(n),bj(n),this.n.ra)throw Error("Query.endAt: Ending point was already set (by another call to endAt or equalTo).");return new Y(this.k,this.path,n,this.pc)},h.tg=function(e,t){if(D("Query.equalTo",1,2,arguments.length),gg("Query.equalTo",e,this.path,!1),mg("Query.equalTo",t),this.n.oa)throw Error("Query.equalTo: Starting point was already set (by another call to endAt or equalTo).");if(this.n.ra)throw Error("Query.equalTo: Ending point was already set (by another call to endAt or equalTo).");return this.ce(e,t).vd(e,t)},h.toString=function(){D("Query.toString",0,0,arguments.length);for(var e=this.path,t="",n=e.aa;n<e.u.length;n++)""!==e.u[n]&&(t+="/"+encodeURIComponent(String(e.u[n])));return this.k.toString()+(t||"/")},h.wa=function(){var e=xd(Ge(this.n));return"{}"===e?"default":e},Y.prototype.ref=Y.prototype.Mb,Y.prototype.on=Y.prototype.Ib,Y.prototype.off=Y.prototype.mc,Y.prototype.once=Y.prototype.Pg,Y.prototype.limit=Y.prototype.Le,Y.prototype.limitToFirst=Y.prototype.Me,Y.prototype.limitToLast=Y.prototype.Ne,Y.prototype.orderByChild=Y.prototype.Qg,Y.prototype.orderByKey=Y.prototype.Rg,Y.prototype.orderByPriority=Y.prototype.Sg,Y.prototype.orderByValue=Y.prototype.Tg,Y.prototype.startAt=Y.prototype.ce,Y.prototype.endAt=Y.prototype.vd,Y.prototype.equalTo=Y.prototype.tg,Y.prototype.toString=Y.prototype.toString;var Z={};function X(e,t){var n,r,i;if(e instanceof Ji)n=e,r=t;else{var o;if(D("new Firebase",1,2,arguments.length),n=(r=sd(e)).fh,"firebase"===r.domain&&rd(r.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),n&&"undefined"!=n||rd("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),r.ob||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&S("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),n=new dd(r.host,r.ob,n,"ws"===r.scheme||"wss"===r.scheme),i=(r=new P(r.bd)).toString(),!(o=!q(n.host)||0===n.host.length||!eg(n.lc))&&(o=0!==i.length)&&(i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),o=!(q(i)&&0!==i.length&&!cg.test(i))),o)throw Error(E("new Firebase",1,!1)+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".');if(t)if(t instanceof aj)i=t;else{if(!q(t))throw Error("Expected a valid Firebase.Context for second argument to new Firebase()");i=aj.yb(),n.Rd=t}else i=aj.yb();o=n.toString();var a=z(i.sc,o);a||(a=new Ji(n,i.ag),i.sc[o]=a),n=a}Y.call(this,n,r,De,!1),this.then=void 0,this.catch=void 0}Z.zc=Rh,Z.DataConnection=Z.zc,Rh.prototype.dh=function(e,t){this.Ia("q",{p:e},t)},Z.zc.prototype.simpleListen=Z.zc.prototype.dh,Rh.prototype.sg=function(e,t){this.Ia("echo",{d:e},t)},Z.zc.prototype.echo=Z.zc.prototype.sg,Rh.prototype.interrupt=Rh.prototype.Cb,Z.dg=Fh,Z.RealTimeConnection=Z.dg,Fh.prototype.sendRequest=Fh.prototype.Ia,Fh.prototype.close=Fh.prototype.close,Z.Cg=function(i){var o=Rh.prototype.put;return Rh.prototype.put=function(e,t,n,r){p(r)&&(r=i()),o.call(this,e,t,n,r)},function(){Rh.prototype.put=o}},Z.hijackHash=Z.Cg,Z.cg=dd,Z.ConnectionTarget=Z.cg,Z.wa=function(e){return e.wa()},Z.queryIdentifier=Z.wa,Z.Fg=function(e){return e.k.Va.ba},Z.listens=Z.Fg,Z.ze=function(e){e.ze()},Z.forceRestClient=Z.ze,ka(X,Y);var fj=X,gj=["Firebase"],hj=n,ij;gj[0]in hj||!hj.execScript||hj.execScript("var "+gj[0]);for(;gj.length&&(ij=gj.shift());)!gj.length&&p(fj)?hj[ij]=fj:hj=hj[ij]?hj[ij]:hj[ij]={};X.goOffline=function(){D("Firebase.goOffline",0,0,arguments.length),aj.yb().Cb()},X.goOnline=function(){D("Firebase.goOnline",0,0,arguments.length),aj.yb().vc()},X.enableLogging=od,X.ServerValue={TIMESTAMP:{".sv":"timestamp"}},X.SDK_VERSION=Eb,X.INTERNAL=U,X.Context=aj,X.TEST_ACCESS=Z,X.prototype.name=function(){return S("Firebase.name() being deprecated. Please use Firebase.key() instead."),D("Firebase.name",0,0,arguments.length),this.key()},X.prototype.name=X.prototype.name,X.prototype.key=function(){return D("Firebase.key",0,0,arguments.length),this.path.e()?null:me(this.path)},X.prototype.key=X.prototype.key,X.prototype.o=function(e){if(D("Firebase.child",1,1,arguments.length),fa(e))e=String(e);else if(!(e instanceof P))if(null===K(this.path)){var t=e;t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),ng("Firebase.child",t)}else ng("Firebase.child",e);return new X(this.k,this.path.o(e))},X.prototype.child=X.prototype.o,X.prototype.parent=function(){D("Firebase.parent",0,0,arguments.length);var e=this.path.parent();return null===e?null:new X(this.k,e)},X.prototype.parent=X.prototype.parent,X.prototype.root=function(){D("Firebase.ref",0,0,arguments.length);for(var e=this;null!==e.parent();)e=e.parent();return e},X.prototype.root=X.prototype.root,X.prototype.set=function(e,t){D("Firebase.set",1,2,arguments.length),og("Firebase.set",this.path),gg("Firebase.set",e,this.path,!1),F("Firebase.set",2,t,!0);var n=new B;return this.k.Ob(this.path,e,null,C(n,t)),n.D},X.prototype.set=X.prototype.set,X.prototype.update=function(e,t){if(D("Firebase.update",1,2,arguments.length),og("Firebase.update",this.path),da(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,S("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}return jg("Firebase.update",e,this.path),F("Firebase.update",2,t,!0),n=new B,this.k.update(this.path,e,C(n,t)),n.D},X.prototype.update=X.prototype.update,X.prototype.Ob=function(e,t,n){if(D("Firebase.setWithPriority",2,3,arguments.length),og("Firebase.setWithPriority",this.path),gg("Firebase.setWithPriority",e,this.path,!1),kg("Firebase.setWithPriority",2,t),F("Firebase.setWithPriority",3,n,!0),".length"===this.key()||".keys"===this.key())throw"Firebase.setWithPriority failed: "+this.key()+" is a read-only object.";var r=new B;return this.k.Ob(this.path,e,t,C(r,n)),r.D},X.prototype.setWithPriority=X.prototype.Ob,X.prototype.remove=function(e){return D("Firebase.remove",0,1,arguments.length),og("Firebase.remove",this.path),F("Firebase.remove",1,e,!0),this.set(null,e)},X.prototype.remove=X.prototype.remove,X.prototype.transaction=function(e,i,t){if(D("Firebase.transaction",1,3,arguments.length),og("Firebase.transaction",this.path),F("Firebase.transaction",1,e,!1),F("Firebase.transaction",2,i,!0),p(t)&&"boolean"!=typeof t)throw Error(E("Firebase.transaction",3,!0)+"must be a boolean.");if(".length"===this.key()||".keys"===this.key())throw"Firebase.transaction failed: "+this.key()+" is a read-only object.";void 0===t&&(t=!0);var o=new B;return r(i)&&Nb(o.D),Si(this.k,this.path,e,function(e,t,n){e?o.reject(e):o.resolve(new ei(t,n)),r(i)&&i(e,t,n)},t),o.D},X.prototype.transaction=X.prototype.transaction,X.prototype.$g=function(e,t){D("Firebase.setPriority",1,2,arguments.length),og("Firebase.setPriority",this.path),kg("Firebase.setPriority",1,e),F("Firebase.setPriority",2,t,!0);var n=new B;return this.k.Ob(this.path.o(".priority"),e,null,C(n,t)),n.D},X.prototype.setPriority=X.prototype.$g,X.prototype.push=function(e,t){D("Firebase.push",0,2,arguments.length),og("Firebase.push",this.path),gg("Firebase.push",e,this.path,!0),F("Firebase.push",2,t,!0);var n=Li(this.k),i=hf(n);n=this.o(i);if(null!=e){var o=this,a=n.set(e,t).then(function(){return o.o(i)});n.then=u(a.then,a),n.catch=u(a.then,a,void 0),r(t)&&Nb(a)}return n},X.prototype.push=X.prototype.push,X.prototype.lb=function(){return og("Firebase.onDisconnect",this.path),new V(this.k,this.path)},X.prototype.onDisconnect=X.prototype.lb,X.prototype.O=function(e,t,n){S("FirebaseRef.auth() being deprecated. Please use FirebaseRef.authWithCustomToken() instead."),D("Firebase.auth",1,3,arguments.length),pg("Firebase.auth",e),F("Firebase.auth",2,t,!0),F("Firebase.auth",3,t,!0);var r=new B;return dh(this.k.O,e,{},{remember:"none"},C(r,t),n),r.D},X.prototype.auth=X.prototype.O,X.prototype.je=function(e){D("Firebase.unauth",0,1,arguments.length),F("Firebase.unauth",1,e,!0);var t=new B;return eh(this.k.O,C(t,e)),t.D},X.prototype.unauth=X.prototype.je,X.prototype.Be=function(){return D("Firebase.getAuth",0,0,arguments.length),this.k.O.Be()},X.prototype.getAuth=X.prototype.Be,X.prototype.Jg=function(e,t){D("Firebase.onAuth",1,2,arguments.length),F("Firebase.onAuth",1,e,!1),Qb("Firebase.onAuth",2,t),this.k.O.Ib("auth_status",e,t)},X.prototype.onAuth=X.prototype.Jg,X.prototype.Ig=function(e,t){D("Firebase.offAuth",1,2,arguments.length),F("Firebase.offAuth",1,e,!1),Qb("Firebase.offAuth",2,t),this.k.O.mc("auth_status",e,t)},X.prototype.offAuth=X.prototype.Ig,X.prototype.hg=function(e,t,n){D("Firebase.authWithCustomToken",1,3,arguments.length),2===arguments.length&&Hb(t)&&(n=t,t=void 0),pg("Firebase.authWithCustomToken",e),F("Firebase.authWithCustomToken",2,t,!0),sg("Firebase.authWithCustomToken",3,n,!0);var r=new B;return dh(this.k.O,e,{},n||{},C(r,t)),r.D},X.prototype.authWithCustomToken=X.prototype.hg,X.prototype.ig=function(e,t,n){D("Firebase.authWithOAuthPopup",1,3,arguments.length),2===arguments.length&&Hb(t)&&(n=t,t=void 0),rg("Firebase.authWithOAuthPopup",e),F("Firebase.authWithOAuthPopup",2,t,!0),sg("Firebase.authWithOAuthPopup",3,n,!0);var r=new B;return ih(this.k.O,e,n,C(r,t)),r.D},X.prototype.authWithOAuthPopup=X.prototype.ig,X.prototype.jg=function(e,t,n){D("Firebase.authWithOAuthRedirect",1,3,arguments.length),2===arguments.length&&Hb(t)&&(n=t,t=void 0),rg("Firebase.authWithOAuthRedirect",e),F("Firebase.authWithOAuthRedirect",2,t,!1),sg("Firebase.authWithOAuthRedirect",3,n,!0);var r=new B,i=this.k.O,o=n,a=C(r,t);gh(i);var s=[Qg];o=Ag(o);return"anonymous"===e||"firebase"===e?T(a,Sg("TRANSPORT_UNAVAILABLE")):(cd.set("redirect_client_options",o.qd),hh(i,s,"/auth/"+e,o,a)),r.D},X.prototype.authWithOAuthRedirect=X.prototype.jg,X.prototype.kg=function(e,t,n,r){D("Firebase.authWithOAuthToken",2,4,arguments.length),3===arguments.length&&Hb(n)&&(r=n,n=void 0),rg("Firebase.authWithOAuthToken",e),F("Firebase.authWithOAuthToken",3,n,!0),sg("Firebase.authWithOAuthToken",4,r,!0);var i=new B;return q(t)?(qg("Firebase.authWithOAuthToken",2,t),fh(this.k.O,e+"/token",{access_token:t},r,C(i,n))):(sg("Firebase.authWithOAuthToken",2,t,!1),fh(this.k.O,e+"/token",t,r,C(i,n))),i.D},X.prototype.authWithOAuthToken=X.prototype.kg,X.prototype.gg=function(e,t){D("Firebase.authAnonymously",0,2,arguments.length),1===arguments.length&&Hb(e)&&(t=e,e=void 0),F("Firebase.authAnonymously",1,e,!0),sg("Firebase.authAnonymously",2,t,!0);var n=new B;return fh(this.k.O,"anonymous",{},t,C(n,e)),n.D},X.prototype.authAnonymously=X.prototype.gg,X.prototype.lg=function(e,t,n){D("Firebase.authWithPassword",1,3,arguments.length),2===arguments.length&&Hb(t)&&(n=t,t=void 0),sg("Firebase.authWithPassword",1,e,!1),tg("Firebase.authWithPassword",e,"email"),tg("Firebase.authWithPassword",e,"password"),F("Firebase.authWithPassword",2,t,!0),sg("Firebase.authWithPassword",3,n,!0);var r=new B;return fh(this.k.O,"password",e,n,C(r,t)),r.D},X.prototype.authWithPassword=X.prototype.lg,X.prototype.ve=function(e,t){D("Firebase.createUser",1,2,arguments.length),sg("Firebase.createUser",1,e,!1),tg("Firebase.createUser",e,"email"),tg("Firebase.createUser",e,"password"),F("Firebase.createUser",2,t,!0);var n=new B;return this.k.O.ve(e,C(n,t)),n.D},X.prototype.createUser=X.prototype.ve,X.prototype.Xe=function(e,t){D("Firebase.removeUser",1,2,arguments.length),sg("Firebase.removeUser",1,e,!1),tg("Firebase.removeUser",e,"email"),tg("Firebase.removeUser",e,"password"),F("Firebase.removeUser",2,t,!0);var n=new B;return this.k.O.Xe(e,C(n,t)),n.D},X.prototype.removeUser=X.prototype.Xe,X.prototype.se=function(e,t){D("Firebase.changePassword",1,2,arguments.length),sg("Firebase.changePassword",1,e,!1),tg("Firebase.changePassword",e,"email"),tg("Firebase.changePassword",e,"oldPassword"),tg("Firebase.changePassword",e,"newPassword"),F("Firebase.changePassword",2,t,!0);var n=new B;return this.k.O.se(e,C(n,t)),n.D},X.prototype.changePassword=X.prototype.se,X.prototype.re=function(e,t){D("Firebase.changeEmail",1,2,arguments.length),sg("Firebase.changeEmail",1,e,!1),tg("Firebase.changeEmail",e,"oldEmail"),tg("Firebase.changeEmail",e,"newEmail"),tg("Firebase.changeEmail",e,"password"),F("Firebase.changeEmail",2,t,!0);var n=new B;return this.k.O.re(e,C(n,t)),n.D},X.prototype.changeEmail=X.prototype.re,X.prototype.Ze=function(e,t){D("Firebase.resetPassword",1,2,arguments.length),sg("Firebase.resetPassword",1,e,!1),tg("Firebase.resetPassword",e,"email"),F("Firebase.resetPassword",2,t,!0);var n=new B;return this.k.O.Ze(e,C(n,t)),n.D},X.prototype.resetPassword=X.prototype.Ze}(),module.exports=Firebase},function(e,t,n){var i=n(2250).vsprintf,r=e.exports,o=function(){};r.setLogMethod=function(e){o=e},r.log=function(){var e=arguments,t="",n=e[0];if(1===e.length)t=n;else if("string"==typeof n||n instanceof String)t=i(n,Array.prototype.slice.call(e,1));else for(var r=0;r<e.length;r++)t+=JSON.stringify(e[r]),r<e.length-1&&(t+="\n");o(t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectionMessage=t.MessageType=void 0;var i,r,o=n(203),a=n(343);function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}t.MessageType=i,(r=i||(t.MessageType=i={}))[r.Text=0]="Text",r[r.Binary=1]="Binary";var u=function(){function e(e,t,n,r){if(this.privBody=null,e===i.Text&&t&&"string"!=typeof t)throw new o.InvalidOperationError("Payload must be a string");if(e===i.Binary&&t&&!(t instanceof ArrayBuffer))throw new o.InvalidOperationError("Payload must be ArrayBuffer");switch(this.privMessageType=e,this.privBody=t,this.privHeaders=n||{},this.privId=r||(0,a.createNoDashGuid)(),this.messageType){case i.Binary:this.privSize=null!==this.binaryBody?this.binaryBody.byteLength:0;break;case i.Text:this.privSize=this.textBody.length}}return function(e,t,n){t&&s(e.prototype,t),n&&s(e,n)}(e,[{key:"messageType",get:function(){return this.privMessageType}},{key:"headers",get:function(){return this.privHeaders}},{key:"body",get:function(){return this.privBody}},{key:"textBody",get:function(){if(this.privMessageType===i.Binary)throw new o.InvalidOperationError("Not supported for binary message");return this.privBody}},{key:"binaryBody",get:function(){if(this.privMessageType===i.Text)throw new o.InvalidOperationError("Not supported for text message");return this.privBody}},{key:"id",get:function(){return this.privId}}]),e}();t.ConnectionMessage=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EventSource=void 0;var i=n(203),o=n(343);function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=function(){function e(e){var r=this;this.privEventListeners={},this.privIsDisposed=!1,this.onEvent=function(e){if(r.isDisposed())throw new i.ObjectDisposedError("EventSource");if(r.metadata)for(var t in r.metadata)t&&e.metadata&&(e.metadata[t]||(e.metadata[t]=r.metadata[t]));for(var n in r.privEventListeners)n&&r.privEventListeners[n]&&r.privEventListeners[n](e)},this.attach=function(e){var t=(0,o.createNoDashGuid)();return r.privEventListeners[t]=e,{detach:function(){delete r.privEventListeners[t]}}},this.attachListener=function(e){return r.attach(e.onEvent)},this.isDisposed=function(){return r.privIsDisposed},this.dispose=function(){r.privEventListeners=null,r.privIsDisposed=!0},this.privMetadata=e}return function(e,t,n){t&&r(e.prototype,t),n&&r(e,n)}(e,[{key:"metadata",get:function(){return this.privMetadata}}]),e}();t.EventSource=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.List=void 0;var c=n(203);t.List=function r(e){var i=this;if(this.privSubscriptionIdCounter=0,this.privAddSubscriptions={},this.privRemoveSubscriptions={},this.privDisposedSubscriptions={},this.privDisposeReason=null,this.get=function(e){return i.throwIfDisposed(),i.privList[e]},this.first=function(){return i.get(0)},this.last=function(){return i.get(i.length()-1)},this.add=function(e){i.throwIfDisposed(),i.insertAt(i.privList.length,e)},this.insertAt=function(e,t){i.throwIfDisposed(),0===e?i.privList.unshift(t):e===i.privList.length?i.privList.push(t):i.privList.splice(e,0,t),i.triggerSubscriptions(i.privAddSubscriptions)},this.removeFirst=function(){return i.throwIfDisposed(),i.removeAt(0)},this.removeLast=function(){return i.throwIfDisposed(),i.removeAt(i.length()-1)},this.removeAt=function(e){return i.throwIfDisposed(),i.remove(e,1)[0]},this.remove=function(e,t){i.throwIfDisposed();var n=i.privList.splice(e,t);return i.triggerSubscriptions(i.privRemoveSubscriptions),n},this.clear=function(){i.throwIfDisposed(),i.remove(0,i.length())},this.length=function(){return i.throwIfDisposed(),i.privList.length},this.onAdded=function(e){i.throwIfDisposed();var t=i.privSubscriptionIdCounter++;return i.privAddSubscriptions[t]=e,{detach:function(){delete i.privAddSubscriptions[t]}}},this.onRemoved=function(e){i.throwIfDisposed();var t=i.privSubscriptionIdCounter++;return i.privRemoveSubscriptions[t]=e,{detach:function(){delete i.privRemoveSubscriptions[t]}}},this.onDisposed=function(e){i.throwIfDisposed();var t=i.privSubscriptionIdCounter++;return i.privDisposedSubscriptions[t]=e,{detach:function(){delete i.privDisposedSubscriptions[t]}}},this.join=function(e){return i.throwIfDisposed(),i.privList.join(e)},this.toArray=function(){var t=Array();return i.privList.forEach(function(e){t.push(e)}),t},this.any=function(e){return i.throwIfDisposed(),e?0<i.where(e).length():0<i.length()},this.all=function(e){return i.throwIfDisposed(),i.where(e).length()===i.length()},this.forEach=function(e){i.throwIfDisposed();for(var t=0;t<i.length();t++)e(i.privList[t],t)},this.select=function(e){i.throwIfDisposed();for(var t=[],n=0;n<i.privList.length;n++)t.push(e(i.privList[n],n));return new r(t)},this.where=function(e){i.throwIfDisposed();for(var t=new r,n=0;n<i.privList.length;n++)e(i.privList[n],n)&&t.add(i.privList[n]);return t},this.orderBy=function(e){i.throwIfDisposed();var t=i.toArray().sort(e);return new r(t)},this.orderByDesc=function(n){return i.throwIfDisposed(),i.orderBy(function(e,t){return n(t,e)})},this.clone=function(){return i.throwIfDisposed(),new r(i.toArray())},this.concat=function(e){return i.throwIfDisposed(),new r(i.privList.concat(e.toArray()))},this.concatArray=function(e){return i.throwIfDisposed(),new r(i.privList.concat(e))},this.isDisposed=function(){return null==i.privList},this.dispose=function(e){i.isDisposed()||(i.privDisposeReason=e,i.privList=null,i.privAddSubscriptions=null,i.privRemoveSubscriptions=null,i.triggerSubscriptions(i.privDisposedSubscriptions))},this.throwIfDisposed=function(){if(i.isDisposed())throw new c.ObjectDisposedError("List",i.privDisposeReason)},this.triggerSubscriptions=function(e){if(e)for(var t in e)t&&e[t]()},this.privList=[],e){var t=!0,n=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(t=(a=s.next()).done);t=!0){var u=a.value;this.privList.push(u)}}catch(e){n=!0,o=e}finally{try{t||null==s.return||s.return()}finally{if(n)throw o}}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Queue=void 0;var i,r,o=n(203),a=n(1227),c=n(839);(r=i||(i={}))[r.Dequeue=0]="Dequeue",r[r.Peek=1]="Peek";t.Queue=function(e){var u=this;this.privPromiseStore=new a.List,this.privIsDrainInProgress=!1,this.privIsDisposing=!1,this.privDisposeReason=null,this.enqueue=function(e){u.throwIfDispose(),u.enqueueFromPromise(c.PromiseHelper.fromResult(e))},this.enqueueFromPromise=function(e){u.throwIfDispose(),u.privPromiseStore.add(e),e.finally(function(){for(;0<u.privPromiseStore.length()&&u.privPromiseStore.first().result().isCompleted;){var e=u.privPromiseStore.removeFirst();e.result().isError||u.privList.add(e.result().result)}})},this.dequeue=function(){u.throwIfDispose();var e=new c.Deferred;return u.privSubscribers&&(u.privSubscribers.add({deferral:e,type:i.Dequeue}),u.drain()),e.promise()},this.peek=function(){u.throwIfDispose();var e=new c.Deferred;return u.privSubscribers&&(u.privSubscribers.add({deferral:e,type:i.Peek}),u.drain()),e.promise()},this.length=function(){return u.throwIfDispose(),u.privList.length()},this.isDisposed=function(){return null==u.privSubscribers},this.drainAndDispose=function(n,e){if(!u.isDisposed()&&!u.privIsDisposing){u.privDisposeReason=e,u.privIsDisposing=!0;var t=u.privSubscribers;if(t){for(;0<t.length();)t.removeFirst().deferral.resolve(void 0);u.privSubscribers===t&&(u.privSubscribers=t)}var r=!0,i=!1,o=void 0;try{for(var a,s=u.privDetachables[Symbol.iterator]();!(r=(a=s.next()).done);r=!0)a.value.detach()}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}if(0<u.privPromiseStore.length()&&n)return c.PromiseHelper.whenAll(u.privPromiseStore.toArray()).continueWith(function(){return u.privSubscribers=null,u.privList.forEach(function(e,t){n(e)}),!(u.privList=null)});u.privSubscribers=null,u.privList=null}return c.PromiseHelper.fromResult(!0)},this.dispose=function(e){u.drainAndDispose(null,e)},this.drain=function(){if(!u.privIsDrainInProgress&&!u.privIsDisposing){u.privIsDrainInProgress=!0;var e=u.privSubscribers,t=u.privList;if(e&&t){for(;0<t.length()&&0<e.length()&&!u.privIsDisposing;){var n=e.removeFirst();if(n.type===i.Peek)n.deferral.resolve(t.first());else{var r=t.removeFirst();n.deferral.resolve(r)}}u.privSubscribers===e&&(u.privSubscribers=e),u.privList===t&&(u.privList=t)}u.privIsDrainInProgress=!1}},this.throwIfDispose=function(){if(u.isDisposed()){if(u.privDisposeReason)throw new o.InvalidOperationError(u.privDisposeReason);throw new o.ObjectDisposedError("Queue")}if(u.privIsDisposing)throw new o.InvalidOperationError("Queue disposing")},this.privList=e||new a.List,this.privDetachables=[],this.privSubscribers=new a.List,this.privDetachables.push(this.privList.onAdded(this.drain))}},function(e,t,n){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.AudioFileWriter=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}n.default=e,t&&t.set(e,n);return n}(n(1892)),i=n(86);function s(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var u=function(){function e(e){var t=this;this.id=function(){return t.privId},this.privFd=r.openSync(e,"w")}var t=e.prototype;return t.write=function(e){i.Contracts.throwIfNullOrUndefined(this.privAudioFormat,"must set format before writing."),void 0!==this.privWriteStream&&this.privWriteStream.write(new Uint8Array(e.slice(0)))},t.close=function(){var e=this;void 0!==this.privFd&&(this.privWriteStream.on("finish",function(){e.privAudioFormat.hasHeader&&(e.privAudioFormat.updateHeader(e.privWriteStream.bytesWritten),r.writeSync(e.privFd,new Int8Array(e.privAudioFormat.header),0,e.privAudioFormat.header.byteLength,0)),r.closeSync(e.privFd),e.privFd=void 0}),this.privWriteStream.end())},function(e,t,n){t&&o(e.prototype,t),n&&o(e,n)}(e,[{key:"format",set:function(e){i.Contracts.throwIfNotUndefined(this.privAudioFormat,"format is already set"),this.privAudioFormat=e;var t=0;this.privAudioFormat.hasHeader&&(t=this.privAudioFormat.header.byteLength),void 0!==this.privFd&&(this.privWriteStream=r.createWriteStream("",{fd:this.privFd,start:t,autoClose:!1}))}}]),e}();t.AudioFileWriter=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PullAudioInputStreamImpl=t.PullAudioInputStream=t.PushAudioInputStreamImpl=t.PushAudioInputStream=t.AudioInputStream=void 0;var i=n(39),o=n(44),a=n(343),s=n(19),r=n(593);function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),e}function l(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}var p=function(){function e(){}return e.createPushStream=function(e){return f.create(e)},e.createPullStream=function(e,t){return h.create(e,t)},e}(),f=function(e){function t(){return e.apply(this,arguments)||this}return l(t,e),t.create=function(e){return new d(e)},t}(t.AudioInputStream=p),d=function(n){function e(e){var t;return(t=n.call(this)||this).onEvent=function(e){t.privEvents.onEvent(e),o.Events.instance.onEvent(e)},t.privFormat=void 0===e?r.AudioStreamFormatImpl.getDefaultInputFormat():e,t.privEvents=new o.EventSource,t.privId=(0,a.createNoDashGuid)(),t.privStream=new o.ChunkedArrayBufferStream(t.privFormat.avgBytesPerSec/10),t}l(e,n);var t=e.prototype;return t.write=function(e){this.privStream.writeStreamChunk({buffer:e,isEnd:!1,timeReceived:Date.now()})},t.close=function(){this.privStream.close()},t.id=function(){return this.privId},t.turnOn=function(){return this.onEvent(new o.AudioSourceInitializingEvent(this.privId)),this.onEvent(new o.AudioSourceReadyEvent(this.privId)),o.PromiseHelper.fromResult(!0)},t.attach=function(t){var n=this;return this.onEvent(new o.AudioStreamNodeAttachingEvent(this.privId,t)),this.turnOn().onSuccessContinueWith(function(e){return n.privStream.getReader()}).onSuccessContinueWith(function(e){return n.onEvent(new o.AudioStreamNodeAttachedEvent(n.privId,t)),{detach:function(){e.close(),n.onEvent(new o.AudioStreamNodeDetachedEvent(n.privId,t)),n.turnOff()},id:function(){return t},read:function(){return e.read()}}})},t.detach=function(e){this.onEvent(new o.AudioStreamNodeDetachedEvent(this.privId,e))},t.turnOff=function(){return o.PromiseHelper.fromResult(!1)},c(e,[{key:"format",get:function(){return o.PromiseHelper.fromResult(this.privFormat)}},{key:"events",get:function(){return this.privEvents}},{key:"deviceInfo",get:function(){return o.PromiseHelper.fromResult({bitspersample:this.privFormat.bitsPerSample,channelcount:this.privFormat.channels,connectivity:i.connectivity.Unknown,manufacturer:"Speech SDK",model:"PushStream",samplerate:this.privFormat.samplesPerSec,type:i.type.Stream})}}]),e}(t.PushAudioInputStream=f);t.PushAudioInputStreamImpl=d;var h=function(e){function t(){return e.call(this)||this}return l(t,e),t.create=function(e,t){return new v(e,t)},t}(p),v=function(r){function e(e,t){var n;return(n=r.call(this)||this).onEvent=function(e){n.privEvents.onEvent(e),o.Events.instance.onEvent(e)},n.privFormat=void 0===t?s.AudioStreamFormat.getDefaultInputFormat():t,n.privEvents=new o.EventSource,n.privId=(0,a.createNoDashGuid)(),n.privCallback=e,n.privIsClosed=!1,n.privBufferSize=n.privFormat.avgBytesPerSec/10,n}l(e,r);var t=e.prototype;return t.close=function(){this.privIsClosed=!0,this.privCallback.close()},t.id=function(){return this.privId},t.turnOn=function(){return this.onEvent(new o.AudioSourceInitializingEvent(this.privId)),this.onEvent(new o.AudioSourceReadyEvent(this.privId)),o.PromiseHelper.fromResult(!0)},t.attach=function(t){var i=this;return this.onEvent(new o.AudioStreamNodeAttachingEvent(this.privId,t)),this.turnOn().onSuccessContinueWith(function(e){return i.onEvent(new o.AudioStreamNodeAttachedEvent(i.privId,t)),{detach:function(){i.privCallback.close(),i.onEvent(new o.AudioStreamNodeDetachedEvent(i.privId,t)),i.turnOff()},id:function(){return t},read:function(){for(var e,t=0;t<i.privBufferSize;){var n=new ArrayBuffer(i.privBufferSize-t),r=i.privCallback.read(n);if(void 0===e)e=n;else new Int8Array(e).set(new Int8Array(n),t);if(0===r)break;t+=r}return o.PromiseHelper.fromResult({buffer:e.slice(0,t),isEnd:i.privIsClosed||0===t,timeReceived:Date.now()})}}})},t.detach=function(e){this.onEvent(new o.AudioStreamNodeDetachedEvent(this.privId,e))},t.turnOff=function(){return o.PromiseHelper.fromResult(!1)},c(e,[{key:"format",get:function(){return o.PromiseHelper.fromResult(this.privFormat)}},{key:"events",get:function(){return this.privEvents}},{key:"deviceInfo",get:function(){return o.PromiseHelper.fromResult({bitspersample:this.privFormat.bitsPerSample,channelcount:this.privFormat.channels,connectivity:i.connectivity.Unknown,manufacturer:"Speech SDK",model:"PullStream",samplerate:this.privFormat.samplesPerSec,type:i.type.Stream})}}]),e}(t.PullAudioInputStream=h);t.PullAudioInputStreamImpl=v},function(e,t,n){"use strict";var r,i;Object.defineProperty(t,"__esModule",{value:!0}),t.SpeechSynthesisOutputFormat=void 0,t.SpeechSynthesisOutputFormat=r,(i=r||(t.SpeechSynthesisOutputFormat=r={}))[i.Raw8Khz8BitMonoMULaw=0]="Raw8Khz8BitMonoMULaw",i[i.Riff16Khz16KbpsMonoSiren=1]="Riff16Khz16KbpsMonoSiren",i[i.Audio16Khz16KbpsMonoSiren=2]="Audio16Khz16KbpsMonoSiren",i[i.Audio16Khz32KBitRateMonoMp3=3]="Audio16Khz32KBitRateMonoMp3",i[i.Audio16Khz128KBitRateMonoMp3=4]="Audio16Khz128KBitRateMonoMp3",i[i.Audio16Khz64KBitRateMonoMp3=5]="Audio16Khz64KBitRateMonoMp3",i[i.Audio24Khz48KBitRateMonoMp3=6]="Audio24Khz48KBitRateMonoMp3",i[i.Audio24Khz96KBitRateMonoMp3=7]="Audio24Khz96KBitRateMonoMp3",i[i.Audio24Khz160KBitRateMonoMp3=8]="Audio24Khz160KBitRateMonoMp3",i[i.Raw16Khz16BitMonoTrueSilk=9]="Raw16Khz16BitMonoTrueSilk",i[i.Riff16Khz16BitMonoPcm=10]="Riff16Khz16BitMonoPcm",i[i.Riff8Khz16BitMonoPcm=11]="Riff8Khz16BitMonoPcm",i[i.Riff24Khz16BitMonoPcm=12]="Riff24Khz16BitMonoPcm",i[i.Riff8Khz8BitMonoMULaw=13]="Riff8Khz8BitMonoMULaw",i[i.Raw16Khz16BitMonoPcm=14]="Raw16Khz16BitMonoPcm",i[i.Raw24Khz16BitMonoPcm=15]="Raw24Khz16BitMonoPcm",i[i.Raw8Khz16BitMonoPcm=16]="Raw8Khz16BitMonoPcm"},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0}),t.TranslationRecognitionResult=void 0;var i=function(l){function e(e,t,n,r,i,o,a,s,u){var c;return(c=l.call(this,t,n,r,i,o,a,s,u)||this).privTranslations=e,c}return function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(e,l),function(e,t,n){t&&r(e.prototype,t),n&&r(e,n)}(e,[{key:"translations",get:function(){return this.privTranslations}}]),e}(n(19).SpeechRecognitionResult);t.TranslationRecognitionResult=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PropertyCollection=void 0;var i=n(19),r=function(){function n(){this.privKeys=[],this.privValues=[]}var e=n.prototype;return e.getProperty=function(e,t){var n;n="string"==typeof e?e:i.PropertyId[e];for(var r=0;r<this.privKeys.length;r++)if(this.privKeys[r]===n)return this.privValues[r];return t},e.setProperty=function(e,t){var n;n="string"==typeof e?e:i.PropertyId[e];for(var r=0;r<this.privKeys.length;r++)if(this.privKeys[r]===n)return void(this.privValues[r]=t);this.privKeys.push(n),this.privValues.push(t)},e.clone=function(){for(var e=new n,t=0;t<this.privKeys.length;t++)e.privKeys.push(this.privKeys[t]),e.privValues.push(this.privValues[t]);return e},n}();t.PropertyCollection=r},function(e,t,n){"use strict";var r,i;Object.defineProperty(t,"__esModule",{value:!0}),t.PropertyId=void 0,t.PropertyId=r,(i=r||(t.PropertyId=r={}))[i.SpeechServiceConnection_Key=0]="SpeechServiceConnection_Key",i[i.SpeechServiceConnection_Endpoint=1]="SpeechServiceConnection_Endpoint",i[i.SpeechServiceConnection_Region=2]="SpeechServiceConnection_Region",i[i.SpeechServiceAuthorization_Token=3]="SpeechServiceAuthorization_Token",i[i.SpeechServiceAuthorization_Type=4]="SpeechServiceAuthorization_Type",i[i.SpeechServiceConnection_EndpointId=5]="SpeechServiceConnection_EndpointId",i[i.SpeechServiceConnection_TranslationToLanguages=6]="SpeechServiceConnection_TranslationToLanguages",i[i.SpeechServiceConnection_TranslationVoice=7]="SpeechServiceConnection_TranslationVoice",i[i.SpeechServiceConnection_TranslationFeatures=8]="SpeechServiceConnection_TranslationFeatures",i[i.SpeechServiceConnection_IntentRegion=9]="SpeechServiceConnection_IntentRegion",i[i.SpeechServiceConnection_ProxyHostName=10]="SpeechServiceConnection_ProxyHostName",i[i.SpeechServiceConnection_ProxyPort=11]="SpeechServiceConnection_ProxyPort",i[i.SpeechServiceConnection_ProxyUserName=12]="SpeechServiceConnection_ProxyUserName",i[i.SpeechServiceConnection_ProxyPassword=13]="SpeechServiceConnection_ProxyPassword",i[i.SpeechServiceConnection_RecoMode=14]="SpeechServiceConnection_RecoMode",i[i.SpeechServiceConnection_RecoLanguage=15]="SpeechServiceConnection_RecoLanguage",i[i.Speech_SessionId=16]="Speech_SessionId",i[i.SpeechServiceConnection_SynthLanguage=17]="SpeechServiceConnection_SynthLanguage",i[i.SpeechServiceConnection_SynthVoice=18]="SpeechServiceConnection_SynthVoice",i[i.SpeechServiceConnection_SynthOutputFormat=19]="SpeechServiceConnection_SynthOutputFormat",i[i.SpeechServiceResponse_RequestDetailedResultTrueFalse=20]="SpeechServiceResponse_RequestDetailedResultTrueFalse",i[i.SpeechServiceResponse_RequestProfanityFilterTrueFalse=21]="SpeechServiceResponse_RequestProfanityFilterTrueFalse",i[i.SpeechServiceResponse_JsonResult=22]="SpeechServiceResponse_JsonResult",i[i.SpeechServiceResponse_JsonErrorDetails=23]="SpeechServiceResponse_JsonErrorDetails",i[i.CancellationDetails_Reason=24]="CancellationDetails_Reason",i[i.CancellationDetails_ReasonText=25]="CancellationDetails_ReasonText",i[i.CancellationDetails_ReasonDetailedText=26]="CancellationDetails_ReasonDetailedText",i[i.LanguageUnderstandingServiceResponse_JsonResult=27]="LanguageUnderstandingServiceResponse_JsonResult",i[i.SpeechServiceConnection_Url=28]="SpeechServiceConnection_Url",i[i.SpeechServiceConnection_InitialSilenceTimeoutMs=29]="SpeechServiceConnection_InitialSilenceTimeoutMs",i[i.SpeechServiceConnection_EndSilenceTimeoutMs=30]="SpeechServiceConnection_EndSilenceTimeoutMs",i[i.SpeechServiceConnection_EnableAudioLogging=31]="SpeechServiceConnection_EnableAudioLogging",i[i.SpeechServiceResponse_ProfanityOption=32]="SpeechServiceResponse_ProfanityOption",i[i.SpeechServiceResponse_PostProcessingOption=33]="SpeechServiceResponse_PostProcessingOption",i[i.SpeechServiceResponse_RequestWordLevelTimestamps=34]="SpeechServiceResponse_RequestWordLevelTimestamps",i[i.SpeechServiceResponse_StablePartialResultThreshold=35]="SpeechServiceResponse_StablePartialResultThreshold",i[i.SpeechServiceResponse_OutputFormatOption=36]="SpeechServiceResponse_OutputFormatOption",i[i.SpeechServiceResponse_TranslationRequestStablePartialResult=37]="SpeechServiceResponse_TranslationRequestStablePartialResult",i[i.Conversation_ApplicationId=38]="Conversation_ApplicationId",i[i.Conversation_DialogType=39]="Conversation_DialogType",i[i.Conversation_Initial_Silence_Timeout=40]="Conversation_Initial_Silence_Timeout",i[i.Conversation_From_Id=41]="Conversation_From_Id",i[i.Conversation_Conversation_Id=42]="Conversation_Conversation_Id",i[i.Conversation_Custom_Voice_Deployment_Ids=43]="Conversation_Custom_Voice_Deployment_Ids",i[i.Conversation_Speech_Activity_Template=44]="Conversation_Speech_Activity_Template",i[i.SpeechServiceConnection_Host=45]="SpeechServiceConnection_Host",i[i.ConversationTranslator_Host=46]="ConversationTranslator_Host",i[i.ConversationTranslator_Name=47]="ConversationTranslator_Name",i[i.ConversationTranslator_CorrelationId=48]="ConversationTranslator_CorrelationId",i[i.ConversationTranslator_Token=49]="ConversationTranslator_Token"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SpeechConnectionFactory=void 0;var f=n(225),d=n(39),h=n(19),r=n(595),v=n(39),g=n(596);var i=function(e){function t(){var p;return(p=e.apply(this,arguments)||this).interactiveRelativeUri="/speech/recognition/interactive/cognitiveservices/v1",p.conversationRelativeUri="/speech/recognition/conversation/cognitiveservices/v1",p.dictationRelativeUri="/speech/recognition/dictation/cognitiveservices/v1",p.create=function(e,t,n){var r=e.parameters.getProperty(h.PropertyId.SpeechServiceConnection_Endpoint,void 0),i=e.parameters.getProperty(h.PropertyId.SpeechServiceConnection_Region,void 0),o=i&&i.toLowerCase().startsWith("china")?".azure.cn":".microsoft.com",a=e.parameters.getProperty(h.PropertyId.SpeechServiceConnection_Host,"wss://"+i+".stt.speech"+o),s={},u=e.parameters.getProperty(h.PropertyId.SpeechServiceConnection_EndpointId,void 0),c=e.parameters.getProperty(h.PropertyId.SpeechServiceConnection_RecoLanguage,void 0);if(u?r&&-1!==r.search(g.QueryParameterNames.DeploymentIdParamName)||(s[g.QueryParameterNames.DeploymentIdParamName]=u):c&&(r&&-1!==r.search(g.QueryParameterNames.LanguageParamName)||(s[g.QueryParameterNames.LanguageParamName]=c)),r&&-1!==r.search(g.QueryParameterNames.FormatParamName)||(s[g.QueryParameterNames.FormatParamName]=e.parameters.getProperty(d.OutputFormatPropertyName,h.OutputFormat[h.OutputFormat.Simple]).toLowerCase()),p.setCommonUrlParams(e,s,r),!r)switch(e.recognitionMode){case v.RecognitionMode.Conversation:r="true"===e.parameters.getProperty(d.ForceDictationPropertyName,"false")?a+p.dictationRelativeUri:a+p.conversationRelativeUri;break;case v.RecognitionMode.Dictation:r=a+p.dictationRelativeUri;break;default:r=a+p.interactiveRelativeUri}var l={};return void 0!==t.token&&""!==t.token&&(l[t.headerName]=t.token),l[g.QueryParameterNames.ConnectionIdHeader]=n,e.parameters.setProperty(h.PropertyId.SpeechServiceConnection_Url,r),new f.WebsocketConnection(r,s,l,new v.WebsocketMessageFormatter,f.ProxyInfo.fromRecognizerConfig(e),n)},p}return function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(t,e),t}(r.ConnectionFactoryBase);t.SpeechConnectionFactory=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectionMessageImpl=t.ConnectionMessage=void 0;var r=n(44),i=n(1233);function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}t.ConnectionMessage=function(){};var a=function(){function e(e){this.privConnectionMessage=e,this.privProperties=new i.PropertyCollection}return e.prototype.toString=function(){return""},function(e,t,n){t&&o(e.prototype,t),n&&o(e,n)}(e,[{key:"path",get:function(){return this.privConnectionMessage.headers[Object.keys(this.privConnectionMessage.headers).find(function(e){return e.toLowerCase()==="path".toLowerCase()})]}},{key:"isTextMessage",get:function(){return this.privConnectionMessage.messageType===r.MessageType.Text}},{key:"isBinaryMessage",get:function(){return this.privConnectionMessage.messageType===r.MessageType.Binary}},{key:"TextMessage",get:function(){return this.privConnectionMessage.textBody}},{key:"binaryMessage",get:function(){return this.privConnectionMessage.binaryBody}},{key:"properties",get:function(){return this.privProperties}}]),e}();t.ConnectionMessageImpl=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Conversation",{enumerable:!0,get:function(){return r.Conversation}}),Object.defineProperty(t,"ConversationExpirationEventArgs",{enumerable:!0,get:function(){return i.ConversationExpirationEventArgs}}),Object.defineProperty(t,"ConversationParticipantsChangedEventArgs",{enumerable:!0,get:function(){return o.ConversationParticipantsChangedEventArgs}}),Object.defineProperty(t,"ConversationTranslationCanceledEventArgs",{enumerable:!0,get:function(){return a.ConversationTranslationCanceledEventArgs}}),Object.defineProperty(t,"ConversationTranslationEventArgs",{enumerable:!0,get:function(){return s.ConversationTranslationEventArgs}}),Object.defineProperty(t,"ConversationTranslationResult",{enumerable:!0,get:function(){return u.ConversationTranslationResult}}),Object.defineProperty(t,"ConversationTranslator",{enumerable:!0,get:function(){return c.ConversationTranslator}}),Object.defineProperty(t,"Participant",{enumerable:!0,get:function(){return l.Participant}}),Object.defineProperty(t,"User",{enumerable:!0,get:function(){return l.User}}),Object.defineProperty(t,"ParticipantChangedReason",{enumerable:!0,get:function(){return p.ParticipantChangedReason}});var r=n(1238),i=n(1937),o=n(1938),a=n(1939),s=n(1940),u=n(1941),c=n(1942),l=n(1943),p=n(1944)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConversationImpl=t.Conversation=void 0;var c=n(39),a=n(86),l=n(19);function o(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var r=function(){function e(){}return e.createConversationAsync=function(e,t,n){a.Contracts.throwIfNullOrUndefined(e,c.ConversationTranslatorConfig.strings.invalidArgs.replace("{arg}","config")),a.Contracts.throwIfNullOrUndefined(e.region,c.ConversationTranslatorConfig.strings.invalidArgs.replace("{arg}","SpeechServiceConnection_Region")),e.subscriptionKey||e.getProperty(l.PropertyId[l.PropertyId.SpeechServiceAuthorization_Token])||a.Contracts.throwIfNullOrUndefined(e.subscriptionKey,c.ConversationTranslatorConfig.strings.invalidArgs.replace("{arg}","SpeechServiceConnection_Key"));var r=new s(e);return r.createConversationAsync(function(){t&&t()},function(e){n&&n(e)}),r},e}(),s=function(r){function e(e){var u;(u=r.call(this)||this).privIsDisposed=!1,u.privIsConnected=!1,u.onConnected=function(e){u.privIsConnected=!0;try{u.privConversationTranslator.sessionStarted&&u.privConversationTranslator.sessionStarted(u.privConversationTranslator,e)}catch(e){}},u.onDisconnected=function(e){u.close(!1);try{u.privConversationTranslator.sessionStopped&&u.privConversationTranslator.sessionStopped(u.privConversationTranslator,e)}catch(e){}},u.onCanceled=function(e,t){u.close(!1);try{u.privConversationTranslator.canceled&&u.privConversationTranslator.canceled(u.privConversationTranslator,t)}catch(t){}},u.onParticipantUpdateCommandReceived=function(e,t){var n,r;try{var i=u.privParticipants.getParticipant(t.id);if(void 0!==i){switch(t.key){case c.ConversationTranslatorCommandTypes.changeNickname:i.displayName=t.value;break;case c.ConversationTranslatorCommandTypes.setUseTTS:i.useTts=t.value;break;case c.ConversationTranslatorCommandTypes.setProfanityFiltering:i.profanity=t.value;break;case c.ConversationTranslatorCommandTypes.setMute:i.isMuted=t.value;break;case c.ConversationTranslatorCommandTypes.setTranslateToLanguages:i.translateToLanguages=t.value}u.privParticipants.addOrUpdateParticipant(i),(null===(n=u.privConversationTranslator)||void 0===n?void 0:n.participantsChanged)&&(null===(r=u.privConversationTranslator)||void 0===r||r.participantsChanged(u.privConversationTranslator,new l.ConversationParticipantsChangedEventArgs(l.ParticipantChangedReason.Updated,[u.toParticipant(i)],t.sessionId)))}}catch(t){}},u.onLockRoomCommandReceived=function(e,t){},u.onMuteAllCommandReceived=function(e,t){var n,r;try{u.privParticipants.participants.forEach(function(e){return e.isMuted=!e.isHost&&t.isMuted}),(null===(n=u.privConversationTranslator)||void 0===n?void 0:n.participantsChanged)&&(null===(r=u.privConversationTranslator)||void 0===r||r.participantsChanged(u.privConversationTranslator,new l.ConversationParticipantsChangedEventArgs(l.ParticipantChangedReason.Updated,u.toParticipants(!1),t.sessionId)))}catch(t){}},u.onParticipantJoinCommandReceived=function(e,t){var n,r;try{var i=u.privParticipants.addOrUpdateParticipant(t.participant);void 0!==i&&(null===(n=u.privConversationTranslator)||void 0===n?void 0:n.participantsChanged)&&(null===(r=u.privConversationTranslator)||void 0===r||r.participantsChanged(u.privConversationTranslator,new l.ConversationParticipantsChangedEventArgs(l.ParticipantChangedReason.JoinedConversation,[u.toParticipant(i)],t.sessionId)))}catch(t){}},u.onParticipantLeaveCommandReceived=function(e,t){var n,r;try{var i=u.privParticipants.getParticipant(t.participant.id);void 0!==i&&(u.privParticipants.deleteParticipant(t.participant.id),(null===(n=u.privConversationTranslator)||void 0===n?void 0:n.participantsChanged)&&(null===(r=u.privConversationTranslator)||void 0===r||r.participantsChanged(u.privConversationTranslator,new l.ConversationParticipantsChangedEventArgs(l.ParticipantChangedReason.LeftConversation,[u.toParticipant(i)],t.sessionId))))}catch(t){}},u.onTranslationReceived=function(e,t){var n,r,i,o,a,s;try{switch(t.command){case c.ConversationTranslatorMessageTypes.final:(null===(n=u.privConversationTranslator)||void 0===n?void 0:n.transcribed)&&(null===(r=u.privConversationTranslator)||void 0===r||r.transcribed(u.privConversationTranslator,new l.ConversationTranslationEventArgs(t.payload,void 0,t.sessionId)));break;case c.ConversationTranslatorMessageTypes.partial:(null===(i=u.privConversationTranslator)||void 0===i?void 0:i.transcribing)&&(null===(o=u.privConversationTranslator)||void 0===o||o.transcribing(u.privConversationTranslator,new l.ConversationTranslationEventArgs(t.payload,void 0,t.sessionId)));break;case c.ConversationTranslatorMessageTypes.instantMessage:(null===(a=u.privConversationTranslator)||void 0===a?void 0:a.textMessageReceived)&&(null===(s=u.privConversationTranslator)||void 0===s||s.textMessageReceived(u.privConversationTranslator,new l.ConversationTranslationEventArgs(t.payload,void 0,t.sessionId)))}}catch(t){}},u.onParticipantsListReceived=function(e,t){var n,r;try{if(void 0!==t.sessionToken&&null!==t.sessionToken&&(u.privRoom.token=t.sessionToken),u.privParticipants.participants=o(t.participants),void 0!==u.privParticipants.me&&(u.privIsReady=!0),(null===(n=u.privConversationTranslator)||void 0===n?void 0:n.participantsChanged)&&(null===(r=u.privConversationTranslator)||void 0===r||r.participantsChanged(u.privConversationTranslator,new l.ConversationParticipantsChangedEventArgs(l.ParticipantChangedReason.JoinedConversation,u.toParticipants(!0),t.sessionId))),u.me.isHost){var i=u.privConversationTranslator.properties.getProperty(l.PropertyId.ConversationTranslator_Name);void 0!==i&&0<i.length&&i!==u.me.displayName&&u.changeNicknameAsync(i)}}catch(t){}},u.onConversationExpiration=function(e,t){var n,r;try{(null===(n=u.privConversationTranslator)||void 0===n?void 0:n.conversationExpiration)&&(null===(r=u.privConversationTranslator)||void 0===r||r.conversationExpiration(u.privConversationTranslator,t))}catch(t){}},u.privProperties=new l.PropertyCollection,u.privManager=new c.ConversationManager,e.getProperty(l.PropertyId[l.PropertyId.SpeechServiceConnection_RecoLanguage])||e.setProperty(l.PropertyId[l.PropertyId.SpeechServiceConnection_RecoLanguage],c.ConversationTranslatorConfig.defaultLanguageCode),u.privLanguage=e.getProperty(l.PropertyId[l.PropertyId.SpeechServiceConnection_RecoLanguage]),0===e.targetLanguages.length&&e.addTargetLanguage(u.privLanguage),e.getProperty(l.PropertyId[l.PropertyId.SpeechServiceResponse_ProfanityOption])||e.setProfanity(l.ProfanityOption.Masked);var t=e.getProperty(l.PropertyId[l.PropertyId.ConversationTranslator_Name]);(null==t||t.length<=1||50<t.length)&&(t="Host"),e.setProperty(l.PropertyId[l.PropertyId.ConversationTranslator_Name],t);var n=u.privConfig=e;return a.Contracts.throwIfNull(n,"speechConfig"),u.privProperties=n.properties.clone(),u.privIsConnected=!1,u.privParticipants=new c.InternalParticipants,u.privIsReady=!1,u}!function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(e,r);var t=e.prototype;return t.createConversationAsync=function(t,n){var r=this;try{this.privConversationRecognizer&&this.handleError(new Error(c.ConversationTranslatorConfig.strings.permissionDeniedStart),n),this.privManager.createOrJoin(this.privProperties,void 0,function(e){e||r.handleError(new Error(c.ConversationTranslatorConfig.strings.permissionDeniedConnect),n),r.privRoom=e,r.handleCallback(t,n)},function(e){r.handleError(e,n)})}catch(e){this.handleError(e,n)}},t.startConversationAsync=function(e,t){var n=this;try{this.privConversationRecognizer&&this.handleError(new Error(c.ConversationTranslatorConfig.strings.permissionDeniedStart),t),a.Contracts.throwIfNullOrUndefined(this.privRoom,c.ConversationTranslatorConfig.strings.permissionDeniedConnect),this.privParticipants.meId=this.privRoom.participantId,this.privConversationRecognizer=new c.ConversationTranslatorRecognizer(this.privConfig),this.privConversationRecognizer.conversation=this.privRoom,this.privConversationRecognizerConnection=l.Connection.fromRecognizer(this.privConversationRecognizer),this.privConversationRecognizerConnection.connected=this.onConnected,this.privConversationRecognizerConnection.disconnected=this.onDisconnected,this.privConversationRecognizer.canceled=this.onCanceled,this.privConversationRecognizer.participantUpdateCommandReceived=this.onParticipantUpdateCommandReceived,this.privConversationRecognizer.lockRoomCommandReceived=this.onLockRoomCommandReceived,this.privConversationRecognizer.muteAllCommandReceived=this.onMuteAllCommandReceived,this.privConversationRecognizer.participantJoinCommandReceived=this.onParticipantJoinCommandReceived,this.privConversationRecognizer.participantLeaveCommandReceived=this.onParticipantLeaveCommandReceived,this.privConversationRecognizer.translationReceived=this.onTranslationReceived,this.privConversationRecognizer.participantsListReceived=this.onParticipantsListReceived,this.privConversationRecognizer.conversationExpiration=this.onConversationExpiration,this.privConversationRecognizer.connect(this.privRoom.token,function(){n.handleCallback(e,t)},function(e){n.handleError(e,t)})}catch(e){this.handleError(e,t)}},t.joinConversationAsync=function(e,t,n,r,i){var o=this;try{a.Contracts.throwIfNullOrWhitespace(e,c.ConversationTranslatorConfig.strings.invalidArgs.replace("{arg}","conversationId")),a.Contracts.throwIfNullOrWhitespace(t,c.ConversationTranslatorConfig.strings.invalidArgs.replace("{arg}","nickname")),a.Contracts.throwIfNullOrWhitespace(n,c.ConversationTranslatorConfig.strings.invalidArgs.replace("{arg}","language")),this.privManager.createOrJoin(this.privProperties,e,function(e){a.Contracts.throwIfNullOrUndefined(e,c.ConversationTranslatorConfig.strings.permissionDeniedConnect),o.privRoom=e,o.privConfig.authorizationToken=e.cognitiveSpeechAuthToken,r&&r(e.cognitiveSpeechAuthToken)},function(e){o.handleError(e,i)})}catch(e){this.handleError(e,i)}},t.deleteConversationAsync=function(e,t){var n=this;try{a.Contracts.throwIfNullOrUndefined(this.privProperties,c.ConversationTranslatorConfig.strings.permissionDeniedConnect),a.Contracts.throwIfNullOrWhitespace(this.privRoom.token,c.ConversationTranslatorConfig.strings.permissionDeniedConnect),this.privManager.leave(this.privProperties,this.privRoom.token,function(){n.handleCallback(e,t)},function(e){n.handleError(e,t)}),this.dispose()}catch(e){this.handleError(e,t)}},t.endConversationAsync=function(e,t){try{this.close(!0),this.handleCallback(e,t)}catch(e){this.handleError(e,t)}},t.lockConversationAsync=function(e,t){var n,r=this;try{a.Contracts.throwIfDisposed(this.privIsDisposed),a.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),a.Contracts.throwIfNullOrUndefined(this.privRoom,c.ConversationTranslatorConfig.strings.permissionDeniedSend),this.canSendAsHost||this.handleError(new Error(c.ConversationTranslatorConfig.strings.permissionDeniedConversation.replace("{command}","lock")),t),null===(n=this.privConversationRecognizer)||void 0===n||n.sendLockRequest(!0,function(){r.handleCallback(e,t)},function(e){r.handleError(e,t)})}catch(e){this.handleError(e,t)}},t.muteAllParticipantsAsync=function(e,t){var n,r=this;try{a.Contracts.throwIfDisposed(this.privIsDisposed),a.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),a.Contracts.throwIfNullOrUndefined(this.privConversationRecognizer,c.ConversationTranslatorConfig.strings.permissionDeniedSend),a.Contracts.throwIfNullOrUndefined(this.privRoom,c.ConversationTranslatorConfig.strings.permissionDeniedSend),this.canSendAsHost||this.handleError(new Error(c.ConversationTranslatorConfig.strings.permissionDeniedConversation.replace("{command}","mute")),t),null===(n=this.privConversationRecognizer)||void 0===n||n.sendMuteAllRequest(!0,function(){r.handleCallback(e,t)},function(e){r.handleError(e,t)})}catch(e){this.handleError(e,t)}},t.muteParticipantAsync=function(e,t,n){var r,i=this;try{a.Contracts.throwIfDisposed(this.privIsDisposed),a.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),a.Contracts.throwIfNullOrWhitespace(e,c.ConversationTranslatorConfig.strings.invalidArgs.replace("{arg}","userId")),a.Contracts.throwIfNullOrUndefined(this.privRoom,c.ConversationTranslatorConfig.strings.permissionDeniedSend),this.canSend||this.handleError(new Error(c.ConversationTranslatorConfig.strings.permissionDeniedSend),n),this.me.isHost||this.me.id===e||this.handleError(new Error(c.ConversationTranslatorConfig.strings.permissionDeniedParticipant.replace("{command}","mute")),n),-1===this.privParticipants.getParticipantIndex(e)&&this.handleError(new Error(c.ConversationTranslatorConfig.strings.invalidParticipantRequest),n),null===(r=this.privConversationRecognizer)||void 0===r||r.sendMuteRequest(e,!0,function(){i.handleCallback(t,n)},function(e){i.handleError(e,n)})}catch(e){this.handleError(e,n)}},t.removeParticipantAsync=function(e,t,n){var r,i=this;try{a.Contracts.throwIfDisposed(this.privIsDisposed),a.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),a.Contracts.throwIfNullOrUndefined(this.privRoom,c.ConversationTranslatorConfig.strings.permissionDeniedSend),this.canSendAsHost||this.handleError(new Error(c.ConversationTranslatorConfig.strings.permissionDeniedParticipant.replace("{command}","remove")),n);var o="";if("string"==typeof e)o=e;else if(e.hasOwnProperty("id")){o=e.id}else if(e.hasOwnProperty("userId")){o=e.userId}a.Contracts.throwIfNullOrWhitespace(o,c.ConversationTranslatorConfig.strings.invalidArgs.replace("{arg}","userId")),-1===this.participants.findIndex(function(e){return e.id===o})&&this.handleError(new Error(c.ConversationTranslatorConfig.strings.invalidParticipantRequest),n),null===(r=this.privConversationRecognizer)||void 0===r||r.sendEjectRequest(o,function(){i.handleCallback(t,n)},function(e){i.handleError(e,n)})}catch(e){this.handleError(e,n)}},t.unlockConversationAsync=function(e,t){var n,r=this;try{a.Contracts.throwIfDisposed(this.privIsDisposed),a.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),a.Contracts.throwIfNullOrUndefined(this.privRoom,c.ConversationTranslatorConfig.strings.permissionDeniedSend),this.canSendAsHost||this.handleError(new Error(c.ConversationTranslatorConfig.strings.permissionDeniedConversation.replace("{command}","unlock")),t),null===(n=this.privConversationRecognizer)||void 0===n||n.sendLockRequest(!1,function(){r.handleCallback(e,t)},function(e){r.handleError(e,t)})}catch(e){this.handleError(e,t)}},t.unmuteAllParticipantsAsync=function(e,t){var n,r=this;try{a.Contracts.throwIfDisposed(this.privIsDisposed),a.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),a.Contracts.throwIfNullOrUndefined(this.privRoom,c.ConversationTranslatorConfig.strings.permissionDeniedSend),this.canSendAsHost||this.handleError(new Error(c.ConversationTranslatorConfig.strings.permissionDeniedConversation.replace("{command}","unmute all")),t),null===(n=this.privConversationRecognizer)||void 0===n||n.sendMuteAllRequest(!1,function(){r.handleCallback(e,t)},function(e){r.handleError(e,t)})}catch(e){this.handleError(e,t)}},t.unmuteParticipantAsync=function(e,t,n){var r,i=this;try{a.Contracts.throwIfDisposed(this.privIsDisposed),a.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),a.Contracts.throwIfNullOrWhitespace(e,c.ConversationTranslatorConfig.strings.invalidArgs.replace("{arg}","userId")),a.Contracts.throwIfNullOrUndefined(this.privRoom,c.ConversationTranslatorConfig.strings.permissionDeniedSend),this.canSend||this.handleError(new Error(c.ConversationTranslatorConfig.strings.permissionDeniedSend),n),this.me.isHost||this.me.id===e||this.handleError(new Error(c.ConversationTranslatorConfig.strings.permissionDeniedParticipant.replace("{command}","mute")),n),-1===this.privParticipants.getParticipantIndex(e)&&this.handleError(new Error(c.ConversationTranslatorConfig.strings.invalidParticipantRequest),n),null===(r=this.privConversationRecognizer)||void 0===r||r.sendMuteRequest(e,!1,function(){i.handleCallback(t,n)},function(e){i.handleError(e,n)})}catch(e){this.handleError(e,n)}},t.sendTextMessageAsync=function(e,t,n){var r,i=this;try{a.Contracts.throwIfDisposed(this.privIsDisposed),a.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),a.Contracts.throwIfNullOrWhitespace(e,c.ConversationTranslatorConfig.strings.invalidArgs.replace("{arg}","message")),a.Contracts.throwIfNullOrUndefined(this.privRoom,c.ConversationTranslatorConfig.strings.permissionDeniedSend),this.canSend||this.handleError(new Error(c.ConversationTranslatorConfig.strings.permissionDeniedSend),n),e.length>c.ConversationTranslatorConfig.textMessageMaxLength&&this.handleError(new Error(c.ConversationTranslatorConfig.strings.invalidArgs.replace("{arg}","message length")),n),null===(r=this.privConversationRecognizer)||void 0===r||r.sendMessageRequest(e,function(){i.handleCallback(t,n)},function(e){i.handleError(e,n)})}catch(e){this.handleError(e,n)}},t.changeNicknameAsync=function(e,t,n){var r,i=this;try{a.Contracts.throwIfDisposed(this.privIsDisposed),a.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),a.Contracts.throwIfNullOrWhitespace(e,c.ConversationTranslatorConfig.strings.invalidArgs.replace("{arg}","nickname")),a.Contracts.throwIfNullOrUndefined(this.privRoom,c.ConversationTranslatorConfig.strings.permissionDeniedSend),this.canSend||this.handleError(new Error(c.ConversationTranslatorConfig.strings.permissionDeniedSend),n),null===(r=this.privConversationRecognizer)||void 0===r||r.sendChangeNicknameRequest(e,function(){i.handleCallback(t,n)},function(e){i.handleError(e,n)})}catch(e){this.handleError(e,n)}},t.isDisposed=function(){return this.privIsDisposed},t.dispose=function(e){var t;this.isDisposed||(this.privIsDisposed=!0,null===(t=this.config)||void 0===t||t.close(),this.privConversationRecognizerConnection&&(this.privConversationRecognizerConnection.closeConnection(),this.privConversationRecognizerConnection.close(),this.privConversationRecognizerConnection=void 0),this.privConfig=void 0,this.privLanguage=void 0,this.privProperties=void 0,this.privRoom=void 0,this.privToken=void 0,this.privManager=void 0,this.privConversationRecognizer=void 0,this.privIsConnected=!1,this.privIsReady=!1,this.privParticipants=void 0,this.privRoom=void 0)},t.close=function(e){var t,n,r;try{this.privIsConnected=!1,null===(t=this.privConversationRecognizerConnection)||void 0===t||t.closeConnection(),null===(n=this.privConversationRecognizerConnection)||void 0===n||n.close(),this.privConversationRecognizer.close(),this.privConversationRecognizerConnection=void 0,this.privConversationRecognizer=void 0,null===(r=this.privConversationTranslator)||void 0===r||r.dispose()}catch(e){}e&&this.dispose()},t.handleCallback=function(e,t){if(e){try{e()}catch(e){t&&t(e)}e=void 0}},t.handleError=function(e,t){if(t)if(e instanceof Error){var n=e;t(n.name+": "+n.message)}else t(e)},t.toParticipants=function(e){var t=this,n=this.privParticipants.participants.map(function(e){return t.toParticipant(e)});return e?n:n.filter(function(e){return!1===e.isHost})},t.toParticipant=function(e){return new l.Participant(e.id,e.avatar,e.displayName,e.isHost,e.isMuted,e.isUsingTts,e.preferredLanguage)},function(e,t,n){t&&i(e.prototype,t),n&&i(e,n)}(e,[{key:"conversationTranslator",set:function(e){this.privConversationTranslator=e}},{key:"room",get:function(){return this.privRoom}},{key:"connection",get:function(){return this.privConversationRecognizer}},{key:"authorizationToken",get:function(){return this.privToken},set:function(e){a.Contracts.throwIfNullOrWhitespace(e,"authorizationToken"),this.privToken=e}},{key:"config",get:function(){return this.privConfig}},{key:"conversationId",get:function(){return this.privRoom?this.privRoom.roomId:""}},{key:"properties",get:function(){return this.privProperties}},{key:"speechRecognitionLanguage",get:function(){return this.privLanguage}},{key:"isMutedByHost",get:function(){var e,t;return(null===(e=this.privParticipants.me)||void 0===e||!e.isHost)&&(null===(t=this.privParticipants.me)||void 0===t?void 0:t.isMuted)}},{key:"isConnected",get:function(){return this.privIsConnected&&this.privIsReady}},{key:"participants",get:function(){return this.toParticipants(!0)}},{key:"me",get:function(){return this.toParticipant(this.privParticipants.me)}},{key:"host",get:function(){return this.toParticipant(this.privParticipants.host)}},{key:"canSend",get:function(){var e;return this.privIsConnected&&!(null===(e=this.privParticipants.me)||void 0===e?void 0:e.isMuted)}},{key:"canSendAsHost",get:function(){var e;return this.privIsConnected&&(null===(e=this.privParticipants.me)||void 0===e?void 0:e.isHost)}}]),e}(t.Conversation=r);t.ConversationImpl=s},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0}),t.MessageDataStreamType=t.ActivityPayloadResponse=void 0;var i,o,a=function(){function t(e){this.privActivityResponse=JSON.parse(e)}return t.fromJSON=function(e){return new t(e)},function(e,t,n){t&&r(e.prototype,t),n&&r(e,n)}(t,[{key:"conversationId",get:function(){return this.privActivityResponse.conversationId}},{key:"messageDataStreamType",get:function(){return this.privActivityResponse.messageDataStreamType}},{key:"messagePayload",get:function(){return this.privActivityResponse.messagePayload}},{key:"version",get:function(){return this.privActivityResponse.version}}]),t}();t.ActivityPayloadResponse=a,t.MessageDataStreamType=i,(o=i||(t.MessageDataStreamType=i={}))[o.None=0]="None",o[o.TextToSpeechAudio=1]="TextToSpeechAudio"},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0}),t.ConversationConnectionMessage=void 0;var i=function(a){function e(e,t,n,r){var i;i=a.call(this,e,t,n,r)||this;var o=JSON.parse(i.textBody);return void 0!==o.type&&(i.privConversationMessageType=o.type),i}return function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(e,a),function(e,t,n){t&&r(e.prototype,t),n&&r(e,n)}(e,[{key:"conversationMessageType",get:function(){return this.privConversationMessageType}}]),e}(n(44).ConnectionMessage);t.ConversationConnectionMessage=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConversationReceivedTranslationEventArgs=t.ParticipantsListEventArgs=t.ParticipantAttributeEventArgs=t.ParticipantEventArgs=t.LockRoomEventArgs=t.MuteAllEventArgs=void 0;var r=n(19);function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}function s(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}var o=function(r){function e(e,t){var n;return(n=r.call(this,t)||this).privIsMuted=e,n}return s(e,r),a(e,[{key:"isMuted",get:function(){return this.privIsMuted}}]),e}(r.SessionEventArgs);t.MuteAllEventArgs=o;var u=function(r){function e(e,t){var n;return(n=r.call(this,t)||this).privIsLocked=e,n}return s(e,r),a(e,[{key:"isMuted",get:function(){return this.privIsLocked}}]),e}(r.SessionEventArgs);t.LockRoomEventArgs=u;var c=function(r){function e(e,t){var n;return(n=r.call(this,t)||this).privParticipant=e,n}return s(e,r),a(e,[{key:"participant",get:function(){return this.privParticipant}}]),e}(r.SessionEventArgs);t.ParticipantEventArgs=c;var l=function(o){function e(e,t,n,r){var i;return(i=o.call(this,r)||this).privKey=t,i.privValue=n,i.privParticipantId=e,i}return s(e,o),a(e,[{key:"value",get:function(){return this.privValue}},{key:"key",get:function(){return this.privKey}},{key:"id",get:function(){return this.privParticipantId}}]),e}(r.SessionEventArgs);t.ParticipantAttributeEventArgs=l;var p=function(l){function e(e,t,n,r,i,o,a,s,u){var c;return(c=l.call(this,u)||this).privRoomId=e,c.privSessionToken=t,c.privTranslateTo=n,c.privProfanityFilter=r,c.privRoomProfanityFilter=i,c.privIsRoomLocked=o,c.privIsRoomLocked=a,c.privParticipants=s,c}return s(e,l),a(e,[{key:"sessionToken",get:function(){return this.privSessionToken}},{key:"conversationId",get:function(){return this.privRoomId}},{key:"translateTo",get:function(){return this.privTranslateTo}},{key:"profanityFilter",get:function(){return this.privProfanityFilter}},{key:"roomProfanityFilter",get:function(){return this.privRoomProfanityFilter}},{key:"isRoomLocked",get:function(){return this.privIsRoomLocked}},{key:"isMuteAll",get:function(){return this.privIsMuteAll}},{key:"participants",get:function(){return this.privParticipants}}]),e}(r.SessionEventArgs);t.ParticipantsListEventArgs=p;var f=function(){function e(e,t,n){this.privPayload=t,this.privCommand=e,this.privSessionId=n}return a(e,[{key:"payload",get:function(){return this.privPayload}},{key:"command",get:function(){return this.privCommand}},{key:"sessionId",get:function(){return this.privSessionId}}]),e}();t.ConversationReceivedTranslationEventArgs=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SynthesisAdapterBase=void 0;var v=n(44),g=n(19),m=n(39),y=n(844);function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=function(){function h(e,t,n,r,i){var d=this;if(this.speakOverride=void 0,this.receiveMessageOverride=void 0,this.connectImplOverride=void 0,this.configConnectionOverride=void 0,this.fetchConnectionOverride=void 0,this.receiveMessage=function(){return d.fetchConnection().on(function(e){return e.read().onSuccessContinueWithPromise(function(e){if(void 0!==d.receiveMessageOverride)return d.receiveMessageOverride();if(d.privIsDisposed)return v.PromiseHelper.fromResult(void 0);if(!e)return d.privSynthesisTurn.isSynthesizing?d.receiveMessage():v.PromiseHelper.fromResult(!0);d.privServiceHasSentMessage=!0;var t=y.SpeechConnectionMessage.fromConnectionMessage(e);if(t.requestId.toLowerCase()===d.privSynthesisTurn.requestId.toLowerCase())switch(t.path.toLowerCase()){case"turn.start":d.privSynthesisTurn.onServiceTurnStartResponse();break;case"response":d.privSynthesisTurn.onServiceResponseMessage(t.textBody);break;case"audio":if(d.privSynthesisTurn.streamId.toLowerCase()===t.streamId.toLowerCase()&&t.binaryBody){if(d.privSynthesisTurn.onAudioChunkReceived(t.binaryBody),d.privSpeechSynthesizer.synthesizing)try{var n=h.addHeader(t.binaryBody,d.privSynthesisTurn.audioOutputFormat),r=new g.SpeechSynthesisEventArgs(new g.SpeechSynthesisResult(d.privSynthesisTurn.requestId,g.ResultReason.SynthesizingAudio,n));d.privSpeechSynthesizer.synthesizing(d.privSpeechSynthesizer,r)}catch(e){}void 0!==d.privSessionAudioDestination&&d.privSessionAudioDestination.write(t.binaryBody)}break;case"audio.metadata":var i=m.SynthesisAudioMetadata.fromJSON(t.textBody).Metadata,o=!0,a=!1,s=void 0;try{for(var u,c=i[Symbol.iterator]();!(o=(u=c.next()).done);o=!0){var l=u.value;if(l.Type.toLowerCase()==="WordBoundary".toLowerCase()){d.privSynthesisTurn.onWordBoundaryEvent(l.Data.text.Text);var p=new g.SpeechSynthesisWordBoundaryEventArgs(l.Data.Offset,l.Data.text.Text,l.Data.text.Length,d.privSynthesisTurn.currentTextOffset);if(d.privSpeechSynthesizer.wordBoundary)try{d.privSpeechSynthesizer.wordBoundary(d.privSpeechSynthesizer,p)}catch(e){}}}}catch(e){a=!0,s=e}finally{try{o||null==c.return||c.return()}finally{if(a)throw s}}break;case"turn.end":var f;d.privSynthesisTurn.onServiceTurnEndResponse();try{f=new g.SpeechSynthesisResult(d.privSynthesisTurn.requestId,g.ResultReason.SynthesizingAudioCompleted,d.privSynthesisTurn.allReceivedAudioWithHeader),d.privSuccessCallback&&d.privSuccessCallback(f)}catch(e){d.privErrorCallback&&d.privErrorCallback(e)}if(d.privSpeechSynthesizer.synthesisCompleted)try{d.privSpeechSynthesizer.synthesisCompleted(d.privSpeechSynthesizer,new g.SpeechSynthesisEventArgs(f))}catch(e){}break;default:d.processTypeSpecificMessages(t)||d.privServiceEvents&&d.serviceEvents.onEvent(new v.ServiceEvent(t.path.toLowerCase(),t.textBody))}return d.receiveMessage()})},function(e){})},this.sendSynthesisContext=function(e){var t=JSON.stringify(d.buildSynthesisContext());return t?e.send(new y.SpeechConnectionMessage(v.MessageType.Text,"synthesis.context",d.privSynthesisTurn.requestId,"application/json",t)):v.PromiseHelper.fromResult(!0)},this.sendSpeechServiceConfig=function(e,t){return t?e.send(new y.SpeechConnectionMessage(v.MessageType.Text,"speech.config",d.privSynthesisTurn.requestId,"application/json",t)):v.PromiseHelper.fromResult(!0)},this.sendSsmlMessage=function(e,t,n){return e.send(new y.SpeechConnectionMessage(v.MessageType.Text,"ssml",n,"application/ssml+xml",t))},this.fetchConnection=function(){return void 0!==d.fetchConnectionOverride?d.fetchConnectionOverride():d.configureConnection()},!e)throw new v.ArgumentNullError("authentication");if(!t)throw new v.ArgumentNullError("connectionFactory");if(!n)throw new v.ArgumentNullError("synthesizerConfig");this.privAuthentication=e,this.privConnectionFactory=t,this.privSynthesizerConfig=n,this.privIsDisposed=!1,this.privSpeechSynthesizer=r,this.privSessionAudioDestination=i,this.privSynthesisTurn=new m.SynthesisTurn,this.privConnectionEvents=new v.EventSource,this.privServiceEvents=new v.EventSource,this.privDynamicGrammar=new m.DynamicGrammarBuilder,this.privSpeechContext=new m.SpeechContext(this.privDynamicGrammar),this.privAgentConfig=new m.AgentConfig,this.connectionEvents.attach(function(e){if("ConnectionClosedEvent"===e.name){var t=e;d.cancelSynthesisLocal(g.CancellationReason.Error,1007===t.statusCode?g.CancellationErrorCode.BadRequestParameters:g.CancellationErrorCode.ConnectionFailure,t.reason+" websocket error code: "+t.statusCode)}})}h.addHeader=function(e,t){if(!t.hasHeader)return e;t.updateHeader(e.byteLength);var n=new Uint8Array(e.byteLength+t.header.byteLength);return n.set(new Uint8Array(t.header),0),n.set(new Uint8Array(e),t.header.byteLength),n.buffer};var e=h.prototype;return e.isDisposed=function(){return this.privIsDisposed},e.dispose=function(t){this.privIsDisposed=!0,void 0!==this.privSessionAudioDestination&&this.privSessionAudioDestination.close(),this.privConnectionConfigurationPromise&&this.privConnectionConfigurationPromise.onSuccessContinueWith(function(e){e.dispose(t)})},e.connect=function(){this.connectImpl().result()},e.connectAsync=function(t,n){this.connectImpl().continueWith(function(e){try{e.isError?n&&n(e.error):e.isCompleted&&t&&t()}catch(e){n&&n(e)}})},e.Speak=function(e,t,n,r,i,o){var a,s=this;return a=t?e:g.SpeechSynthesizer.buildSsml(e,this.privSynthesizerConfig.parameters),void 0!==this.speakOverride?this.speakOverride(a,n,r,i):(this.privSuccessCallback=r,this.privErrorCallback=i,this.privSynthesisTurn.startNewSynthesis(n,e,t,o),this.fetchConnection().continueWithPromise(function(t){return t.isError?(s.cancelSynthesisLocal(g.CancellationReason.Error,g.CancellationErrorCode.ConnectionFailure,t.error),v.PromiseHelper.fromError(t.error)):s.sendSynthesisContext(t.result).continueWithPromise(function(e){return e.isError?(s.cancelSynthesisLocal(g.CancellationReason.Error,g.CancellationErrorCode.ConnectionFailure,e.error),v.PromiseHelper.fromError(e.error)):s.sendSsmlMessage(t.result,a,n).continueWithPromise(function(e){if(e.isError)return s.cancelSynthesisLocal(g.CancellationReason.Error,g.CancellationErrorCode.ConnectionFailure,e.error),v.PromiseHelper.fromError(e.error);var t=new g.SpeechSynthesisEventArgs(new g.SpeechSynthesisResult(n,g.ResultReason.SynthesizingAudioStarted));s.privSpeechSynthesizer.synthesisStarted&&s.privSpeechSynthesizer.synthesisStarted(s.privSpeechSynthesizer,t);s.receiveMessage();return v.PromiseHelper.fromResult(!0)})})}))},e.cancelSynthesis=function(e,t,n,r){var i=new g.PropertyCollection;i.setProperty(m.CancellationErrorCodePropertyName,g.CancellationErrorCode[n]);var o=new g.SpeechSynthesisResult(e,g.ResultReason.Canceled,void 0,r,i);if(this.privSpeechSynthesizer.SynthesisCanceled){var a=new g.SpeechSynthesisEventArgs(o);try{this.privSpeechSynthesizer.SynthesisCanceled(this.privSpeechSynthesizer,a)}catch(e){}}if(this.privSuccessCallback)try{this.privSuccessCallback(o),this.privSuccessCallback=void 0}catch(e){}},e.cancelSynthesisLocal=function(e,t,n){this.privSynthesisTurn.isSynthesizing&&(this.privSynthesisTurn.onStopSynthesizing(),this.cancelSynthesis(this.privSynthesisTurn.requestId,e,t,n))},e.processTypeSpecificMessages=function(e,t,n){return!0},e.connectImpl=function(){var n=this,r=0<arguments.length&&void 0!==arguments[0]&&arguments[0];if(void 0!==this.connectImplOverride)return this.connectImplOverride(r);if(this.privConnectionPromise)return this.privConnectionPromise.result().isCompleted&&(this.privConnectionPromise.result().isError||this.privConnectionPromise.result().result.state()===v.ConnectionState.Disconnected)&&!0===this.privServiceHasSentMessage?(this.privConnectionId=null,this.privConnectionPromise=null,this.privServiceHasSentMessage=!1,this.connectImpl()):this.privConnectionPromise;this.privAuthFetchEventId=(0,v.createNoDashGuid)(),this.privConnectionId=(0,v.createNoDashGuid)(),this.privSynthesisTurn.onPreConnectionStart(this.privAuthFetchEventId,this.privConnectionId);var e=r?this.privAuthentication.fetchOnExpiry(this.privAuthFetchEventId):this.privAuthentication.fetch(this.privAuthFetchEventId);return this.privConnectionPromise=e.continueWithPromise(function(e){if(e.isError)throw new Error(e.error);var t=n.privConnectionFactory.create(n.privSynthesizerConfig,e.result,n.privConnectionId);return t.events.attach(function(e){n.connectionEvents.onEvent(e)}),t.open().onSuccessContinueWithPromise(function(e){return 200===e.statusCode?(n.privSynthesisTurn.onPreConnectionStart(n.privAuthFetchEventId,n.privConnectionId),n.privSynthesisTurn.onConnectionEstablishCompleted(e.statusCode),v.PromiseHelper.fromResult(t)):403!==e.statusCode||r?(n.privSynthesisTurn.onConnectionEstablishCompleted(e.statusCode,e.reason),v.PromiseHelper.fromError("Unable to contact server. StatusCode: ".concat(e.statusCode,", ").concat(n.privSynthesizerConfig.parameters.getProperty(g.PropertyId.SpeechServiceConnection_Endpoint)," Reason: ").concat(e.reason))):n.connectImpl(!0)})}),this.privConnectionPromise},e.configureConnection=function(){var e=this;return void 0!==this.configConnectionOverride?this.configConnectionOverride():this.privConnectionConfigurationPromise?this.privConnectionConfigurationPromise.result().isCompleted&&(this.privConnectionConfigurationPromise.result().isError||this.privConnectionConfigurationPromise.result().result.state()===v.ConnectionState.Disconnected)?(this.privConnectionConfigurationPromise=null,this.configureConnection()):this.privConnectionConfigurationPromise:(this.privConnectionConfigurationPromise=this.connectImpl().onSuccessContinueWithPromise(function(t){return e.sendSpeechServiceConfig(t,e.privSynthesizerConfig.SpeechServiceConfig.serialize()).onSuccessContinueWith(function(e){return t})}),this.privConnectionConfigurationPromise)},e.buildSynthesisContext=function(){return{synthesis:{audio:{metadataOptions:{sentenceBoundaryEnabled:!1,wordBoundaryEnabled:!!this.privSpeechSynthesizer.wordBoundary},outputFormat:this.privAudioOutputFormat.requestAudioFormatString}}}},function(e,t,n){t&&r(e.prototype,t),n&&r(e,n)}(h,[{key:"synthesisContext",get:function(){return this.privSpeechContext}},{key:"dynamicGrammar",get:function(){return this.privDynamicGrammar}},{key:"agentConfig",get:function(){return this.privAgentConfig}},{key:"connectionEvents",get:function(){return this.privConnectionEvents}},{key:"serviceEvents",get:function(){return this.privServiceEvents}},{key:"activityTemplate",set:function(e){this.privActivityTemplate=e},get:function(){return this.privActivityTemplate}},{key:"audioOutputFormat",set:function(e){this.privAudioOutputFormat=e,this.privSynthesisTurn.audioOutputFormat=e,void 0!==this.privSessionAudioDestination&&(this.privSessionAudioDestination.format=e)}}]),h}();(t.SynthesisAdapterBase=i).telemetryDataEnabled=!0},function(e,n,i){"use strict";(function(s,u){function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.WebsocketMessageAdapter=void 0;var c=i(44),l=e(i(1995)),p=e(i(1996)),f=e(i(1997));function d(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return d=function(){return e},e}function e(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=d();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var t=function(){function a(e,t,n,r,i){var o=this;if(this.open=function(){if(o.privConnectionState===c.ConnectionState.Disconnected)return c.PromiseHelper.fromError("Cannot open a connection that is in ".concat(o.privConnectionState," state"));if(o.privConnectionEstablishDeferral)return o.privConnectionEstablishDeferral.promise();o.privConnectionEstablishDeferral=new c.Deferred,o.privCertificateValidatedDeferral=new c.Deferred,o.privConnectionState=c.ConnectionState.Connecting;try{var e=void 0!==s&&"0"!==s.env.NODE_TLS_REJECT_UNAUTHORIZED&&"0"!==s.env.SPEECH_CONDUCT_OCSP_CHECK&&!o.privUri.startsWith("ws:");if("undefined"==typeof WebSocket||a.forceNpmWebSocket)if(void 0!==o.proxyInfo&&void 0!==o.proxyInfo.HostName&&0<o.proxyInfo.Port){var t={host:o.proxyInfo.HostName,port:o.proxyInfo.Port};void 0!==o.proxyInfo.UserName&&(t.headers={"Proxy-Authentication":"Basic "+new u(o.proxyInfo.UserName+":"+(void 0===o.proxyInfo.Password)?"":o.proxyInfo.Password).toString("base64")},e&&(t.headers.requestOCSP="true"));var r={agent:new l(t),headers:o.privHeaders};o.privWebsocketClient=new p(o.privUri,r),e?o.privWebsocketClient.addListener("upgrade",function(e){var n=e.socket,t=n.getPeerCertificate(!0);n.cork(),f.check({cert:t.raw,httpOptions:r,issuer:t.issuerCertificate.raw},function(e,t){e?(o.privCertificateValidatedDeferral.reject(e.message),n.destroy(e)):(o.privCertificateValidatedDeferral.resolve(!0),n.uncork())})}):o.privCertificateValidatedDeferral.resolve(!0)}else{var n={headers:o.privHeaders};o.privCertificateValidatedDeferral.resolve(!0),e&&(n.agent=new f.Agent({})),o.privWebsocketClient=new p(o.privUri,n)}else o.privCertificateValidatedDeferral.resolve(!0),o.privWebsocketClient=new WebSocket(o.privUri);o.privWebsocketClient.binaryType="arraybuffer",o.privReceivingMessageQueue=new c.Queue,o.privDisconnectDeferral=new c.Deferred,o.privSendMessageQueue=new c.Queue,o.processSendQueue()}catch(e){return o.privConnectionEstablishDeferral.resolve(new c.ConnectionOpenResponse(500,e)),o.privConnectionEstablishDeferral.promise()}return o.onEvent(new c.ConnectionStartEvent(o.privConnectionId,o.privUri)),o.privWebsocketClient.onopen=function(e){o.privCertificateValidatedDeferral.promise().on(function(){o.privConnectionState=c.ConnectionState.Connected,o.onEvent(new c.ConnectionEstablishedEvent(o.privConnectionId)),o.privConnectionEstablishDeferral.resolve(new c.ConnectionOpenResponse(200,""))},function(e){o.privConnectionEstablishDeferral.reject(e)})},o.privWebsocketClient.onerror=function(e){o.onEvent(new c.ConnectionErrorEvent(o.privConnectionId,e.message,e.type)),o.privLastErrorReceived=e.message},o.privWebsocketClient.onclose=function(e){o.privConnectionState===c.ConnectionState.Connecting?(o.privConnectionState=c.ConnectionState.Disconnected,o.privConnectionEstablishDeferral.resolve(new c.ConnectionOpenResponse(e.code,e.reason+" "+o.privLastErrorReceived))):o.onEvent(new c.ConnectionClosedEvent(o.privConnectionId,e.code,e.reason)),o.onClose(e.code,e.reason)},o.privWebsocketClient.onmessage=function(e){var t=(new Date).toISOString();if(o.privConnectionState===c.ConnectionState.Connected){var n=new c.Deferred;if(o.privReceivingMessageQueue.enqueueFromPromise(n.promise()),e.data instanceof ArrayBuffer){var r=new c.RawWebsocketMessage(c.MessageType.Binary,e.data);o.privMessageFormatter.toConnectionMessage(r).on(function(e){o.onEvent(new c.ConnectionMessageReceivedEvent(o.privConnectionId,t,e)),n.resolve(e)},function(e){n.reject("Invalid binary message format. Error: ".concat(e))})}else{var i=new c.RawWebsocketMessage(c.MessageType.Text,e.data);o.privMessageFormatter.toConnectionMessage(i).on(function(e){o.onEvent(new c.ConnectionMessageReceivedEvent(o.privConnectionId,t,e)),n.resolve(e)},function(e){n.reject("Invalid text message format. Error: ".concat(e))})}}},o.privConnectionEstablishDeferral.promise()},this.send=function(t){if(o.privConnectionState!==c.ConnectionState.Connected)return c.PromiseHelper.fromError("Cannot send on connection that is in ".concat(o.privConnectionState," state"));var n=new c.Deferred,r=new c.Deferred;return o.privSendMessageQueue.enqueueFromPromise(r.promise()),o.privMessageFormatter.fromConnectionMessage(t).on(function(e){r.resolve({Message:t,RawWebsocketMessage:e,sendStatusDeferral:n})},function(e){r.reject("Error formatting the message. ".concat(e))}),n.promise()},this.read=function(){return o.privConnectionState!==c.ConnectionState.Connected?c.PromiseHelper.fromError("Cannot read on connection that is in ".concat(o.privConnectionState," state")):o.privReceivingMessageQueue.dequeue()},this.close=function(e){if(o.privWebsocketClient)return o.privConnectionState!==c.ConnectionState.Disconnected&&o.privWebsocketClient.close(1e3,e||"Normal closure by client"),o.privDisconnectDeferral.promise();var t=new c.Deferred;return t.resolve(!0),t.promise()},this.sendRawMessage=function(e){try{return e?(o.onEvent(new c.ConnectionMessageSentEvent(o.privConnectionId,(new Date).toISOString(),e.Message)),o.isWebsocketOpen?(o.privWebsocketClient.send(e.RawWebsocketMessage.payload),c.PromiseHelper.fromResult(!0)):c.PromiseHelper.fromError("websocket send error: Websocket not ready")):c.PromiseHelper.fromResult(!0)}catch(e){return c.PromiseHelper.fromError("websocket send error: ".concat(e))}},this.onClose=function(e,t){var n="Connection closed. ".concat(e,": ").concat(t);o.privConnectionState=c.ConnectionState.Disconnected,o.privDisconnectDeferral.resolve(!0),o.privReceivingMessageQueue.dispose(t),o.privReceivingMessageQueue.drainAndDispose(function(e){},n),o.privSendMessageQueue.drainAndDispose(function(e){e.sendStatusDeferral.reject(n)},n)},this.processSendQueue=function(){o.privSendMessageQueue.dequeue().on(function(t){t&&o.sendRawMessage(t).on(function(e){t.sendStatusDeferral.resolve(e),o.processSendQueue()},function(e){t.sendStatusDeferral.reject(e),o.processSendQueue()})},function(e){})},this.onEvent=function(e){o.privConnectionEvents.onEvent(e),c.Events.instance.onEvent(e)},!e)throw new c.ArgumentNullError("uri");if(!n)throw new c.ArgumentNullError("messageFormatter");this.proxyInfo=r,this.privConnectionEvents=new c.EventSource,this.privConnectionId=t,this.privMessageFormatter=n,this.privConnectionState=c.ConnectionState.None,this.privUri=e,this.privHeaders=i,this.privLastErrorReceived=""}return function(e,t,n){t&&r(e.prototype,t),n&&r(e,n)}(a,[{key:"state",get:function(){return this.privConnectionState}},{key:"events",get:function(){return this.privConnectionEvents}},{key:"isWebsocketOpen",get:function(){return this.privWebsocketClient&&this.privWebsocketClient.readyState===this.privWebsocketClient.OPEN}}]),a}();(n.WebsocketMessageAdapter=t).forceNpmWebSocket=!1}).call(this,i(29),i(83).Buffer)},function(e,t,n){"use strict";var r,i=n(50),o=(r=n(306))&&r.__esModule?r:{default:r};var a=n(5),s=n(12);e.exports=function(e){var t=dashboard.assets.listStore.list(e).map(function(e){return{text:s.quote(e.filename),display:s.quote(e.filename)}});return t.push({text:a.choosePrefix(),display:'<span class="chooseAssetDropdownOption">'+a.choosePrefix()+"</a>",click:function(t){dashboard.assets.showAssetManager(function(e){t(s.quote(e))},e,function(){o.default.getSingleton().stopAllAudio()},{showUnderageWarning:!(0,i.getStore)().getState().pageConstants.is13Plus})}}),t}},function(e,t,n){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.injectExecuteCmd=function(e){r=e},t.dropletConfig=t.executors=t.commands=void 0;var r,i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}n.default=e,t&&t.set(e,n);return n}(n(1187)),o=n(717);function s(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function u(e){e.callback&&e.callback.call(null)}var c={setTimeout:function(e){return(0,o.apiValidateType)(e,"setTimeout","callback",e.callback,"function"),(0,o.apiValidateType)(e,"setTimeout","milliseconds",e.milliseconds,"number"),i.setTimeout(u.bind(this,e),e.milliseconds)},clearTimeout:function(e){(0,o.apiValidateType)(e,"clearTimeout","timeoutId",e.timeoutId,"number"),i.clearTimeout(e.timeoutId)},setInterval:function(e){return(0,o.apiValidateType)(e,"setInterval","callback",e.callback,"function"),(0,o.apiValidateType)(e,"setInterval","milliseconds",e.milliseconds,"number"),i.setInterval(u.bind(this,e),e.milliseconds)},clearInterval:function(e){(0,o.apiValidateType)(e,"clearInterval","intervalId",e.intervalId,"number"),i.clearInterval(e.intervalId)},timedLoop:function(e){return(0,o.apiValidateType)(e,"timedLoop","ms",e.ms,"number"),(0,o.apiValidateType)(e,"timedLoop","callback",e.callback,"function"),i.timedLoop(e.ms,u.bind(this,e))},stopTimedLoop:function(e){(0,o.apiValidateType)(e,"stopTimedLoop","key",e.key,"number",o.OPTIONAL),i.stopTimedLoop(e.key)}};t.commands=c;var l={setTimeout:function(e,t){return r(null,"setTimeout",{callback:e,milliseconds:t})},clearTimeout:function(e){return r(null,"clearTimeout",{timeoutId:e})},setInterval:function(e,t){return r(null,"setInterval",{callback:e,milliseconds:t})},clearInterval:function(e){return r(null,"clearInterval",{intervalId:e})},timedLoop:function(e,t){return r(null,"timedLoop",{ms:e,callback:t})},stopTimedLoop:function(e){return r(null,"stopTimedLoop",{key:e})}},p={setTimeout:{func:"setTimeout",parent:t.executors=l,category:"Control",type:"either",paletteParams:["callback","ms"],params:["function() {\n  \n}","1000"],allowFunctionDrop:{0:!0}},clearTimeout:{func:"clearTimeout",parent:l,category:"Control",paletteParams:["__"],params:["__"]},setInterval:{func:"setInterval",parent:l,category:"Control",type:"either",paletteParams:["callback","ms"],params:["function() {\n  \n}","1000"],allowFunctionDrop:{0:!0}},clearInterval:{func:"clearInterval",parent:l,category:"Control",paletteParams:["__"],params:["__"]},timedLoop:{func:"timedLoop",parent:l,category:"Control",paletteParams:["ms","callback"],params:["1000","function() {\n  \n}"],allowFunctionDrop:{1:!0}},stopTimedLoop:{func:"stopTimedLoop",parent:l,category:"Control",paramButtons:{minArgs:0,maxArgs:1}}};t.dropletConfig=p},,function(e,t,n){"use strict";var r,i=(r=n(10))&&r.__esModule?r:{default:r};i.default.ajaxTransport("+binary",function(p,e,t){if(window.FormData&&(p.dataType&&"binary"===p.dataType||p.data&&(window.ArrayBuffer&&p.data instanceof window.ArrayBuffer||window.Blob&&p.data instanceof Blob)))return{send:function(e,t){var n=new XMLHttpRequest,r=p.url,i=p.type,o=p.async||!0,a=p.responseType||"blob",s=p.data||null,u=p.username||null,c=p.password||null;for(var l in n.addEventListener("load",function(){var e={};e[p.dataType]=n.response,t(n.status,n.statusText,e,n.getAllResponseHeaders())}),n.open(i,r,o,u,c),e)n.setRequestHeader(l,e[l]);n.responseType=a,n.send(s)},abort:function(){}}}),e.exports=function(e,t){return i.default.ajax(e,{dataType:t})}},,,,,,,,,,,,function(e,t,n){var r=n(817),i=Math.min;e.exports=function(e){return 0<e?i(r(e),9007199254740991):0}},function(e,t,n){e.exports={default:n(1728),__esModule:!0}},function(e,t,n){var r=n(1198),i=n(204)("iterator"),o=n(505);e.exports=n(182).getIteratorMethod=function(e){if(null!=e)return e[i]||e["@@iterator"]||o[r(e)]}},,,,,,function(e,t,n){(function(n){function r(e){try{if(!n.localStorage)return!1}catch(e){return!1}var t=n.localStorage[e];return null!=t&&"true"===String(t).toLowerCase()}e.exports=function(e,t){if(r("noDeprecation"))return e;var n=!1;return function(){if(!n){if(r("throwDeprecation"))throw new Error(t);r("traceDeprecation")?console.trace(t):console.warn(t),n=!0}return e.apply(this,arguments)}}}).call(this,n(30))},,function(e,t,n){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.createPackageFilesFromZip=function(e,t){var n=[];e.folder(t+"/assets").forEach(function(e,t){t.dir||n.push({fileName:e})});var r=n.map(function(e){return(0,d.default)({module:e})});return(0,l.default)({entries:r})},t.createPackageFilesFromExpoFiles=function(e){var t=[],n="assets/".length;for(var r in e)if(0===r.indexOf("assets/")){var i=r.substring(n);t.push({fileName:i})}var o=t.map(function(e){return(0,d.default)({module:e})});return(0,l.default)({entries:o})},t.createSnackSession=function(e,t){return new r.SnackSession({sessionId:"".concat(E(),"-").concat(p.default.getCurrentId()),files:e,name:"project-".concat(p.default.getCurrentId()),sdkVersion:h.EXPO_SDK_VERSION,dependencies:{"react-native-webview":{version:b}},user:{sessionSecret:t||u.EXPO_SESSION_SECRET}})},t.expoGenerateApk=function(t,n,r){var i,o,a;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return i=r.md5SavedSources,o=r.expoSnackId,e.next=3,regeneratorRuntime.awrap(w(r,"generate",t));case 3:return a=e.sent,n({md5ApkSavedSources:i,snackId:o,apkBuildId:a}),e.abrupt("return",a);case 6:case"end":return e.stop()}})},t.expoCheckApkBuild=function(t,n,r){var i,o,a,s;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return i=r.md5SavedSources,o=r.expoSnackId,e.prev=1,e.next=4,regeneratorRuntime.awrap(w(r,"check",t));case 4:return(a=e.sent)&&(s=r.apkBuildId,n({md5ApkSavedSources:i,snackId:o,apkBuildId:s,apkUri:a})),e.abrupt("return",a);case 9:throw e.prev=9,e.t0=e.catch(1),n({}),e.t0;case 13:case"end":return e.stop()}},null,null,[[1,9]])},t.expoCancelApkBuild=function(t,n,r){var i;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return n({}),i=r.apkBuildId,e.abrupt("return",(0,s.cancelBuild)({sessionSecret:t||u.EXPO_SESSION_SECRET},i));case 3:case"end":return e.stop()}})},t.extractSoundAssets=function(e){var t=e.sources,r=e.rootRelativeAssetPrefix,i=e.zipAssetPrefix,n=[];return t.forEach(function(e){return n.push.apply(n,m(e.match(C)||[]))}),m(new Set(n)).map(function(e){var t=c.fixPath(e),n=e.replace(c.SOUND_PREFIX,"");return{url:t,rootRelativePath:r+n,zipPath:i+n,dataType:"binary",filename:n,searchUrl:e}})},t.rewriteAssetUrls=function(e,t){return e.reduce(function(e,t){var n=t.searchUrl||t.filename;return(e=e.replace(new RegExp("[\"|']".concat(t.url,"[\"|']"),"g"),'"'.concat(t.rootRelativePath,'"'))).replace(new RegExp("[\"|']".concat(n,"[\"|']"),"g"),'"'.concat(t.rootRelativePath,'"'))},t)},t.getEnvironmentPrefix=E,t.fetchWebpackRuntime=function(e){var r=new i.default.Deferred;return(0,o.default)("/blockly/js/webpack-runtime.min.js"+e,"text").then(function(e,t,n){return r.resolve([e,t,n])},(0,o.default)("/blockly/js/webpack-runtime.js"+e,"text").then(function(e,t,n){return r.resolve([e,t,n])},function(){return r.reject(new Error("failed to fetch webpack-runtime.js"))})),r};var i=g(n(10)),r=n(2279),s=n(2452),p=g(n(132)),o=g(n(1247)),u=n(43),c=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=v();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}n.default=e,t&&t.set(e,n);return n}(n(385)),f=g(n(1286)),l=g(n(2495)),d=g(n(2496)),h=n(1183);function v(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return v=function(){return e},e}function g(e){return e&&e.__esModule?e:{default:e}}function m(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function y(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],0<=t.indexOf(n)||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var b="7.4.3";function w(t,n,r){var i,o,a,s,u,c,l;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=t.iconUri,o=t.splashImageUri,a=t.apkBuildId,s="generate"===n,u=JSON.parse((0,f.default)({appName:p.default.getCurrentName()||"my-app",sdkVersion:h.EXPO_SDK_VERSION,projectId:p.default.getCurrentId(),iconPath:i,splashImagePath:o})),c=u.expo,c.updates,c.assetBundlePatterns,c.packagerOpts,l=y(c,["updates","assetBundlePatterns","packagerOpts"]),u.expo=l,u.expo.iconUrl=u.expo.icon,u.expo.splash.imageUrl=u.expo.splash.image,u.expo.dependencies=["expo","expo-asset","expo-file-system","react-native-webview"],s)return e.abrupt("return",S(r,u.expo));e.next=12;break;case 12:return e.abrupt("return",_(r,u.expo,a));case 13:case"end":return e.stop()}})}function S(t,n){var r,i;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,regeneratorRuntime.awrap((0,s.buildAsync)(n,{platform:h.PLATFORM_ANDROID,mode:"create",isSnack:!0,sdkVersion:h.EXPO_SDK_VERSION,sessionSecret:t||u.EXPO_SESSION_SECRET}));case 2:return r=e.sent,i=r.id,e.abrupt("return",i);case 5:case"end":return e.stop()}})}function _(t,n,r){var i,o,a;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,regeneratorRuntime.awrap((0,s.buildAsync)(n,{platform:h.PLATFORM_ANDROID,mode:"status",current:!1,sessionSecret:t||u.EXPO_SESSION_SECRET}));case 2:if(i=e.sent,o=i.jobs,a=(void 0===o?[]:o).find(function(e){return r&&e.id===r})){e.next=7;break}throw new Error("Expo build not found: ".concat(r));case 7:if("finished"===a.status)return e.abrupt("return",a.artifactId?"https://expo.io/artifacts/".concat(a.artifactId):a.artifacts.url);e.next=11;break;case 11:if("errored"===a.status)throw new Error("Expo build failed: Job status: ".concat(a.status));e.next=15;break;case 15:return e.abrupt("return");case 16:case"end":return e.stop()}})}var C=/(\bsound:\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/gi;function E(){var e=window.location.hostname;return e.includes("adhoc")?"cdo-adhoc":e.includes("test")?"cdo-test":e.includes("levelbuilder")?"cdo-levelbuilder":e.includes("staging")?"cdo-staging":e.includes("localhost")?"cdo-development":e.includes("code.org")?"cdo":"cdo-unknown"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.LogLevel=void 0;var o=r(n(720)),a=r(n(591));function r(e){return e&&e.__esModule?e:{default:e}}var s=(0,n(12).makeEnum)("ERROR","WARNING");t.LogLevel=s;var i=function(){function e(e,t){this.getJsInterpreter_=e,this.logTarget_=t}var t=e.prototype;return t.outputError=function(e,t,n){this.output_(e,s.ERROR,t,n)},t.outputWarning=function(e,t){this.output_(e,s.WARNING,t)},t.getAsyncOutputWarning=function(){var t=this,n=this.getNearestUserCodeLine_();return function(e){e.msg?t.output_(e.msg,s.WARNING,n):t.output_(e,s.WARNING,n)}},t.output_=function(e,t,n,r){void 0===n&&(n=this.getNearestUserCodeLine_());var i="".concat(t,": ");void 0!==n&&(i+="Line: ".concat(n,": ")),i+=e,this.logTarget_.log(i,t),void 0===n||r||o.default.addRuntimeAnnotation(t,n,e),t===s.ERROR&&a.default.addPageAction(a.default.PageAction.UserJavascriptError,{error:e},.05)},t.getNearestUserCodeLine_=function(){if("function"==typeof this.getJsInterpreter_){var e=this.getJsInterpreter_();if(e)return 1+e.getNearestUserCodeLine()}},e}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.captureThumbnailFromSvg=function(e){if(!e)return void console.warn("Thumbnail capture failed: svg element not found.");if(!SVGElement.prototype.toDataURL)return void console.warn("Thumbnail capture failed: SVGElement.prototype.toDataURL undefined.");if(!p())return;l=Date.now(),(0,i.svgToDataURI)(e).then(i.toCanvas).then(h).then(i.canvasToBlob).then(a.default.saveThumbnail)},t.getThumbnailFromCanvas=f,t.captureThumbnailFromCanvas=function(e){f(e,c,function(e){e&&a.default.saveThumbnail(e)})},t.setThumbnailBlobFromCanvas=function(e){f(e,5e3,a.default.setThumbnailPngBlob)},t.init=function(){d=!1,l=0},t.isCaptureComplete=function(){return 0<l&&!d},t.captureThumbnailFromElement=function(e){if(!e)return void console.warn("Thumbnail capture failed: html element not found.");if(!p())return;l=Date.now(),d=!0;return(0,s.html2canvas)(e,{background:"#eee"}).then(function(e){if(d){var r=h(e);return new Promise(function(t,n){r.toBlob(function(e){a.default.saveThumbnail(e).then(t,n)})})}console.log("not saving screenshot because no capture is pending")}).catch(function(e){console.log("error capturing screenshot: ".concat(e))}).then(function(){d=!1})},t.createThumbnail=h;var r,i=n(202),o=n(50),a=(r=n(132))&&r.__esModule?r:{default:r},s=n(1872);var u=220,c=6e4,l=0;function p(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:c,t=(0,o.getStore)().getState().pageConstants,n=t.isShareView,r=t.isEmbedView;return!(!a.default.getCurrentId()||!a.default.isOwner()||n||r)&&(!(Date.now()-l<e)||void 0)}function f(e,t,n){if(!e)return console.warn("Thumbnail capture failed: canvas element not found."),void n(null);if(p(t)){l=Date.now();var r=h(e);(0,i.canvasToBlob)(r).then(n)}else n(null)}var d=!1;function h(e){var t=document.createElement("canvas");t.width=u,t.height=e.height/e.width*u;var n=t.getContext("2d");return n.fillStyle="white",n.fillRect(0,0,t.width,t.height),n.drawImage(e,0,0,t.width,t.height),t}},,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.scaledDropPoint=a,t.isMouseEventInBounds=function(e,t){var n=e.clientX,r=e.clientY,i=t[0].getBoundingClientRect();return n>i.left&&n<i.right&&r>i.top&&r<i.bottom},t.isDraggableContainer=function(e){return(0,u.default)(e).hasClass("ui-draggable")},t.getDraggedElement=s,t.draggedElementDropPoint=function(){var e=s();return e.length?a(e):null},t.snapToGridSize=c,t.growToGridSize=function(e){return Math.ceil(e/o)*o},Object.defineProperty(t,"isPointInBounds",{enumerable:!0,get:function(){return i.isPointInBounds}});var r,u=(r=n(10))&&r.__esModule?r:{default:r},i=n(1337);var o=5;function a(e){var t=document.getElementById("designModeViz"),n=t.getBoundingClientRect(),r=e.offset(),i=n.width/t.offsetWidth,o=n.height/t.offsetHeight,a=Math.round((r.left-(0,u.default)(t).offset().left)/i),s=Math.round((r.top-(0,u.default)(t).offset().top)/o);return{left:a=c(a),top:s=c(s)}}function s(){return(0,u.default)(".ui-draggable-dragging")}function c(e){var t=o/2;return e-((e+t)%o-t)}},function(e,t,n){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.isEnabled=function(e){return p(e).enabled},t.isAvailable=function(e){return!(!e||!e.maker)},t.isConnecting=function(e){return p(e).connectionState===o},t.isConnected=function(e){return p(e).connectionState===u},t.hasConnectionError=function(e){return p(e).connectionState===c},t.getConnectionError=function(e){return p(e).connectionError},t.shouldRunWithFakeBoard=function(e){return p(e).usingFakeBoardNextTime},t.enable=function(){return{type:f}},t.startConnecting=function(){return{type:d}},t.reportConnected=function(){return{type:h}},t.reportConnectionError=function(e){return{type:v,error:e}},t.disconnect=function(){return{type:g}},t.useFakeBoardOnNextRun=function(){return{type:m}},t.reducer=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:new l,t=1<arguments.length?arguments[1]:void 0;{if(t.type===f)return e.set("enabled",!0);if(t.type===d)return e.set("connectionState",o);if(t.type===h)return e.merge({connectionState:u,usingFakeBoardNextTime:!1});if(t.type===v)return e.merge({connectionState:c,connectionError:t.error});if(t.type===g)return e.merge({connectionState:i,connectionError:null});if(t.type===m)return e.set("usingFakeBoardNextTime",!0)}return e};var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}n.default=e,t&&t.set(e,n);return n}(n(125));function s(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}var i="connectionState/DISCONNECTED",o="connectionState/CONNECTING",u="connectionState/CONNECTED",c="connectionState/CONNECTION_ERROR",l=r.Record({enabled:!1,connectionState:i,connectionError:null,usingFakeBoardNextTime:!1});function p(e){return e&&e.maker||new l}var f="maker/ENABLE";var d="maker/START_CONNECTING";var h="maker/REPORT_CONNECTED";var v="maker/REPORT_CONNECTION_ERROR";var g="maker/DISCONNECT";var m="maker/USE_FAKE_BOARD_ON_NEXT_RUN"},,,,,,,,,function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){rethrow=rethrow||function(e,t,n,r,i){var o=t.split("\n"),a=Math.max(r-3,0),s=Math.min(o.length,r+3),u=i(n),c=o.slice(a,s).map(function(e,t){var n=t+a+1;return(n==r?" >> ":"    ")+n+"| "+e}).join("\n");throw e.path=u,e.message=(u||"ejs")+":"+r+"\n"+c+"\n\n"+e.message,e},escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __line=1,__lines='{\n  "expo": {\n    "name": "<%- appName %>",\n    "description": "<%- appName %> from Code.org Code Studio.",\n    "slug": "project-<%- projectId.toLowerCase().replace(/[^\\w-]+/g, \'-\') %>",\n    "privacy": "public",\n    "sdkVersion": "<%- sdkVersion %>",\n    "platforms": ["ios", "android"],\n    "version": "1.0.0",\n    "orientation": "portrait",\n    "icon": "<%- iconPath %>",\n    "splash": {\n      "image": "<%- splashImagePath %>",\n      "resizeMode": "contain",\n      "backgroundColor": "#ffffff"\n    },\n    "updates": {\n      "enabled": false,\n      "fallbackToCacheTimeout": 0\n    },\n    "assetBundlePatterns": [\n      "**/*"\n    ],\n    "packagerOpts": {\n      "assetExts": [\n        "html",\n        "css",\n        "j",\n        "jpg",\n        "jpeg",\n        "png",\n        "gif",\n        "mp3",\n        "woff2",\n        "ttf",\n        "txt"\n      ]\n    },\n    "ios": {\n      "bundleIdentifier": "org.code.studio.app.<%- projectId.toLowerCase().replace(/([^a-zA-Z0-9\\-]+)/g, \'-\') %>",\n      "buildNumber": "1"\n    },\n    "android": {\n      "package": "org.code.studio.app_<%- projectId.toLowerCase().replace(/([^a-zA-Z0-9\\_]+)/g, \'_\') %>",\n      "permissions": [],\n      "versionCode": 1\n    }\n  }\n}\n',__filename="src/templates/export/expo/app.json.ejs";try{var __output=[],__append=__output.push.bind(__output);with(locals||{})__append('{\n  "expo": {\n    "name": "'),__line=3,__append(appName),__append('",\n    "description": "'),__line=4,__append(appName),__append(' from Code.org Code Studio.",\n    "slug": "project-'),__line=5,__append(projectId.toLowerCase().replace(/[^\w-]+/g,"-")),__append('",\n    "privacy": "public",\n    "sdkVersion": "'),__line=7,__append(sdkVersion),__append('",\n    "platforms": ["ios", "android"],\n    "version": "1.0.0",\n    "orientation": "portrait",\n    "icon": "'),__line=11,__append(iconPath),__append('",\n    "splash": {\n      "image": "'),__line=13,__append(splashImagePath),__append('",\n      "resizeMode": "contain",\n      "backgroundColor": "#ffffff"\n    },\n    "updates": {\n      "enabled": false,\n      "fallbackToCacheTimeout": 0\n    },\n    "assetBundlePatterns": [\n      "**/*"\n    ],\n    "packagerOpts": {\n      "assetExts": [\n        "html",\n        "css",\n        "j",\n        "jpg",\n        "jpeg",\n        "png",\n        "gif",\n        "mp3",\n        "woff2",\n        "ttf",\n        "txt"\n      ]\n    },\n    "ios": {\n      "bundleIdentifier": "org.code.studio.app.'),__line=40,__append(projectId.toLowerCase().replace(/([^a-zA-Z0-9\-]+)/g,"-")),__append('",\n      "buildNumber": "1"\n    },\n    "android": {\n      "package": "org.code.studio.app_'),__line=44,__append(projectId.toLowerCase().replace(/([^a-zA-Z0-9\_]+)/g,"_")),__append('",\n      "permissions": [],\n      "versionCode": 1\n    }\n  }\n}\n'),__line=50;return __output.join("")}catch(e){rethrow(e,__lines,__filename,__line,escapeFn)}}},,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isUnsupportedBrowser=function(){return function(){var e=-1!==navigator.userAgent.indexOf("MSIE"),t=navigator.appVersion.indexOf("Trident/"),n=e&&t<8,r=navigator.userAgent.match("MSIE 7.0;"),i=navigator.userAgent.match("MSIE 8.0;"),o=navigator.userAgent.match("MSIE 9.0;"),a=navigator.userAgent.match("MSIE 10.0;");return n||r||i||o||a}()||function(){var e=-1!==navigator.userAgent.lastIndexOf("Chrome/"),t=navigator.userAgent.substr(navigator.userAgent.lastIndexOf("Chrome/")+7,2);return e&&t<33}()||function(){var e=-1!==navigator.userAgent.indexOf("Safari/"),t=navigator.userAgent.substr(navigator.userAgent.lastIndexOf("Version/")+8,2);return e&&t<7}()||function(){var e=-1!==navigator.userAgent.indexOf("Firefox"),t=navigator.userAgent.substr(navigator.userAgent.lastIndexOf("Firefox/")+8,2);return e&&t<25}()},t.isMobileDevice=function(){var t=!1;return function(e){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4)))&&(t=!0)}(navigator.userAgent||navigator.vendor||window.opera),t},t.isIE11=function(){return!!window.MSInputMethodContext&&!!document.documentMode},t.isStorageAvailable=function(e){try{var t=window[e],n="__storage_test__";return t.setItem(n,n),t.removeItem(n),!0}catch(e){return!1}}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isPointInBounds=function(e,t,n,r){return 0<=e&&e<=n&&0<=t&&t<=r}},function(e,t){var n=e.exports=function(){this.observed_=[]};n.prototype.observe=function(e,t){var n=e.register(t);this.observed_.push({event:e,key:n})},n.prototype.unobserveAll=function(){this.observed_.forEach(function(e){e.event.unregister(e.key)}),this.observed_.length=0}},function(e,t){var n=e.exports=function(){this.commands_=[],this.currentIndex_=0,this.maxEntries_=64};n.prototype.push=function(e){this.commands_.length>=this.maxEntries_&&(this.commands_.shift(),this.currentIndex_-=1),this.commands_.push(e),this.currentIndex_=this.commands_.length},n.prototype.goBack=function(e){return this.alterHistory_(this.currentIndex_,e),0<this.currentIndex_&&(this.currentIndex_-=1),void 0!==this.commands_[this.currentIndex_]?this.commands_[this.currentIndex_]:e},n.prototype.goForward=function(e){return this.alterHistory_(this.currentIndex_,e),this.currentIndex_<this.commands_.length&&(this.currentIndex_+=1),this.currentIndex_===this.commands_.length&&e===this.commands_[this.currentIndex_-1]?"":void 0!==this.commands_[this.currentIndex_]?this.commands_[this.currentIndex_]:e},n.prototype.alterHistory_=function(e,t){void 0!==this.commands_[e]&&(this.commands_[e]=t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.StatelessInlineAudio=void 0;var o=p(n(714)),r=p(n(0)),i=p(n(15)),a=p(n(1)),s=n(9),u=p(n(94)),c=p(n(6)),l=p(n(62));function p(e){return e&&e.__esModule?e:{default:e}}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h={en_us:{VOICE:"sharon22k",SPEED:180,SHAPE:100},es_es:{VOICE:"ines22k",SPEED:180,SHAPE:100},es_mx:{VOICE:"rosa22k",SPEED:180,SHAPE:100},it_it:{VOICE:"vittorio22k",SPEED:180,SHAPE:100},pt_br:{VOICE:"marcia22k",SPEED:180,SHAPE:100}},v={error:{display:"inline-block",marginLeft:10,marginBottom:0,padding:"5px 10px"},wrapper:{marginLeft:"3px",marginRight:"3px"},button:{cursor:"pointer",float:"left",backgroundColor:c.default.lightest_purple,border:"none",outline:"none",width:33,boxSizing:"border-box"},volumeButton:{borderRadius:"4px 0px 0px 4px"},playPauseButton:{borderRadius:"0px 4px 4px 0px"},buttonImg:{opacity:1,float:"left",paddingRight:8,paddingLeft:8,color:"#4d575f"},hover:{backgroundColor:c.default.cyan}},g=function(i){function e(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return d(f(e=i.call.apply(i,[this].concat(n))||this),"state",{audio:void 0,playing:!1,error:!1,hover:!1,loaded:!1}),d(f(e),"toggleAudio",function(){e.state.playing?e.pauseAudio():e.playAudio()}),d(f(e),"toggleHover",function(){e.setState({hover:!e.state.hover})}),e}!function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(e,i);var t=e.prototype;return t.componentDidMount=function(){this.getAudioElement()},t.componentWillUpdate=function(e){if(this.props.src!==e.src||this.props.message!==e.message){var t=this.state.audio;t&&(t.pause(),t.removeAttribute("src"),t.load()),this.setState({audio:void 0,playing:!1,error:!1})}},t.getAudioElement=function(){var t=this;if(this.state.audio)return this.state.audio;var e=this.getAudioSrc(),n=new Audio(e);return n.load(),n.addEventListener("canplay",function(){t.setState({loaded:!0})}),n.addEventListener("ended",function(e){t.setState({playing:!1})}),n.addEventListener("error",function(e){(0,u.default)("InlineAudio","error",e.target.error.code),t.setState({playing:!1,error:!0})}),this.setState({audio:n}),(0,u.default)("InlineAudio","getAudioElement",e),n},t.isLocaleSupported=function(){return h.hasOwnProperty(this.props.locale)},t.getAudioSrc=function(){if(this.props.src)return this.props.src;if(this.props.message&&h[this.props.locale]){var e=h[this.props.locale],t="".concat(e.VOICE,"/").concat(e.SPEED,"/").concat(e.SHAPE),n=this.props.message.replace('"???"',"the question marks"),r=(0,o.default)(n).toString(),i="".concat(r,"/").concat(encodeURIComponent(n),".mp3");return"".concat("https://tts.code.org","/").concat(t,"/").concat(i)}},t.playAudio=function(){this.getAudioElement().play(),this.setState({playing:!0}),l.default.putRecord({study:"tts-play",study_group:"v1",event:"play",data_string:this.props.src,data_json:JSON.stringify({userId:this.props.userId,puzzleNumber:this.props.puzzleNumber,src:this.props.src,csfStyleInstructions:this.props.isOnCSFPuzzle})})},t.pauseAudio=function(){this.getAudioElement().pause(),this.setState({playing:!1})},t.render=function(){return this.props.textToSpeechEnabled&&!this.state.error&&this.state.loaded&&this.isLocaleSupported()&&this.getAudioSrc()?a.default.createElement("div",{className:"inline-audio",style:[v.wrapper,this.props.style&&this.props.style.wrapper],onMouseOver:this.toggleHover,onMouseOut:this.toggleHover,onClick:this.toggleAudio},a.default.createElement("div",{style:[v.button,v.volumeButton,this.props.style&&this.props.style.button,this.state.hover&&v.hover],id:"volume"},a.default.createElement("i",{className:"fa fa-volume-up",style:[v.buttonImg,this.props.style&&this.props.style.buttonImg]})),a.default.createElement("div",{className:"playPause",style:[v.button,v.playPauseButton,this.props.style&&this.props.style.button,this.state.hover&&v.hover]},a.default.createElement("i",{className:this.state.playing?"fa fa-pause":"fa fa-play",style:[v.buttonImg,this.props.style&&this.props.style.buttonImg]}))):null},e}(a.default.Component);d(g,"propTypes",{assetUrl:r.default.func.isRequired,locale:r.default.string,textToSpeechEnabled:r.default.bool,src:r.default.string,message:r.default.string,style:r.default.object,puzzleNumber:r.default.number,userId:r.default.number,isOnCSFPuzzle:r.default.bool});var m=(0,i.default)(g);t.StatelessInlineAudio=m;var y=(0,s.connect)(function(e){return{assetUrl:e.pageConstants.assetUrl,textToSpeechEnabled:e.pageConstants.textToSpeechEnabled||e.pageConstants.isK1,locale:e.pageConstants.locale,userId:e.pageConstants.userId,puzzleNumber:e.pageConstants.puzzleNumber,isOnCSFPuzzle:!e.instructions.noInstructionsWhenCollapsed}})(m);t.default=y},function(e,t,n){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=n(1268),o=(r=n(0))&&r.__esModule?r:{default:r},s=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=c();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}n.default=e,t&&t.set(e,n);return n}(n(1)),u=n(1113);function c(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}var l,p,f,d={videoLink:{display:"inline-block",margin:8,fontWeight:"bold",fontSize:16,lineHeight:"25px",cursor:"pointer"},videoThumbnail:{borderRadius:5,height:40,width:"auto",marginRight:8}},h=function(e){function t(){return e.apply(this,arguments)||this}return function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(t,e),t.prototype.render=function(){var e=this,t=this.props.video;return s.default.createElement("a",{style:d.videoLink,onClick:function(){e.props.onClick&&e.props.onClick(),(0,i.showVideoDialog)({src:t.src,name:t.name,key:t.key,download:t.download,thumbnail:t.thumbnail,enable_fallback:t.enable_fallback,autoplay:t.autoplay},!0)}},s.default.createElement("img",{style:d.videoThumbnail,src:t.thumbnail,alt:t.name}),s.default.createElement("span",null,t.name))},t}(s.Component);t.default=h,l=h,p="propTypes",f={video:u.videoDataShape,onClick:o.default.func},p in l?Object.defineProperty(l,p,{value:f,enumerable:!0,configurable:!0,writable:!0}):l[p]=f,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.chromeLight=t.chromeDark=void 0;var r=o(n(2221)),i=o(n(2222));function o(e){return e&&e.__esModule?e:{default:e}}t.chromeDark=r.default,t.chromeLight=i.default},function(e,t,n){e.exports=n(2224)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var y=f(n(134)),b=f(n(604)),r=f(n(188)),i=f(n(196)),o=f(n(221)),a=f(n(234)),s=f(n(2226)),u=n(1),w=f(u),c=f(n(0)),l=f(n(2227)),p=n(2230);function f(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function m(e,t){(0,r.default)(this,m);var n=(0,o.default)(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,e));return n.state=t.store.storeState,n}return(0,a.default)(m,e),(0,i.default)(m,[{key:"shouldComponentUpdate",value:function(e,t){return!!t.expandedPaths[e.path]!=!!this.state.expandedPaths[this.props.path]||e.data!==this.props.data||e.name!==this.props.name}},{key:"handleClick",value:function(e){this.context.store.storeState=function(e,t){switch(t.type){case"TOGGLE_EXPAND":var n=t.path,r=!!e.expandedPaths[n];return Object.assign({},e,{expandedPaths:Object.assign({},e.expandedPaths,(0,s.default)({},n,!r))});default:return e}}(this.context.store.storeState,{type:"TOGGLE_EXPAND",path:e}),this.setState(this.context.store.storeState)}},{key:"renderChildNodes",value:function(e,t){var n=this.props.dataIterator,r=this.props.depth,i=this.props.nodeRenderer,o=[],a=!0,s=!1,u=void 0;try{for(var c,l=n(e)[Symbol.iterator]();!(a=(c=l.next()).done);a=!0){var p=c.value,f=p.name,d=p.data,h=(0,b.default)(p,["name","data"]),v=f,g=t+"."+v;o.push(w.default.createElement(m,(0,y.default)({name:f,data:d,depth:r+1,path:g,key:v,dataIterator:n,nodeRenderer:i},h)))}}catch(e){s=!0,u=e}finally{try{!a&&l.return&&l.return()}finally{if(s)throw u}}return o}},{key:"render",value:function(){var e=this.props,t=e.data,n=e.dataIterator,r=e.path,i=e.depth,o=(0,p.hasChildNodes)(t,n),a=!!this.state.expandedPaths[r],s=this.props.nodeRenderer;return w.default.createElement(l.default,(0,y.default)({expanded:a,onClick:o?this.handleClick.bind(this,r):function(){},shouldShowArrow:o,shouldShowPlaceholder:0<i,nodeRenderer:s},this.props),a?this.renderChildNodes(t,r):void 0)}}]),m}(u.Component);d.propTypes={name:c.default.string,data:c.default.any,dataIterator:c.default.func,depth:c.default.number,expanded:c.default.bool,nodeRenderer:c.default.func},d.contextTypes={store:c.default.any};var h=function(e){function n(e){(0,r.default)(this,n);var t=(0,o.default)(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.store={storeState:{expandedPaths:(0,p.getExpandedPaths)(e.data,e.dataIterator,e.expandPaths,e.expandLevel)}},t}return(0,a.default)(n,e),(0,i.default)(n,[{key:"componentWillReceiveProps",value:function(e){this.store={storeState:{expandedPaths:(0,p.getExpandedPaths)(e.data,e.dataIterator,e.expandPaths,e.expandLevel,this.store.storeState.expandedPaths)}}}},{key:"getChildContext",value:function(){return{store:this.store}}},{key:"render",value:function(){var e=this.props,t=e.name,n=e.data,r=e.dataIterator,i=this.props.nodeRenderer,o=p.DEFAULT_ROOT_PATH;return w.default.createElement(d,{name:t,data:n,dataIterator:r,depth:0,path:o,nodeRenderer:i})}}]),n}(u.Component);h.defaultProps={expandLevel:0,expandPaths:[]},h.childContextTypes={store:c.default.any},h.propTypes={name:c.default.string,data:c.default.any,dataIterator:c.default.func,nodeRenderer:c.default.func},h.defaultProps={name:void 0},t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(1)),i=a(n(749)),o=a(n(2231));function a(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t=e.name,n=e.data;return"string"==typeof t?r.default.createElement("span",null,r.default.createElement(i.default,{name:t}),r.default.createElement("span",null,": "),r.default.createElement(o.default,{data:n})):r.default.createElement(o.default,{data:n})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(1)),r=i(n(0)),a=i(n(749)),s=i(n(750));function i(e){return e&&e.__esModule?e:{default:e}}var u=function(e){var t=e.name,n=e.data,r=e.isNonenumerable,i=n;return o.default.createElement("span",null,o.default.createElement(a.default,{name:t,dimmed:r}),o.default.createElement("span",null,": "),o.default.createElement(s.default,{object:i}))};u.propTypes={isNonenumerable:r.default.bool},u.defaultProps={isNonenumerable:!1},t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){return 0===e.childNodes.length||1===e.childNodes.length&&e.childNodes[0].nodeType===Node.TEXT_NODE&&e.textContent.length<80}},function(e,t,n){"use strict";var i=n(2252).Readable;function r(e,t,n){i.call(this,t),this._helper=e;var r=this;e.on("data",function(e,t){r.push(e)||r._helper.pause(),n&&n(t)}).on("error",function(e){r.emit("error",e)}).on("end",function(){r.push(null)})}n(87).inherits(r,i),r.prototype._read=function(){this._helper.resume()},e.exports=r},function(x,e,O){"use strict";(function(v){x.exports=r;var g=O(547),m=O(574),f=O(83).Buffer;r.ReadableState=n;O(52);var i,y=function(e,t){return e.listeners(t).length};!function(){try{i=O(331)}catch(e){}finally{i||(i=O(52).EventEmitter)}}();f=O(83).Buffer;var e=O(262);e.inherits=O(115);var o,a,t=O(2253),b=void 0;function n(e,t){a=a||O(582),e=e||{},this.objectMode=!!e.objectMode,t instanceof a&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var n=e.highWaterMark,r=this.objectMode?16:16384;this.highWaterMark=n||0===n?n:r,this.highWaterMark=~~this.highWaterMark,this.buffer=[],this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(o||(o=O(580).StringDecoder),this.decoder=new o(e.encoding),this.encoding=e.encoding)}function r(e){if(a=a||O(582),!(this instanceof r))return new r(e);this._readableState=new n(e,this),this.readable=!0,e&&"function"==typeof e.read&&(this._read=e.read),i.call(this)}function s(e,t,n,r,i){var o=function(e,t){var n=null;f.isBuffer(t)||"string"==typeof t||null==t||e.objectMode||(n=new TypeError("Invalid non-string/buffer chunk"));return n}(t,n);if(o)e.emit("error",o);else if(null===n)t.reading=!1,function(e,t){if(t.ended)return;if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,l(e)}(e,t);else if(t.objectMode||n&&0<n.length)if(t.ended&&!i){var a=new Error("stream.push() after EOF");e.emit("error",a)}else if(t.endEmitted&&i){a=new Error("stream.unshift() after end event");e.emit("error",a)}else{var s;!t.decoder||i||r||(n=t.decoder.write(n),s=!t.objectMode&&0===n.length),i||(t.reading=!1),s||(t.flowing&&0===t.length&&!t.sync?(e.emit("data",n),e.read(0)):(t.length+=t.objectMode?1:n.length,i?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&l(e))),function(e,t){t.readingMore||(t.readingMore=!0,g(d,e,t))}(e,t)}else i||(t.reading=!1);return function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(t)}b=t&&t.debuglog?t.debuglog("stream"):function(){},e.inherits(r,i),r.prototype.push=function(e,t){var n=this._readableState;return n.objectMode||"string"!=typeof e||(t=t||n.defaultEncoding)!==n.encoding&&(e=new f(e,t),t=""),s(this,n,e,t,!1)},r.prototype.unshift=function(e){return s(this,this._readableState,e,"",!0)},r.prototype.isPaused=function(){return!1===this._readableState.flowing},r.prototype.setEncoding=function(e){return o||(o=O(580).StringDecoder),this._readableState.decoder=new o(e),this._readableState.encoding=e,this};var u=8388608;function c(e,t){return 0===t.length&&t.ended?0:t.objectMode?0===e?0:1:null===e||isNaN(e)?t.flowing&&t.buffer.length?t.buffer[0].length:t.length:e<=0?0:(e>t.highWaterMark&&(t.highWaterMark=function(e){return u<=e?e=u:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e>t.length?t.ended?t.length:(t.needReadable=!0,0):e)}function l(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(b("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?g(p,e):p(e))}function p(e){b("emit readable"),e.emit("readable"),S(e)}function d(e,t){for(var n=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(b("maybeReadMore read 0"),e.read(0),n!==t.length);)n=t.length;t.readingMore=!1}function h(e){b("readable nexttick read 0"),e.read(0)}function w(e,t){t.reading||(b("resume read 0"),e.read(0)),t.resumeScheduled=!1,e.emit("resume"),S(e),t.flowing&&!t.reading&&e.read(0)}function S(e){var t=e._readableState;if(b("flow",t.flowing),t.flowing)do{var n=e.read()}while(null!==n&&t.flowing)}function _(e,t){var n,r=t.buffer,i=t.length,o=!!t.decoder,a=!!t.objectMode;if(0===r.length)return null;if(0===i)n=null;else if(a)n=r.shift();else if(!e||i<=e)n=o?r.join(""):1===r.length?r[0]:f.concat(r,i),r.length=0;else{if(e<r[0].length)n=(l=r[0]).slice(0,e),r[0]=l.slice(e);else if(e===r[0].length)n=r.shift();else{n=o?"":new f(e);for(var s=0,u=0,c=r.length;u<c&&s<e;u++){var l=r[0],p=Math.min(e-s,l.length);o?n+=l.slice(0,p):l.copy(n,s,0,p),p<l.length?r[0]=l.slice(p):r.shift(),s+=p}}}return n}function C(e){var t=e._readableState;if(0<t.length)throw new Error("endReadable called on non-empty stream");t.endEmitted||(t.ended=!0,g(E,t,e))}function E(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}r.prototype.read=function(e){b("read",e);var t=this._readableState,n=e;if(("number"!=typeof e||0<e)&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return b("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?C(this):l(this),null;if(0===(e=c(e,t))&&t.ended)return 0===t.length&&C(this),null;var r,i=t.needReadable;return b("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&b("length less than watermark",i=!0),(t.ended||t.reading)&&b("reading or ended",i=!1),i&&(b("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1),i&&!t.reading&&(e=c(n,t)),null===(r=0<e?_(e,t):null)&&(t.needReadable=!0,e=0),t.length-=e,0!==t.length||t.ended||(t.needReadable=!0),n!==e&&t.ended&&0===t.length&&C(this),null!==r&&this.emit("data",r),r},r.prototype._read=function(e){this.emit("error",new Error("not implemented"))},r.prototype.pipe=function(t,e){var n=this,r=this._readableState;switch(r.pipesCount){case 0:r.pipes=t;break;case 1:r.pipes=[r.pipes,t];break;default:r.pipes.push(t)}r.pipesCount+=1,b("pipe count=%d opts=%j",r.pipesCount,e);var i=(!e||!1!==e.end)&&t!==v.stdout&&t!==v.stderr?a:c;function o(e){b("onunpipe"),e===n&&c()}function a(){b("onend"),t.end()}r.endEmitted?g(i):n.once("end",i),t.on("unpipe",o);var s=function(t){return function(){var e=t._readableState;b("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&y(t,"data")&&(e.flowing=!0,S(t))}}(n);t.on("drain",s);var u=!1;function c(){b("cleanup"),t.removeListener("close",f),t.removeListener("finish",d),t.removeListener("drain",s),t.removeListener("error",p),t.removeListener("unpipe",o),n.removeListener("end",a),n.removeListener("end",c),n.removeListener("data",l),u=!0,!r.awaitDrain||t._writableState&&!t._writableState.needDrain||s()}function l(e){b("ondata"),!1===t.write(e)&&(1!==r.pipesCount||r.pipes[0]!==t||1!==n.listenerCount("data")||u||(b("false write response, pause",n._readableState.awaitDrain),n._readableState.awaitDrain++),n.pause())}function p(e){b("onerror",e),h(),t.removeListener("error",p),0===y(t,"error")&&t.emit("error",e)}function f(){t.removeListener("finish",d),h()}function d(){b("onfinish"),t.removeListener("close",f),h()}function h(){b("unpipe"),n.unpipe(t)}return n.on("data",l),t._events&&t._events.error?m(t._events.error)?t._events.error.unshift(p):t._events.error=[p,t._events.error]:t.on("error",p),t.once("close",f),t.once("finish",d),t.emit("pipe",n),r.flowing||(b("pipe resume"),n.resume()),t},r.prototype.unpipe=function(e){var t=this._readableState;if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this)),this;if(!e){var n=t.pipes,r=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var i=0;i<r;i++)n[i].emit("unpipe",this);return this}var o=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}(t.pipes,e);return-1===o||(t.pipes.splice(o,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this)),this},r.prototype.addListener=r.prototype.on=function(e,t){var n=i.prototype.on.call(this,e,t);if("data"===e&&!1!==this._readableState.flowing&&this.resume(),"readable"===e&&!this._readableState.endEmitted){var r=this._readableState;r.readableListening||(r.readableListening=!0,r.emittedReadable=!1,r.needReadable=!0,r.reading?r.length&&l(this):g(h,this))}return n},r.prototype.resume=function(){var e=this._readableState;return e.flowing||(b("resume"),e.flowing=!0,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,g(w,e,t))}(this,e)),this},r.prototype.pause=function(){return b("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(b("pause"),this._readableState.flowing=!1,this.emit("pause")),this},r.prototype.wrap=function(t){var n=this._readableState,r=!1,i=this;for(var e in t.on("end",function(){if(b("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&i.push(e)}i.push(null)}),t.on("data",function(e){(b("wrapped data"),n.decoder&&(e=n.decoder.write(e)),n.objectMode&&null==e)||(n.objectMode||e&&e.length)&&(i.push(e)||(r=!0,t.pause()))}),t)void 0===this[e]&&"function"==typeof t[e]&&(this[e]=function(e){return function(){return t[e].apply(t,arguments)}}(e));return function(e,t){for(var n=0,r=e.length;n<r;n++)t(e[n],n)}(["error","close","destroy","pause","resume"],function(e){t.on(e,i.emit.bind(i,e))}),i._read=function(e){b("wrapped _read",e),r&&(r=!1,t.resume())},i},r._fromList=_}).call(this,O(29))},function(w,e,S){"use strict";(function(e,t){w.exports=f;var a=S(547),s=!e.browser&&-1<["v0.10","v0.9."].indexOf(e.version.slice(0,5))?t:a,u=S(83).Buffer;f.WritableState=p;var n=S(262);n.inherits=S(115);var r,i={deprecate:S(1267)};!function(){try{r=S(331)}catch(e){}finally{r||(r=S(52).EventEmitter)}}();var o;u=S(83).Buffer;function c(){}function l(e,t,n){this.chunk=e,this.encoding=t,this.callback=n,this.next=null}function p(e,t){o=o||S(582),e=e||{},this.objectMode=!!e.objectMode,t instanceof o&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var n=e.highWaterMark,r=this.objectMode?16:16384;this.highWaterMark=n||0===n?n:r,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1;var i=(this.finished=!1)===e.decodeStrings;this.decodeStrings=!i,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var n=e._writableState,r=n.sync,i=n.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(n),t)!function(e,t,n,r,i){--t.pendingcb,n?a(i,r):i(r);e._writableState.errorEmitted=!0,e.emit("error",r)}(e,n,r,t,i);else{var o=g(n);o||n.corked||n.bufferProcessing||!n.bufferedRequest||v(e,n),r?s(h,e,n,o,i):h(e,n,o,i)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new b(this),this.corkedRequestsFree.next=new b(this)}function f(e){if(o=o||S(582),!(this instanceof f||this instanceof o))return new f(e);this._writableState=new p(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev)),r.call(this)}function d(e,t,n,r,i,o,a){t.writelen=r,t.writecb=a,t.writing=!0,t.sync=!0,n?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function h(e,t,n,r){n||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,r(),y(e,t)}function v(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var r=t.bufferedRequestCount,i=new Array(r),o=t.corkedRequestsFree;o.entry=n;for(var a=0;n;)n=(i[a]=n).next,a+=1;d(e,t,!0,t.length,i,"",o.finish),t.pendingcb++,t.lastBufferedRequest=null,t.corkedRequestsFree=o.next,o.next=null}else{for(;n;){var s=n.chunk,u=n.encoding,c=n.callback;if(d(e,t,!1,t.objectMode?1:s.length,s,u,c),n=n.next,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequestCount=0,t.bufferedRequest=n,t.bufferProcessing=!1}function g(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function m(e,t){t.prefinished||(t.prefinished=!0,e.emit("prefinish"))}function y(e,t){var n=g(t);return n&&(0===t.pendingcb?(m(e,t),t.finished=!0,e.emit("finish")):m(e,t)),n}function b(r){var i=this;this.next=null,this.entry=null,this.finish=function(e){var t=i.entry;for(i.entry=null;t;){var n=t.callback;r.pendingcb--,n(e),t=t.next}r.corkedRequestsFree?r.corkedRequestsFree.next=i:r.corkedRequestsFree=i}}n.inherits(f,r),p.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(p.prototype,"buffer",{get:i.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.")})}catch(e){}}(),f.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe. Not readable."))},f.prototype.write=function(e,t,n){var r=this._writableState,i=!1;return"function"==typeof t&&(n=t,t=null),u.isBuffer(e)?t="buffer":t||(t=r.defaultEncoding),"function"!=typeof n&&(n=c),r.ended?function(e,t){var n=new Error("write after end");e.emit("error",n),a(t,n)}(this,n):function(e,t,n,r){var i=!0;if(!u.isBuffer(n)&&"string"!=typeof n&&null!=n&&!t.objectMode){var o=new TypeError("Invalid non-string/buffer chunk");e.emit("error",o),a(r,o),i=!1}return i}(this,r,e,n)&&(r.pendingcb++,i=function(e,t,n,r,i){n=function(e,t,n){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=new u(t,n)),t}(t,n,r),u.isBuffer(n)&&(r="buffer");var o=t.objectMode?1:n.length;t.length+=o;var a=t.length<t.highWaterMark;a||(t.needDrain=!0);if(t.writing||t.corked){var s=t.lastBufferedRequest;t.lastBufferedRequest=new l(n,r,i),s?s.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else d(e,t,!1,o,n,r,i);return a}(this,r,e,t,n)),i},f.prototype.cork=function(){this._writableState.corked++},f.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||v(this,e))},f.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(-1<["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())))throw new TypeError("Unknown encoding: "+e);this._writableState.defaultEncoding=e},f.prototype._write=function(e,t,n){n(new Error("not implemented"))},f.prototype._writev=null,f.prototype.end=function(e,t,n){var r=this._writableState;"function"==typeof e?(n=e,t=e=null):"function"==typeof t&&(n=t,t=null),null!=e&&this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||function(e,t,n){t.ending=!0,y(e,t),n&&(t.finished?a(n):e.once("finish",n));t.ended=!0,e.writable=!1}(this,r,n)}}).call(this,S(29),S(911).setImmediate)},function(e,t,n){"use strict";e.exports=a;var r=n(582),i=n(262);function o(n){this.afterTransform=function(e,t){return function(e,t,n){var r=e._transformState;r.transforming=!1;var i=r.writecb;if(!i)return e.emit("error",new Error("no writecb in Transform class"));r.writechunk=null,(r.writecb=null)!=n&&e.push(n);i(t);var o=e._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&e._read(o.highWaterMark)}(n,e,t)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function a(e){if(!(this instanceof a))return new a(e);r.call(this,e),this._transformState=new o(this);var t=this;this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.once("prefinish",function(){"function"==typeof this._flush?this._flush(function(e){s(t,e)}):s(t)})}function s(e,t){if(t)return e.emit("error",t);var n=e._writableState,r=e._transformState;if(n.length)throw new Error("calling transform done when ws.length != 0");if(r.transforming)throw new Error("calling transform done when still transforming");return e.push(null)}i.inherits=n(115),i.inherits(a,r),a.prototype.push=function(e,t){return this._transformState.needTransform=!1,r.prototype.push.call(this,e,t)},a.prototype._transform=function(e,t,n){throw new Error("not implemented")},a.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},a.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0}},function(e,t,n){"use strict";var d=n(96),p=n(496),h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";t.encode=function(e){for(var t,n,r,i,o,a,s,u=[],c=0,l=e.length,p=l,f="string"!==d.getTypeOf(e);c<e.length;)p=l-c,r=f?(t=e[c++],n=c<l?e[c++]:0,c<l?e[c++]:0):(t=e.charCodeAt(c++),n=c<l?e.charCodeAt(c++):0,c<l?e.charCodeAt(c++):0),i=t>>2,o=(3&t)<<4|n>>4,a=1<p?(15&n)<<2|r>>6:64,s=2<p?63&r:64,u.push(h.charAt(i)+h.charAt(o)+h.charAt(a)+h.charAt(s));return u.join("")},t.decode=function(e){var t,n,r,i,o,a,s,u=0,c=0,l=3*(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"")).length/4;for(e.charAt(e.length-1)===h.charAt(64)&&l--,e.charAt(e.length-2)===h.charAt(64)&&l--,s=p.uint8array?new Uint8Array(l):new Array(l);u<e.length;)t=h.indexOf(e.charAt(u++))<<2|(i=h.indexOf(e.charAt(u++)))>>4,n=(15&i)<<4|(o=h.indexOf(e.charAt(u++)))>>2,r=(3&o)<<6|(a=h.indexOf(e.charAt(u++))),s[c++]=t,64!==o&&(s[c++]=n),64!==a&&(s[c++]=r);return s}},function(a,e,s){"use strict";(function(u){var c=s(96),i=s(2259),o=s(219),l=s(1352),t=s(1348),n=s(646);function r(e,s){return new n.Promise(function(t,n){var r=[],i=e._internalType,o=e._outputType,a=e._mimeType;e.on("data",function(e,t){r.push(e),s&&s(t)}).on("error",function(e){r=[],n(e)}).on("end",function(){try{var e=function(e,t,n){switch(e){case"blob":return c.newBlob(c.transformTo("arraybuffer",t),n);case"base64":return l.encode(t);default:return c.transformTo(e,t)}}(o,function(e,t){var n,r=0,i=null,o=0;for(n=0;n<t.length;n++)o+=t[n].length;switch(e){case"string":return t.join("");case"array":return Array.prototype.concat.apply([],t);case"uint8array":for(i=new Uint8Array(o),n=0;n<t.length;n++)i.set(t[n],r),r+=t[n].length;return i;case"nodebuffer":return u.concat(t);default:throw new Error("concat : unsupported type '"+e+"'")}}(i,r),a);t(e)}catch(e){n(e)}r=[]}).resume()})}function e(e,t,n){var r=t;switch(t){case"blob":case"arraybuffer":r="uint8array";break;case"base64":r="string"}try{this._internalType=r,this._outputType=t,this._mimeType=n,c.checkSupport(r),this._worker=e.pipe(new i(r)),e.lock()}catch(e){this._worker=new o("error"),this._worker.error(e)}}e.prototype={accumulate:function(e){return r(this,e)},on:function(e,t){var n=this;return"data"===e?this._worker.on(e,function(e){t.call(n,e.data,e.meta)}):this._worker.on(e,function(){c.delay(t,arguments,n)}),this},resume:function(){return c.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(e){if(c.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new t(this,{objectMode:"nodebuffer"!==this._outputType},e)}},a.exports=e}).call(this,s(83).Buffer)},function(e,t,n){"use strict";t.base64=!1,t.binary=!1,t.dir=!1,t.createFolders=!0,t.date=null,t.compression=null,t.compressionOptions=null,t.comment=null,t.unixPermissions=null,t.dosPermissions=null},function(e,t,n){"use strict";var r=n(96),i=n(219);function o(e){i.call(this,"DataWorker");var t=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,e.then(function(e){t.dataIsReady=!0,t.data=e,t.max=e&&e.length||0,t.type=r.getTypeOf(e),t.isPaused||t._tickAndRepeat()},function(e){t.error(e)})}r.inherits(o,i),o.prototype.cleanUp=function(){i.prototype.cleanUp.call(this),this.data=null},o.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,r.delay(this._tickAndRepeat,[],this)),!0)},o.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(r.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},o.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var e=null,t=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":e=this.data.substring(this.index,t);break;case"uint8array":e=this.data.subarray(this.index,t);break;case"array":case"nodebuffer":e=this.data.slice(this.index,t)}return this.index=t,this.push({data:e,meta:{percent:this.max?this.index/this.max*100:0}})},e.exports=o},function(e,t,n){"use strict";var r=n(96),i=n(219);function o(e){i.call(this,"DataLengthProbe for "+e),this.propName=e,this.withStreamInfo(e,0)}r.inherits(o,i),o.prototype.processChunk=function(e){if(e){var t=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=t+e.data.length}i.prototype.processChunk.call(this,e)},e.exports=o},function(e,t,n){"use strict";var r=n(219),i=n(1116);function o(){r.call(this,"Crc32Probe")}n(96).inherits(o,r),o.prototype.processChunk=function(e){this.streamInfo.crc32=i(e.data,this.streamInfo.crc32||0),this.push(e)},e.exports=o},function(e,t,n){"use strict";var r=n(219);t.STORE={magic:"\0\0",compressWorker:function(e){return new r("STORE compression")},uncompressWorker:function(){return new r("STORE decompression")}},t.DEFLATE=n(2262)},function(e,t,n){"use strict";e.exports=function(e,t,n,r){for(var i=65535&e|0,o=e>>>16&65535|0,a=0;0!==n;){for(n-=a=2e3<n?2e3:n;o=o+(i=i+t[r++]|0)|0,--a;);i%=65521,o%=65521}return i|o<<16|0}},function(e,t,n){"use strict";var s=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();e.exports=function(e,t,n,r){var i=s,o=r+n;e^=-1;for(var a=r;a<o;a++)e=e>>>8^i[255&(e^t[a])];return-1^e}},function(e,t,n){"use strict";var u=n(357),i=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch(e){i=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){o=!1}for(var c=new u.Buf8(256),r=0;r<256;r++)c[r]=252<=r?6:248<=r?5:240<=r?4:224<=r?3:192<=r?2:1;function l(e,t){if(t<65537&&(e.subarray&&o||!e.subarray&&i))return String.fromCharCode.apply(null,u.shrinkBuf(e,t));for(var n="",r=0;r<t;r++)n+=String.fromCharCode(e[r]);return n}c[254]=c[254]=1,t.string2buf=function(e){var t,n,r,i,o,a=e.length,s=0;for(i=0;i<a;i++)55296==(64512&(n=e.charCodeAt(i)))&&i+1<a&&56320==(64512&(r=e.charCodeAt(i+1)))&&(n=65536+(n-55296<<10)+(r-56320),i++),s+=n<128?1:n<2048?2:n<65536?3:4;for(t=new u.Buf8(s),i=o=0;o<s;i++)55296==(64512&(n=e.charCodeAt(i)))&&i+1<a&&56320==(64512&(r=e.charCodeAt(i+1)))&&(n=65536+(n-55296<<10)+(r-56320),i++),n<128?t[o++]=n:(n<2048?t[o++]=192|n>>>6:(n<65536?t[o++]=224|n>>>12:(t[o++]=240|n>>>18,t[o++]=128|n>>>12&63),t[o++]=128|n>>>6&63),t[o++]=128|63&n);return t},t.buf2binstring=function(e){return l(e,e.length)},t.binstring2buf=function(e){for(var t=new u.Buf8(e.length),n=0,r=t.length;n<r;n++)t[n]=e.charCodeAt(n);return t},t.buf2string=function(e,t){var n,r,i,o,a=t||e.length,s=new Array(2*a);for(n=r=0;n<a;)if((i=e[n++])<128)s[r++]=i;else if(4<(o=c[i]))s[r++]=65533,n+=o-1;else{for(i&=2===o?31:3===o?15:7;1<o&&n<a;)i=i<<6|63&e[n++],o--;1<o?s[r++]=65533:i<65536?s[r++]=i:(i-=65536,s[r++]=55296|i>>10&1023,s[r++]=56320|1023&i)}return l(s,r)},t.utf8border=function(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;0<=n&&128==(192&e[n]);)n--;return n<0?t:0===n?t:n+c[e[n]]>t?n:t}},function(e,t,n){"use strict";e.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},function(e,t,n){"use strict";e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},function(e,t,n){"use strict";t.LOCAL_FILE_HEADER="PK",t.CENTRAL_FILE_HEADER="PK",t.CENTRAL_DIRECTORY_END="PK",t.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK",t.ZIP64_CENTRAL_DIRECTORY_END="PK",t.DATA_DESCRIPTOR="PK\b"},function(e,t,n){"use strict";var r=n(96),i=n(496),o=n(1366),a=n(2276),s=n(2277),u=n(1368);e.exports=function(e){var t=r.getTypeOf(e);return r.checkSupport(t),"string"!==t||i.uint8array?"nodebuffer"===t?new s(e):i.uint8array?new u(r.transformTo("uint8array",e)):new o(r.transformTo("array",e)):new a(e)}},function(e,t,n){"use strict";var r=n(1367);function i(e){r.call(this,e);for(var t=0;t<this.data.length;t++)e[t]=255&e[t]}n(96).inherits(i,r),i.prototype.byteAt=function(e){return this.data[this.zero+e]},i.prototype.lastIndexOfSignature=function(e){for(var t=e.charCodeAt(0),n=e.charCodeAt(1),r=e.charCodeAt(2),i=e.charCodeAt(3),o=this.length-4;0<=o;--o)if(this.data[o]===t&&this.data[o+1]===n&&this.data[o+2]===r&&this.data[o+3]===i)return o-this.zero;return-1},i.prototype.readAndCheckSignature=function(e){var t=e.charCodeAt(0),n=e.charCodeAt(1),r=e.charCodeAt(2),i=e.charCodeAt(3),o=this.readData(4);return t===o[0]&&n===o[1]&&r===o[2]&&i===o[3]},i.prototype.readData=function(e){if(this.checkOffset(e),0===e)return[];var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},e.exports=i},function(e,t,n){"use strict";var r=n(96);function i(e){this.data=e,this.length=e.length,this.index=0,this.zero=0}i.prototype={checkOffset:function(e){this.checkIndex(this.index+e)},checkIndex:function(e){if(this.length<this.zero+e||e<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+e+"). Corrupted zip ?")},setIndex:function(e){this.checkIndex(e),this.index=e},skip:function(e){this.setIndex(this.index+e)},byteAt:function(e){},readInt:function(e){var t,n=0;for(this.checkOffset(e),t=this.index+e-1;t>=this.index;t--)n=(n<<8)+this.byteAt(t);return this.index+=e,n},readString:function(e){return r.transformTo("string",this.readData(e))},readData:function(e){},lastIndexOfSignature:function(e){},readAndCheckSignature:function(e){},readDate:function(){var e=this.readInt(4);return new Date(Date.UTC(1980+(e>>25&127),(e>>21&15)-1,e>>16&31,e>>11&31,e>>5&63,(31&e)<<1))}},e.exports=i},function(e,t,n){"use strict";var r=n(1366);function i(e){r.call(this,e)}n(96).inherits(i,r),i.prototype.readData=function(e){if(this.checkOffset(e),0===e)return new Uint8Array(0);var t=this.data.subarray(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},e.exports=i},function(e,t,n){e.exports=!n(360)&&!n(583)(function(){return 7!=Object.defineProperty(n(1118)("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){var a=n(499),s=n(584),u=n(2285)(!1),c=n(1123)("IE_PROTO");e.exports=function(e,t){var n,r=s(e),i=0,o=[];for(n in r)n!=c&&a(r,n)&&o.push(n);for(;t.length>i;)a(r,n=t[i++])&&(~u(o,n)||o.push(n));return o}},function(e,t,n){var r=n(648);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t,n){var r=n(1122),i=Math.min;e.exports=function(e){return 0<e?i(r(e),9007199254740991):0}},function(e,t,n){var r=n(500),i=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=i},function(e,t,n){var r=n(650),i=n(324);e.exports=function(e){if(!i(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},function(n,e,t){(function(e){var t="object"==typeof e&&e&&e.Object===Object&&e;n.exports=t}).call(this,t(30))},function(e,t){var n=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return n.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},function(e,t,n){var l=n(2297),p=n(1127),f=n(297),d=n(1128),h=n(1129),v=n(1378),g=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=f(e),r=!n&&p(e),i=!n&&!r&&d(e),o=!n&&!r&&!i&&v(e),a=n||r||i||o,s=a?l(e.length,String):[],u=s.length;for(var c in e)!t&&!g.call(e,c)||a&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||h(c,u))||s.push(c);return s}},function(e,t,n){var r=n(2300),i=n(652),o=n(1131),a=o&&o.isTypedArray,s=a?i(a):r;e.exports=s},function(e,t){e.exports=function(t,n){return function(e){return t(n(e))}}},function(e,t,n){var r=n(2303),i=n(2341),o=n(1143),a=n(297),s=n(2351);e.exports=function(e){return"function"==typeof e?e:null==e?o:"object"==typeof e?a(e)?i(e[0],e[1]):r(e):s(e)}},function(e,t,n){var g=n(1382),m=n(2330),y=n(1383);e.exports=function(e,t,n,r,i,o){var a=1&n,s=e.length,u=t.length;if(s!=u&&!(a&&s<u))return!1;var c=o.get(e);if(c&&o.get(t))return c==t;var l=-1,p=!0,f=2&n?new g:void 0;for(o.set(e,t),o.set(t,e);++l<s;){var d=e[l],h=t[l];if(r)var v=a?r(h,d,l,t,e,o):r(d,h,l,e,t,o);if(void 0!==v){if(v)continue;p=!1;break}if(f){if(!m(t,function(e,t){if(!y(f,t)&&(d===e||i(d,e,n,r,o)))return f.push(t)})){p=!1;break}}else if(d!==h&&!i(d,h,n,r,o)){p=!1;break}}return o.delete(e),o.delete(t),p}},function(e,t,n){var r=n(1137),i=n(2328),o=n(2329);function a(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}a.prototype.add=a.prototype.push=i,a.prototype.has=o,e.exports=a},function(e,t){e.exports=function(e,t){return e.has(t)}},function(e,t,n){var r=n(259).Uint8Array;e.exports=r},function(e,t,n){var r=n(1386),i=n(1140),o=n(651);e.exports=function(e){return r(e,o,i)}},function(e,t,n){var i=n(1139),o=n(297);e.exports=function(e,t,n){var r=t(e);return o(e)?r:i(r,n(e))}},function(e,t){e.exports=function(){return[]}},function(e,t,n){var r=n(324);e.exports=function(e){return e==e&&!r(e)}},function(e,t){e.exports=function(t,n){return function(e){return null!=e&&e[t]===n&&(void 0!==n||t in Object(e))}}},function(e,t,n){"use strict";var b=n(649),w=n(358),S=n(1391),_=n(497),C=n(654),E=n(2358),x=n(764),O=n(2360),k=n(199)("iterator"),P=!([].keys&&"next"in[].keys()),T="values",R=function(){return this};e.exports=function(e,t,n,r,i,o,a){E(n,t,r);var s,u,c,l=function(e){if(!P&&e in h)return h[e];switch(e){case"keys":case T:return function(){return new n(this,e)}}return function(){return new n(this,e)}},p=t+" Iterator",f=i==T,d=!1,h=e.prototype,v=h[k]||h["@@iterator"]||i&&h[i],g=v||l(i),m=i?f?l("entries"):g:void 0,y="Array"==t&&h.entries||v;if(y&&(c=O(y.call(new e)))!==Object.prototype&&c.next&&(x(c,p,!0),b||"function"==typeof c[k]||_(c,k,R)),f&&v&&v.name!==T&&(d=!0,g=function(){return v.call(this)}),b&&!a||!P&&!d&&h[k]||_(h,k,g),C[t]=g,C[p]=R,i)if(s={values:f?g:l(T),keys:o?g:l("keys"),entries:m},a)for(u in s)u in h||S(h,u,s[u]);else w(w.P+w.F*(P||d),t,s);return s}},function(e,t,n){e.exports=n(497)},function(e,t,r){var i=r(323),o=r(2359),a=r(1125),s=r(1123)("IE_PROTO"),u=function(){},c="prototype",l=function(){var e,t=r(1118)("iframe"),n=a.length;for(t.style.display="none",r(1393).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),l=e.F;n--;)delete l[c][a[n]];return l()};e.exports=Object.create||function(e,t){var n;return null!==e?(u[c]=i(e),n=new u,u[c]=null,n[s]=e):n=l(),void 0===t?n:o(n,t)}},function(e,t,n){var r=n(183).document;e.exports=r&&r.documentElement},function(e,t,n){var r=n(1395),i=n(199)("iterator"),o=n(654);e.exports=n(167).getIteratorMethod=function(e){if(null!=e)return e[i]||e["@@iterator"]||o[r(e)]}},function(e,t,n){var i=n(648),o=n(199)("toStringTag"),a="Arguments"==i(function(){return arguments}());e.exports=function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),o))?n:a?i(t):"Object"==(r=i(t))&&"function"==typeof t.callee?"Arguments":r}},function(e,t,n){var r=n(1370),i=n(1125).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},function(e,t){},function(e,t,n){var i=n(323),o=n(753),a=n(199)("species");e.exports=function(e,t){var n,r=i(e).constructor;return void 0===r||null==(n=i(r)[a])?t:o(n)}},function(e,t,n){var r,i,o,a=n(752),s=n(2382),u=n(1393),c=n(1118),l=n(183),p=l.process,f=l.setImmediate,d=l.clearImmediate,h=l.MessageChannel,v=l.Dispatch,g=0,m={},y="onreadystatechange",b=function(){var e=+this;if(m.hasOwnProperty(e)){var t=m[e];delete m[e],t()}},w=function(e){b.call(e.data)};f&&d||(f=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return m[++g]=function(){s("function"==typeof e?e:Function(e),t)},r(g),g},d=function(e){delete m[e]},"process"==n(648)(p)?r=function(e){p.nextTick(a(b,e,1))}:v&&v.now?r=function(e){v.now(a(b,e,1))}:h?(o=(i=new h).port2,i.port1.onmessage=w,r=a(o.postMessage,o,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(r=function(e){l.postMessage(e+"","*")},l.addEventListener("message",w,!1)):r=y in c("script")?function(e){u.appendChild(c("script"))[y]=function(){u.removeChild(this),b.call(e)}}:function(e){setTimeout(a(b,e,1),0)}),e.exports={set:f,clear:d}},function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},function(e,t,n){var r=n(323),i=n(498),o=n(1149);e.exports=function(e,t){if(r(e),i(t)&&t.constructor===e)return t;var n=o.f(e);return(0,n.resolve)(t),n.promise}},function(e,t,n){"use strict";var o=n(2398);e.exports=function(e,t){for(var n,r=0,i="";!n;)i+=e(t>>4*r&15|o()),n=t<Math.pow(16,r+1),r++;return i}},function(e,t,n){var r=n(1143),i=n(2405),o=n(2407);e.exports=function(e,t){return o(i(e,t,r),e+"")}},function(e,t,n){var r=n(2413),i=n(2414),o=n(2415);e.exports=function(e,t,n){return t==t?o(e,t,n):r(e,i,n)}},function(e,t){e.exports=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}},function(e,t,n){var r=n(1386),i=n(1407),o=n(1409);e.exports=function(e){return r(e,o,i)}},function(e,t,n){var r=n(1139),i=n(1408),o=n(1140),a=n(1387),s=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)r(t,o(e)),e=i(e);return t}:a;e.exports=s},function(e,t,n){var r=n(1379)(Object.getPrototypeOf,Object);e.exports=r},function(e,t,n){var r=n(1377),i=n(2419),o=n(1133);e.exports=function(e){return o(e)?r(e,!0):i(e)}},function(e,t){},function(e,t,n){"use strict";var b=n(1154),w=n(655),S=n(2460),_=n(586),C=n(658),E=n(2461),x=n(1159),O=n(2467),k=n(260)("iterator"),P=!([].keys&&"next"in[].keys()),T="values",R=function(){return this};e.exports=function(e,t,n,r,i,o,a){E(n,t,r);var s,u,c,l=function(e){if(!P&&e in h)return h[e];switch(e){case"keys":case T:return function(){return new n(this,e)}}return function(){return new n(this,e)}},p=t+" Iterator",f=i==T,d=!1,h=e.prototype,v=h[k]||h["@@iterator"]||i&&h[i],g=v||l(i),m=i?f?l("entries"):g:void 0,y="Array"==t&&h.entries||v;if(y&&(c=O(y.call(new e)))!==Object.prototype&&c.next&&(x(c,p,!0),b||"function"==typeof c[k]||_(c,k,R)),f&&v&&v.name!==T&&(d=!0,g=function(){return v.call(this)}),b&&!a||!P&&!d&&h[k]||_(h,k,g),C[t]=g,C[p]=R,i)if(s={values:f?g:l(T),keys:o?g:l("keys"),entries:m},a)for(u in s)u in h||S(h,u,s[u]);else w(w.P+w.F*(P||d),t,s);return s}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){var r=n(2464),i=n(1418);e.exports=Object.keys||function(e){return r(e,i)}},function(e,t,n){var r=n(772);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t,n){var r=n(1152),i=Math.min;e.exports=function(e){return 0<e?i(r(e),9007199254740991):0}},function(e,t,n){var r=n(325),i=n(220),o="__core-js_shared__",a=i[o]||(i[o]={});(e.exports=function(e,t){return a[e]||(a[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:n(1154)?"pure":"global",copyright:"Â© 2019 Denis Pushkarev (zloirock.ru)"})},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,n){var r=n(220).document;e.exports=r&&r.documentElement},function(e,t,n){var r=n(1153);e.exports=function(e){return Object(r(e))}},function(e,t,n){var i=n(772),o=n(260)("toStringTag"),a="Arguments"==i(function(){return arguments}());e.exports=function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),o))?n:a?i(t):"Object"==(r=i(t))&&"function"==typeof t.callee?"Arguments":r}},function(e,t,n){var i=n(501),o=n(769),a=n(260)("species");e.exports=function(e,t){var n,r=i(e).constructor;return void 0===r||null==(n=i(r)[a])?t:o(n)}},function(e,t,n){var r,i,o,a=n(768),s=n(2478),u=n(1419),c=n(1156),l=n(220),p=l.process,f=l.setImmediate,d=l.clearImmediate,h=l.MessageChannel,v=l.Dispatch,g=0,m={},y="onreadystatechange",b=function(){var e=+this;if(m.hasOwnProperty(e)){var t=m[e];delete m[e],t()}},w=function(e){b.call(e.data)};f&&d||(f=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return m[++g]=function(){s("function"==typeof e?e:Function(e),t)},r(g),g},d=function(e){delete m[e]},"process"==n(772)(p)?r=function(e){p.nextTick(a(b,e,1))}:v&&v.now?r=function(e){v.now(a(b,e,1))}:h?(o=(i=new h).port2,i.port1.onmessage=w,r=a(o.postMessage,o,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(r=function(e){l.postMessage(e+"","*")},l.addEventListener("message",w,!1)):r=y in c("script")?function(e){u.appendChild(c("script"))[y]=function(){u.removeChild(this),b.call(e)}}:function(e){setTimeout(a(b,e,1),0)}),e.exports={set:f,clear:d}},function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},function(e,t,n){var r=n(501),i=n(656),o=n(1160);e.exports=function(e,t){if(r(e),i(t)&&t.constructor===e)return t;var n=o.f(e);return(0,n.resolve)(t),n.promise}},function(e,t,n){"use strict";var r,a=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=function(i){function o(e,t){var n=this,r=o.extractMessage(e)+": "+JSON.stringify({response:e,request:t});return(n=i.call(this,r)||this).response=e,n.request=t,"function"==typeof Error.captureStackTrace&&Error.captureStackTrace(n,o),n}return a(o,i),o.extractMessage=function(t){try{return t.errors[0].message}catch(e){return"GraphQL Error (Code: "+t.status+")"}},o}(Error);t.ClientError=i},,,,,,function(e,t,f){"use strict";var n=f(21),g=f.n(n),r=f(504),m=f.n(r),i=f(1163),y=f.n(i),o=f(326),b=f.n(o),a=f(1164),d=f.n(a),s=f(222),h=f.n(s),u=f(24),w=f.n(u),c=f(64),S=f.n(c),l=f(327),_=f.n(l),p=f(1433),v=f.n(p),C=f(1434),E=f.n(C),x=f(1165),O=f.n(x),k=f(1435),P=f.n(k),T=f(662),R=f.n(T),A=f(1166),I=f.n(A),M=f(1167),N=f.n(M),D=f(663),j=f.n(D),L=(f(2440),f(2447),f(800)),B=f.n(L),F=f(1436),z=f.n(F);function U(e){var t=e.sdkVersion,n=e.snackId,r=e.channel,i=e.host,o=void 0;return o=i.includes("snack.expo.io")?i.replace("snack.expo.io","expo.io"):i.includes("next-snack.expo.io")?i.replace("next-snack.expo.io","expo.io"):i,n?n.startsWith("@")?"exp://"+o+"/"+n+"+"+r:"exp://"+o+"/@snack/"+n+"+"+r:"exp://"+o+"/@snack/sdk."+t+"-"+r}var H,W=null,V=(H=S()(w.a.mark(function e(t){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.deviceId||t.user.idToken||t.user.sessionSecret){e.next=2;break}return e.abrupt("return",new h.a(function(){}));case 2:return q(),W=setInterval(function(){Y(t)},4e4),e.abrupt("return",Y(t));case 5:case"end":return e.stop()}},e,this)})),function(e){return H.apply(this,arguments)});function q(){clearInterval(W),W=null}var G,K,X,Y=(G=S()(w.a.mark(function e(t){var n,r,i,o=t.name,a=t.snackId,s=t.sdkVersion,u=t.channel,c=t.host,l=t.apiUrl,p=t.user,f=t.deviceId;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(p||f){e.next=2;break}return e.abrupt("return");case 2:return n=U({snackId:a,sdkVersion:s,channel:u,host:c}),r=l+"/--/api/v2/development-sessions/notify-alive",i=o||"Unnamed Snack",e.next=7,J(p,f)(r,{data:{session:{description:a?i+" ("+a+")":i,hostname:"snack",config:{},url:n,source:"snack"}}});case 7:case"end":return e.stop()}},e,this)})),function(e){return G.apply(this,arguments)}),J=function(c,l){return n=S()(w.a.mark(function e(t,n){var r,i,o,a,s,u;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.idToken,i=c.sessionSecret,o=_()({},r?{Authorization:"Bearer "+r}:{},i?{"Expo-Session":i}:{},{"Content-Type":"application/json"}),a={method:"post",body:b()(n),headers:o},s=t,l&&(s=t+"?deviceId="+l),e.next=7,fetch(s,a);case 7:if((u=e.sent).ok){e.next=10;break}throw Error(u.statusText);case 10:return e.abrupt("return",u);case 11:case"end":return e.stop()}},e,void 0)})),function(e,t){return n.apply(this,arguments)};var n},$=f(502),Q=(f(503),f(2449)),Z={getFileDiff:function(e,t){var n=Q.createPatch("code",e,t,"","",{context:0});if(n)return n;throw new Error("Error creating a file diff")},calcPayloadSize:function(e,t){return encodeURIComponent(e+b()(t)).length+5e3},uploadCodeToS3:(K=S()(w.a.mark(function e(t,n){var r,i,o;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n+"/--/api/v2/snack/uploadCode",e.prev=1,e.next=4,fetch(r,{method:"POST",body:b()({code:t}),headers:{"Content-Type":"application/json"}});case 4:return i=e.sent,e.next=7,i.json();case 7:return o=e.sent,e.abrupt("return",o.url);case 11:throw e.prev=11,e.t0=e.catch(1),new Error("Unable to upload code to S3: "+e.t0.message);case 14:case"end":return e.stop()}},e,void 0,[[1,11]])})),function(e,t){return K.apply(this,arguments)}),uploadAssetToS3:(X=S()(w.a.mark(function e(t,n){var r,i,o,a;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n+"/--/api/v2/snack/uploadAsset",(i=new FormData).append("asset",t,t.name),e.prev=3,e.next=6,fetch(r,{method:"POST",body:i});case 6:return o=e.sent,e.next=9,o.json();case 9:return a=e.sent,e.abrupt("return",a.url);case 13:throw e.prev=13,e.t0=e.catch(3),new Error("Unable to upload asset to S3: "+e.t0.message);case 16:case"end":return e.stop()}},e,void 0,[[3,13]])})),function(e,t){return X.apply(this,arguments)})},ee=f(661),te=f(799),ne=null;O.a.characters("0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ!_");var re=function(){var t,n,r,i,o,a,s,u,c,l,p,v=this;this.errorListeners=[],this.logListeners=[],this.presenceListeners=[],this.stateListeners=[],this.startAsync=S()(w.a.mark(function e(){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:v.isStarted=!0,v._subscribe(),v._startDevSessionAsync();case 3:case"end":return e.stop()}},e,v)})),this.stopAsync=S()(w.a.mark(function e(){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:v.s3url={},v._unsubscribe(),v._stopDevSession();case 3:case"end":return e.stop()}},e,v)})),this._startDevSessionAsync=function(){return v.disableDevSession?new h.a(function(){}):V({name:v.name,snackId:v.snackId,sdkVersion:v.sdkVersion,channel:v.channel,host:v.host,apiUrl:v.expoApiUrl,user:v.user,deviceId:v.deviceId})},this._updateDevSession=function(){return v._startDevSessionAsync()},this._stopDevSession=function(){q()},this.getUrlAsync=S()(w.a.mark(function e(){var t;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=U({sdkVersion:v.sdkVersion,snackId:v.snackId,channel:v.channel,host:v.host}),e.abrupt("return",t);case 2:case"end":return e.stop()}},e,v)})),this.uploadAssetAsync=(t=S()(w.a.mark(function e(t){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Z.uploadAssetToS3(t,v.expoApiUrl));case 1:case"end":return e.stop()}},e,v)})),function(e){return t.apply(this,arguments)}),this.sendCodeAsync=(n=S()(w.a.mark(function e(t){var n,r;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(n in v.files)t.hasOwnProperty(n)||(delete v.diff[n],delete v.files[n]);e.t0=w.a.keys(t);case 2:if((e.t1=e.t0()).done){e.next=12;break}if(r=e.t1.value,v.files[r]&&v.files[r]===t[r]){e.next=10;break}if(v.files[r]=t[r],"ASSET"===v.files[r].type&&"object"===d()(v.files[r].contents))return e.next=9,Z.uploadAssetToS3(v.files[r].contents,v.expoApiUrl);e.next=10;break;case 9:v.files[r].contents=e.sent;case 10:e.next=2;break;case 12:v._publish(),v._sendStateEvent();case 14:case"end":return e.stop()}},e,v)})),function(e){return n.apply(this,arguments)}),this.downloadAsync=S()(w.a.mark(function e(){var t,n,r;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=v.expoApiUrl+"/--/api/v2/snack/download",e.next=3,v.saveAsync();case 3:return n=e.sent,r=n.id,e.abrupt("return",{url:t+"/"+r});case 6:case"end":return e.stop()}},e,v)})),this.reloadSnack=function(){v.pubnub.publish({channel:v.channel,message:{type:"RELOAD_SNACK"}},function(e,t){e.error?v._error("Error reloading app"):v._log("Reloaded successfully!")})},this.setSdkVersion=function(e){v.sdkVersion!==e&&(v.sdkVersion=e,v._sendStateEvent(),v._updateDevSession())},this.setName=function(e){v.name!==e&&(v.name=e,v._updateDevSession(),v._sendStateEvent())},this.setUser=function(e){v.user!==e&&(v.user=e,v._updateDevSession(),v._sendStateEvent())},this.setDescription=function(e){v.description!==e&&(v.description=e,v._sendStateEvent())},this.setSessionSecret=function(e){console.warn("sessionSecret has been deprecrated. see options.user"),v.setUser({sessionSecret:e}),v._updateDevSession(),v._sendStateEvent()},this.setAuthorizationToken=function(e){console.warn("authorizationToken has been deprecrated. see options.user"),v.setUser({idToken:e}),v._updateDevSession(),v._sendStateEvent()},this.setDeviceId=function(e){return v.deviceId=e,v._updateDevSession()},this.addErrorListener=function(e){return v.errorListeners.push(e),{remove:function(){R()(v.errorListeners,e)}}},this.addLogListener=function(e){return v.logListeners.push(e),{remove:function(){R()(v.logListeners,e)}}},this.addPresenceListener=function(e){return v.presenceListeners.push(e),{remove:function(){R()(v.presenceListeners,e)}}},this.addStateListener=function(e){return v.stateListeners.push(e),{remove:function(){R()(v.stateListeners,e)}}},this.saveAsync=S()(w.a.mark(function e(){var t,n,r,i,o,a,s=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{isDraft:!1};return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=v.expoApiUrl+"/--/api/v2/snack/save",(n={sdkVersion:v.sdkVersion,name:v.name,description:v.description}).dependencies=Object(te.convertDependencyFormat)(v.dependencies,!1),r={manifest:n,code:v.files,dependencies:v.dependencies,isDraft:s.isDraft},e.prev=4,e.next=7,fetch(t,{method:"POST",body:b()(r),headers:_()({"Content-Type":"application/json"},v.user.idToken?{Authorization:"Bearer "+v.user.idToken}:{},v.user.sessionSecret?{"Expo-Session":v.user.sessionSecret}:{})});case 7:return i=e.sent,e.next=10,i.json();case 10:if((o=e.sent).id)return v.initialState=j()({sdkVersion:v.sdkVersion,files:v.files,name:v.name,description:v.description,dependencies:v.dependencies}),v._sendStateEvent(),a=void 0,a=o.id.match(/.*\/.*/)?o.id:"@snack/"+o.id,v._requestStatus(),v.snackId=o.id,e.abrupt("return",{id:o.id,url:"https://expo.io/"+a});e.next=21;break;case 21:throw new Error(o.errors&&o.errors[0]&&o.errors[0].message||"Failed to save code");case 22:e.next=28;break;case 24:throw e.prev=24,e.t0=e.catch(4),console.error(e.t0),e.t0;case 28:case"end":return e.stop()}},e,v,[[4,24]])})),this._requestStatus=function(){if(v.pubnub){v.pubnub.publish({channel:v.channel,message:{type:"REQUEST_STATUS"}},function(e,t){e.error?v._error("Error requesting status: "+e.error):v._log("Requested Status")})}},this.getState=function(){return{files:v.files,sdkVersion:v.sdkVersion,name:v.name,description:v.description,dependencies:v.dependencies,isSaved:v._isSaved(),isResolving:v.isResolving,loadingMessage:v.loadingMessage}},this.getChannel=function(){return v.channel},this.supportsFeature=function(e){return Object($.sdkSupportsFeature)(v.sdkVersion,e)},this.addModuleAsync=(r=S()(w.a.mark(function e(t,n){var r;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=function(){var e=S()(w.a.mark(function e(){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v._addModuleAsync(t,n,v.dependencies);case 3:v.dependencies=e.sent;case 4:return e.prev=4,v._sendStateEvent(),v._publish(),e.finish(4);case 8:case"end":return e.stop()}},e,v,[[0,,4,8]])}));return function(){return e.apply(this,arguments)}}(),e.abrupt("return",v._lastInstall=v._lastInstall.then(r,r));case 2:case"end":return e.stop()}},e,v)})),function(e,t){return r.apply(this,arguments)}),this.removeModuleAsync=(i=S()(w.a.mark(function e(n){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:v.dependencies=N()(v.dependencies,function(e,t){return t!==n}),v._sendStateEvent(),v._publish();case 3:case"end":return e.stop()}},e,v)})),function(e){return i.apply(this,arguments)}),this.syncDependenciesAsync=(o=S()(w.a.mark(function e(u,c){var t;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=function(){var e=S()(w.a.mark(function e(){var t,n,r,i,o,a,s;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=N()(v.dependencies,function(e,t){return u.hasOwnProperty(t)}),r=!(n=!0),i=void 0,e.prev=4,o=y()(m()(u));case 6:if(n=(a=o.next()).done){e.next=20;break}return s=a.value,e.prev=8,e.next=11,v._addModuleAsync(s,u[s],t);case 11:t=e.sent,e.next=17;break;case 14:e.prev=14,e.t0=e.catch(8),c(s,e.t0);case 17:n=!0,e.next=6;break;case 20:e.next=26;break;case 22:e.prev=22,e.t1=e.catch(4),r=!0,i=e.t1;case 26:e.prev=26,e.prev=27,!n&&o.return&&o.return();case 29:if(e.prev=29,r)throw i;e.next=32;break;case 32:return e.finish(29);case 33:return e.finish(26);case 34:I()(t,v.dependencies)||(v.dependencies=t,v._sendStateEvent(),v._publish());case 35:case"end":return e.stop()}},e,v,[[4,22,26,34],[8,14],[27,,29,33]])}));return function(){return e.apply(this,arguments)}}(),e.abrupt("return",v._lastModuleSync=v._lastModuleSync.then(t,t));case 2:case"end":return e.stop()}},e,v)})),function(e,t){return o.apply(this,arguments)}),this._lastInstall=h.a.resolve(),this._lastModuleSync=h.a.resolve(),this._sendErrorEvent=function(t){v.errorListeners.forEach(function(e){return e(t)})},this._sendLogEvent=function(t){v.logListeners.forEach(function(e){return e(t)})},this._sendPresenceEvent=function(t,n){v.presenceListeners.forEach(function(e){return e({device:t,status:n})})},this._isSaved=function(){var e=v.files,t=v.name,n=v.description,r=v.dependencies,i=v.sdkVersion,o=v.initialState;return I()(o,{files:e,name:t,description:n,dependencies:r,sdkVersion:i})},this._sendStateEvent=function(){v.stateListeners.forEach(function(e){return e(v.getState())})},this._subscribe=function(){v.pubnub.subscribe({channels:[v.channel],withPresence:!0})},this._unsubscribe=function(){v.pubnub.unsubscribe({channels:[v.channel]})},this._handleUploadCodeAsync=S()(w.a.mark(function e(){var t,n,r;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],e.next=3,v._uploadHelper(t);case 3:if(!(31500<(n=Z.calcPayloadSize(v.channel,{diff:v.diff,s3url:v.s3url})))){e.next=16;break}t.sort(function(e,t){return e.size-t.size});case 6:if(31500<n&&t.length)return r=t.pop().name,v.s3code[r]=v.files[r].contents,v.diff[r]="",e.next=12,Z.uploadCodeToS3(v.files[r].contents,v.expoApiUrl);e.next=16;break;case 12:v.s3url[r]=e.sent,n=Z.calcPayloadSize(v.channel,{diff:v.diff,s3url:v.s3url}),e.next=6;break;case 16:case"end":return e.stop()}},e,v)})),this._uploadHelper=(a=S()(w.a.mark(function e(n){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.all(m()(v.files).map(function(){var t=S()(w.a.mark(function e(t){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(v.files[t]){e.next=4;break}return e.abrupt("return");case 4:if("object"===d()(v.files[t].contents))return v.s3code[t]=v.files[t].contents,v.diff[t]="",e.next=9,Z.uploadAssetToS3(v.files[t].contents,v.expoApiUrl);e.next=12;break;case 9:v.s3url[t]=e.sent,e.next=13;break;case 12:v.files[t].contents.startsWith("https://snack-code-uploads")?(v.diff[t]="",v.s3code[t]=v.files[t].contents,v.s3url[t]=v.files[t].contents):v.s3url[t]?v.diff[t]=Z.getFileDiff(v.s3code[t],v.files[t].contents):v.diff[t]=Z.getFileDiff("",v.files[t].contents);case 13:n.push({name:t,size:v.diff[t].length});case 14:case"end":return e.stop()}},e,v)}));return function(e){return t.apply(this,arguments)}}()));case 2:case"end":return e.stop()}},e,v)})),function(e){return a.apply(this,arguments)}),this._handleLogMessage=function(e){var t=e.payload||[],n={device:e.device,method:e.method,message:t.join(" "),arguments:t};v._sendLogEvent(n)},this._handleErrorMessage=function(e){var t=e.error,n=e.device;if(t){var r=JSON.parse(t),i={message:r.message||"",device:n,stack:r.stack};r.line&&(i.startLine=i.endLine=r.line),r.column&&(i.startColumn=i.endColumn=r.column),r.loc&&(i.startLine=i.endLine=r.loc.line,i.startColumn=i.endColumn=r.loc.column),v._sendErrorEvent([i])}else v._sendErrorEvent([])},this._handleResendCodeMessage=function(){v._publishNotDebouncedAsync()},this._handleStatusReport=(s=S()(w.a.mark(function e(t){var n,r,i,o,a,s;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=v.expoApiUrl+"/--/api/v2/snack/updateMetadata",r=t.previewLocation,i=t.status,o={id:v.snackId,previewLocation:r,status:i},e.prev=3,e.next=6,fetch(n,{method:"POST",body:b()(o),headers:{"Content-Type":"application/json"}});case 6:return a=e.sent,e.next=9,a.json();case 9:if((s=e.sent).id)return e.abrupt("return",{id:s.id});e.next=14;break;case 14:throw new Error(s.errors&&s.errors[0]&&s.errors[0].message||"Failed to save code");case 15:e.next=21;break;case 17:throw e.prev=17,e.t0=e.catch(3),console.error(e.t0),e.t0;case 21:case"end":return e.stop()}},e,v,[[3,17]])})),function(e){return s.apply(this,arguments)}),this._handleJoinMessage=function(e){v._publishNotDebouncedAsync(),v._sendPresenceEvent(e,"join")},this._handleLeaveMessage=function(e){v._sendPresenceEvent(e,"leave")},this._publishNotDebouncedAsync=S()(w.a.mark(function e(){var t,n;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!v.loadingMessage){e.next=4;break}v._sendLoadingEvent(),e.next=12;break;case 4:if(v.isResolving)return e.abrupt("return");e.next=6;break;case 6:return t=v._getAnalyticsMetadata(),n=void 0,e.next=10,v._handleUploadCodeAsync();case 10:n={type:"CODE",diff:j()(v.diff),s3url:j()(v.s3url),dependencies:v.dependencies,metadata:t},v.pubnub.publish({channel:v.channel,message:n},function(e,t){e.error?v._error("Error publishing code: "+e.error):v._log("Published successfully!")});case 12:case"end":return e.stop()}},e,v)})),this._sendLoadingEvent=function(){if(v.loadingMessage){var e={type:"LOADING_MESSAGE",message:v.loadingMessage};v.pubnub&&v.pubnub.publish({channel:v.channel,message:e},function(e,t){e.error?v._error("Error publishing loading event: "+e.error):v._log("Sent loading event with message: "+(v.loadingMessage||""))})}},this._getAnalyticsMetadata=function(){var e={expoSdkVersion:v.sdkVersion};try{e=_()({},e,{webSnackSdkVersion:f(2450).version})}catch(e){}if("undefined"!=typeof window&&(e=_()({},e,{webHostname:window.location.hostname})),"undefined"!=typeof navigator){if(!ne)try{ne=f(2451)}catch(e){}if(ne){var t=ne.parse(navigator.userAgent),n=t.os||{};e=_()({},e,{webOSArchitecture:n.architecture,webOSFamily:n.family,webOSVersion:n.version,webLayoutEngine:t.layout,webDeviceType:t.product,webBrowser:t.name,webBrowserVersion:t.version,webDescription:t.description})}}return e},this._publish=P()(this._publishNotDebouncedAsync,1e3),this._error=function(e){v.isVerbose&&console.error(e)},this._log=function(e){v.isVerbose&&console.log(e)},this._tryFetchDependencyAsync=(u=S()(w.a.mark(function e(t,n){var r,i,o,a;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:i=void(r=0);case 2:if(i&&!i.pending){e.next=25;break}if(30<r)throw new Error("Request timed out");e.next=5;break;case 5:return r++,v._log("Requesting dependency: "+v.snackagerUrl+"/bundle/"+t+(n?"@"+n:"")+"?platforms=ios,android,web"),e.next=9,fetch(v.snackagerUrl+"/bundle/"+t+(n?"@"+n:"")+"?platforms=ios,android,web");case 9:if(200===(o=e.sent).status)return e.next=13,o.json();e.next=19;break;case 13:if((i=e.sent).pending)return e.next=17,new h.a(function(e){return setTimeout(e,5e3)});e.next=17;break;case 17:e.next=23;break;case 19:return e.next=21,o.text();case 21:throw a=e.sent,new Error(a);case 23:e.next=2;break;case 25:return e.abrupt("return",i);case 26:case"end":return e.stop()}},e,v)})),function(e,t){return u.apply(this,arguments)}),this._dependencyPromises={},this._maybeFetchDependencyAsync=(c=S()(w.a.mark(function e(t,n){var r,i,o,a,s,u,c;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t+"-"+n,i=/^(?:@([^/?]+)\/)?([^@/?]+)(?:\/([^@]+))?/.exec(t)){e.next=4;break}return e.abrupt("return",h.a.reject(new Error("Failed to parse the package name: '"+t+"'")));case 4:if(o=(i[1]?"@"+i[1]+"/":"")+i[2],a=z()(o).validForOldPackages,s=!n||"latest"===n||B.a.validRange(n),a&&s){e.next=10;break}return u=a?new Error("Invalid version for "+o+"@"+n):new Error(o+" is not a valid package"),e.abrupt("return",h.a.reject(u));case 10:return c=v._dependencyPromises[r]||v._tryFetchDependencyAsync(t,n),(v._dependencyPromises[r]=c).catch(function(){return v._dependencyPromises[r]=null}),e.abrupt("return",c);case 14:case"end":return e.stop()}},e,v)})),function(e,t){return c.apply(this,arguments)}),this._checkS3ForDepencencyAsync=(l=S()(w.a.mark(function e(t,n){var i,r,o;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=(t+"@"+n).replace(/\//g,"~"),r=["ios","android"].map(function(){var t=S()(w.a.mark(function e(t){var n,r;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=v.snackagerCloudfrontUrl+"/"+encodeURIComponent(i)+"-"+t+"/.done",e.next=4,fetch(n);case 4:return r=e.sent,e.abrupt("return",r.status<400);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",!1);case 11:case"end":return e.stop()}},e,v,[[0,8]])}));return function(e){return t.apply(this,arguments)}}()),e.next=4,h.a.all(r);case 4:return o=e.sent,e.abrupt("return",o.every(function(e){return e}));case 6:case"end":return e.stop()}},e,v)})),function(e,t){return l.apply(this,arguments)}),this._addModuleAsync=(p=S()(w.a.mark(function e(t,n,r){var i,o,a,s,u,c,l,p,f,d,h;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(Object(ee.a)(t,v.sdkVersion))throw new Error("Module is already preloaded: "+t);e.next=2;break;case 2:if(!(i=r[t])||i.version!==n&&i.resolved!==n){e.next=5;break}return e.abrupt("return",r);case 5:return o="Resolving module: "+(n?t+"@"+n:t),v.isResolving=!0,v.loadingMessage=o,v._sendLoadingEvent(),v._sendStateEvent(),v._log(o),e.prev=11,e.next=14,v._maybeFetchDependencyAsync(t,n||"latest");case 14:if(a=e.sent,s=a.dependencies,u=_()({},r,g()({},a.name,{version:n||a.version,resolved:a.version,peerDependencies:s?m()(s).reduce(function(e,t){return e[t]={version:s[t]},e},{}):{}})),!s){e.next=48;break}v._log("Resolving peer dependencies: "+b()(s)),l=!(c=!0),p=void 0,e.prev=22,f=y()(m()(s));case 24:if(c=(d=f.next()).done){e.next=34;break}if(h=d.value,Object(ee.a)(h,v.sdkVersion)||u[h])return e.abrupt("continue",31);e.next=28;break;case 28:return e.next=30,v._addModuleAsync(h,s[h]||"latest",u);case 30:u=e.sent;case 31:c=!0,e.next=24;break;case 34:e.next=40;break;case 36:e.prev=36,e.t0=e.catch(22),l=!0,p=e.t0;case 40:e.prev=40,e.prev=41,!c&&f.return&&f.return();case 43:if(e.prev=43,l)throw p;e.next=46;break;case 46:return e.finish(43);case 47:return e.finish(40);case 48:return e.abrupt("return",u);case 51:throw e.prev=51,e.t1=e.catch(11),v._error("Error resolving module: "+e.t1.message),v.dependencyErrorListener&&v.dependencyErrorListener("Error fetching "+t+"@"+(n||"latest")+": "+e.t1.message),e.t1;case 56:return e.prev=56,v.isResolving=!1,v.loadingMessage="",v._sendLoadingEvent(),v._sendStateEvent(),e.finish(56);case 62:case"end":return e.stop()}},e,v,[[11,51,56,62],[22,36,40,48],[41,,43,47]])})),function(e,t,n){return p.apply(this,arguments)})};t.a=function e(t){var i=this;if(v()(this,e),re.call(this),this.disableDevSession=t.disableDevSession||!1,this.isResolving=!1,this.files=t.files,this.diff={},this.s3url={},this.s3code={},this.sdkVersion=t.sdkVersion||$.defaultSDKVersion,this.isVerbose=!!t.verbose,this.channel=t.sessionId||O.a.generate(),this.host=t.host||"expo.io",this.expoApiUrl="https://expo.io",this.snackagerUrl="https://snackager.expo.io",this.snackagerCloudfrontUrl="https://d37p21p3n8r8ug.cloudfront.net",t.authorizationToken&&console.warn("authorizationToken has been deprecrated. see options.user"),t.sessionSecret&&console.warn("sessionSecret has been deprecrated. see options.user"),this.user=t.user||{},this.user=_()({idToken:t.authorizationToken,sessionSecret:t.sessionSecret},this.user),this.deviceId=t.deviceId,this.snackId=t.snackId,this.name=t.name,this.description=t.description,this.dependencies=t.dependencies||{},this.initialState=j()({files:t.files,name:this.name,description:this.description,dependencies:this.dependencies,sdkVersion:this.sdkVersion}),this.channel.length<6)throw new Error("Please use a channel id with more entropy");this.pubnub=new E.a({publishKey:"pub-c-2a7fd67b-333d-40db-ad2d-3255f8835f70",subscribeKey:"sub-c-0b655000-d784-11e6-b950-02ee2ddab7fe",ssl:!0,presenceTimeout:600,heartbeatInterval:60}),this.pubnub.addListener({message:function(e){var t=e.message;switch(t.type){case"CONSOLE":i._handleLogMessage(t);break;case"ERROR":i._handleErrorMessage(t);break;case"RESEND_CODE":i._handleResendCodeMessage();break;case"STATUS_REPORT":i._handleStatusReport(t)}},presence:function(e){var t=e.action,n=e.uuid,r=void 0;try{r=JSON.parse(n)}catch(e){return}switch(t){case"join":i._handleJoinMessage(r);break;case"timeout":case"leave":i._handleLeaveMessage(r)}},status:function(e){switch(e.category){case"PNConnectedCategory":break;case"PNNetworkDownCategory":case"PNNetworkIssuesCategory":i._log("Lost network connection.");break;case"PNReconnectedCategory":i._log("Reconnected to PubNub server.");break;case"PNNetworkUpCategory":i._log("Detected network connection. Subscribing to channel."),i._subscribe()}}})}},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t,n){e.exports=function(n){function r(e){if(i[e])return i[e].exports;var t=i[e]={exports:{},id:e,loaded:!1};return n[e].call(t.exports,t,t.exports,r),t.loaded=!0,t.exports}var i={};return r.m=n,r.c=i,r.p="",r(0)}([function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(!navigator||!navigator.sendBeacon)return!1;navigator.sendBeacon(e)}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=r(i),s=n(39),u=r(s),c=n(40),l=r(c),p=n(41),f=(n(5),function(e){function i(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);var t=e.listenToBrowserNetworkEvents,n=void 0===t||t;e.db=l.default,e.sdkFamily="Web",e.networking=new u.default({del:p.del,get:p.get,post:p.post,sendBeacon:o});var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,e));return n&&(window.addEventListener("offline",function(){r.networkDownDetected()}),window.addEventListener("online",function(){r.networkUpDetected()})),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(i,e),i}(a.default));t.default=f,e.exports=t.default},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),a=n(2),v=i(a),s=n(6),g=i(s),u=n(8),m=i(u),c=n(9),y=i(c),l=n(16),b=i(l),p=n(17),w=r(p),f=n(18),S=r(f),d=n(19),_=r(d),h=n(20),C=r(h),E=n(21),x=r(E),O=n(22),k=r(O),P=n(23),T=r(P),R=n(24),A=r(R),I=n(25),M=r(I),N=n(26),D=r(N),j=n(27),L=r(j),B=n(28),F=r(B),z=n(29),U=r(z),H=n(30),W=r(H),V=n(31),q=r(V),G=n(32),K=r(G),X=n(33),Y=r(X),J=n(34),$=r(J),Q=n(35),Z=r(Q),ee=n(36),te=r(ee),ne=n(37),re=r(ne),ie=n(12),oe=r(ie),ae=n(38),se=r(ae),ue=n(13),ce=i(ue),le=n(10),pe=i(le),fe=(n(5),n(3)),de=i(fe),he=function(){function h(e){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,h);var t=e.db,r=e.networking,i=this._config=new v.default({setup:e,db:t}),o=new g.default({config:i});r.init(i);var a={config:i,networking:r,crypto:o},s=b.default.bind(this,a,oe),u=b.default.bind(this,a,D),c=b.default.bind(this,a,F),l=b.default.bind(this,a,W),p=b.default.bind(this,a,se),f=this._listenerManager=new y.default,d=new m.default({timeEndpoint:s,leaveEndpoint:u,heartbeatEndpoint:c,setStateEndpoint:l,subscribeEndpoint:p,crypto:a.crypto,config:a.config,listenerManager:f});this.addListener=f.addListener.bind(f),this.removeListener=f.removeListener.bind(f),this.removeAllListeners=f.removeAllListeners.bind(f),this.channelGroups={listGroups:b.default.bind(this,a,C),listChannels:b.default.bind(this,a,x),addChannels:b.default.bind(this,a,w),removeChannels:b.default.bind(this,a,S),deleteGroup:b.default.bind(this,a,_)},this.push={addChannels:b.default.bind(this,a,k),removeChannels:b.default.bind(this,a,T),deleteDevice:b.default.bind(this,a,M),listChannels:b.default.bind(this,a,A)},this.hereNow=b.default.bind(this,a,q),this.whereNow=b.default.bind(this,a,L),this.getState=b.default.bind(this,a,U),this.setState=d.adaptStateChange.bind(d),this.grant=b.default.bind(this,a,Y),this.audit=b.default.bind(this,a,K),this.publish=b.default.bind(this,a,$),this.fire=function(e,t){return e.replicate=!1,e.storeInHistory=!1,n.publish(e,t)},this.history=b.default.bind(this,a,Z),this.deleteMessages=b.default.bind(this,a,te),this.fetchMessages=b.default.bind(this,a,re),this.time=s,this.subscribe=d.adaptSubscribeChange.bind(d),this.presence=d.adaptPresenceChange.bind(d),this.unsubscribe=d.adaptUnsubscribeChange.bind(d),this.disconnect=d.disconnect.bind(d),this.reconnect=d.reconnect.bind(d),this.destroy=function(e){d.unsubscribeAll(e),d.disconnect()},this.stop=this.destroy,this.unsubscribeAll=d.unsubscribeAll.bind(d),this.getSubscribedChannels=d.getSubscribedChannels.bind(d),this.getSubscribedChannelGroups=d.getSubscribedChannelGroups.bind(d),this.encrypt=o.encrypt.bind(o),this.decrypt=o.decrypt.bind(o),this.getAuthKey=a.config.getAuthKey.bind(a.config),this.setAuthKey=a.config.setAuthKey.bind(a.config),this.setCipherKey=a.config.setCipherKey.bind(a.config),this.getUUID=a.config.getUUID.bind(a.config),this.setUUID=a.config.setUUID.bind(a.config),this.getFilterExpression=a.config.getFilterExpression.bind(a.config),this.setFilterExpression=a.config.setFilterExpression.bind(a.config),this.setHeartbeatInterval=a.config.setHeartbeatInterval.bind(a.config),r.hasModule("proxy")&&(this.setProxy=function(e){a.config.setProxy(e),n.reconnect()})}return o(h,[{key:"getVersion",value:function(){return this._config.getVersion()}},{key:"networkDownDetected",value:function(){this._listenerManager.announceNetworkDown(),this._config.restore?this.disconnect():this.destroy(!0)}},{key:"networkUpDetected",value:function(){this._listenerManager.announceNetworkUp(),this.reconnect()}}],[{key:"generateUUID",value:function(){return de.default.createUUID()}}]),h}();he.OPERATIONS=ce.default,he.CATEGORIES=pe.default,t.default=he,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),r=n(3),o=function(e){return e&&e.__esModule?e:{default:e}}(r),a=(n(5),function(){function r(e){var t=e.setup,n=e.db;(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,r),this._db=n,this.instanceId="pn-"+o.default.createUUID(),this.secretKey=t.secretKey||t.secret_key,this.subscribeKey=t.subscribeKey||t.subscribe_key,this.publishKey=t.publishKey||t.publish_key,this.sdkName=t.sdkName,this.sdkFamily=t.sdkFamily,this.partnerId=t.partnerId,this.setAuthKey(t.authKey),this.setCipherKey(t.cipherKey),this.setFilterExpression(t.filterExpression),this.origin=t.origin||"pubsub.pndsn.com",this.secure=t.ssl||!1,this.restore=t.restore||!1,this.proxy=t.proxy,this.keepAlive=t.keepAlive,this.keepAliveSettings=t.keepAliveSettings,this.autoNetworkDetection=t.autoNetworkDetection||!1,this.dedupeOnSubscribe=t.dedupeOnSubscribe||!1,this.maximumCacheSize=t.maximumCacheSize||100,this.customEncrypt=t.customEncrypt,this.customDecrypt=t.customDecrypt,"undefined"!=typeof location&&"https:"===location.protocol&&(this.secure=!0),this.logVerbosity=t.logVerbosity||!1,this.suppressLeaveEvents=t.suppressLeaveEvents||!1,this.announceFailedHeartbeats=t.announceFailedHeartbeats||!0,this.announceSuccessfulHeartbeats=t.announceSuccessfulHeartbeats||!1,this.useInstanceId=t.useInstanceId||!1,this.useRequestId=t.useRequestId||!1,this.requestMessageCountThreshold=t.requestMessageCountThreshold,this.setTransactionTimeout(t.transactionalRequestTimeout||15e3),this.setSubscribeTimeout(t.subscribeRequestTimeout||31e4),this.setSendBeaconConfig(t.useSendBeacon||!0),this.setPresenceTimeout(t.presenceTimeout||300),null!=t.heartbeatInterval&&this.setHeartbeatInterval(t.heartbeatInterval),this.setUUID(this._decideUUID(t.uuid))}return i(r,[{key:"getAuthKey",value:function(){return this.authKey}},{key:"setAuthKey",value:function(e){return this.authKey=e,this}},{key:"setCipherKey",value:function(e){return this.cipherKey=e,this}},{key:"getUUID",value:function(){return this.UUID}},{key:"setUUID",value:function(e){return this._db&&this._db.set&&this._db.set(this.subscribeKey+"uuid",e),this.UUID=e,this}},{key:"getFilterExpression",value:function(){return this.filterExpression}},{key:"setFilterExpression",value:function(e){return this.filterExpression=e,this}},{key:"getPresenceTimeout",value:function(){return this._presenceTimeout}},{key:"setPresenceTimeout",value:function(e){return this._presenceTimeout=e,this.setHeartbeatInterval(this._presenceTimeout/2-1),this}},{key:"setProxy",value:function(e){this.proxy=e}},{key:"getHeartbeatInterval",value:function(){return this._heartbeatInterval}},{key:"setHeartbeatInterval",value:function(e){return this._heartbeatInterval=e,this}},{key:"getSubscribeTimeout",value:function(){return this._subscribeRequestTimeout}},{key:"setSubscribeTimeout",value:function(e){return this._subscribeRequestTimeout=e,this}},{key:"getTransactionTimeout",value:function(){return this._transactionalRequestTimeout}},{key:"setTransactionTimeout",value:function(e){return this._transactionalRequestTimeout=e,this}},{key:"isSendBeaconEnabled",value:function(){return this._useSendBeacon}},{key:"setSendBeaconConfig",value:function(e){return this._useSendBeacon=e,this}},{key:"getVersion",value:function(){return"4.20.2"}},{key:"_decideUUID",value:function(e){return e||(this._db&&this._db.get&&this._db.get(this.subscribeKey+"uuid")?this._db.get(this.subscribeKey+"uuid"):"pn-"+o.default.createUUID())}}]),r}());t.default=a,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4),i=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default={createUUID:function(){return i.default.uuid?i.default.uuid():(0,i.default)()}},e.exports=t.default},function(e,t,n){var r,i,o;i=[t],void 0!==(o="function"==typeof(r=function(e){function t(){var e,t,n="";for(e=0;e<32;e++)t=16*Math.random()|0,8!==e&&12!==e&&16!==e&&20!==e||(n+="-"),n+=(12===e?4:16===e?3&t|8:t).toString(16);return n}function n(e,t){var n=r[t||"all"];return n&&n.test(e)||!1}var r={3:/^[0-9A-F]{8}-[0-9A-F]{4}-3[0-9A-F]{3}-[0-9A-F]{4}-[0-9A-F]{12}$/i,4:/^[0-9A-F]{8}-[0-9A-F]{4}-4[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,5:/^[0-9A-F]{8}-[0-9A-F]{4}-5[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,all:/^[0-9A-F]{8}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{12}$/i};t.isUUID=n,t.VERSION="0.1.0",e.uuid=t,e.isUUID=n})?r.apply(t,i):r)&&(e.exports=o)},function(e,t){"use strict";e.exports={}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),o=n(2),a=(r(o),n(7)),u=r(a),s=function(){function n(e){var t=e.config;(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,n),this._config=t,this._iv="0123456789012345",this._allowedKeyEncodings=["hex","utf8","base64","binary"],this._allowedKeyLengths=[128,256],this._allowedModes=["ecb","cbc"],this._defaultOptions={encryptKey:!0,keyEncoding:"utf8",keyLength:256,mode:"cbc"}}return i(n,[{key:"HMACSHA256",value:function(e){return u.default.HmacSHA256(e,this._config.secretKey).toString(u.default.enc.Base64)}},{key:"SHA256",value:function(e){return u.default.SHA256(e).toString(u.default.enc.Hex)}},{key:"_parseOptions",value:function(e){var t=e||{};return t.hasOwnProperty("encryptKey")||(t.encryptKey=this._defaultOptions.encryptKey),t.hasOwnProperty("keyEncoding")||(t.keyEncoding=this._defaultOptions.keyEncoding),t.hasOwnProperty("keyLength")||(t.keyLength=this._defaultOptions.keyLength),t.hasOwnProperty("mode")||(t.mode=this._defaultOptions.mode),-1===this._allowedKeyEncodings.indexOf(t.keyEncoding.toLowerCase())&&(t.keyEncoding=this._defaultOptions.keyEncoding),-1===this._allowedKeyLengths.indexOf(parseInt(t.keyLength,10))&&(t.keyLength=this._defaultOptions.keyLength),-1===this._allowedModes.indexOf(t.mode.toLowerCase())&&(t.mode=this._defaultOptions.mode),t}},{key:"_decodeKey",value:function(e,t){return"base64"===t.keyEncoding?u.default.enc.Base64.parse(e):"hex"===t.keyEncoding?u.default.enc.Hex.parse(e):e}},{key:"_getPaddedKey",value:function(e,t){return e=this._decodeKey(e,t),t.encryptKey?u.default.enc.Utf8.parse(this.SHA256(e).slice(0,32)):e}},{key:"_getMode",value:function(e){return"ecb"===e.mode?u.default.mode.ECB:u.default.mode.CBC}},{key:"_getIV",value:function(e){return"cbc"===e.mode?u.default.enc.Utf8.parse(this._iv):null}},{key:"encrypt",value:function(e,t,n){return this._config.customEncrypt?this._config.customEncrypt(e):this.pnEncrypt(e,t,n)}},{key:"decrypt",value:function(e,t,n){return this._config.customDecrypt?this._config.customDecrypt(e):this.pnDecrypt(e,t,n)}},{key:"pnEncrypt",value:function(e,t,n){if(!t&&!this._config.cipherKey)return e;n=this._parseOptions(n);var r=this._getIV(n),i=this._getMode(n),o=this._getPaddedKey(t||this._config.cipherKey,n);return u.default.AES.encrypt(e,o,{iv:r,mode:i}).ciphertext.toString(u.default.enc.Base64)||e}},{key:"pnDecrypt",value:function(e,t,n){if(!t&&!this._config.cipherKey)return e;n=this._parseOptions(n);var r=this._getIV(n),i=this._getMode(n),o=this._getPaddedKey(t||this._config.cipherKey,n);try{var a=u.default.enc.Base64.parse(e),s=u.default.AES.decrypt({ciphertext:a},o,{iv:r,mode:i}).toString(u.default.enc.Utf8);return JSON.parse(s)}catch(e){return null}}}]),n}();t.default=s,e.exports=t.default},function(e,t){"use strict";var P=P||function(s,e){var t={},n=t.lib={},r=function(){},i=n.Base={extend:function(e){r.prototype=this;var t=new r;return e&&t.mixIn(e),t.hasOwnProperty("init")||(t.init=function(){t.$super.init.apply(this,arguments)}),(t.init.prototype=t).$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},u=n.WordArray=i.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||a).stringify(this)},concat:function(e){var t=this.words,n=e.words,r=this.sigBytes;if(e=e.sigBytes,this.clamp(),r%4)for(var i=0;i<e;i++)t[r+i>>>2]|=(n[i>>>2]>>>24-i%4*8&255)<<24-(r+i)%4*8;else if(65535<n.length)for(i=0;i<e;i+=4)t[r+i>>>2]=n[i>>>2];else t.push.apply(t,n);return this.sigBytes+=e,this},clamp:function(){var e=this.words,t=this.sigBytes;e[t>>>2]&=4294967295<<32-t%4*8,e.length=s.ceil(t/4)},clone:function(){var e=i.clone.call(this);return e.words=this.words.slice(0),e},random:function(e){for(var t=[],n=0;n<e;n+=4)t.push(4294967296*s.random()|0);return new u.init(t,e)}}),o=t.enc={},a=o.Hex={stringify:function(e){var t=e.words;e=e.sigBytes;for(var n=[],r=0;r<e;r++){var i=t[r>>>2]>>>24-r%4*8&255;n.push((i>>>4).toString(16)),n.push((15&i).toString(16))}return n.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n[r>>>3]|=parseInt(e.substr(r,2),16)<<24-r%8*4;return new u.init(n,t/2)}},c=o.Latin1={stringify:function(e){var t=e.words;e=e.sigBytes;for(var n=[],r=0;r<e;r++)n.push(String.fromCharCode(t[r>>>2]>>>24-r%4*8&255));return n.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r++)n[r>>>2]|=(255&e.charCodeAt(r))<<24-r%4*8;return new u.init(n,t)}},l=o.Utf8={stringify:function(e){try{return decodeURIComponent(escape(c.stringify(e)))}catch(e){throw Error("Malformed UTF-8 data")}},parse:function(e){return c.parse(unescape(encodeURIComponent(e)))}},p=n.BufferedBlockAlgorithm=i.extend({reset:function(){this._data=new u.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=l.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(e){var t=this._data,n=t.words,r=t.sigBytes,i=this.blockSize,o=r/(4*i),o=e?s.ceil(o):s.max((0|o)-this._minBufferSize,0);if(e=o*i,r=s.min(4*e,r),e){for(var a=0;a<e;a+=i)this._doProcessBlock(n,a);a=n.splice(0,e),t.sigBytes-=r}return new u.init(a,r)},clone:function(){var e=i.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0});n.Hasher=p.extend({cfg:i.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){p.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(n){return function(e,t){return new n.init(t).finalize(e)}},_createHmacHelper:function(n){return function(e,t){return new f.HMAC.init(n,t).finalize(e)}}});var f=t.algo={};return t}(Math);!function(i){for(var e=P,t=e.lib,n=t.WordArray,r=t.Hasher,t=e.algo,o=[],h=[],a=function(e){return 4294967296*(e-(0|e))|0},s=2,u=0;u<64;){var c;e:{c=s;for(var l=i.sqrt(c),p=2;p<=l;p++)if(!(c%p)){c=!1;break e}c=!0}c&&(u<8&&(o[u]=a(i.pow(s,.5))),h[u]=a(i.pow(s,1/3)),u++),s++}var v=[],t=t.SHA256=r.extend({_doReset:function(){this._hash=new n.init(o.slice(0))},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],i=n[1],o=n[2],a=n[3],s=n[4],u=n[5],c=n[6],l=n[7],p=0;p<64;p++){if(p<16)v[p]=0|e[t+p];else{var f=v[p-15],d=v[p-2];v[p]=((f<<25|f>>>7)^(f<<14|f>>>18)^f>>>3)+v[p-7]+((d<<15|d>>>17)^(d<<13|d>>>19)^d>>>10)+v[p-16]}f=l+((s<<26|s>>>6)^(s<<21|s>>>11)^(s<<7|s>>>25))+(s&u^~s&c)+h[p]+v[p],d=((r<<30|r>>>2)^(r<<19|r>>>13)^(r<<10|r>>>22))+(r&i^r&o^i&o),l=c,c=u,u=s,s=a+f|0,a=o,o=i,i=r,r=f+d|0}n[0]=n[0]+r|0,n[1]=n[1]+i|0,n[2]=n[2]+o|0,n[3]=n[3]+a|0,n[4]=n[4]+s|0,n[5]=n[5]+u|0,n[6]=n[6]+c|0,n[7]=n[7]+l|0},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,r=8*e.sigBytes;return t[r>>>5]|=128<<24-r%32,t[14+(64+r>>>9<<4)]=i.floor(n/4294967296),t[15+(64+r>>>9<<4)]=n,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=r.clone.call(this);return e._hash=this._hash.clone(),e}});e.SHA256=r._createHelper(t),e.HmacSHA256=r._createHmacHelper(t)}(Math),function(){var e=P,c=e.enc.Utf8;e.algo.HMAC=e.lib.Base.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=c.parse(t));var n=e.blockSize,r=4*n;t.sigBytes>r&&(t=e.finalize(t)),t.clamp();for(var i=this._oKey=t.clone(),o=this._iKey=t.clone(),a=i.words,s=o.words,u=0;u<n;u++)a[u]^=1549556828,s[u]^=909522486;i.sigBytes=o.sigBytes=r,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher;return e=t.finalize(e),t.reset(),t.finalize(this._oKey.clone().concat(e))}})}(),function(){var e=P,u=e.lib.WordArray;e.enc.Base64={stringify:function(e){var t=e.words,n=e.sigBytes,r=this._map;e.clamp(),e=[];for(var i=0;i<n;i+=3)for(var o=(t[i>>>2]>>>24-i%4*8&255)<<16|(t[i+1>>>2]>>>24-(i+1)%4*8&255)<<8|t[i+2>>>2]>>>24-(i+2)%4*8&255,a=0;a<4&&i+.75*a<n;a++)e.push(r.charAt(o>>>6*(3-a)&63));if(t=r.charAt(64))for(;e.length%4;)e.push(t);return e.join("")},parse:function(e){var t=e.length,n=this._map,r=n.charAt(64);r&&-1!=(r=e.indexOf(r))&&(t=r);for(var r=[],i=0,o=0;o<t;o++)if(o%4){var a=n.indexOf(e.charAt(o-1))<<o%4*2,s=n.indexOf(e.charAt(o))>>>6-o%4*2;r[i>>>2]|=(a|s)<<24-i%4*8,i++}return u.create(r,i)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),function(o){function C(e,t,n,r,i,o,a){return((e=e+(t&n|~t&r)+i+a)<<o|e>>>32-o)+t}function E(e,t,n,r,i,o,a){return((e=e+(t&r|n&~r)+i+a)<<o|e>>>32-o)+t}function x(e,t,n,r,i,o,a){return((e=e+(t^n^r)+i+a)<<o|e>>>32-o)+t}function O(e,t,n,r,i,o,a){return((e=e+(n^(t|~r))+i+a)<<o|e>>>32-o)+t}for(var e=P,t=e.lib,n=t.WordArray,r=t.Hasher,t=e.algo,k=[],i=0;i<64;i++)k[i]=4294967296*o.abs(o.sin(i+1))|0;t=t.MD5=r.extend({_doReset:function(){this._hash=new n.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,t){for(var n=0;n<16;n++){var r=t+n,i=e[r];e[r]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8)}var n=this._hash.words,r=e[t+0],i=e[t+1],o=e[t+2],a=e[t+3],s=e[t+4],u=e[t+5],c=e[t+6],l=e[t+7],p=e[t+8],f=e[t+9],d=e[t+10],h=e[t+11],v=e[t+12],g=e[t+13],m=e[t+14],y=e[t+15],b=n[0],w=n[1],S=n[2],_=n[3],b=C(b,w,S,_,r,7,k[0]),_=C(_,b,w,S,i,12,k[1]),S=C(S,_,b,w,o,17,k[2]),w=C(w,S,_,b,a,22,k[3]),b=C(b,w,S,_,s,7,k[4]),_=C(_,b,w,S,u,12,k[5]),S=C(S,_,b,w,c,17,k[6]),w=C(w,S,_,b,l,22,k[7]),b=C(b,w,S,_,p,7,k[8]),_=C(_,b,w,S,f,12,k[9]),S=C(S,_,b,w,d,17,k[10]),w=C(w,S,_,b,h,22,k[11]),b=C(b,w,S,_,v,7,k[12]),_=C(_,b,w,S,g,12,k[13]),S=C(S,_,b,w,m,17,k[14]),w=C(w,S,_,b,y,22,k[15]),b=E(b,w,S,_,i,5,k[16]),_=E(_,b,w,S,c,9,k[17]),S=E(S,_,b,w,h,14,k[18]),w=E(w,S,_,b,r,20,k[19]),b=E(b,w,S,_,u,5,k[20]),_=E(_,b,w,S,d,9,k[21]),S=E(S,_,b,w,y,14,k[22]),w=E(w,S,_,b,s,20,k[23]),b=E(b,w,S,_,f,5,k[24]),_=E(_,b,w,S,m,9,k[25]),S=E(S,_,b,w,a,14,k[26]),w=E(w,S,_,b,p,20,k[27]),b=E(b,w,S,_,g,5,k[28]),_=E(_,b,w,S,o,9,k[29]),S=E(S,_,b,w,l,14,k[30]),w=E(w,S,_,b,v,20,k[31]),b=x(b,w,S,_,u,4,k[32]),_=x(_,b,w,S,p,11,k[33]),S=x(S,_,b,w,h,16,k[34]),w=x(w,S,_,b,m,23,k[35]),b=x(b,w,S,_,i,4,k[36]),_=x(_,b,w,S,s,11,k[37]),S=x(S,_,b,w,l,16,k[38]),w=x(w,S,_,b,d,23,k[39]),b=x(b,w,S,_,g,4,k[40]),_=x(_,b,w,S,r,11,k[41]),S=x(S,_,b,w,a,16,k[42]),w=x(w,S,_,b,c,23,k[43]),b=x(b,w,S,_,f,4,k[44]),_=x(_,b,w,S,v,11,k[45]),S=x(S,_,b,w,y,16,k[46]),w=x(w,S,_,b,o,23,k[47]),b=O(b,w,S,_,r,6,k[48]),_=O(_,b,w,S,l,10,k[49]),S=O(S,_,b,w,m,15,k[50]),w=O(w,S,_,b,u,21,k[51]),b=O(b,w,S,_,v,6,k[52]),_=O(_,b,w,S,a,10,k[53]),S=O(S,_,b,w,d,15,k[54]),w=O(w,S,_,b,i,21,k[55]),b=O(b,w,S,_,p,6,k[56]),_=O(_,b,w,S,y,10,k[57]),S=O(S,_,b,w,c,15,k[58]),w=O(w,S,_,b,g,21,k[59]),b=O(b,w,S,_,s,6,k[60]),_=O(_,b,w,S,h,10,k[61]),S=O(S,_,b,w,o,15,k[62]),w=O(w,S,_,b,f,21,k[63]);n[0]=n[0]+b|0,n[1]=n[1]+w|0,n[2]=n[2]+S|0,n[3]=n[3]+_|0},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,r=8*e.sigBytes;t[r>>>5]|=128<<24-r%32;var i=o.floor(n/4294967296);for(t[15+(r+64>>>9<<4)]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),t[14+(r+64>>>9<<4)]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8),e.sigBytes=4*(t.length+1),this._process(),e=this._hash,t=e.words,n=0;n<4;n++)r=t[n],t[n]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8);return e},clone:function(){var e=r.clone.call(this);return e._hash=this._hash.clone(),e}}),e.MD5=r._createHelper(t),e.HmacMD5=r._createHmacHelper(t)}(Math),function(){var e=P,t=e.lib,n=t.Base,c=t.WordArray,t=e.algo,r=t.EvpKDF=n.extend({cfg:n.extend({keySize:4,hasher:t.MD5,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var n=this.cfg,r=n.hasher.create(),i=c.create(),o=i.words,a=n.keySize,n=n.iterations;o.length<a;){s&&r.update(s);var s=r.update(e).finalize(t);r.reset();for(var u=1;u<n;u++)s=r.finalize(s),r.reset();i.concat(s)}return i.sigBytes=4*a,i}});e.EvpKDF=function(e,t,n){return r.create(n).compute(e,t)}}(),P.lib.Cipher||function(e){var t=P,n=t.lib,r=n.Base,a=n.WordArray,i=n.BufferedBlockAlgorithm,o=t.enc.Base64,s=t.algo.EvpKDF,u=n.Cipher=i.extend({cfg:r.extend(),createEncryptor:function(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},createDecryptor:function(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},init:function(e,t,n){this.cfg=this.cfg.extend(n),this._xformMode=e,this._key=t,this.reset()},reset:function(){i.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){return e&&this._append(e),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(r){return{encrypt:function(e,t,n){return("string"==typeof t?h:d).encrypt(r,e,t,n)},decrypt:function(e,t,n){return("string"==typeof t?h:d).decrypt(r,e,t,n)}}}});n.StreamCipher=u.extend({_doFinalize:function(){return this._process(!0)},blockSize:1});var c=t.mode={},l=function(e,t,n){var r=this._iv;r?this._iv=void 0:r=this._prevBlock;for(var i=0;i<n;i++)e[t+i]^=r[i]},p=(n.BlockCipherMode=r.extend({createEncryptor:function(e,t){return this.Encryptor.create(e,t)},createDecryptor:function(e,t){return this.Decryptor.create(e,t)},init:function(e,t){this._cipher=e,this._iv=t}})).extend();p.Encryptor=p.extend({processBlock:function(e,t){var n=this._cipher,r=n.blockSize;l.call(this,e,t,r),n.encryptBlock(e,t),this._prevBlock=e.slice(t,t+r)}}),p.Decryptor=p.extend({processBlock:function(e,t){var n=this._cipher,r=n.blockSize,i=e.slice(t,t+r);n.decryptBlock(e,t),l.call(this,e,t,r),this._prevBlock=i}}),c=c.CBC=p,p=(t.pad={}).Pkcs7={pad:function(e,t){for(var n=4*t,n=n-e.sigBytes%n,r=n<<24|n<<16|n<<8|n,i=[],o=0;o<n;o+=4)i.push(r);n=a.create(i,n),e.concat(n)},unpad:function(e){e.sigBytes-=255&e.words[e.sigBytes-1>>>2]}},n.BlockCipher=u.extend({cfg:u.cfg.extend({mode:c,padding:p}),reset:function(){u.reset.call(this);var e=this.cfg,t=e.iv,e=e.mode;if(this._xformMode==this._ENC_XFORM_MODE)var n=e.createEncryptor;else n=e.createDecryptor,this._minBufferSize=1;this._mode=n.call(e,this,t&&t.words)},_doProcessBlock:function(e,t){this._mode.processBlock(e,t)},_doFinalize:function(){var e=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){e.pad(this._data,this.blockSize);var t=this._process(!0)}else t=this._process(!0),e.unpad(t);return t},blockSize:4});var f=n.CipherParams=r.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}}),c=(t.format={}).OpenSSL={stringify:function(e){var t=e.ciphertext;return((e=e.salt)?a.create([1398893684,1701076831]).concat(e).concat(t):t).toString(o)},parse:function(e){var t=(e=o.parse(e)).words;if(1398893684==t[0]&&1701076831==t[1]){var n=a.create(t.slice(2,4));t.splice(0,4),e.sigBytes-=16}return f.create({ciphertext:e,salt:n})}},d=n.SerializableCipher=r.extend({cfg:r.extend({format:c}),encrypt:function(e,t,n,r){r=this.cfg.extend(r);var i=e.createEncryptor(n,r);return t=i.finalize(t),i=i.cfg,f.create({ciphertext:t,key:n,iv:i.iv,algorithm:e,mode:i.mode,padding:i.padding,blockSize:e.blockSize,formatter:r.format})},decrypt:function(e,t,n,r){return r=this.cfg.extend(r),t=this._parse(t,r.format),e.createDecryptor(n,r).finalize(t.ciphertext)},_parse:function(e,t){return"string"==typeof e?t.parse(e,this):e}}),t=(t.kdf={}).OpenSSL={execute:function(e,t,n,r){return r||(r=a.random(8)),e=s.create({keySize:t+n}).compute(e,r),n=a.create(e.words.slice(t),4*n),e.sigBytes=4*t,f.create({key:e,iv:n,salt:r})}},h=n.PasswordBasedCipher=d.extend({cfg:d.cfg.extend({kdf:t}),encrypt:function(e,t,n,r){return r=this.cfg.extend(r),n=r.kdf.execute(n,e.keySize,e.ivSize),r.iv=n.iv,(e=d.encrypt.call(this,e,t,n.key,r)).mixIn(n),e},decrypt:function(e,t,n,r){return r=this.cfg.extend(r),t=this._parse(t,r.format),n=r.kdf.execute(n,e.keySize,e.ivSize,t.salt),r.iv=n.iv,d.decrypt.call(this,e,t,n.key,r)}})}(),function(){for(var e=P,t=e.lib.BlockCipher,n=e.algo,a=[],r=[],i=[],o=[],s=[],u=[],c=[],l=[],p=[],f=[],d=[],h=0;h<256;h++)d[h]=h<128?h<<1:h<<1^283;for(var v=0,g=0,h=0;h<256;h++){var m=g^g<<1^g<<2^g<<3^g<<4,m=m>>>8^255&m^99;a[v]=m,r[m]=v;var y=d[v],b=d[y],w=d[b],S=257*d[m]^16843008*m;i[v]=S<<24|S>>>8,o[v]=S<<16|S>>>16,s[v]=S<<8|S>>>24,u[v]=S,S=16843009*w^65537*b^257*y^16843008*v,c[m]=S<<24|S>>>8,l[m]=S<<16|S>>>16,p[m]=S<<8|S>>>24,f[m]=S,v?(v=y^d[d[d[w^y]]],g^=d[d[g]]):v=g=1}var _=[0,1,2,4,8,16,32,64,128,27,54],n=n.AES=t.extend({_doReset:function(){for(var e=this._key,t=e.words,n=e.sigBytes/4,e=4*((this._nRounds=n+6)+1),r=this._keySchedule=[],i=0;i<e;i++)if(i<n)r[i]=t[i];else{var o=r[i-1];i%n?6<n&&4==i%n&&(o=a[o>>>24]<<24|a[o>>>16&255]<<16|a[o>>>8&255]<<8|a[255&o]):(o=a[(o=o<<8|o>>>24)>>>24]<<24|a[o>>>16&255]<<16|a[o>>>8&255]<<8|a[255&o],o^=_[i/n|0]<<24),r[i]=r[i-n]^o}for(t=this._invKeySchedule=[],n=0;n<e;n++)i=e-n,o=n%4?r[i]:r[i-4],t[n]=n<4||i<=4?o:c[a[o>>>24]]^l[a[o>>>16&255]]^p[a[o>>>8&255]]^f[a[255&o]]},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._keySchedule,i,o,s,u,a)},decryptBlock:function(e,t){var n=e[t+1];e[t+1]=e[t+3],e[t+3]=n,this._doCryptBlock(e,t,this._invKeySchedule,c,l,p,f,r),n=e[t+1],e[t+1]=e[t+3],e[t+3]=n},_doCryptBlock:function(e,t,n,r,i,o,a,s){for(var u=this._nRounds,c=e[t]^n[0],l=e[t+1]^n[1],p=e[t+2]^n[2],f=e[t+3]^n[3],d=4,h=1;h<u;h++)var v=r[c>>>24]^i[l>>>16&255]^o[p>>>8&255]^a[255&f]^n[d++],g=r[l>>>24]^i[p>>>16&255]^o[f>>>8&255]^a[255&c]^n[d++],m=r[p>>>24]^i[f>>>16&255]^o[c>>>8&255]^a[255&l]^n[d++],f=r[f>>>24]^i[c>>>16&255]^o[l>>>8&255]^a[255&p]^n[d++],c=v,l=g,p=m;v=(s[c>>>24]<<24|s[l>>>16&255]<<16|s[p>>>8&255]<<8|s[255&f])^n[d++],g=(s[l>>>24]<<24|s[p>>>16&255]<<16|s[f>>>8&255]<<8|s[255&c])^n[d++],m=(s[p>>>24]<<24|s[f>>>16&255]<<16|s[c>>>8&255]<<8|s[255&l])^n[d++],f=(s[f>>>24]<<24|s[c>>>16&255]<<16|s[l>>>8&255]<<8|s[255&p])^n[d++],e[t]=v,e[t+1]=g,e[t+2]=m,e[t+3]=f},keySize:8});e.AES=t._createHelper(n)}(),P.mode.ECB=function(){var e=P.lib.BlockCipherMode.extend();return e.Encryptor=e.extend({processBlock:function(e,t){this._cipher.encryptBlock(e,t)}}),e.Decryptor=e.extend({processBlock:function(e,t){this._cipher.decryptBlock(e,t)}}),e}(),e.exports=P},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),o=n(6),a=(r(o),n(2)),s=(r(a),n(9)),u=(r(s),n(11)),l=r(u),c=n(14),p=r(c),f=n(15),d=r(f),h=(n(5),n(10)),v=r(h),g=function(){function c(e){var t=e.subscribeEndpoint,n=e.leaveEndpoint,r=e.heartbeatEndpoint,i=e.setStateEndpoint,o=e.timeEndpoint,a=e.config,s=e.crypto,u=e.listenerManager;(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,c),this._listenerManager=u,this._config=a,this._leaveEndpoint=n,this._heartbeatEndpoint=r,this._setStateEndpoint=i,this._subscribeEndpoint=t,this._crypto=s,this._channels={},this._presenceChannels={},this._heartbeatChannels={},this._heartbeatChannelGroups={},this._channelGroups={},this._presenceChannelGroups={},this._pendingChannelSubscriptions=[],this._pendingChannelGroupSubscriptions=[],this._currentTimetoken=0,this._lastTimetoken=0,this._storedTimetoken=null,this._subscriptionStatusAnnounced=!1,this._isOnline=!0,this._reconnectionManager=new l.default({timeEndpoint:o}),this._dedupingManager=new p.default({config:a})}return i(c,[{key:"adaptStateChange",value:function(e,t){var n=this,r=e.state,i=e.channels,o=void 0===i?[]:i,a=e.channelGroups,s=void 0===a?[]:a;return o.forEach(function(e){e in n._channels&&(n._channels[e].state=r)}),s.forEach(function(e){e in n._channelGroups&&(n._channelGroups[e].state=r)}),this._setStateEndpoint({state:r,channels:o,channelGroups:s},t)}},{key:"adaptPresenceChange",value:function(e){var t=this,n=e.connected,r=e.channels,i=void 0===r?[]:r,o=e.channelGroups,a=void 0===o?[]:o;n?(i.forEach(function(e){t._heartbeatChannels[e]={state:{}}}),a.forEach(function(e){t._heartbeatChannelGroups[e]={state:{}}})):(i.forEach(function(e){e in t._heartbeatChannels&&delete t._heartbeatChannels[e]}),a.forEach(function(e){e in t._heartbeatChannelGroups&&delete t._heartbeatChannelGroups[e]}),!1===this._config.suppressLeaveEvents&&this._leaveEndpoint({channels:i,channelGroups:a},function(e){t._listenerManager.announceStatus(e)})),this.reconnect()}},{key:"adaptSubscribeChange",value:function(e){var t=this,n=e.timetoken,r=e.channels,i=void 0===r?[]:r,o=e.channelGroups,a=void 0===o?[]:o,s=e.withPresence,u=void 0!==s&&s;this._config.subscribeKey&&""!==this._config.subscribeKey?(n&&(this._lastTimetoken=this._currentTimetoken,this._currentTimetoken=n),"0"!==this._currentTimetoken&&(this._storedTimetoken=this._currentTimetoken,this._currentTimetoken=0),i.forEach(function(e){t._channels[e]={state:{}},u&&(t._presenceChannels[e]={}),t._pendingChannelSubscriptions.push(e)}),a.forEach(function(e){t._channelGroups[e]={state:{}},u&&(t._presenceChannelGroups[e]={}),t._pendingChannelGroupSubscriptions.push(e)}),this._subscriptionStatusAnnounced=!1,this.reconnect()):console&&console.log&&console.log("subscribe key missing; aborting subscribe")}},{key:"adaptUnsubscribeChange",value:function(e,t){var n=this,r=e.channels,i=void 0===r?[]:r,o=e.channelGroups,a=void 0===o?[]:o,s=[],u=[];i.forEach(function(e){e in n._channels&&(delete n._channels[e],s.push(e)),e in n._presenceChannels&&(delete n._presenceChannels[e],s.push(e))}),a.forEach(function(e){e in n._channelGroups&&(delete n._channelGroups[e],u.push(e)),e in n._presenceChannelGroups&&(delete n._channelGroups[e],u.push(e))}),0===s.length&&0===u.length||(!1!==this._config.suppressLeaveEvents||t||this._leaveEndpoint({channels:s,channelGroups:u},function(e){e.affectedChannels=s,e.affectedChannelGroups=u,e.currentTimetoken=n._currentTimetoken,e.lastTimetoken=n._lastTimetoken,n._listenerManager.announceStatus(e)}),0===Object.keys(this._channels).length&&0===Object.keys(this._presenceChannels).length&&0===Object.keys(this._channelGroups).length&&0===Object.keys(this._presenceChannelGroups).length&&(this._lastTimetoken=0,this._currentTimetoken=0,this._storedTimetoken=null,this._region=null,this._reconnectionManager.stopPolling()),this.reconnect())}},{key:"unsubscribeAll",value:function(e){this.adaptUnsubscribeChange({channels:this.getSubscribedChannels(),channelGroups:this.getSubscribedChannelGroups()},e)}},{key:"getHeartbeatChannels",value:function(){return Object.keys(this._heartbeatChannels)}},{key:"getHeartbeatChannelGroups",value:function(){return Object.keys(this._heartbeatChannelGroups)}},{key:"getSubscribedChannels",value:function(){return Object.keys(this._channels)}},{key:"getSubscribedChannelGroups",value:function(){return Object.keys(this._channelGroups)}},{key:"reconnect",value:function(){this._startSubscribeLoop(),this._registerHeartbeatTimer()}},{key:"disconnect",value:function(){this._stopSubscribeLoop(),this._stopHeartbeatTimer(),this._reconnectionManager.stopPolling()}},{key:"_registerHeartbeatTimer",value:function(){this._stopHeartbeatTimer(),0!==this._config.getHeartbeatInterval()&&(this._performHeartbeatLoop(),this._heartbeatTimer=setInterval(this._performHeartbeatLoop.bind(this),1e3*this._config.getHeartbeatInterval()))}},{key:"_stopHeartbeatTimer",value:function(){this._heartbeatTimer&&(clearInterval(this._heartbeatTimer),this._heartbeatTimer=null)}},{key:"_performHeartbeatLoop",value:function(){var n=this,e=[];e=(e=e.concat(this.getHeartbeatChannels())).concat(this.getSubscribedChannels());var t=[];t=(t=t.concat(this.getHeartbeatChannelGroups())).concat(this.getSubscribedChannelGroups());var r={};0===e.length&&0===t.length||(this.getSubscribedChannels().forEach(function(e){var t=n._channels[e].state;Object.keys(t).length&&(r[e]=t)}),this.getSubscribedChannelGroups().forEach(function(e){var t=n._channelGroups[e].state;Object.keys(t).length&&(r[e]=t)}),this._heartbeatEndpoint({channels:e,channelGroups:t,state:r},function(e){e.error&&n._config.announceFailedHeartbeats&&n._listenerManager.announceStatus(e),e.error&&n._config.autoNetworkDetection&&n._isOnline&&(n._isOnline=!1,n.disconnect(),n._listenerManager.announceNetworkDown(),n.reconnect()),!e.error&&n._config.announceSuccessfulHeartbeats&&n._listenerManager.announceStatus(e)}.bind(this)))}},{key:"_startSubscribeLoop",value:function(){this._stopSubscribeLoop();var t=[],n=[];if(Object.keys(this._channels).forEach(function(e){return t.push(e)}),Object.keys(this._presenceChannels).forEach(function(e){return t.push(e+"-pnpres")}),Object.keys(this._channelGroups).forEach(function(e){return n.push(e)}),Object.keys(this._presenceChannelGroups).forEach(function(e){return n.push(e+"-pnpres")}),0!==t.length||0!==n.length){var e={channels:t,channelGroups:n,timetoken:this._currentTimetoken,filterExpression:this._config.filterExpression,region:this._region};this._subscribeCall=this._subscribeEndpoint(e,this._processSubscribeResponse.bind(this))}}},{key:"_processSubscribeResponse",value:function(t,e){var a=this;if(t.error)t.category===v.default.PNTimeoutCategory?this._startSubscribeLoop():(t.category===v.default.PNNetworkIssuesCategory?(this.disconnect(),t.error&&this._config.autoNetworkDetection&&this._isOnline&&(this._isOnline=!1,this._listenerManager.announceNetworkDown()),this._reconnectionManager.onReconnection(function(){a._config.autoNetworkDetection&&!a._isOnline&&(a._isOnline=!0,a._listenerManager.announceNetworkUp()),a.reconnect(),a._subscriptionStatusAnnounced=!0;var e={category:v.default.PNReconnectedCategory,operation:t.operation,lastTimetoken:a._lastTimetoken,currentTimetoken:a._currentTimetoken};a._listenerManager.announceStatus(e)}),this._reconnectionManager.startPolling()):t.category===v.default.PNBadRequestCategory&&this._stopHeartbeatTimer(),this._listenerManager.announceStatus(t));else{if(this._storedTimetoken?(this._currentTimetoken=this._storedTimetoken,this._storedTimetoken=null):(this._lastTimetoken=this._currentTimetoken,this._currentTimetoken=e.metadata.timetoken),!this._subscriptionStatusAnnounced){var n={};n.category=v.default.PNConnectedCategory,n.operation=t.operation,n.affectedChannels=this._pendingChannelSubscriptions,n.subscribedChannels=this.getSubscribedChannels(),n.affectedChannelGroups=this._pendingChannelGroupSubscriptions,n.lastTimetoken=this._lastTimetoken,n.currentTimetoken=this._currentTimetoken,this._subscriptionStatusAnnounced=!0,this._listenerManager.announceStatus(n),this._pendingChannelSubscriptions=[],this._pendingChannelGroupSubscriptions=[]}var r=e.messages||[],i=this._config,o=i.requestMessageCountThreshold,s=i.dedupeOnSubscribe;if(o&&r.length>=o){var u={};u.category=v.default.PNRequestMessageCountExceededCategory,u.operation=t.operation,this._listenerManager.announceStatus(u)}r.forEach(function(e){var t=e.channel,n=e.subscriptionMatch,r=e.publishMetaData;if(t===n&&(n=null),s){if(a._dedupingManager.isDuplicate(e))return;a._dedupingManager.addEntry(e)}if(d.default.endsWith(e.channel,"-pnpres")){var i={channel:null,subscription:null};i.actualChannel=null!=n?t:null,i.subscribedChannel=null!=n?n:t,t&&(i.channel=t.substring(0,t.lastIndexOf("-pnpres"))),n&&(i.subscription=n.substring(0,n.lastIndexOf("-pnpres"))),i.action=e.payload.action,i.state=e.payload.data,i.timetoken=r.publishTimetoken,i.occupancy=e.payload.occupancy,i.uuid=e.payload.uuid,i.timestamp=e.payload.timestamp,e.payload.join&&(i.join=e.payload.join),e.payload.leave&&(i.leave=e.payload.leave),e.payload.timeout&&(i.timeout=e.payload.timeout),a._listenerManager.announcePresence(i)}else{var o={channel:null,subscription:null};o.actualChannel=null!=n?t:null,o.subscribedChannel=null!=n?n:t,o.channel=t,o.subscription=n,o.timetoken=r.publishTimetoken,o.publisher=e.issuingClientId,e.userMetadata&&(o.userMetadata=e.userMetadata),a._config.cipherKey?o.message=a._crypto.decrypt(e.payload):o.message=e.payload,a._listenerManager.announceMessage(o)}}),this._region=e.metadata.region,this._startSubscribeLoop()}}},{key:"_stopSubscribeLoop",value:function(){this._subscribeCall&&("function"==typeof this._subscribeCall.abort&&this._subscribeCall.abort(),this._subscribeCall=null)}}]),c}();t.default=g,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),i=(n(5),n(10)),o=function(e){return e&&e.__esModule?e:{default:e}}(i),a=function(){function e(){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this._listeners=[]}return r(e,[{key:"addListener",value:function(e){this._listeners.push(e)}},{key:"removeListener",value:function(t){var n=[];this._listeners.forEach(function(e){e!==t&&n.push(e)}),this._listeners=n}},{key:"removeAllListeners",value:function(){this._listeners=[]}},{key:"announcePresence",value:function(t){this._listeners.forEach(function(e){e.presence&&e.presence(t)})}},{key:"announceStatus",value:function(t){this._listeners.forEach(function(e){e.status&&e.status(t)})}},{key:"announceMessage",value:function(t){this._listeners.forEach(function(e){e.message&&e.message(t)})}},{key:"announceNetworkUp",value:function(){var e={};e.category=o.default.PNNetworkUpCategory,this.announceStatus(e)}},{key:"announceNetworkDown",value:function(){var e={};e.category=o.default.PNNetworkDownCategory,this.announceStatus(e)}}]),e}();t.default=a,e.exports=t.default},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={PNNetworkUpCategory:"PNNetworkUpCategory",PNNetworkDownCategory:"PNNetworkDownCategory",PNNetworkIssuesCategory:"PNNetworkIssuesCategory",PNTimeoutCategory:"PNTimeoutCategory",PNBadRequestCategory:"PNBadRequestCategory",PNAccessDeniedCategory:"PNAccessDeniedCategory",PNUnknownCategory:"PNUnknownCategory",PNReconnectedCategory:"PNReconnectedCategory",PNConnectedCategory:"PNConnectedCategory",PNRequestMessageCountExceededCategory:"PNRequestMessageCountExceededCategory"},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),i=n(12),o=(function(e){e&&e.__esModule}(i),n(5),function(){function n(e){var t=e.timeEndpoint;(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,n),this._timeEndpoint=t}return r(n,[{key:"onReconnection",value:function(e){this._reconnectionCallback=e}},{key:"startPolling",value:function(){this._timeTimer=setInterval(this._performTimeLoop.bind(this),3e3)}},{key:"stopPolling",value:function(){clearInterval(this._timeTimer)}},{key:"_performTimeLoop",value:function(){var t=this;this._timeEndpoint(function(e){e.error||(clearInterval(t._timeTimer),t._reconnectionCallback())})}}]),n}());t.default=o,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getOperation=function(){return i.default.PNTimeOperation},t.getURL=function(){return"/time/0"},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.prepareParams=function(){return{}},t.isAuthSupported=function(){return!1},t.handleResponse=function(e,t){return{timetoken:t[0]}},t.validateParams=function(){};var r=(n(5),n(13)),i=function(e){return e&&e.__esModule?e:{default:e}}(r)},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={PNTimeOperation:"PNTimeOperation",PNHistoryOperation:"PNHistoryOperation",PNDeleteMessagesOperation:"PNDeleteMessagesOperation",PNFetchMessagesOperation:"PNFetchMessagesOperation",PNSubscribeOperation:"PNSubscribeOperation",PNUnsubscribeOperation:"PNUnsubscribeOperation",PNPublishOperation:"PNPublishOperation",PNPushNotificationEnabledChannelsOperation:"PNPushNotificationEnabledChannelsOperation",PNRemoveAllPushNotificationsOperation:"PNRemoveAllPushNotificationsOperation",PNWhereNowOperation:"PNWhereNowOperation",PNSetStateOperation:"PNSetStateOperation",PNHereNowOperation:"PNHereNowOperation",PNGetStateOperation:"PNGetStateOperation",PNHeartbeatOperation:"PNHeartbeatOperation",PNChannelGroupsOperation:"PNChannelGroupsOperation",PNRemoveGroupOperation:"PNRemoveGroupOperation",PNChannelsForGroupOperation:"PNChannelsForGroupOperation",PNAddChannelsToGroupOperation:"PNAddChannelsToGroupOperation",PNRemoveChannelsFromGroupOperation:"PNRemoveChannelsFromGroupOperation",PNAccessManagerGrant:"PNAccessManagerGrant",PNAccessManagerAudit:"PNAccessManagerAudit"},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),i=n(2),o=(function(e){e&&e.__esModule}(i),n(5),function(e){var t=0;if(0===e.length)return t;for(var n=0;n<e.length;n+=1)t=(t<<5)-t+e.charCodeAt(n),t&=t;return t}),a=function(){function n(e){var t=e.config;(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,n),this.hashHistory=[],this._config=t}return r(n,[{key:"getKey",value:function(e){var t=o(JSON.stringify(e.payload)).toString();return e.publishMetaData.publishTimetoken+"-"+t}},{key:"isDuplicate",value:function(e){return this.hashHistory.includes(this.getKey(e))}},{key:"addEntry",value:function(e){this.hashHistory.length>=this._config.maximumCacheSize&&this.hashHistory.shift(),this.hashHistory.push(this.getKey(e))}},{key:"clearHistory",value:function(){this.hashHistory=[]}}]),n}();t.default=a,e.exports=t.default},function(e,t){"use strict";function n(e){return encodeURIComponent(e).replace(/[!~*'()]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function r(e){return function(e){var t=[];return Object.keys(e).forEach(function(e){return t.push(e)}),t}(e).sort()}e.exports={signPamFromParams:function(t){return r(t).map(function(e){return e+"="+n(t[e])}).join("&")},endsWith:function(e,t){return-1!==e.indexOf(t,this.length-t.length)},createPromise:function(){var n=void 0,r=void 0;return{promise:new Promise(function(e,t){n=e,r=t}),reject:r,fulfill:n}},encodeString:n}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function h(e){return function(e,t){return e.type=t,e.error=!0,e}({message:e},"validationError")}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(r,i){var e=r.networking,t=r.config,o=null,a=null,s={};o=i.getOperation()===m.default.PNTimeOperation||i.getOperation()===m.default.PNChannelGroupsOperation?arguments.length<=2?void 0:arguments[2]:(s=arguments.length<=2?void 0:arguments[2],arguments.length<=3?void 0:arguments[3]),"undefined"==typeof Promise||o||(a=g.default.createPromise());var n=i.validateParams(r,s);if(n)return o?o(h(n)):a?(a.reject(new y("Validation failed, check status for details",h(n))),a.promise):void 0;var u=i.prepareParams(r,s),c=function(e,t,n){return e.usePost&&e.usePost(t,n)?e.postURL(t,n):e.getURL(t,n)}(i,r,s),l=void 0,p={url:c,operation:i.getOperation(),timeout:i.getRequestTimeout(r)};u.uuid=t.UUID,u.pnsdk=function(e){if(e.sdkName)return e.sdkName;var t="PubNub-JS-"+e.sdkFamily;return e.partnerId&&(t+="-"+e.partnerId),t+="/"+e.getVersion()}(t),t.useInstanceId&&(u.instanceid=t.instanceId),t.useRequestId&&(u.requestid=v.default.createUUID()),i.isAuthSupported()&&t.getAuthKey()&&(u.auth=t.getAuthKey()),t.secretKey&&function(e,t,n){var r=e.config,i=e.crypto;n.timestamp=Math.floor((new Date).getTime()/1e3);var o=r.subscribeKey+"\n"+r.publishKey+"\n"+t+"\n";o+=g.default.signPamFromParams(n);var a=i.HMACSHA256(o);a=(a=a.replace(/\+/g,"-")).replace(/\//g,"_"),n.signature=a}(r,c,u);var f=function(e,t){if(e.error)o?o(e):a&&a.reject(new y("PubNub call failed, check status for details",e));else{var n=i.handleResponse(r,t,s);o?o(e,n):a&&a.fulfill(n)}};if(i.usePost&&i.usePost(r,s)){var d=i.postPayload(r,s);l=e.POST(u,d,p,f)}else l=i.useDelete&&i.useDelete()?e.DELETE(u,p,f):e.GET(u,p,f);return i.getOperation()===m.default.PNSubscribeOperation?l:a?a.promise:void 0};var i=n(3),v=r(i),o=(n(5),n(15)),g=r(o),a=n(2),s=(r(a),n(13)),m=r(s),y=function(e){function r(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,e));return n.name=n.constructor.name,n.status=t,n.message=e,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(r,e),r}(Error);e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.getOperation=function(){return o.default.PNAddChannelsToGroupOperation},t.validateParams=function(e,t){var n=t.channels,r=t.channelGroup,i=e.config;return r?n&&0!==n.length?i.subscribeKey?void 0:"Missing Subscribe Key":"Missing Channels":"Missing Channel Group"},t.getURL=function(e,t){var n=t.channelGroup;return"/v1/channel-registration/sub-key/"+e.config.subscribeKey+"/channel-group/"+s.default.encodeString(n)},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.isAuthSupported=function(){return!0},t.prepareParams=function(e,t){var n=t.channels;return{add:(void 0===n?[]:n).join(",")}},t.handleResponse=function(){return{}};var i=(n(5),n(13)),o=r(i),a=n(15),s=r(a)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.getOperation=function(){return o.default.PNRemoveChannelsFromGroupOperation},t.validateParams=function(e,t){var n=t.channels,r=t.channelGroup,i=e.config;return r?n&&0!==n.length?i.subscribeKey?void 0:"Missing Subscribe Key":"Missing Channels":"Missing Channel Group"},t.getURL=function(e,t){var n=t.channelGroup;return"/v1/channel-registration/sub-key/"+e.config.subscribeKey+"/channel-group/"+s.default.encodeString(n)},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.isAuthSupported=function(){return!0},t.prepareParams=function(e,t){var n=t.channels;return{remove:(void 0===n?[]:n).join(",")}},t.handleResponse=function(){return{}};var i=(n(5),n(13)),o=r(i),a=n(15),s=r(a)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.getOperation=function(){return o.default.PNRemoveGroupOperation},t.validateParams=function(e,t){var n=t.channelGroup,r=e.config;return n?r.subscribeKey?void 0:"Missing Subscribe Key":"Missing Channel Group"},t.getURL=function(e,t){var n=t.channelGroup;return"/v1/channel-registration/sub-key/"+e.config.subscribeKey+"/channel-group/"+s.default.encodeString(n)+"/remove"},t.isAuthSupported=function(){return!0},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.prepareParams=function(){return{}},t.handleResponse=function(){return{}};var i=(n(5),n(13)),o=r(i),a=n(15),s=r(a)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getOperation=function(){return i.default.PNChannelGroupsOperation},t.validateParams=function(e){if(!e.config.subscribeKey)return"Missing Subscribe Key"},t.getURL=function(e){return"/v1/channel-registration/sub-key/"+e.config.subscribeKey+"/channel-group"},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.isAuthSupported=function(){return!0},t.prepareParams=function(){return{}},t.handleResponse=function(e,t){return{groups:t.payload.groups}};var r=(n(5),n(13)),i=function(e){return e&&e.__esModule?e:{default:e}}(r)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.getOperation=function(){return o.default.PNChannelsForGroupOperation},t.validateParams=function(e,t){var n=t.channelGroup,r=e.config;return n?r.subscribeKey?void 0:"Missing Subscribe Key":"Missing Channel Group"},t.getURL=function(e,t){var n=t.channelGroup;return"/v1/channel-registration/sub-key/"+e.config.subscribeKey+"/channel-group/"+s.default.encodeString(n)},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.isAuthSupported=function(){return!0},t.prepareParams=function(){return{}},t.handleResponse=function(e,t){return{channels:t.payload.channels}};var i=(n(5),n(13)),o=r(i),a=n(15),s=r(a)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getOperation=function(){return i.default.PNPushNotificationEnabledChannelsOperation},t.validateParams=function(e,t){var n=t.device,r=t.pushGateway,i=t.channels,o=e.config;return n?r?i&&0!==i.length?o.subscribeKey?void 0:"Missing Subscribe Key":"Missing Channels":"Missing GW Type (pushGateway: gcm or apns)":"Missing Device ID (device)"},t.getURL=function(e,t){var n=t.device;return"/v1/push/sub-key/"+e.config.subscribeKey+"/devices/"+n},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.isAuthSupported=function(){return!0},t.prepareParams=function(e,t){var n=t.pushGateway,r=t.channels;return{type:n,add:(void 0===r?[]:r).join(",")}},t.handleResponse=function(){return{}};var r=(n(5),n(13)),i=function(e){return e&&e.__esModule?e:{default:e}}(r)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getOperation=function(){return i.default.PNPushNotificationEnabledChannelsOperation},t.validateParams=function(e,t){var n=t.device,r=t.pushGateway,i=t.channels,o=e.config;return n?r?i&&0!==i.length?o.subscribeKey?void 0:"Missing Subscribe Key":"Missing Channels":"Missing GW Type (pushGateway: gcm or apns)":"Missing Device ID (device)"},t.getURL=function(e,t){var n=t.device;return"/v1/push/sub-key/"+e.config.subscribeKey+"/devices/"+n},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.isAuthSupported=function(){return!0},t.prepareParams=function(e,t){var n=t.pushGateway,r=t.channels;return{type:n,remove:(void 0===r?[]:r).join(",")}},t.handleResponse=function(){return{}};var r=(n(5),n(13)),i=function(e){return e&&e.__esModule?e:{default:e}}(r)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getOperation=function(){return i.default.PNPushNotificationEnabledChannelsOperation},t.validateParams=function(e,t){var n=t.device,r=t.pushGateway,i=e.config;return n?r?i.subscribeKey?void 0:"Missing Subscribe Key":"Missing GW Type (pushGateway: gcm or apns)":"Missing Device ID (device)"},t.getURL=function(e,t){var n=t.device;return"/v1/push/sub-key/"+e.config.subscribeKey+"/devices/"+n},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.isAuthSupported=function(){return!0},t.prepareParams=function(e,t){return{type:t.pushGateway}},t.handleResponse=function(e,t){return{channels:t}};var r=(n(5),n(13)),i=function(e){return e&&e.__esModule?e:{default:e}}(r)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getOperation=function(){return i.default.PNRemoveAllPushNotificationsOperation},t.validateParams=function(e,t){var n=t.device,r=t.pushGateway,i=e.config;return n?r?i.subscribeKey?void 0:"Missing Subscribe Key":"Missing GW Type (pushGateway: gcm or apns)":"Missing Device ID (device)"},t.getURL=function(e,t){var n=t.device;return"/v1/push/sub-key/"+e.config.subscribeKey+"/devices/"+n+"/remove"},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.isAuthSupported=function(){return!0},t.prepareParams=function(e,t){return{type:t.pushGateway}},t.handleResponse=function(){return{}};var r=(n(5),n(13)),i=function(e){return e&&e.__esModule?e:{default:e}}(r)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.getOperation=function(){return o.default.PNUnsubscribeOperation},t.validateParams=function(e){if(!e.config.subscribeKey)return"Missing Subscribe Key"},t.getURL=function(e,t){var n=e.config,r=t.channels,i=void 0===r?[]:r,o=0<i.length?i.join(","):",";return"/v2/presence/sub-key/"+n.subscribeKey+"/channel/"+s.default.encodeString(o)+"/leave"},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.isAuthSupported=function(){return!0},t.prepareParams=function(e,t){var n=t.channelGroups,r=void 0===n?[]:n,i={};return 0<r.length&&(i["channel-group"]=r.join(",")),i},t.handleResponse=function(){return{}};var i=(n(5),n(13)),o=r(i),a=n(15),s=r(a)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getOperation=function(){return i.default.PNWhereNowOperation},t.validateParams=function(e){if(!e.config.subscribeKey)return"Missing Subscribe Key"},t.getURL=function(e,t){var n=e.config,r=t.uuid,i=void 0===r?n.UUID:r;return"/v2/presence/sub-key/"+n.subscribeKey+"/uuid/"+i},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.isAuthSupported=function(){return!0},t.prepareParams=function(){return{}},t.handleResponse=function(e,t){return t.payload?{channels:t.payload.channels}:{channels:[]}};var r=(n(5),n(13)),i=function(e){return e&&e.__esModule?e:{default:e}}(r)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.getOperation=function(){return o.default.PNHeartbeatOperation},t.validateParams=function(e){if(!e.config.subscribeKey)return"Missing Subscribe Key"},t.getURL=function(e,t){var n=e.config,r=t.channels,i=void 0===r?[]:r,o=0<i.length?i.join(","):",";return"/v2/presence/sub-key/"+n.subscribeKey+"/channel/"+s.default.encodeString(o)+"/heartbeat"},t.isAuthSupported=function(){return!0},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.prepareParams=function(e,t){var n=t.channelGroups,r=void 0===n?[]:n,i=t.state,o=void 0===i?{}:i,a=e.config,s={};return 0<r.length&&(s["channel-group"]=r.join(",")),s.state=JSON.stringify(o),s.heartbeat=a.getPresenceTimeout(),s},t.handleResponse=function(){return{}};var i=(n(5),n(13)),o=r(i),a=n(15),s=r(a)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.getOperation=function(){return o.default.PNGetStateOperation},t.validateParams=function(e){if(!e.config.subscribeKey)return"Missing Subscribe Key"},t.getURL=function(e,t){var n=e.config,r=t.uuid,i=void 0===r?n.UUID:r,o=t.channels,a=void 0===o?[]:o,s=0<a.length?a.join(","):",";return"/v2/presence/sub-key/"+n.subscribeKey+"/channel/"+u.default.encodeString(s)+"/uuid/"+i},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.isAuthSupported=function(){return!0},t.prepareParams=function(e,t){var n=t.channelGroups,r=void 0===n?[]:n,i={};return 0<r.length&&(i["channel-group"]=r.join(",")),i},t.handleResponse=function(e,t,n){var r=n.channels,i=void 0===r?[]:r,o=n.channelGroups,a=void 0===o?[]:o,s={};return 1===i.length&&0===a.length?s[i[0]]=t.payload:s=t.payload,{channels:s}};var i=(n(5),n(13)),o=r(i),a=n(15),u=r(a)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.getOperation=function(){return o.default.PNSetStateOperation},t.validateParams=function(e,t){var n=e.config,r=t.state,i=t.channels,o=void 0===i?[]:i,a=t.channelGroups,s=void 0===a?[]:a;return r?n.subscribeKey?0===o.length&&0===s.length?"Please provide a list of channels and/or channel-groups":void 0:"Missing Subscribe Key":"Missing State"},t.getURL=function(e,t){var n=e.config,r=t.channels,i=void 0===r?[]:r,o=0<i.length?i.join(","):",";return"/v2/presence/sub-key/"+n.subscribeKey+"/channel/"+s.default.encodeString(o)+"/uuid/"+n.UUID+"/data"},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.isAuthSupported=function(){return!0},t.prepareParams=function(e,t){var n=t.state,r=t.channelGroups,i=void 0===r?[]:r,o={};return o.state=JSON.stringify(n),0<i.length&&(o["channel-group"]=i.join(",")),o},t.handleResponse=function(e,t){return{state:t.payload}};var i=(n(5),n(13)),o=r(i),a=n(15),s=r(a)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.getOperation=function(){return o.default.PNHereNowOperation},t.validateParams=function(e){if(!e.config.subscribeKey)return"Missing Subscribe Key"},t.getURL=function(e,t){var n=e.config,r=t.channels,i=void 0===r?[]:r,o=t.channelGroups,a=void 0===o?[]:o,s="/v2/presence/sub-key/"+n.subscribeKey;if(0<i.length||0<a.length){var u=0<i.length?i.join(","):",";s+="/channel/"+c.default.encodeString(u)}return s},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.isAuthSupported=function(){return!0},t.prepareParams=function(e,t){var n=t.channelGroups,r=void 0===n?[]:n,i=t.includeUUIDs,o=void 0===i||i,a=t.includeState,s=void 0!==a&&a,u={};return o||(u.disable_uuids=1),s&&(u.state=1),0<r.length&&(u["channel-group"]=r.join(",")),u},t.handleResponse=function(e,i,t){var n=t.channels,r=void 0===n?[]:n,o=t.channelGroups,a=void 0===o?[]:o,s=t.includeUUIDs,u=void 0===s||s,c=t.includeState,l=void 0!==c&&c;return 1<r.length||0<a.length||0===a.length&&0===r.length?function(){var r={};return r.totalChannels=i.payload.total_channels,r.totalOccupancy=i.payload.total_occupancy,r.channels={},Object.keys(i.payload.channels).forEach(function(e){var t=i.payload.channels[e],n=[];return r.channels[e]={occupants:n,name:e,occupancy:t.occupancy},u&&t.uuids.forEach(function(e){l?n.push({state:e.state,uuid:e.uuid}):n.push({state:null,uuid:e})}),r}),r}():function(){var e={},t=[];return e.totalChannels=1,e.totalOccupancy=i.occupancy,e.channels={},e.channels[r[0]]={occupants:t,name:r[0],occupancy:i.occupancy},u&&i.uuids&&i.uuids.forEach(function(e){l?t.push({state:e.state,uuid:e.uuid}):t.push({state:null,uuid:e})}),e}()};var i=(n(5),n(13)),o=r(i),a=n(15),c=r(a)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getOperation=function(){return i.default.PNAccessManagerAudit},t.validateParams=function(e){if(!e.config.subscribeKey)return"Missing Subscribe Key"},t.getURL=function(e){return"/v2/auth/audit/sub-key/"+e.config.subscribeKey},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.isAuthSupported=function(){return!1},t.prepareParams=function(e,t){var n=t.channel,r=t.channelGroup,i=t.authKeys,o=void 0===i?[]:i,a={};return n&&(a.channel=n),r&&(a["channel-group"]=r),0<o.length&&(a.auth=o.join(",")),a},t.handleResponse=function(e,t){return t.payload};var r=(n(5),n(13)),i=function(e){return e&&e.__esModule?e:{default:e}}(r)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getOperation=function(){return i.default.PNAccessManagerGrant},t.validateParams=function(e){var t=e.config;return t.subscribeKey?t.publishKey?t.secretKey?void 0:"Missing Secret Key":"Missing Publish Key":"Missing Subscribe Key"},t.getURL=function(e){return"/v2/auth/grant/sub-key/"+e.config.subscribeKey},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.isAuthSupported=function(){return!1},t.prepareParams=function(e,t){var n=t.channels,r=void 0===n?[]:n,i=t.channelGroups,o=void 0===i?[]:i,a=t.ttl,s=t.read,u=void 0!==s&&s,c=t.write,l=void 0!==c&&c,p=t.manage,f=void 0!==p&&p,d=t.authKeys,h=void 0===d?[]:d,v={};return v.r=u?"1":"0",v.w=l?"1":"0",v.m=f?"1":"0",0<r.length&&(v.channel=r.join(",")),0<o.length&&(v["channel-group"]=o.join(",")),0<h.length&&(v.auth=h.join(",")),(a||0===a)&&(v.ttl=a),v},t.handleResponse=function(){return{}};var r=(n(5),n(13)),i=function(e){return e&&e.__esModule?e:{default:e}}(r)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var n=e.crypto,r=e.config,i=JSON.stringify(t);return r.cipherKey&&(i=n.encrypt(i),i=JSON.stringify(i)),i}Object.defineProperty(t,"__esModule",{value:!0});var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.getOperation=function(){return o.default.PNPublishOperation},t.validateParams=function(e,t){var n=e.config,r=t.message;return t.channel?r?n.subscribeKey?void 0:"Missing Subscribe Key":"Missing Message":"Missing Channel"},t.usePost=function(e,t){var n=t.sendByPost;return void 0!==n&&n},t.getURL=function(e,t){var n=e.config,r=t.channel,i=t.message,o=a(e,i);return"/publish/"+n.publishKey+"/"+n.subscribeKey+"/0/"+c.default.encodeString(r)+"/0/"+c.default.encodeString(o)},t.postURL=function(e,t){var n=e.config,r=t.channel;return"/publish/"+n.publishKey+"/"+n.subscribeKey+"/0/"+c.default.encodeString(r)+"/0"},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.isAuthSupported=function(){return!0},t.postPayload=function(e,t){return a(e,t.message)},t.prepareParams=function(e,t){var n=t.meta,r=t.replicate,i=void 0===r||r,o=t.storeInHistory,a=t.ttl,s={};return null!=o&&(s.store=o?"1":"0"),a&&(s.ttl=a),!1===i&&(s.norep="true"),n&&"object"===(void 0===n?"undefined":u(n))&&(s.meta=JSON.stringify(n)),s},t.handleResponse=function(e,t){return{timetoken:t[2]}};var i=(n(5),n(13)),o=r(i),s=n(15),c=r(s)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var n=e.config,r=e.crypto;if(!n.cipherKey)return t;try{return r.decrypt(t)}catch(e){return t}}Object.defineProperty(t,"__esModule",{value:!0}),t.getOperation=function(){return a.default.PNHistoryOperation},t.validateParams=function(e,t){var n=t.channel,r=e.config;return n?r.subscribeKey?void 0:"Missing Subscribe Key":"Missing channel"},t.getURL=function(e,t){var n=t.channel;return"/v2/history/sub-key/"+e.config.subscribeKey+"/channel/"+u.default.encodeString(n)},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.isAuthSupported=function(){return!0},t.prepareParams=function(e,t){var n=t.start,r=t.end,i=t.reverse,o=t.count,a=void 0===o?100:o,s=t.stringifiedTimeToken,u=void 0!==s&&s,c={include_token:"true"};return c.count=a,n&&(c.start=n),r&&(c.end=r),u&&(c.string_message_token="true"),null!=i&&(c.reverse=i.toString()),c},t.handleResponse=function(n,e){var r={messages:[],startTimeToken:e[1],endTimeToken:e[2]};return e[0].forEach(function(e){var t={timetoken:e.timetoken,entry:i(n,e.message)};r.messages.push(t)}),r};var o=(n(5),n(13)),a=r(o),s=n(15),u=r(s)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.getOperation=function(){return o.default.PNDeleteMessagesOperation},t.validateParams=function(e,t){var n=t.channel,r=e.config;return n?r.subscribeKey?void 0:"Missing Subscribe Key":"Missing channel"},t.useDelete=function(){return!0},t.getURL=function(e,t){var n=t.channel;return"/v3/history/sub-key/"+e.config.subscribeKey+"/channel/"+s.default.encodeString(n)},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.isAuthSupported=function(){return!0},t.prepareParams=function(e,t){var n=t.start,r=t.end,i={};return n&&(i.start=n),r&&(i.end=r),i},t.handleResponse=function(e,t){return t.payload};var i=(n(5),n(13)),o=r(i),a=n(15),s=r(a)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n=e.config,r=e.crypto;if(!n.cipherKey)return t;try{return r.decrypt(t)}catch(e){return t}}Object.defineProperty(t,"__esModule",{value:!0}),t.getOperation=function(){return a.default.PNFetchMessagesOperation},t.validateParams=function(e,t){var n=t.channels,r=e.config;return n&&0!==n.length?r.subscribeKey?void 0:"Missing Subscribe Key":"Missing channels"},t.getURL=function(e,t){var n=t.channels,r=void 0===n?[]:n,i=e.config,o=0<r.length?r.join(","):",";return"/v3/history/sub-key/"+i.subscribeKey+"/channel/"+u.default.encodeString(o)},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.isAuthSupported=function(){return!0},t.prepareParams=function(e,t){var n=t.start,r=t.end,i=t.count,o={};return i&&(o.max=i),n&&(o.start=n),r&&(o.end=r),o},t.handleResponse=function(r,e){var i={channels:{}};return Object.keys(e.channels||{}).forEach(function(n){i.channels[n]=[],(e.channels[n]||[]).forEach(function(e){var t={};t.channel=n,t.subscription=null,t.timetoken=e.timetoken,t.message=o(r,e.message),i.channels[n].push(t)})}),i};var i=(n(5),n(13)),a=r(i),s=n(15),u=r(s)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.getOperation=function(){return o.default.PNSubscribeOperation},t.validateParams=function(e){if(!e.config.subscribeKey)return"Missing Subscribe Key"},t.getURL=function(e,t){var n=e.config,r=t.channels,i=void 0===r?[]:r,o=0<i.length?i.join(","):",";return"/v2/subscribe/"+n.subscribeKey+"/"+s.default.encodeString(o)+"/0"},t.getRequestTimeout=function(e){return e.config.getSubscribeTimeout()},t.isAuthSupported=function(){return!0},t.prepareParams=function(e,t){var n=e.config,r=t.channelGroups,i=void 0===r?[]:r,o=t.timetoken,a=t.filterExpression,s=t.region,u={heartbeat:n.getPresenceTimeout()};return 0<i.length&&(u["channel-group"]=i.join(",")),a&&0<a.length&&(u["filter-expr"]=a),o&&(u.tt=o),s&&(u.tr=s),u},t.handleResponse=function(e,t){var r=[];t.m.forEach(function(e){var t={publishTimetoken:e.p.t,region:e.p.r},n={shard:parseInt(e.a,10),subscriptionMatch:e.b,channel:e.c,payload:e.d,flags:e.f,issuingClientId:e.i,subscribeKey:e.k,originationTimetoken:e.o,userMetadata:e.u,publishMetaData:t};r.push(n)});var n={timetoken:t.t.t,region:t.t.r};return{messages:r,metadata:n}};var i=(n(5),n(13)),o=r(i),a=n(15),s=r(a)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),o=n(2),a=(r(o),n(10)),s=r(a),u=(n(5),function(){function e(t){var n=this;(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this._modules={},Object.keys(t).forEach(function(e){n._modules[e]=t[e].bind(n)})}return i(e,[{key:"init",value:function(e){this._config=e,this._maxSubDomain=20,this._currentSubDomain=Math.floor(Math.random()*this._maxSubDomain),this._providedFQDN=(this._config.secure?"https://":"http://")+this._config.origin,this._coreParams={},this.shiftStandardOrigin()}},{key:"nextOrigin",value:function(){if(-1===this._providedFQDN.indexOf("pubsub."))return this._providedFQDN;var e=void 0;return this._currentSubDomain=this._currentSubDomain+1,this._currentSubDomain>=this._maxSubDomain&&(this._currentSubDomain=1),e=this._currentSubDomain.toString(),this._providedFQDN.replace("pubsub","ps"+e)}},{key:"hasModule",value:function(e){return e in this._modules}},{key:"shiftStandardOrigin",value:function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];return this._standardOrigin=this.nextOrigin(e),this._standardOrigin}},{key:"getStandardOrigin",value:function(){return this._standardOrigin}},{key:"POST",value:function(e,t,n,r){return this._modules.post(e,t,n,r)}},{key:"GET",value:function(e,t,n){return this._modules.get(e,t,n)}},{key:"DELETE",value:function(e,t,n){return this._modules.del(e,t,n)}},{key:"_detectErrorCategory",value:function(e){if("ENOTFOUND"===e.code)return s.default.PNNetworkIssuesCategory;if("ECONNREFUSED"===e.code)return s.default.PNNetworkIssuesCategory;if("ECONNRESET"===e.code)return s.default.PNNetworkIssuesCategory;if("EAI_AGAIN"===e.code)return s.default.PNNetworkIssuesCategory;if(0===e.status||e.hasOwnProperty("status")&&void 0===e.status)return s.default.PNNetworkIssuesCategory;if(e.timeout)return s.default.PNTimeoutCategory;if(e.response){if(e.response.badRequest)return s.default.PNBadRequestCategory;if(e.response.forbidden)return s.default.PNAccessDeniedCategory}return s.default.PNUnknownCategory}}]),e}());t.default=u,e.exports=t.default},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={get:function(e){try{return localStorage.getItem(e)}catch(e){return null}},set:function(e,t){try{return localStorage.setItem(e,t)}catch(e){return null}}},e.exports=t.default},function(e,t,n){"use strict";function r(i){var o=(new Date).getTime(),e=(new Date).toISOString(),a=console&&console.log?console:window&&window.console&&window.console.log?window.console:console;a.log("<<<<<"),a.log("["+e+"]","\n",i.url,"\n",i.qs),a.log("-----"),i.on("response",function(e){var t=(new Date).getTime(),n=t-o,r=(new Date).toISOString();a.log(">>>>>>"),a.log("["+r+" / "+n+"]","\n",i.url,"\n",i.qs,"\n",e.text),a.log("-----")})}function o(e,i,o){var a=this;return this._config.logVerbosity&&(e=e.use(r)),this._config.proxy&&this._modules.proxy&&(e=this._modules.proxy.call(this,e)),this._config.keepAlive&&this._modules.keepAlive&&(e=this._modules.keepAlive(e)),e.timeout(i.timeout).end(function(e,t){var n={};if(n.error=null!==e,n.operation=i.operation,t&&t.status&&(n.statusCode=t.status),e)return n.errorData=e,n.category=a._detectErrorCategory(e),o(n,null);var r=JSON.parse(t.text);return r.error&&1===r.error&&r.status&&r.message&&r.service?(n.errorData=r,n.statusCode=r.status,n.error=!0,n.category=a._detectErrorCategory(n),o(n,null)):o(n,r)})}Object.defineProperty(t,"__esModule",{value:!0}),t.get=function(e,t,n){var r=a.default.get(this.getStandardOrigin()+t.url).query(e);return o.call(this,r,t,n)},t.post=function(e,t,n,r){var i=a.default.post(this.getStandardOrigin()+n.url).query(e).send(t);return o.call(this,i,n,r)},t.del=function(e,t,n){var r=a.default.delete(this.getStandardOrigin()+t.url).query(e);return o.call(this,r,t,n)};var i=n(42),a=function(e){return e&&e.__esModule?e:{default:e}}(i);n(5)},function(e,n,t){function r(){}function i(e){if(!h(e))return e;var t=[];for(var n in e)o(t,n,e[n]);return t.join("&")}function o(t,n,e){if(null!=e)if(Array.isArray(e))e.forEach(function(e){o(t,n,e)});else if(h(e))for(var r in e)o(t,n+"["+r+"]",e[r]);else t.push(encodeURIComponent(n)+"="+encodeURIComponent(e));else null===e&&t.push(encodeURIComponent(n))}function a(e){for(var t,n,r={},i=e.split("&"),o=0,a=i.length;o<a;++o)t=i[o],-1==(n=t.indexOf("="))?r[decodeURIComponent(t)]="":r[decodeURIComponent(t.slice(0,n))]=decodeURIComponent(t.slice(n+1));return r}function s(e){return/[\/+]json($|[^-\w])/.test(e)}function u(e){this.req=e,this.xhr=this.req.xhr,this.text="HEAD"!=this.req.method&&(""===this.xhr.responseType||"text"===this.xhr.responseType)||void 0===this.xhr.responseType?this.xhr.responseText:null,this.statusText=this.req.xhr.statusText;var t=this.xhr.status;1223===t&&(t=204),this._setStatusProperties(t),this.header=this.headers=function(e){for(var t,n,r,i,o=e.split(/\r?\n/),a={},s=0,u=o.length;s<u;++s)n=o[s],-1!==(t=n.indexOf(":"))&&(r=n.slice(0,t).toLowerCase(),i=y(n.slice(t+1)),a[r]=i);return a}(this.xhr.getAllResponseHeaders()),this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this._setHeaderProperties(this.header),null===this.text&&e._responseType?this.body=this.xhr.response:this.body="HEAD"!=this.req.method?this._parseBody(this.text?this.text:this.xhr.response):null}function c(e,t){var r=this;this._query=this._query||[],this.method=e,this.url=t,this.header={},this._header={},this.on("end",function(){var e,t=null,n=null;try{n=new u(r)}catch(n){return(t=new Error("Parser is unable to parse the response")).parse=!0,t.original=n,r.xhr?(t.rawResponse=void 0===r.xhr.responseType?r.xhr.responseText:r.xhr.response,t.status=r.xhr.status?r.xhr.status:null,t.statusCode=t.status):(t.rawResponse=null,t.status=null),r.callback(t)}r.emit("response",n);try{r._isResponseOK(n)||(e=new Error(n.statusText||"Unsuccessful HTTP response"))}catch(t){e=t}e?(e.original=t,e.response=n,e.status=n.status,r.callback(e,n)):r.callback(null,n)})}function l(e,t,n){var r=m("DELETE",e);return"function"==typeof t&&(n=t,t=null),t&&r.send(t),n&&r.end(n),r}var p;p="undefined"!=typeof window?window:"undefined"!=typeof self?self:(console.warn("Using browser-only version of superagent in non-browser environment"),this);var f=t(43),d=t(44),h=t(45),v=t(46),g=t(48),m=n=e.exports=function(e,t){return"function"==typeof t?new n.Request("GET",e).end(t):1==arguments.length?new n.Request("GET",e):new n.Request(e,t)};n.Request=c,m.getXHR=function(){if(!(!p.XMLHttpRequest||p.location&&"file:"==p.location.protocol&&p.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(e){}throw Error("Browser-only version of superagent could not find XHR")};var y="".trim?function(e){return e.trim()}:function(e){return e.replace(/(^\s*|\s*$)/g,"")};m.serializeObject=i,m.parseString=a,m.types={html:"text/html",json:"application/json",xml:"text/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},m.serialize={"application/x-www-form-urlencoded":i,"application/json":JSON.stringify},m.parse={"application/x-www-form-urlencoded":a,"application/json":JSON.parse},v(u.prototype),u.prototype._parseBody=function(e){var t=m.parse[this.type];return this.req._parser?this.req._parser(this,e):(!t&&s(this.type)&&(t=m.parse["application/json"]),t&&e&&(e.length||e instanceof Object)?t(e):null)},u.prototype.toError=function(){var e=this.req,t=e.method,n=e.url,r="cannot "+t+" "+n+" ("+this.status+")",i=new Error(r);return i.status=this.status,i.method=t,i.url=n,i},m.Response=u,f(c.prototype),d(c.prototype),c.prototype.type=function(e){return this.set("Content-Type",m.types[e]||e),this},c.prototype.accept=function(e){return this.set("Accept",m.types[e]||e),this},c.prototype.auth=function(e,t,n){return 1===arguments.length&&(t=""),"object"==typeof t&&null!==t&&(n=t,t=""),n||(n={type:"function"==typeof btoa?"basic":"auto"}),this._auth(e,t,n,function(e){if("function"==typeof btoa)return btoa(e);throw new Error("Cannot use basic auth, btoa is not a function")})},c.prototype.query=function(e){return"string"!=typeof e&&(e=i(e)),e&&this._query.push(e),this},c.prototype.attach=function(e,t,n){if(t){if(this._data)throw Error("superagent can't mix .send() and .attach()");this._getFormData().append(e,t,n||t.name)}return this},c.prototype._getFormData=function(){return this._formData||(this._formData=new p.FormData),this._formData},c.prototype.callback=function(e,t){if(this._shouldRetry(e,t))return this._retry();var n=this._callback;this.clearTimeout(),e&&(this._maxRetries&&(e.retries=this._retries-1),this.emit("error",e)),n(e,t)},c.prototype.crossDomainError=function(){var e=new Error("Request has been terminated\nPossible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.");e.crossDomain=!0,e.status=this.status,e.method=this.method,e.url=this.url,this.callback(e)},c.prototype.buffer=c.prototype.ca=c.prototype.agent=function(){return console.warn("This is not supported in browser version of superagent"),this},c.prototype.pipe=c.prototype.write=function(){throw Error("Streaming is not supported in browser version of superagent")},c.prototype._isHost=function(e){return e&&"object"==typeof e&&!Array.isArray(e)&&"[object Object]"!==Object.prototype.toString.call(e)},c.prototype.end=function(e){return this._endCalled&&console.warn("Warning: .end() was called twice. This is not supported in superagent"),this._endCalled=!0,this._callback=e||r,this._finalizeQueryString(),this._end()},c.prototype._end=function(){var n=this,r=this.xhr=m.getXHR(),e=this._formData||this._data;this._setTimeouts(),r.onreadystatechange=function(){var e=r.readyState;if(2<=e&&n._responseTimeoutTimer&&clearTimeout(n._responseTimeoutTimer),4==e){var t;try{t=r.status}catch(e){t=0}if(!t){if(n.timedout||n._aborted)return;return n.crossDomainError()}n.emit("end")}};var t=function(e,t){0<t.total&&(t.percent=t.loaded/t.total*100),t.direction=e,n.emit("progress",t)};if(this.hasListeners("progress"))try{r.onprogress=t.bind(null,"download"),r.upload&&(r.upload.onprogress=t.bind(null,"upload"))}catch(n){}try{this.username&&this.password?r.open(this.method,this.url,!0,this.username,this.password):r.open(this.method,this.url,!0)}catch(n){return this.callback(n)}if(this._withCredentials&&(r.withCredentials=!0),!this._formData&&"GET"!=this.method&&"HEAD"!=this.method&&"string"!=typeof e&&!this._isHost(e)){var i=this._header["content-type"],o=this._serializer||m.serialize[i?i.split(";")[0]:""];!o&&s(i)&&(o=m.serialize["application/json"]),o&&(e=o(e))}for(var a in this.header)null!=this.header[a]&&this.header.hasOwnProperty(a)&&r.setRequestHeader(a,this.header[a]);return this._responseType&&(r.responseType=this._responseType),this.emit("request",this),r.send(void 0!==e?e:null),this},m.agent=function(){return new g},["GET","POST","OPTIONS","PATCH","PUT","DELETE"].forEach(function(r){g.prototype[r.toLowerCase()]=function(e,t){var n=new m.Request(r,e);return this._setDefaults(n),t&&n.end(t),n}}),g.prototype.del=g.prototype.delete,m.get=function(e,t,n){var r=m("GET",e);return"function"==typeof t&&(n=t,t=null),t&&r.query(t),n&&r.end(n),r},m.head=function(e,t,n){var r=m("HEAD",e);return"function"==typeof t&&(n=t,t=null),t&&r.query(t),n&&r.end(n),r},m.options=function(e,t,n){var r=m("OPTIONS",e);return"function"==typeof t&&(n=t,t=null),t&&r.send(t),n&&r.end(n),r},m.del=l,m.delete=l,m.patch=function(e,t,n){var r=m("PATCH",e);return"function"==typeof t&&(n=t,t=null),t&&r.send(t),n&&r.end(n),r},m.post=function(e,t,n){var r=m("POST",e);return"function"==typeof t&&(n=t,t=null),t&&r.send(t),n&&r.end(n),r},m.put=function(e,t,n){var r=m("PUT",e);return"function"==typeof t&&(n=t,t=null),t&&r.send(t),n&&r.end(n),r}},function(e,t,n){function r(e){if(e)return function(e){for(var t in r.prototype)e[t]=r.prototype[t];return e}(e)}(e.exports=r).prototype.on=r.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},r.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=r.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n=this._callbacks["$"+e];if(!n)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var r,i=0;i<n.length;i++)if((r=n[i])===t||r.fn===t){n.splice(i,1);break}return this},r.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks["$"+e];if(n){n=n.slice(0);for(var r=0,i=n.length;r<i;++r)n[r].apply(this,t)}return this},r.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},r.prototype.hasListeners=function(e){return!!this.listeners(e).length}},function(e,t,n){"use strict";function r(e){if(e)return function(e){for(var t in r.prototype)e[t]=r.prototype[t];return e}(e)}var i=n(45);(e.exports=r).prototype.clearTimeout=function(){return clearTimeout(this._timer),clearTimeout(this._responseTimeoutTimer),delete this._timer,delete this._responseTimeoutTimer,this},r.prototype.parse=function(e){return this._parser=e,this},r.prototype.responseType=function(e){return this._responseType=e,this},r.prototype.serialize=function(e){return this._serializer=e,this},r.prototype.timeout=function(e){if(!e||"object"!=typeof e)return this._timeout=e,this._responseTimeout=0,this;for(var t in e)switch(t){case"deadline":this._timeout=e.deadline;break;case"response":this._responseTimeout=e.response;break;default:console.warn("Unknown timeout option",t)}return this},r.prototype.retry=function(e,t){return 0!==arguments.length&&!0!==e||(e=1),e<=0&&(e=0),this._maxRetries=e,this._retries=0,this._retryCallback=t,this};var o=["ECONNRESET","ETIMEDOUT","EADDRINFO","ESOCKETTIMEDOUT"];r.prototype._shouldRetry=function(e,t){if(!this._maxRetries||this._retries++>=this._maxRetries)return!1;if(this._retryCallback)try{var n=this._retryCallback(e,t);if(!0===n)return!0;if(!1===n)return!1}catch(e){console.error(e)}if(t&&t.status&&500<=t.status&&501!=t.status)return!0;if(e){if(e.code&&~o.indexOf(e.code))return!0;if(e.timeout&&"ECONNABORTED"==e.code)return!0;if(e.crossDomain)return!0}return!1},r.prototype._retry=function(){return this.clearTimeout(),this.req&&(this.req=null,this.req=this.request()),this._aborted=!1,this.timedout=!1,this._end()},r.prototype.then=function(e,t){if(!this._fullfilledPromise){var i=this;this._endCalled&&console.warn("Warning: superagent request was sent twice, because both .end() and .then() were called. Never call .end() if you use promises"),this._fullfilledPromise=new Promise(function(n,r){i.end(function(e,t){e?r(e):n(t)})})}return this._fullfilledPromise.then(e,t)},r.prototype.catch=function(e){return this.then(void 0,e)},r.prototype.use=function(e){return e(this),this},r.prototype.ok=function(e){if("function"!=typeof e)throw Error("Callback required");return this._okCallback=e,this},r.prototype._isResponseOK=function(e){return!!e&&(this._okCallback?this._okCallback(e):200<=e.status&&e.status<300)},r.prototype.getHeader=r.prototype.get=function(e){return this._header[e.toLowerCase()]},r.prototype.set=function(e,t){if(i(e)){for(var n in e)this.set(n,e[n]);return this}return this._header[e.toLowerCase()]=t,this.header[e]=t,this},r.prototype.unset=function(e){return delete this._header[e.toLowerCase()],delete this.header[e],this},r.prototype.field=function(e,t){if(null==e)throw new Error(".field(name, val) name can not be empty");if(this._data&&console.error(".field() can't be used if .send() is used. Please use only .send() or only .field() & .attach()"),i(e)){for(var n in e)this.field(n,e[n]);return this}if(Array.isArray(t)){for(var r in t)this.field(e,t[r]);return this}if(null==t)throw new Error(".field(name, val) val can not be empty");return"boolean"==typeof t&&(t=""+t),this._getFormData().append(e,t),this},r.prototype.abort=function(){return this._aborted||(this._aborted=!0,this.xhr&&this.xhr.abort(),this.req&&this.req.abort(),this.clearTimeout(),this.emit("abort")),this},r.prototype._auth=function(e,t,n,r){switch(n.type){case"basic":this.set("Authorization","Basic "+r(e+":"+t));break;case"auto":this.username=e,this.password=t;break;case"bearer":this.set("Authorization","Bearer "+e)}return this},r.prototype.withCredentials=function(e){return null==e&&(e=!0),this._withCredentials=e,this},r.prototype.redirects=function(e){return this._maxRedirects=e,this},r.prototype.maxResponseSize=function(e){if("number"!=typeof e)throw TypeError("Invalid argument");return this._maxResponseSize=e,this},r.prototype.toJSON=function(){return{method:this.method,url:this.url,data:this._data,headers:this._header}},r.prototype.send=function(e){var t=i(e),n=this._header["content-type"];if(this._formData&&console.error(".send() can't be used if .attach() or .field() is used. Please use only .send() or only .field() & .attach()"),t&&!this._data)Array.isArray(e)?this._data=[]:this._isHost(e)||(this._data={});else if(e&&this._data&&this._isHost(this._data))throw Error("Can't merge these send calls");if(t&&i(this._data))for(var r in e)this._data[r]=e[r];else"string"==typeof e?(n||this.type("form"),n=this._header["content-type"],this._data="application/x-www-form-urlencoded"==n?this._data?this._data+"&"+e:e:(this._data||"")+e):this._data=e;return!t||this._isHost(e)||n||this.type("json"),this},r.prototype.sortQuery=function(e){return this._sort=void 0===e||e,this},r.prototype._finalizeQueryString=function(){var e=this._query.join("&");if(e&&(this.url+=(0<=this.url.indexOf("?")?"&":"?")+e),this._query.length=0,this._sort){var t=this.url.indexOf("?");if(0<=t){var n=this.url.substring(t+1).split("&");"function"==typeof this._sort?n.sort(this._sort):n.sort(),this.url=this.url.substring(0,t)+"?"+n.join("&")}}},r.prototype._appendQueryString=function(){console.trace("Unsupported")},r.prototype._timeoutError=function(e,t,n){if(!this._aborted){var r=new Error(e+t+"ms exceeded");r.timeout=t,r.code="ECONNABORTED",r.errno=n,this.timedout=!0,this.abort(),this.callback(r)}},r.prototype._setTimeouts=function(){var e=this;this._timeout&&!this._timer&&(this._timer=setTimeout(function(){e._timeoutError("Timeout of ",e._timeout,"ETIME")},this._timeout)),this._responseTimeout&&!this._responseTimeoutTimer&&(this._responseTimeoutTimer=setTimeout(function(){e._timeoutError("Response timeout of ",e._responseTimeout,"ETIMEDOUT")},this._responseTimeout))}},function(e,t){"use strict";e.exports=function(e){return null!==e&&"object"==typeof e}},function(e,t,n){"use strict";function r(e){if(e)return function(e){for(var t in r.prototype)e[t]=r.prototype[t];return e}(e)}var i=n(47);(e.exports=r).prototype.get=function(e){return this.header[e.toLowerCase()]},r.prototype._setHeaderProperties=function(e){var t=e["content-type"]||"";this.type=i.type(t);var n=i.params(t);for(var r in n)this[r]=n[r];this.links={};try{e.link&&(this.links=i.parseLinks(e.link))}catch(e){}},r.prototype._setStatusProperties=function(e){var t=e/100|0;this.status=this.statusCode=e,this.statusType=t,this.info=1==t,this.ok=2==t,this.redirect=3==t,this.clientError=4==t,this.serverError=5==t,this.error=(4==t||5==t)&&this.toError(),this.accepted=202==e,this.noContent=204==e,this.badRequest=400==e,this.unauthorized=401==e,this.notAcceptable=406==e,this.forbidden=403==e,this.notFound=404==e}},function(e,t){"use strict";t.type=function(e){return e.split(/ *; */).shift()},t.params=function(e){return e.split(/ *; */).reduce(function(e,t){var n=t.split(/ *= */),r=n.shift(),i=n.shift();return r&&i&&(e[r]=i),e},{})},t.parseLinks=function(e){return e.split(/ *, */).reduce(function(e,t){var n=t.split(/ *; */),r=n[0].slice(1,-1);return e[n[1].split(/ *= */)[1].slice(1,-1)]=r,e},{})},t.cleanHeader=function(e,t){return delete e["content-type"],delete e["content-length"],delete e["transfer-encoding"],delete e.host,t&&(delete e.authorization,delete e.cookie),e}},function(e,t){function n(){this._defaults=[]}["use","on","once","set","query","type","accept","auth","withCredentials","sortQuery","retry","ok","redirects","timeout","buffer","serialize","parse","ca","key","pfx","cert"].forEach(function(e){n.prototype[e]=function(){return this._defaults.push({fn:e,arguments:arguments}),this}}),n.prototype._setDefaults=function(t){this._defaults.forEach(function(e){t[e.fn].apply(t,e.arguments)})},e.exports=n}])},function(e,t,n){var y=n(324),b=n(2403),w=n(2404),S=Math.max,_=Math.min;e.exports=function(r,n,e){var i,o,a,s,u,c,l=0,p=!1,f=!1,t=!0;if("function"!=typeof r)throw new TypeError("Expected a function");function d(e){var t=i,n=o;return i=o=void 0,l=e,s=r.apply(n,t)}function h(e){var t=e-c;return void 0===c||n<=t||t<0||f&&a<=e-l}function v(){var e=b();if(h(e))return g(e);u=setTimeout(v,function(e){var t=n-(e-c);return f?_(t,a-(e-l)):t}(e))}function g(e){return u=void 0,t&&i?d(e):(i=o=void 0,s)}function m(){var e=b(),t=h(e);if(i=arguments,o=this,c=e,t){if(void 0===u)return function(e){return l=e,u=setTimeout(v,n),p?d(e):s}(c);if(f)return clearTimeout(u),u=setTimeout(v,n),d(c)}return void 0===u&&(u=setTimeout(v,n)),s}return n=w(n)||0,y(e)&&(p=!!e.leading,a=(f="maxWait"in e)?S(w(e.maxWait)||0,n):a,t="trailing"in e?!!e.trailing:t),m.cancel=function(){void 0!==u&&clearTimeout(u),i=c=o=u=void(l=0)},m.flush=function(){return void 0===u?s:g(b())},m}},function(e,t,n){"use strict";var a=new RegExp("^(?:@([^/]+?)[/])?([^/]+?)$"),s=n(2448),u=["node_modules","favicon.ico"];(e.exports=function(t){var n=[],r=[];if(null===t)return r.push("name cannot be null"),c(n,r);if(void 0===t)return r.push("name cannot be undefined"),c(n,r);if("string"!=typeof t)return r.push("name must be a string"),c(n,r);if(t.length||r.push("name length must be greater than zero"),t.match(/^\./)&&r.push("name cannot start with a period"),t.match(/^_/)&&r.push("name cannot start with an underscore"),t.trim()!==t&&r.push("name cannot contain leading or trailing spaces"),u.forEach(function(e){t.toLowerCase()===e&&r.push(e+" is a blacklisted name")}),s.forEach(function(e){t.toLowerCase()===e&&n.push(e+" is a core module name")}),214<t.length&&n.push("name can no longer contain more than 214 characters"),t.toLowerCase()!==t&&n.push("name can no longer contain capital letters"),/[~'!()*]/.test(t.split("/").slice(-1)[0])&&n.push('name can no longer contain special characters ("~\'!()*")'),encodeURIComponent(t)!==t){var e=t.match(a);if(e){var i=e[1],o=e[2];if(encodeURIComponent(i)===i&&encodeURIComponent(o)===o)return c(n,r)}r.push("name can only contain URL-friendly characters")}return c(n,r)}).scopedPackagePattern=a;var c=function(e,t){var n={validForNewPackages:0===t.length&&0===e.length,validForOldPackages:0===t.length,warnings:e,errors:t};return n.warnings.length||delete n.warnings,n.errors.length||delete n.errors,n}},function(e,t,n){e.exports={default:n(2453),__esModule:!0}},function(e,t,n){"use strict";var f=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i=this&&this.__awaiter||function(o,a,s,u){return new(s||(s=Promise))(function(e,t){function n(e){try{i(u.next(e))}catch(e){t(e)}}function r(e){try{i(u.throw(e))}catch(e){t(e)}}function i(t){t.done?e(t.value):new s(function(e){e(t.value)}).then(n,r)}i((u=u.apply(o,a||[])).next())})},d=this&&this.__generator||function(n,r){var i,o,a,e,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return e={next:t(0),throw:t(1),return:t(2)},"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,o&&(a=o[2&t[0]?"return":t[0]?"throw":"next"])&&!(a=a.call(o,t[1])).done)return a;switch(o=0,a&&(t=[0,a.value]),t[0]){case 0:case 1:a=t;break;case 4:return s.label++,{value:t[1],done:!1};case 5:s.label++,o=t[1],t=[0];continue;case 7:t=s.ops.pop(),s.trys.pop();continue;default:if(!(a=0<(a=s.trys).length&&a[a.length-1])&&(6===t[0]||2===t[0])){s=0;continue}if(3===t[0]&&(!a||t[1]>a[0]&&t[1]<a[3])){s.label=t[1];break}if(6===t[0]&&s.label<a[1]){s.label=a[1],a=t;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(t);break}a[2]&&s.ops.pop(),s.trys.pop();continue}t=r.call(n,s)}catch(e){t=[6,e],o=0}finally{i=a=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},h=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&(n[r[i]]=e[r[i]])}return n};Object.defineProperty(t,"__esModule",{value:!0});var v=n(1426),r=n(1426);t.ClientError=r.ClientError,n(2494);var o=function(){function e(e,t){this.url=e,this.options=t||{}}return e.prototype.rawRequest=function(l,p){return i(this,void 0,void 0,function(){var t,n,r,i,o,a,s,u,c;return d(this,function(e){switch(e.label){case 0:return t=this.options,n=t.headers,r=h(t,["headers"]),i=JSON.stringify({query:l,variables:p||void 0}),[4,fetch(this.url,f({method:"POST",headers:Object.assign({"Content-Type":"application/json"},n),body:i},r))];case 1:return[4,g(o=e.sent())];case 2:if(a=e.sent(),o.ok&&!a.errors&&a.data)return s=o.headers,u=o.status,[2,f({},a,{headers:s,status:u})];throw c="string"==typeof a?{error:a}:a,new v.ClientError(f({},c,{status:o.status,headers:o.headers}),{query:l,variables:p})}})})},e.prototype.request=function(u,c){return i(this,void 0,void 0,function(){var t,n,r,i,o,a,s;return d(this,function(e){switch(e.label){case 0:return t=this.options,n=t.headers,r=h(t,["headers"]),i=JSON.stringify({query:u,variables:c||void 0}),[4,fetch(this.url,f({method:"POST",headers:Object.assign({"Content-Type":"application/json"},n),body:i},r))];case 1:return[4,g(o=e.sent())];case 2:if(a=e.sent(),o.ok&&!a.errors&&a.data)return[2,a.data];throw s="string"==typeof a?{error:a}:a,new v.ClientError(f({},s,{status:o.status}),{query:u,variables:c})}})})},e.prototype.setHeaders=function(e){return this.options.headers=e,this},e.prototype.setHeader=function(e,t){var n,r=this.options.headers;return r?r[e]=t:this.options.headers=((n={})[e]=t,n),this},e}();function a(t,n,r){return i(this,void 0,void 0,function(){return d(this,function(e){return[2,new o(t).request(n,r)]})})}function g(n){return i(this,void 0,void 0,function(){var t;return d(this,function(e){return(t=n.headers.get("Content-Type"))&&t.startsWith("application/json")?[2,n.json()]:[2,n.text()]})})}t.GraphQLClient=o,t.rawRequest=function(t,n,r){return i(this,void 0,void 0,function(){return d(this,function(e){return[2,new o(t).rawRequest(n,r)]})})},t.request=a,t.default=a},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=c(n(0)),i=c(n(1)),o=c(n(2182)),a=c(n(2183)),s=c(n(2184)),u=n(9);function c(e){return e&&e.__esModule?e:{default:e}}var l,p,f,d=function(e){function t(){return e.apply(this,arguments)||this}!function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(t,e);var n=t.prototype;return n.requiresLandscape=function(){return!(this.props.isEmbedView||this.props.isShareView)},n.render=function(){return i.default.createElement("div",null,i.default.createElement(o.default,null),i.default.createElement(a.default,null),this.requiresLandscape()&&i.default.createElement(s.default,{assetUrl:this.props.assetUrl}),this.props.children,i.default.createElement("div",{className:"clear"}))},t}(i.default.Component);l=d,p="propTypes",f={assetUrl:r.default.func.isRequired,isEmbedView:r.default.bool.isRequired,isShareView:r.default.bool.isRequired,children:r.default.node},p in l?Object.defineProperty(l,p,{value:f,enumerable:!0,configurable:!0,writable:!0}):l[p]=f;var h=(0,u.connect)(function(e){return{assetUrl:e.pageConstants.assetUrl,isEmbedView:e.pageConstants.isEmbedView,isShareView:e.pageConstants.isShareView}})(d);t.default=h,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=u(n(1)),r=u(n(6)),i=u(n(0)),a=u(n(15)),s=u(n(140));function u(e){return e&&e.__esModule?e:{default:e}}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p={sliderTrack:{stroke:r.default.lightest_purple,strokeWidth:4,strokeLinecap:"round"},sliderKnob:{fill:r.default.blockly_flyout_gray,stroke:"#bbc",strokeWidth:1,strokeLinejoin:"round",":hover":{fill:"#eee"}}},f="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAMCAYAAABm+U3GAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4AUCEhMHWFBV9gAAAQpJREFUOMul0y9Lg1EUBvCfbCBMDQtqEGFB1mcxGgSbwaZg8mMYLFpsYhO/gMVkWxOxahCWBVnwXRAczmo5L1yu7zbRp5x7zz3n4Tl/bs10dLCLNXzh/Rc5Zia8beEIC5m/iwsUfyE+xfaEvDcc42lcQK3Ct4eDMfFDzGIeO2ji4TeKO7hMSGCUvDeSc9mifbTQjvsNipz4FstjSHM00IvzRiKmh5N61oKSdITPKYN/CbsYPS/RgnpMvx2ldWOtpuEu4tfj/kNEqXglCOdwH6qr9rUZdjPzX+E5ePrp8K79D2dBWOSKH7GK1yhvgPNkiJLKDqOvg7DwkX+YdCuWKpQUE755P/o8rIr9BkRqM7n1cwrvAAAAAElFTkSuQmCC",d="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABcAAAAPCAYAAAAPr1RWAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4AUCEg0vuaTC0wAAAXFJREFUOMul079L1WEUBvDPzQwpTCiS6GaUrZKGq0Gg0BTZJghBQ1tT0H8QNAatTf0BQYOTYktQ0NJgVDTUomC3QL1xTfqhLc+FF7l6v9VZznnf7znP8z3nPG+P6jaDEfRitUrBwYrA5+NHcCvxSzxJ/LpTUU9F8LX88Ta+4hSGMYEW1pPzT+Ayijfx79P1SYzheyeCvwEvu/iEZ3iVkV3GJHbQSDddwS/iBh5k1hfwAwdCcgy/cQbvcA0fAt7qBn4bV4vzaUzhSkgOYRYnMFSIZBmrtS7Su1NxVN/iv+ARltDYD3wR/RVB+zGPhzk39tL5IK4n/ogjiQ/vQ/K5iBt7PaIZTAdwM20+zcKGcLbIbcUP423xoAbbBO2FTuI+xrOk55nbCyygGbKN6HkxOU38DOk5HMdKdP+rPfN7GMVctLuSQthCH46inrtmcuoBHseloqs5PK4Vei4B26C7ra/D9/KujpsYwN3aroQt/2clkT8FpVab2rcDgAAAAABJRU5ErkJggg==",h="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAMCAYAAABm+U3GAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4AUCEjkwj4Y80QAAARJJREFUOMulk7FKQ0EQRc+IVUTBQi1ESCHptTGdheA3aJuPsLCwskkndiE/kMbKzk4sA1oI6QRBXqEpAgbTjs19MGw2eU+cZnZ3Zu/euTNr1DB3PwDawAQYmtlb1R2rADwBLoH1JPQA3JrZ15+B3f0aOF3y7idwZWYvueDKAtCzJaBT+R2g5+4XtRhLz14CMgspjbAuJToHmkBL+7sc8L3Y5EBTawAjrY8CmdFqRoISdAb8VDT/XX5LmpfWtND9lkrbAPZrTOGj8g9zwch4V4BrwJNYTzJ3NuWPk/M+8CqcwoIMA/5nXaAoZzsyfgb2gA+VNwZuQhNjZR3pOpYH+I4fxpLmbc/N44LfpbEspPM0zf0FoFJU5IxlTp4AAAAASUVORK5CYII=",v="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABcAAAAPCAYAAAAPr1RWAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4AUCEjcsBQRNEAAAAX9JREFUOMuV0zFrVUEQBeBvwCJEEqukEeWhgiiCiIVYWATROqKFrUV6EfwH/gLbVBY2gpAilUQbCaKNRSQgGEnzCt8DwQRDurGZK5d4zbtv4LI7c3fP2Z09J/SMzHxY068R8bnPnhM9gc/X9ApWMhM+4DX8j6wXeETsZOZ8pXu4hZu4ivXM3IuInX/2mTLqFgMsFfgsXmHjKMHU4B1Ej3EZB3iJdxExmtiWzLyGO3hQpY9Yw27rlJtYwDesYJyZWxExmtTz+7jbym/Ut5+ZqxhjucAXas0SfmIUE6T3pGeH9mscYxVbEXEs+FvM9QSdwxs8L3V19zwzF3Gv0u84WfPZY0h+tGQ76tR5tWK5AA/qmms4izMlwSZ+13gO242hMnOxIYgq3K6Xbk75Hr9KAZu4hItFMo8vRXyhXDvAbtU3MIyIwwb8WeM2fMKwnCgiDjNzpkBPt1w6rHyA6+XaJtbxIlp6/gvYgHa8x8zR/+1akT3CKTyN9oIuwCkd2ybyB67+kmBPPxeyAAAAAElFTkSuQmCC",g=135,m=g-15-5,y=function(i){function e(){for(var r,e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return l(c(r=i.call.apply(i,[this].concat(t))||this),"state",{dragStart:void 0,valueStart:void 0}),l(c(r),"mouseToSvg_",function(e){var t=r.SVG_.createSVGPoint();r.isWindowsTouch_?(t.x=e.screenX,t.y=e.screenY):r.isAndroid_?(t.x=e.changedTouches[0].pageX,t.y=e.changedTouches[0].pageY):r.isIOS_?(t.x=e.pageX,t.y=e.pageY):(t.x=e.clientX,t.y=e.clientY);var n=r.SVG_.getScreenCTM().inverse();return t.matrixTransform(n)}),l(c(r),"clampValue",function(e){return Math.min(Math.max(e,0),1)}),l(c(r),"svgPositionToValue",function(e){return e=(e-15)/m,r.clampValue(e)}),l(c(r),"onTrackMouseDown",function(e){var t=r.mouseToSvg_(e),n=r.svgPositionToValue(t.x);r.props.onChange(n),r.setState({dragStart:t.x,valueStart:n}),r.startDragging()}),l(c(r),"onKnobMouseDown",function(e){var t=r.mouseToSvg_(e);r.setState({dragStart:t.x,valueStart:r.props.value}),r.startDragging()}),l(c(r),"startDragging",function(){r.unbindOnMouseMove=s.default.addMouseMoveTouchEvent(document,r.onMouseMove),r.unbindStopDragging=s.default.addMouseUpTouchEvent(document,r.stopDragging)}),l(c(r),"onMouseMove",function(e){var t=(r.mouseToSvg_(e).x-r.state.dragStart)/m,n=r.clampValue(r.state.valueStart+t);r.props.onChange(n)}),l(c(r),"stopDragging",function(e){r.setState({dragStart:void 0,valueStart:void 0}),r.unbindOnMouseMove(),r.unbindStopDragging()}),r}!function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(e,i);var t=e.prototype;return t.componentDidMount=function(){this.isAndroid_=s.default.isAndroid(),this.isIOS_=s.default.isIOS(),this.isWindowsTouch_=s.default.isWindowsTouch(),s.default.addMouseDownTouchEvent(this.knob_,this.onKnobMouseDown),s.default.addMouseDownTouchEvent(this.track_,this.onTrackMouseDown)},t.render=function(){var t=this,e=this.props;e.lineWidth&&(g=e.lineWidth,m=g-15-5);var n=this.clampValue(e.value),r=15+m*n-8;return o.default.createElement("div",{id:"slider-cell",style:e.style},o.default.createElement("svg",{width:g+10,height:"35",ref:function(e){return t.SVG_=e}},o.default.createElement("clipPath",{id:"slowClipPath"},o.default.createElement("rect",{width:26,height:12,x:0,y:6})),o.default.createElement("image",{xlinkHref:e.hasFocus?h:f,height:12,width:22,x:2,y:6}),o.default.createElement("clipPath",{id:"fastClipPath"},o.default.createElement("rect",{width:26,height:16,x:g-19,y:2})),o.default.createElement("image",{xlinkHref:e.hasFocus?v:d,height:15,width:23,x:g-18,y:3}),o.default.createElement("line",{style:p.sliderTrack,x1:"5",y1:"25",x2:g+5,y2:"25",ref:function(e){return t.track_=e}}),o.default.createElement("path",{style:p.sliderKnob,transform:"translate(".concat(r,", 10)"),d:"m 8,0 l -8,8 v 12 h 16 v -12 z",ref:function(e){return t.knob_=e}})))},e}(o.default.Component);l(y,"propTypes",{hasFocus:i.default.bool,style:i.default.object,value:i.default.number.isRequired,lineWidth:i.default.number,onChange:i.default.func.isRequired});var b=(0,a.default)(y);t.default=b,e.exports=t.default},function(t,e){(function(e){t.exports=e}).call(this,{})},,,,function(e,t,n){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(n,e,r){if(r.level&&r.level.levelId){var t=e[r.level.levelId];for(var i in r.level=r.level||{},r.level.id=r.level.levelId,r.level)t[i]=r.level[i];r.level.levelBuilderRequiredBlocks&&(t.requiredBlocks=(0,h.makeTestsFromBuilderRequiredBlocks)(r.level.levelBuilderRequiredBlocks)),r.level.levelBuilderRecommendedBlocks&&(t.recommendedBlocks=(0,h.makeTestsFromBuilderRequiredBlocks)(r.level.levelBuilderRecommendedBlocks)),r.level.authoredHints&&(t.authoredHints=(0,g.generateAuthoredHints)(r.level.authoredHints)),r.level=t}(0,f.registerReducers)(b),n.getAppReducers&&(0,f.registerReducers)(n.getAppReducers());(0,v.singleton)().configure(r);var o=r.skinsModule||C.default;if(r.skin=o.load((0,v.singleton)().assetUrl,r.skinId),(0,v.singleton)().isUsingBlockly()){var a={skin:r.skin,isK1:r.level&&r.level.isK1,level:r.level};if(r.level&&r.level.edit_blocks&&(0,d.wrapNumberValidatorsForLevelBuilder)(),y.install(Blockly,a),r.blocksModule.install(Blockly,a),t){var s=t.customBlocks?JSON.parse(t.customBlocks).map(function(e){return{config:e,category:"Custom"}}):[],u=t.sharedBlocks||[],c=[].concat(E(u),E(s));if(0<c.length){var l=(0,S.installCustomBlocks)({blockly:Blockly,blockDefinitions:c,customInputTypes:r.blocksModule.customInputTypes});(0,d.valueOr)(t.hideCustomBlocks,!0)&&!r.level.edit_blocks||(t.toolbox=(0,S.appendBlocksByCategory)(t.toolbox,l))}}Blockly.JavaScript.INFINITE_LOOP_TRAP=w.default.loopTrap()}function p(){if(r.readonly)n.initReadonly?n.initReadonly(r):(0,v.singleton)().initReadonly(r);else{var e=n.init(r),t=function(){r.onInitialize&&r.onInitialize()};e&&e.then?e.then(t):t()}_.default.reportPageSize(),_.default.loadFinished()}r.isExported?p():(0,m.addReadyListener)(p);_.default.setCustomAttribute("appType",r&&r.app),_.default.setCustomAttribute("locale",r&&r.locale)};var f=n(50),d=n(12),h=n(2769),v=n(238),g=n(1263),m=n(140),y=i(n(2628)),b=i(n(3077)),w=r(n(670)),S=n(392),_=r(n(591)),C=r(n(722));function r(e){return e&&e.__esModule?e:{default:e}}function s(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function i(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}function E(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}window.__TestInterface={loadBlocks:function(){var e;return(e=(0,v.singleton)()).loadBlocks.apply(e,arguments)},getBlockXML:function(){return Blockly.Xml.domToText(Blockly.Xml.blockSpaceToDom(Blockly.mainBlockSpace))},arrangeBlockPosition:function(){var e;return(e=(0,v.singleton)()).arrangeBlockPosition.apply(e,arguments)},getDropletContents:function(){return(0,v.singleton)().editor.getValue()},getDroplet:function(){return(0,v.singleton)().editor},ignoreOnBeforeUnload:!1,getStore:f.getStore},e.exports=t.default},,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){(function(e,h){!function(n,r){"use strict";if(!n.setImmediate){var i,o,t,a,e,s=1,u={},c=!1,l=n.document,p=Object.getPrototypeOf&&Object.getPrototypeOf(n);p=p&&p.setTimeout?p:n,i="[object process]"==={}.toString.call(n.process)?function(e){h.nextTick(function(){d(e)})}:function(){if(n.postMessage&&!n.importScripts){var e=!0,t=n.onmessage;return n.onmessage=function(){e=!1},n.postMessage("","*"),n.onmessage=t,e}}()?(a="setImmediate$"+Math.random()+"$",e=function(e){e.source===n&&"string"==typeof e.data&&0===e.data.indexOf(a)&&d(+e.data.slice(a.length))},n.addEventListener?n.addEventListener("message",e,!1):n.attachEvent("onmessage",e),function(e){n.postMessage(a+e,"*")}):n.MessageChannel?((t=new MessageChannel).port1.onmessage=function(e){d(e.data)},function(e){t.port2.postMessage(e)}):l&&"onreadystatechange"in l.createElement("script")?(o=l.documentElement,function(e){var t=l.createElement("script");t.onreadystatechange=function(){d(e),t.onreadystatechange=null,o.removeChild(t),t=null},o.appendChild(t)}):function(e){setTimeout(d,0,e)},p.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var r={callback:e,args:t};return u[s]=r,i(s),s++},p.clearImmediate=f}function f(e){delete u[e]}function d(e){if(c)setTimeout(d,0,e);else{var t=u[e];if(t){c=!0;try{!function(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(r,n)}}(t)}finally{f(e),c=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,n(30),n(29))},function(e,t,n){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.styles=t.default=t.UnconnectedCompletionButton=void 0;var r=l(n(5)),i=l(n(0)),o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=c();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}n.default=e,t&&t.set(e,n);return n}(n(1)),s=n(9),u=l(n(201));function c(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}function l(e){return e&&e.__esModule?e:{default:e}}var p={main:{display:"inline"},phoneFrameButton:{minWidth:105,textAlign:"center"}};t.styles=p;var f,d,h,v=function(e){function t(){return e.apply(this,arguments)||this}return function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(t,e),t.prototype.render=function(){var e,t,n="share-cell-none";return this.props.isProjectLevel?o.default.createElement("div",null):(this.props.isSubmittable||this.props.isSubmitted?this.props.isSubmitted?(e="unsubmitButton",t=r.default.unsubmit(),n="share-cell-enabled"):(e="submitButton",t=r.default.submit()):(e="finishButton",t=r.default.finish()),o.default.createElement(u.default,{style:p.main},o.default.createElement("div",{id:"share-cell",className:n},o.default.createElement("button",{type:"button",id:e,className:"share",style:[this.props.playspacePhoneFrame&&p.phoneFrameButton]},o.default.createElement("img",{src:"/blockly/media/1x1.gif"}),t))))},t}(o.Component);f=v,d="propTypes",h={isProjectLevel:i.default.bool.isRequired,isSubmittable:i.default.bool.isRequired,isSubmitted:i.default.bool.isRequired,playspacePhoneFrame:i.default.bool},d in f?Object.defineProperty(f,d,{value:h,enumerable:!0,configurable:!0,writable:!0}):f[d]=h;var g=v;t.UnconnectedCompletionButton=g;var m=(0,s.connect)(function(e){return{isProjectLevel:e.pageConstants.isProjectLevel,isSubmittable:e.pageConstants.isSubmittable,isSubmitted:e.pageConstants.isSubmitted,playspacePhoneFrame:e.pageConstants.playspacePhoneFrame}})(v);t.default=m},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.UnwrappedInstructionsWithWorkspace=void 0;var p=c(n(10)),r=c(n(0)),i=c(n(1)),o=n(9),a=c(n(2019)),s=c(n(2185)),u=n(447);function c(e){return e&&e.__esModule?e:{default:e}}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l=function(r){function e(){for(var l,e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return d(f(l=r.call.apply(r,[this].concat(t))||this),"state",{windowWidth:void 0,windowHeight:void 0}),d(f(l),"setCodeWorkspaceContainerRef",function(e){l.codeWorkspaceContainer=e}),d(f(l),"onResize",function(){var e=l.state,t=e.windowWidth,n=e.windowHeight,r=(0,p.default)(window).width(),i=(0,p.default)(window).height();if(r!==t||i!==n){l.setState({windowWidth:r,windowHeight:i});var o=l.props,a=o.instructionsHeight,s=o.setInstructionsMaxHeightAvailable,u=a+l.codeWorkspaceContainer.getWrappedInstance().getRenderedHeight(),c=u-120-150;c<150&&(c=Math.round(u/3)),s(c)}}),l}!function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(e,r);var t=e.prototype;return t.componentDidMount=function(){window.addEventListener("resize",this.onResize)},t.componentWillUnmount=function(){window.removeEventListener("resize",this.onResize)},t.render=function(){return i.default.createElement("span",null,i.default.createElement(s.default,null),i.default.createElement(a.default,{ref:this.setCodeWorkspaceContainerRef,topMargin:this.props.instructionsHeight},this.props.children))},e}(i.default.Component);d(t.UnwrappedInstructionsWithWorkspace=l,"propTypes",{children:r.default.node,instructionsHeight:r.default.number.isRequired,setInstructionsMaxHeightAvailable:r.default.func.isRequired});var h=(0,o.connect)(function(e){return{instructionsHeight:e.instructions.renderedHeight}},function(t){return{setInstructionsMaxHeightAvailable:function(e){t((0,u.setInstructionsMaxHeightAvailable)(e))}}})(l);t.default=h},function(e,t,n){"use strict";var i=n(53),p=n(187),y=n(18);e.exports=function(e,f,o){var n=[],d={mixins:"DEFINE_MANY",statics:"DEFINE_MANY",propTypes:"DEFINE_MANY",contextTypes:"DEFINE_MANY",childContextTypes:"DEFINE_MANY",getDefaultProps:"DEFINE_MANY_MERGED",getInitialState:"DEFINE_MANY_MERGED",getChildContext:"DEFINE_MANY_MERGED",render:"DEFINE_ONCE",componentWillMount:"DEFINE_MANY",componentDidMount:"DEFINE_MANY",componentWillReceiveProps:"DEFINE_MANY",shouldComponentUpdate:"DEFINE_ONCE",componentWillUpdate:"DEFINE_MANY",componentDidUpdate:"DEFINE_MANY",componentWillUnmount:"DEFINE_MANY",UNSAFE_componentWillMount:"DEFINE_MANY",UNSAFE_componentWillReceiveProps:"DEFINE_MANY",UNSAFE_componentWillUpdate:"DEFINE_MANY",updateComponent:"OVERRIDE_BASE"},s={getDerivedStateFromProps:"DEFINE_MANY_MERGED"},h={displayName:function(e,t){e.displayName=t},mixins:function(e,t){if(t)for(var n=0;n<t.length;n++)r(e,t[n])},childContextTypes:function(e,t){e.childContextTypes=i({},e.childContextTypes,t)},contextTypes:function(e,t){e.contextTypes=i({},e.contextTypes,t)},getDefaultProps:function(e,t){e.getDefaultProps?e.getDefaultProps=v(e.getDefaultProps,t):e.getDefaultProps=t},propTypes:function(e,t){e.propTypes=i({},e.propTypes,t)},statics:function(e,t){!function(e,t){if(t)for(var n in t){var r=t[n];if(t.hasOwnProperty(n)){var i=n in h;y(!i,'ReactClass: You are attempting to define a reserved property, `%s`, that shouldn\'t be on the "statics" key. Define it as an instance property instead; it will still be accessible on the constructor.',n);var o=n in e;if(o){var a=s.hasOwnProperty(n)?s[n]:null;return y("DEFINE_MANY_MERGED"===a,"ReactClass: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",n),e[n]=v(e[n],r)}e[n]=r}}}(e,t)},autobind:function(){}};function r(e,t){if(t){y("function"!=typeof t,"ReactClass: You're attempting to use a component class or function as a mixin. Instead, just use a regular object."),y(!f(t),"ReactClass: You're attempting to use a component as a mixin. Instead, just use a regular object.");var n,r,i,o=e.prototype,a=o.__reactAutoBindPairs;for(var s in t.hasOwnProperty("mixins")&&h.mixins(e,t.mixins),t)if(t.hasOwnProperty(s)&&"mixins"!==s){var u=t[s],c=o.hasOwnProperty(s);if(n=c,r=s,i=d.hasOwnProperty(r)?d[r]:null,m.hasOwnProperty(r)&&y("OVERRIDE_BASE"===i,"ReactClassInterface: You are attempting to override `%s` from your class specification. Ensure that your method names do not overlap with React methods.",r),n&&y("DEFINE_MANY"===i||"DEFINE_MANY_MERGED"===i,"ReactClassInterface: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",r),h.hasOwnProperty(s))h[s](e,u);else{var l=d.hasOwnProperty(s);if("function"!=typeof u||l||c||!1===t.autobind)if(c){var p=d[s];y(l&&("DEFINE_MANY_MERGED"===p||"DEFINE_MANY"===p),"ReactClass: Unexpected spec policy %s for key %s when mixing in component specs.",p,s),"DEFINE_MANY_MERGED"===p?o[s]=v(o[s],u):"DEFINE_MANY"===p&&(o[s]=g(o[s],u))}else o[s]=u;else a.push(s,u),o[s]=u}}}}function a(e,t){for(var n in y(e&&t&&"object"==typeof e&&"object"==typeof t,"mergeIntoWithNoDuplicateKeys(): Cannot merge non-objects."),t)t.hasOwnProperty(n)&&(y(void 0===e[n],"mergeIntoWithNoDuplicateKeys(): Tried to merge two objects with the same key: `%s`. This conflict may be due to a mixin; in particular, this may be caused by two getInitialState() or getDefaultProps() methods returning objects with clashing keys.",n),e[n]=t[n]);return e}function v(r,i){return function(){var e=r.apply(this,arguments),t=i.apply(this,arguments);if(null==e)return t;if(null==t)return e;var n={};return a(n,e),a(n,t),n}}function g(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}var u={componentDidMount:function(){this.__isMounted=!0}},c={componentWillUnmount:function(){this.__isMounted=!1}},m={replaceState:function(e,t){this.updater.enqueueReplaceState(this,e,t)},isMounted:function(){return!!this.__isMounted}},l=function(){};return i(l.prototype,e.prototype,m),function(e){var i=function(e){return e}(function(e,t,n){this.__reactAutoBindPairs.length&&function(e){for(var t,n=e.__reactAutoBindPairs,r=0;r<n.length;r+=2){var i=n[r],o=n[r+1];e[i]=(t=e,o.bind(t))}}(this),this.props=e,this.context=t,this.refs=p,this.updater=n||o,this.state=null;var r=this.getInitialState?this.getInitialState():null;y("object"==typeof r&&!Array.isArray(r),"%s.getInitialState(): must return an object or null",i.displayName||"ReactCompositeComponent"),this.state=r});for(var t in i.prototype=new l,(i.prototype.constructor=i).prototype.__reactAutoBindPairs=[],n.forEach(r.bind(null,i)),r(i,u),r(i,e),r(i,c),i.getDefaultProps&&(i.defaultProps=i.getDefaultProps()),y(i.prototype.render,"createClass(...): Class specification must implement a `render` method."),d)i.prototype[t]||(i.prototype[t]=null);return i}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getColumnsRef=s,t.getColumnRefByName=i,t.getColumnNamesFromRecords=function(n){var r=[];return Object.keys(n).forEach(function(e){var t=JSON.parse(n[e]);Object.keys(t).forEach(function(e){-1===r.indexOf(e)&&("id"===e?r.unshift(e):r.push(e))})}),r},t.addColumnName=function(t,n){return i(t,n).then(function(e){return e?Promise.resolve():s((0,o.getProjectDatabase)(),t).push().set({columnName:n})})},t.deleteColumnName=function(e,t){return i(e,t).then(function(e){return e?e.set(null):Promise.resolve()})},t.renameColumnName=function(t,e,n){return i(t,e).then(function(e){return e?e.set({columnName:n}):s((0,o.getProjectDatabase)(),t).push().set({columnName:n})})},t.getColumnNamesSnapshot=u,t.onColumnsChange=function(e,t,r){s(e,t).on("value",function(e){var t=e.val()||{},n=a.default.values(t).map(function(e){return e.columnName});r(n)})},t.addMissingColumns=function(e,r){return u((0,o.getProjectDatabase)(),e).then(function(t){var n=s((0,o.getProjectDatabase)(),e);r.forEach(function(e){t.includes(e)||n.push().set({columnName:e})})})};var r,o=n(804),a=(r=n(16))&&r.__esModule?r:{default:r};function s(e,t){return(0,o.getPathRef)(e,"metadata/tables/".concat(t,"/columns"))}function i(r,i){return s((0,o.getProjectDatabase)(),r).once("value").then(function(e){var t=e.val(),n=a.default.findKey(t,function(e){return e.columnName===i});return n?s((0,o.getProjectDatabase)(),r).child(n):Promise.resolve()})}function u(e,t){return s(e,t).once("value").then(function(e){var t=e.val()||{};return a.default.values(t).map(function(e){return e.columnName})})}},,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(1)),r=a(n(0)),o=n(9);function a(e){return e&&e.__esModule?e:{default:e}}var s,u,c,l={hidden:{display:"none"},visible:{display:"inline-block"}},p=function(e){function t(){return e.apply(this,arguments)||this}return function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(t,e),t.prototype.render=function(){var e=this.props,t=e.visible,n=e.disabled,r=t?l.visible:l.hidden;return i.default.createElement("div",{style:r,id:"soft-buttons"},i.default.createElement("button",{type:"button",id:"leftButton",disabled:n,className:"arrow"},i.default.createElement("img",{src:"/blockly/media/1x1.gif",className:"left-btn icon21"})),i.default.createElement("button",{type:"button",id:"rightButton",disabled:n,className:"arrow"},i.default.createElement("img",{src:"/blockly/media/1x1.gif",className:"right-btn icon21"})),i.default.createElement("button",{type:"button",id:"upButton",disabled:n,className:"arrow"},i.default.createElement("img",{src:"/blockly/media/1x1.gif",className:"up-btn icon21"})),i.default.createElement("button",{type:"button",id:"downButton",disabled:n,className:"arrow"},i.default.createElement("img",{src:"/blockly/media/1x1.gif",className:"down-btn icon21"})))},t}(i.default.Component);s=p,u="propTypes",c={visible:r.default.bool.isRequired,disabled:r.default.bool.isRequired},u in s?Object.defineProperty(s,u,{value:c,enumerable:!0,configurable:!0,writable:!0}):s[u]=c;var f=(0,o.connect)(function(e){return{visible:e.arrowDisplay.buttonsAreVisible,disabled:e.arrowDisplay.buttonsAreDisabled}})(p);t.default=f,e.exports=t.default},,,,,,,,,,function(e,t,n){"use strict";t.__esModule=!0,t.default=t.EXITING=t.ENTERED=t.ENTERING=t.EXITED=t.UNMOUNTED=void 0;var r=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}}(n(0)),o=s(n(1)),i=s(n(7)),a=n(310);n(1668);function s(e){return e&&e.__esModule?e:{default:e}}var u="unmounted";t.UNMOUNTED=u;var c="exited";t.EXITED=c;var l="entering";t.ENTERING=l;var p="entered";t.ENTERED=p;var f="exiting";t.EXITING=f;var d=function(a){function e(e,t){var n;n=a.call(this,e,t)||this;var r,i=t.transitionGroup,o=i&&!i.isMounting?e.enter:e.appear;return n.appearStatus=null,e.in?o?(r=c,n.appearStatus=l):r=p:r=e.unmountOnExit||e.mountOnEnter?u:c,n.state={status:r},n.nextCallback=null,n}!function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(e,a);var t=e.prototype;return t.getChildContext=function(){return{transitionGroup:null}},e.getDerivedStateFromProps=function(e,t){return e.in&&t.status===u?{status:c}:null},t.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},t.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==l&&n!==p&&(t=l):n!==l&&n!==p||(t=f)}this.updateStatus(!1,t)},t.componentWillUnmount=function(){this.cancelNextCallback()},t.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!=typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},t.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t){this.cancelNextCallback();var n=i.default.findDOMNode(this);t===l?this.performEnter(n,e):this.performExit(n)}else this.props.unmountOnExit&&this.state.status===c&&this.setState({status:u})},t.performEnter=function(e,t){var n=this,r=this.props.enter,i=this.context.transitionGroup?this.context.transitionGroup.isMounting:t,o=this.getTimeouts(),a=i?o.appear:o.enter;t||r?(this.props.onEnter(e,i),this.safeSetState({status:l},function(){n.props.onEntering(e,i),n.onTransitionEnd(e,a,function(){n.safeSetState({status:p},function(){n.props.onEntered(e,i)})})})):this.safeSetState({status:p},function(){n.props.onEntered(e)})},t.performExit=function(e){var t=this,n=this.props.exit,r=this.getTimeouts();n?(this.props.onExit(e),this.safeSetState({status:f},function(){t.props.onExiting(e),t.onTransitionEnd(e,r.exit,function(){t.safeSetState({status:c},function(){t.props.onExited(e)})})})):this.safeSetState({status:c},function(){t.props.onExited(e)})},t.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},t.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},t.setNextCallback=function(t){var n=this,r=!0;return this.nextCallback=function(e){r&&(r=!1,n.nextCallback=null,t(e))},this.nextCallback.cancel=function(){r=!1},this.nextCallback},t.onTransitionEnd=function(e,t,n){this.setNextCallback(n);var r=null==t&&!this.props.addEndListener;e&&!r?(this.props.addEndListener&&this.props.addEndListener(e,this.nextCallback),null!=t&&setTimeout(this.nextCallback,t)):setTimeout(this.nextCallback,0)},t.render=function(){var e=this.state.status;if(e===u)return null;var t=this.props,n=t.children,r=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],0<=t.indexOf(n)||(i[n]=e[n]);return i}(t,["children"]);if(delete r.in,delete r.mountOnEnter,delete r.unmountOnExit,delete r.appear,delete r.enter,delete r.exit,delete r.timeout,delete r.addEndListener,delete r.onEnter,delete r.onEntering,delete r.onEntered,delete r.onExit,delete r.onExiting,delete r.onExited,"function"==typeof n)return n(e,r);var i=o.default.Children.only(n);return o.default.cloneElement(i,r)},e}(o.default.Component);function h(){}d.contextTypes={transitionGroup:r.object},d.childContextTypes={transitionGroup:function(){}},d.propTypes={},d.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:h,onEntering:h,onEntered:h,onExit:h,onExiting:h,onExited:h},d.UNMOUNTED=0,d.EXITED=1,d.ENTERING=2,d.ENTERED=3,d.EXITING=4;var v=(0,a.polyfill)(d);t.default=v},function(e,t,n){"use strict";t.__esModule=!0,t.classNamesShape=t.timeoutsShape=void 0;var r;(r=n(0))&&r.__esModule;t.timeoutsShape=null;t.classNamesShape=null},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=s(n(0)),o=s(n(1)),i=n(310),a=n(2573);function s(e){return e&&e.__esModule?e:{default:e}}function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var l=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},p=function(i){function e(e,t){var n,r=(n=i.call(this,e,t)||this).handleExited.bind(c(c(n)));return n.state={handleExited:r,firstRender:!0},n}!function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(e,i);var t=e.prototype;return t.getChildContext=function(){return{transitionGroup:{isMounting:!this.appeared}}},t.componentDidMount=function(){this.appeared=!0,this.mounted=!0},t.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(e,t){var n=t.children,r=t.handleExited;return{children:t.firstRender?(0,a.getInitialChildMapping)(e,r):(0,a.getNextChildMapping)(e,n,r),firstRender:!1}},t.handleExited=function(n,e){var t=(0,a.getChildMapping)(this.props.children);n.key in t||(n.props.onExited&&n.props.onExited(e),this.mounted&&this.setState(function(e){var t=u({},e.children);return delete t[n.key],{children:t}}))},t.render=function(){var e=this.props,t=e.component,n=e.childFactory,r=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],0<=t.indexOf(n)||(i[n]=e[n]);return i}(e,["component","childFactory"]),i=l(this.state.children).map(n);return delete r.appear,delete r.enter,delete r.exit,null===t?i:o.default.createElement(t,r,i)},e}(o.default.Component);p.childContextTypes={transitionGroup:r.default.object.isRequired},p.propTypes={},p.defaultProps={component:"div",childFactory:function(e){return e}};var f=(0,i.polyfill)(p);t.default=f,e.exports=t.default},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){var r=n(339),i=n(806),o=n(818)("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=i(e),r(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(1)),i=a(n(131)),o=a(n(16));function a(e){return e&&e.__esModule?e:{default:e}}var s=n(5),u={container:{display:"inline"},tooltip:{maxWidth:200,lineHeight:"20px",whiteSpace:"normal"},projectTemplateIcon:{marginRight:5,marginTop:-1}},c=function(n){function e(e){var t;return(t=n.call(this,e)||this).tooltipId=o.default.uniqueId(),t}return function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(e,n),e.prototype.render=function(){return r.default.createElement("div",{style:u.container},r.default.createElement("img",{style:u.projectTemplateIcon,className:"projectTemplateWorkspaceIcon",src:"/blockly/media/connect.svg","data-tip":!0,"data-for":this.tooltipId,"aria-describedby":this.tooltipId}),r.default.createElement(i.default,{id:this.tooltipId,role:"tooltip",wrapper:"div",effect:"solid"},r.default.createElement("div",{style:u.tooltip},s.workspaceProjectTemplateLevel())))},e}(r.default.Component);t.default=c,e.exports=t.default},function(e,t,n){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.UnconnectedCodeWorkspace=void 0;var o=E(n(10)),p=E(n(1)),r=E(n(0)),i=E(n(15)),s=n(9),u=E(n(201)),c=E(n(2212)),f=C(n(708)),d=E(n(5)),h=E(n(296)),l=E(n(6)),v=C(n(12)),g=n(2246),m=E(n(1840)),y=E(n(2247)),b=n(238),w=E(n(1709)),S=n(110);function _(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return _=function(){return e},e}function C(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=_();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}function E(e){return e&&e.__esModule?e:{default:e}}function x(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var k={headerIcon:{fontSize:18},chevron:{fontSize:18,":hover":{color:l.default.white}},runningIcon:{color:l.default.dark_charcoal},studentNotStartedWarning:{zIndex:99,backgroundColor:l.default.lightest_red,height:20,padding:5,opacity:.9,position:"relative"}},P=function(i){function e(){for(var n,e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return O(x(n=i.call.apply(i,[this].concat(t))||this),"onDebuggerSlide",function(e){var t=n.codeTextbox.getRoot();t.style.bottom?(0,o.default)(t).animate({bottom:e},{done:v.fireResizeEvent}):(t.style.bottom=e+"px",v.fireResizeEvent())}),O(x(n),"onToggleShowCode",function(e){n.blockCounterEl.style.display=e&&(0,b.singleton)().enableShowBlockCount?"inline-block":"none"}),n}!function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(e,i);var t=e.prototype;return t.shouldComponentUpdate=function(t){return Object.keys(t).forEach(function(e){if("isRunning"!==e&&"style"!==e&&t[e]!==this.props[e])throw new Error("Attempting to change key "+e+" in CodeWorkspace")}.bind(this)),!0},t.renderToolboxHeaders=function(){var e=this.props,t=e.editCode,n=e.isRunning,r=e.runModeIndicators,i=e.readonlyWorkspace,o=e.withSettingsCog,a=e.showMakerToggle,s=o&&!i,u=s?{paddingLeft:"2em"}:void 0,c=[k.chevron,r&&n&&k.runningIcon],l=s&&p.default.createElement(m.default,{isRunning:n,runModeIndicators:r,showMakerToggle:a});return[p.default.createElement(f.PaneSection,{id:"toolbox-header",key:"toolbox-header"},p.default.createElement("i",{id:"hide-toolbox-icon",style:[h.default.hidden,c],className:"fa fa-chevron-circle-right"}),p.default.createElement("span",{style:u},t?d.default.toolboxHeaderDroplet():d.default.toolboxHeader()),l),p.default.createElement(f.PaneSection,{id:"show-toolbox-header",key:"show-toolbox-header",style:h.default.hidden},p.default.createElement("span",{id:"show-toolbox-click-target"},p.default.createElement("i",{id:"show-toolbox-icon",style:c,className:"fa fa-chevron-circle-right"}),p.default.createElement("span",null,d.default.showToolbox())),l)]},t.render=function(){var t=this,e=this.props,n=!(e.runModeIndicators&&e.isRunning),r=this.props.isRtl,i="true"===(0,S.queryParams)("solution");return p.default.createElement("span",{id:"codeWorkspaceWrapper",style:e.style},p.default.createElement(f.default,{id:"headers",dir:r?"rtl":"ltr",hasFocus:n,className:e.isRunning?"is-running":""},p.default.createElement("div",{id:"codeModeHeaders"},this.renderToolboxHeaders(),p.default.createElement(y.default,{isRtl:r,hasFocus:n,isMinecraft:e.isMinecraft,onToggle:this.onToggleShowCode}),!e.readonlyWorkspace&&p.default.createElement(f.PaneButton,{id:"clear-puzzle-header",headerHasFocus:n,iconClass:"fa fa-undo",label:d.default.clearPuzzle(),isRtl:r,isMinecraft:e.isMinecraft}),p.default.createElement(f.PaneButton,{id:"versions-header",headerHasFocus:n,iconClass:"fa fa-clock-o",label:d.default.showVersionsHeader(),isRtl:r,isMinecraft:e.isMinecraft}),p.default.createElement(f.PaneSection,{id:"workspace-header"},e.showProjectTemplateWorkspaceIcon&&p.default.createElement(w.default,null),p.default.createElement("span",{id:"workspace-header-span"},e.readonlyWorkspace?d.default.readonlyWorkspaceHeader():d.default.workspaceHeaderShort()),p.default.createElement("div",{id:"blockCounter",ref:function(e){return t.blockCounterEl=e}},p.default.createElement("span",null,": "),p.default.createElement(u.default,{id:"blockUsed",className:"block-counter-default"}),p.default.createElement("span",null," / "),p.default.createElement("span",{id:"idealBlockNumber"}),p.default.createElement("span",null," "+d.default.blocks()))))),e.editCode&&p.default.createElement(u.default,{ref:function(e){return t.codeTextbox=e},id:"codeTextbox",className:this.props.pinWorkspaceToBottom?"pin_bottom":""}),this.props.studentHasNotStartedLevel&&!i&&p.default.createElement("div",{style:k.studentNotStartedWarning},d.default.levelNotStartedWarning()),e.showDebugger&&p.default.createElement(c.default,{onSlideShut:this.onDebuggerSlide,onSlideOpen:this.onDebuggerSlide}))},e}(p.default.Component);O(P,"propTypes",{studentHasNotStartedLevel:r.default.bool,isRtl:r.default.bool.isRequired,editCode:r.default.bool.isRequired,readonlyWorkspace:r.default.bool.isRequired,showDebugger:r.default.bool.isRequired,style:r.default.bool,isRunning:r.default.bool.isRequired,pinWorkspaceToBottom:r.default.bool.isRequired,showProjectTemplateWorkspaceIcon:r.default.bool.isRequired,isMinecraft:r.default.bool.isRequired,runModeIndicators:r.default.bool.isRequired,withSettingsCog:r.default.bool,showMakerToggle:r.default.bool});var T=(0,i.default)(P);t.UnconnectedCodeWorkspace=T;var R=(0,s.connect)(function(e){return{studentHasNotStartedLevel:e.pageConstants.isNotStartedLevel,editCode:e.pageConstants.isDroplet,isRtl:e.isRtl,readonlyWorkspace:e.pageConstants.isReadOnlyWorkspace,isRunning:!!e.runState.isRunning,showDebugger:!(!e.pageConstants.showDebugButtons&&!e.pageConstants.showDebugConsole),pinWorkspaceToBottom:e.pageConstants.pinWorkspaceToBottom,showProjectTemplateWorkspaceIcon:!!e.pageConstants.showProjectTemplateWorkspaceIcon,isMinecraft:!!e.pageConstants.isMinecraft,runModeIndicators:(0,g.shouldUseRunModeIndicators)(e),showMakerToggle:!!e.pageConstants.showMakerToggle}})((0,i.default)(P));t.default=R},function(e,t,n){var r=n(1338),i=e.exports=function(e){this.outputConsole_=e,this.observer_=new r};i.prototype.attachTo=function(e){this.observer_.observe(e.onExecutionWarning,this.log.bind(this))},i.prototype.detach=function(){this.observer_.unobserveAll()},i.prototype.log=function(){this.outputConsole_&&this.outputConsole_.log&&this.outputConsole_.log.apply(this.outputConsole_,arguments)}},function(e,t,n){e.exports=n.p+"iconwp9e094c2652e91fbe16ffcfd5a42e3afa.png"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.UnconnectedAppView=void 0;var r=d(n(0)),i=d(n(1)),o=d(n(2)),a=n(9),s=n(716),u=d(n(1620)),c=d(n(1652)),l=d(n(1710)),p=d(n(1863)),f=d(n(1211));function d(e){return e&&e.__esModule?e:{default:e}}var h,v,g,m=function(e){function t(){return e.apply(this,arguments)||this}!function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(t,e);var n=t.prototype;return n.componentDidMount=function(){this.props.onMount()},n.render=function(){var e=(0,o.default)({responsive:this.props.isResponsive,pin_bottom:!this.props.hideSource&&this.props.pinWorkspaceToBottom});return i.default.createElement(u.default,null,i.default.createElement(p.default,null),i.default.createElement("div",{id:"visualizationColumn",className:e},this.props.visualizationColumn),i.default.createElement(f.default,null),i.default.createElement(c.default,null,i.default.createElement(l.default,null)))},t}(i.default.Component);h=m,v="propTypes",g={hideSource:r.default.bool.isRequired,isResponsive:r.default.bool.isRequired,pinWorkspaceToBottom:r.default.bool.isRequired,visualizationColumn:r.default.element,onMount:r.default.func.isRequired},v in h?Object.defineProperty(h,v,{value:g,enumerable:!0,configurable:!0,writable:!0}):h[v]=g;var y=m;t.UnconnectedAppView=y;var b=(0,a.connect)(function(e){return{hideSource:e.pageConstants.hideSource,isResponsive:(0,s.isResponsiveFromState)(e),pinWorkspaceToBottom:e.pageConstants.pinWorkspaceToBottom}})(y);t.default=b},,function(e,t,n){"use strict";t.__esModule=!0;var r=i(n(1864)),u=i(n(1867));function i(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t){if(Array.isArray(e))return e;if((0,r.default)(Object(e)))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=(0,u.default)(e);!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},,function(e,t,n){e.exports={default:n(1723),__esModule:!0}},function(e,t,n){var r=n(305).document;e.exports=r&&r.documentElement},function(e,t){},,,function(e,t,n){n(1724),e.exports=n(182).Object.assign},function(e,t,n){var r=n(337);r(r.S+r.F,"Object",{assign:n(1725)})},function(e,t,n){"use strict";var f=n(665),d=n(821),h=n(675),v=n(806),g=n(1194),i=Object.assign;e.exports=!i||n(573)(function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach(function(e){t[e]=e}),7!=i({},e)[n]||Object.keys(i({},t)).join("")!=r})?function(e,t){for(var n=v(e),r=arguments.length,i=1,o=d.f,a=h.f;i<r;)for(var s,u=g(arguments[i++]),c=o?f(u).concat(o(u)):f(u),l=c.length,p=0;p<l;)a.call(u,s=c[p++])&&(n[s]=u[s]);return n}:i},function(e,t,n){var u=n(445),c=n(1259),l=n(1727);e.exports=function(s){return function(e,t,n){var r,i=u(e),o=c(i.length),a=l(n,o);if(s&&t!=t){for(;a<o;)if((r=i[a++])!=r)return!0}else for(;a<o;a++)if((s||a in i)&&i[a]===t)return s||a||0;return!s&&-1}}},function(e,t,n){var r=n(817),i=Math.max,o=Math.min;e.exports=function(e,t){return(e=r(e))<0?i(e+t,0):o(e,t)}},function(e,t,n){n(1729);var r=n(182).Object;e.exports=function(e,t,n){return r.defineProperty(e,t,n)}},function(e,t,n){var r=n(337);r(r.S+r.F*!n(338),"Object",{defineProperty:n(307).f})},function(e,t,n){e.exports={default:n(1731),__esModule:!0}},function(e,t,n){n(712),n(825),e.exports=n(823).f("iterator")},function(e,t,n){var u=n(817),c=n(816);e.exports=function(s){return function(e,t){var n,r,i=String(c(e)),o=u(t),a=i.length;return o<0||a<=o?s?"":void 0:(n=i.charCodeAt(o))<55296||56319<n||o+1===a||(r=i.charCodeAt(o+1))<56320||57343<r?s?i.charAt(o):n:s?i.slice(o,o+2):r-56320+(n-55296<<10)+65536}}},function(e,t,n){"use strict";var r=n(822),i=n(598),o=n(814),a={};n(452)(a,n(204)("iterator"),function(){return this}),e.exports=function(e,t,n){e.prototype=r(a,{next:i(1,n)}),o(e,t+" Iterator")}},function(e,t,n){var a=n(307),s=n(347),u=n(665);e.exports=n(338)?Object.defineProperties:function(e,t){s(e);for(var n,r=u(t),i=r.length,o=0;o<i;)a.f(e,n=r[o++],t[n]);return e}},function(e,t,n){"use strict";var r=n(1736),i=n(1737),o=n(505),a=n(445);e.exports=n(1195)(Array,"Array",function(e,t){this._t=a(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,i(1)):i(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])},"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},function(e,t){e.exports=function(){}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,n){e.exports={default:n(1739),__esModule:!0}},function(e,t,n){n(1740),n(1720),n(1745),n(1746),e.exports=n(182).Symbol},function(e,t,n){"use strict";var r=n(305),a=n(339),i=n(338),o=n(337),s=n(1196),u=n(1741).KEY,c=n(573),l=n(819),p=n(814),f=n(674),d=n(204),h=n(823),v=n(824),g=n(1742),m=n(1743),y=n(347),b=n(451),w=n(445),S=n(815),_=n(598),C=n(822),E=n(1744),x=n(1186),O=n(307),k=n(665),P=x.f,T=O.f,R=E.f,A=r.Symbol,I=r.JSON,M=I&&I.stringify,N="prototype",D=d("_hidden"),j=d("toPrimitive"),L={}.propertyIsEnumerable,B=l("symbol-registry"),F=l("symbols"),z=l("op-symbols"),U=Object[N],H="function"==typeof A,W=r.QObject,V=!W||!W[N]||!W[N].findChild,q=i&&c(function(){return 7!=C(T({},"a",{get:function(){return T(this,"a",{value:7}).a}})).a})?function(e,t,n){var r=P(U,t);r&&delete U[t],T(e,t,n),r&&e!==U&&T(U,t,r)}:T,G=function(e){var t=F[e]=C(A[N]);return t._k=e,t},K=H&&"symbol"==typeof A.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof A},X=function(e,t,n){return e===U&&X(z,t,n),y(e),t=S(t,!0),y(n),a(F,t)?(n.enumerable?(a(e,D)&&e[D][t]&&(e[D][t]=!1),n=C(n,{enumerable:_(0,!1)})):(a(e,D)||T(e,D,_(1,{})),e[D][t]=!0),q(e,t,n)):T(e,t,n)},Y=function(e,t){y(e);for(var n,r=g(t=w(t)),i=0,o=r.length;i<o;)X(e,n=r[i++],t[n]);return e},J=function(e){var t=L.call(this,e=S(e,!0));return!(this===U&&a(F,e)&&!a(z,e))&&(!(t||!a(this,e)||!a(F,e)||a(this,D)&&this[D][e])||t)},$=function(e,t){if(e=w(e),t=S(t,!0),e!==U||!a(F,t)||a(z,t)){var n=P(e,t);return!n||!a(F,t)||a(e,D)&&e[D][t]||(n.enumerable=!0),n}},Q=function(e){for(var t,n=R(w(e)),r=[],i=0;n.length>i;)a(F,t=n[i++])||t==D||t==u||r.push(t);return r},Z=function(e){for(var t,n=e===U,r=R(n?z:w(e)),i=[],o=0;r.length>o;)!a(F,t=r[o++])||n&&!a(U,t)||i.push(F[t]);return i};H||(s((A=function(){if(this instanceof A)throw TypeError("Symbol is not a constructor!");var t=f(0<arguments.length?arguments[0]:void 0),n=function(e){this===U&&n.call(z,e),a(this,D)&&a(this[D],t)&&(this[D][t]=!1),q(this,t,_(1,e))};return i&&V&&q(U,t,{configurable:!0,set:n}),G(t)})[N],"toString",function(){return this._k}),x.f=$,O.f=X,n(1197).f=E.f=Q,n(675).f=J,n(821).f=Z,i&&!n(673)&&s(U,"propertyIsEnumerable",J,!0),h.f=function(e){return G(d(e))}),o(o.G+o.W+o.F*!H,{Symbol:A});for(var ee="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),te=0;ee.length>te;)d(ee[te++]);for(var ne=k(d.store),re=0;ne.length>re;)v(ne[re++]);o(o.S+o.F*!H,"Symbol",{for:function(e){return a(B,e+="")?B[e]:B[e]=A(e)},keyFor:function(e){if(!K(e))throw TypeError(e+" is not a symbol!");for(var t in B)if(B[t]===e)return t},useSetter:function(){V=!0},useSimple:function(){V=!1}}),o(o.S+o.F*!H,"Object",{create:function(e,t){return void 0===t?C(e):Y(C(e),t)},defineProperty:X,defineProperties:Y,getOwnPropertyDescriptor:$,getOwnPropertyNames:Q,getOwnPropertySymbols:Z}),I&&o(o.S+o.F*(!H||c(function(){var e=A();return"[null]"!=M([e])||"{}"!=M({a:e})||"{}"!=M(Object(e))})),"JSON",{stringify:function(e){for(var t,n,r=[e],i=1;arguments.length>i;)r.push(arguments[i++]);if(n=t=r[1],(b(t)||void 0!==e)&&!K(e))return m(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!K(t))return t}),r[1]=t,M.apply(I,r)}}),A[N][j]||n(452)(A[N],j,A[N].valueOf),p(A,"Symbol"),p(Math,"Math",!0),p(r.JSON,"JSON",!0)},function(e,t,n){var r=n(674)("meta"),i=n(451),o=n(339),a=n(307).f,s=0,u=Object.isExtensible||function(){return!0},c=!n(573)(function(){return u(Object.preventExtensions({}))}),l=function(e){a(e,r,{value:{i:"O"+ ++s,w:{}}})},p=e.exports={KEY:r,NEED:!1,fastKey:function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,r)){if(!u(e))return"F";if(!t)return"E";l(e)}return e[r].i},getWeak:function(e,t){if(!o(e,r)){if(!u(e))return!0;if(!t)return!1;l(e)}return e[r].w},onFreeze:function(e){return c&&p.NEED&&u(e)&&!o(e,r)&&l(e),e}}},function(e,t,n){var s=n(665),u=n(821),c=n(675);e.exports=function(e){var t=s(e),n=u.f;if(n)for(var r,i=n(e),o=c.f,a=0;i.length>a;)o.call(e,r=i[a++])&&t.push(r);return t}},function(e,t,n){var r=n(813);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,n){var r=n(445),i=n(1197).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return a&&"[object Window]"==o.call(e)?function(e){try{return i(e)}catch(e){return a.slice()}}(e):i(r(e))}},function(e,t,n){n(824)("asyncIterator")},function(e,t,n){n(824)("observable")},function(e,t,n){e.exports={default:n(1748),__esModule:!0}},function(e,t,n){n(1749),e.exports=n(182).Object.setPrototypeOf},function(e,t,n){var r=n(337);r(r.S,"Object",{setPrototypeOf:n(1750).set})},function(e,t,i){var n=i(451),r=i(347),o=function(e,t){if(r(e),!n(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,n,r){try{(r=i(853)(Function.call,i(1186).f(Object.prototype,"__proto__").set,2))(e,[]),n=!(e instanceof Array)}catch(e){n=!0}return function(e,t){return o(e,t),n?e.__proto__=t:r(e,t),e}}({},!1):void 0),check:o}},function(e,t,n){e.exports={default:n(1752),__esModule:!0}},function(e,t,n){n(1753);var r=n(182).Object;e.exports=function(e,t){return r.create(e,t)}},function(e,t,n){var r=n(337);r(r.S,"Object",{create:n(822)})},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.ManageAssets=x,t.ManageLibraries=O,t.ToggleMaker=k,t.default=void 0;var o=b(n(1)),r=m(n(0)),i=m(n(15)),s=m(n(5)),u=m(n(17)),c=m(n(6)),l=b(n(1262)),p=m(n(132)),f=b(n(1277)),d=m(n(193)),h=m(n(2176)),v=m(n(2177)),g=n(50);function m(e){return e&&e.__esModule?e:{default:e}}function y(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return y=function(){return e},e}function b(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=y();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _={iconContainer:{float:"right",marginRight:10,marginLeft:10,height:"100%",cursor:"pointer",color:c.default.lighter_purple,":hover":{color:c.default.white}},assetsIcon:{fontSize:18,verticalAlign:"middle"}},C=function(t){function e(e){var n;return S(w(n=t.call(this,e)||this),"state",{open:!1,canOpen:!0,confirmingEnableMaker:!1,managingLibraries:!1}),S(w(n),"open",function(){return n.setState({open:!0,canOpen:!1})}),S(w(n),"close",function(){return n.setState({open:!1})}),S(w(n),"beforeClose",function(e,t){t(),n.setState({open:!1}),window.setTimeout(function(){return n.setState({canOpen:!0})},0)}),S(w(n),"manageAssets",function(){n.close(),l.showAssetManager()}),S(w(n),"manageLibraries",function(){n.close(),n.setState({managingLibraries:!0})}),S(w(n),"toggleMakerToolkit",function(){n.close(),f.isEnabled((0,g.getStore)().getState())?p.default.toggleMakerEnabled():n.showConfirmation()}),S(w(n),"confirmEnableMaker",function(){p.default.toggleMakerEnabled(),n.hideConfirmation()}),S(w(n),"showConfirmation",function(){return n.setState({confirmingEnableMaker:!0})}),S(w(n),"hideConfirmation",function(){return n.setState({confirmingEnableMaker:!1})}),S(w(n),"closeLibraryManager",function(){return n.setState({managingLibraries:!1})}),n.targetPoint={top:0,left:0},n}!function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(e,t);var n=e.prototype;return n.setTargetPoint=function(e){if(e){var t=e.getBoundingClientRect(),n=-6,r=-1;this.targetPoint={top:t.bottom+n,left:t.left+t.width/2+r}}},n.areLibrariesEnabled=function(){var e=(0,g.getStore)().getState().pageConstants;return e&&e.librariesEnabled},n.render=function(){var t=this,e=this.props,n=e.isRunning,r=e.runModeIndicators,i=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(Object(n));"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(e){S(t,e,n[e])})}return t}({},_.iconContainer);return r&&n&&(i.color=c.default.dark_charcoal),o.default.createElement("span",{style:i,ref:function(e){return t.setTargetPoint(e)}},o.default.createElement(u.default,{className:"settings-cog",icon:"cog",style:_.assetsIcon,title:s.default.settings(),onClick:this.state.canOpen?this.open:void 0}),o.default.createElement(d.default,{className:"settings-cog-menu",targetPoint:this.targetPoint,isOpen:this.state.open,beforeClose:this.beforeClose,showTail:!0},o.default.createElement(x,{onClick:this.manageAssets}),this.areLibrariesEnabled()&&o.default.createElement(O,{onClick:this.manageLibraries}),this.props.showMakerToggle&&o.default.createElement(k,{onClick:this.toggleMakerToolkit})),o.default.createElement(h.default,{isOpen:this.state.confirmingEnableMaker,handleConfirm:this.confirmEnableMaker,handleCancel:this.hideConfirmation}),o.default.createElement(v.default,{isOpen:this.state.managingLibraries,onClose:this.closeLibraryManager}))},e}(o.Component);S(C,"propTypes",{isRunning:r.default.bool,runModeIndicators:r.default.bool,showMakerToggle:r.default.bool});var E=(0,i.default)(C);function x(e){return o.default.createElement(d.default.Item,e,s.default.manageAssets())}function O(e){return o.default.createElement(d.default.Item,e,s.default.manageLibraries())}function k(e){var t=(0,g.getStore)().getState();return f.isAvailable(t)?o.default.createElement(d.default.Item,e,f.isEnabled(t)?s.default.disableMaker():s.default.enableMaker()):null}t.default=E,x.propTypes={onClick:r.default.func,first:r.default.bool,last:r.default.bool},k.propTypes=x.propTypes},function(e,t,n){var r=function(){try{return n(331)}catch(e){}}();(t=e.exports=n(1216)).Stream=r||t,(t.Readable=t).Writable=n(836),t.Duplex=n(342),t.Transform=n(837),t.PassThrough=n(1217)},function(e,t){},function(e,t,n){e.exports=n(836)},function(e,t,n){e.exports=n(342)},function(e,t,n){e.exports=n(837)},function(e,t,n){e.exports=n(1217)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.styles=t.CROSSHAIR_MARGIN=void 0;var r=a(n(0)),i=a(n(1)),o=n(1337);function a(e){return e&&e.__esModule?e:{default:e}}t.CROSSHAIR_MARGIN=6;var s={line:{stroke:"#aaa",strokeWidth:1.8,strokeDasharray:6.5}};t.styles=s;var u,c,l,p=function(e){function t(){return e.apply(this,arguments)||this}return function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(t,e),t.prototype.render=function(){if(!(0,o.isPointInBounds)(this.props.mouseX,this.props.mouseY,this.props.width,this.props.height))return null;var e=this.props.flip;return i.default.createElement("g",{className:"crosshair-overlay"},i.default.createElement("line",{x1:this.props.mouseX,y1:e?this.props.height:0,x2:this.props.mouseX,y2:this.props.mouseY-6*(e?-1:1),style:s.line}),i.default.createElement("line",{x1:0,y1:this.props.mouseY,x2:this.props.mouseX-6,y2:this.props.mouseY,style:s.line}))},t}(i.default.Component);t.default=p,u=p,c="propTypes",l={width:r.default.number,height:r.default.number,mouseX:r.default.number,mouseY:r.default.number,flip:r.default.bool},c in u?Object.defineProperty(u,c,{value:l,enumerable:!0,configurable:!0,writable:!0}):u[c]=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.textProvider=function(e){return function(){return e}},t.coordinatesProvider=function(n){return function(e){var t=n?e.height-e.mouseY:e.mouseY;return"x: ".concat(Math.floor(e.mouseX),", y: ").concat(Math.floor(t))}},t.default=t.styles=t.BETWEEN_RECT_MARGIN=t.TEXT_RECT_RADIUS=t.TEXT_RECT_HEIGHT=t.TEXT_RECT_WIDTH=void 0;var r=o(n(0)),u=o(n(1)),i=n(1276);function o(e){return e&&e.__esModule?e:{default:e}}t.TEXT_RECT_WIDTH=110;t.TEXT_RECT_HEIGHT=21;t.TEXT_RECT_RADIUS=7;t.BETWEEN_RECT_MARGIN=4;var c={text:{textAnchor:"middle"},rect:{stroke:"#bdc3c7",strokeWidth:2,fill:"rgba(255,255,255,0.8)"}};t.styles=c;var a,s,l,p=function(e){function t(){return e.apply(this,arguments)||this}!function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(t,e);var n=t.prototype;return n.getTooltipStrings=function(){var t=this;return(this.props.providers||[]).map(function(e){return e(t.props)}).filter(function(e){return"string"==typeof e})},n.getTooltipDimensions=function(){var e=this.getTooltipStrings().length;return{width:110,height:21*e+4*Math.max(0,e-1)}},n.getTooltipTopLeft=function(){var e,t=this.getTooltipDimensions();(e=this.props.mouseX+6)+t.width+5>this.props.width&&(e-=e+t.width+5-this.props.width);var n=this.props.mouseY-6-t.height,r=this.props.mouseY+6;return{rectX:e,rectY:r+t.height+6>this.props.height?n:n-6<0?r:this.props.tooltipAboveCursor?n:r}},n.renderTooltips=function(){var o=this.getTooltipTopLeft(),a=o.rectX,s=a+55;return this.getTooltipStrings().map(function(e,t){var n=25*t,r=o.rectY+n,i=r+21+-7;return u.default.createElement("g",{key:t},u.default.createElement("rect",{x:a,y:r,width:110,height:21,rx:7,ry:7,style:c.rect}),u.default.createElement("text",{x:s,y:i,style:c.text},e))})},n.render=function(){return(0,i.isPointInBounds)(this.props.mouseX,this.props.mouseY,this.props.width,this.props.height)&&this.props.providers&&this.props.providers.length?u.default.createElement("g",{className:"tooltip-overlay"},this.renderTooltips()):null},t}(u.default.Component);t.default=p,a=p,s="propTypes",l={width:r.default.number,height:r.default.number,mouseX:r.default.number,mouseY:r.default.number,providers:r.default.arrayOf(r.default.func),tooltipAboveCursor:r.default.bool},s in a?Object.defineProperty(a,s,{value:l,enumerable:!0,configurable:!0,writable:!0}):a[s]=l},,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Z_INDEX=void 0;var r=u(n(1)),i=u(n(0)),o=u(n(15)),a=n(447),s=n(9);function u(e){return e&&e.__esModule?e:{default:e}}var c,l,p,f={position:"fixed",top:0,left:0,height:"100%",width:"100%",opacity:.4,backgroundColor:"black",zIndex:t.Z_INDEX=1020},d={opacity:.8},h=function(e){function t(){return e.apply(this,arguments)||this}return function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(t,e),t.prototype.render=function(){return this.props.visible?r.default.createElement("div",{id:"overlay",onClick:this.props.hide,style:[f,this.props.isMinecraft&&d]}):null},t}(r.default.Component);c=h,l="propTypes",p={visible:i.default.bool,hide:i.default.func,isMinecraft:i.default.bool},l in c?Object.defineProperty(c,l,{value:p,enumerable:!0,configurable:!0,writable:!0}):c[l]=p;var v=(0,s.connect)(function(e){return{visible:e.instructions.overlayVisible,isMinecraft:!!e.pageConstants.isMinecraft}},function(e){return{hide:function(){e((0,a.hideOverlay)())}}})((0,o.default)(h));t.default=v},function(e,t,n){e.exports={default:n(1865),__esModule:!0}},function(e,t,n){n(825),n(712),e.exports=n(1866)},function(e,t,n){var r=n(1198),i=n(204)("iterator"),o=n(505);e.exports=n(182).isIterable=function(e){var t=Object(e);return void 0!==t[i]||"@@iterator"in t||o.hasOwnProperty(r(t))}},function(e,t,n){e.exports={default:n(1868),__esModule:!0}},function(e,t,n){n(825),n(712),e.exports=n(1869)},function(e,t,n){var r=n(347),i=n(1261);e.exports=n(182).getIterator=function(e){var t=i(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return r(t.call(e))}},function(t,e,n){(function(a,s){var u,w,S,e;S=n(331),e=n(87),w=n(580).StringDecoder,t.exports=function(){var t,n,r,e,i,o;if(3===arguments.length){if(e=arguments[0],i=arguments[1],"function"!=typeof(t=arguments[2]))throw Error("Invalid callback argument: "+JSON.stringify(t));if("string"!=typeof e&&!a.isBuffer(arguments[0]))return t(Error("Invalid data argument: "+JSON.stringify(e)))}else 2===arguments.length?("string"==typeof arguments[0]||a.isBuffer(arguments[0])?e=arguments[0]:i=arguments[0],"function"==typeof arguments[1]?t=arguments[1]:i=arguments[1]):1===arguments.length&&("function"==typeof arguments[0]?t=arguments[0]:i=arguments[0]);return null==i&&(i={}),o=new u(i),null!=e&&s.nextTick(function(){return o.write(e),o.end()}),t&&(n=!1,r=i.objname?{}:[],o.on("readable",function(){var e,t;for(t=[];e=o.read();)i.objname?t.push(r[e[0]]=e[1]):t.push(r.push(e));return t}),o.on("error",function(e){return n=!0,t(e)}),o.on("end",function(){if(!n)return t(null,r)})),o},u=function(e){var t,n,r,i,o,a,s,u,c,l,p,f,d,h,v,g,m,y,b;for(y in null==e&&(e={}),e.objectMode=!0,this.options={},e)b=e[y],this.options[y]=b;return S.Transform.call(this,this.options),null==(t=this.options).rowDelimiter&&(t.rowDelimiter=null),null==(n=this.options).delimiter&&(n.delimiter=","),null==(l=this.options).quote&&(l.quote='"'),null==(p=this.options).escape&&(p.escape='"'),null==(f=this.options).columns&&(f.columns=null),null==(d=this.options).comment&&(d.comment=""),null==(h=this.options).objname&&(h.objname=!1),null==(v=this.options).trim&&(v.trim=!1),null==(g=this.options).ltrim&&(g.ltrim=!1),null==(m=this.options).rtrim&&(m.rtrim=!1),null==(r=this.options).auto_parse&&(r.auto_parse=!1),null==(i=this.options).auto_parse_date&&(i.auto_parse_date=!1),null==(o=this.options).relax&&(o.relax=!1),null==(a=this.options).relax_column_count&&(a.relax_column_count=!1),null==(s=this.options).skip_empty_lines&&(s.skip_empty_lines=!1),null==(u=this.options).max_limit_on_data_read&&(u.max_limit_on_data_read=128e3),null==(c=this.options).skip_lines_with_empty_values&&(c.skip_lines_with_empty_values=!1),this.lines=0,this.count=0,this.skipped_line_count=0,this.empty_line_count=0,this.is_int=/^(\-|\+)?([1-9]+[0-9]*)$/,this.is_float=function(e){return 0<=e-parseFloat(e)+1},this.decoder=new w,this.buf="",this.quoting=!1,this.commenting=!1,this.field="",this.nextChar=null,this.closingQuote=0,this.line=[],this.chunks=[],this.rawBuf="",this},e.inherits(u,S.Transform),(t.exports.Parser=u).prototype._transform=function(e,t,n){var r;e instanceof a&&(e=this.decoder.write(e));try{return this.__write(e,!1),n()}catch(e){return r=e,this.emit("error",r)}},u.prototype._flush=function(e){var t;try{return this.__write(this.decoder.end(),!0),this.quoting?void this.emit("error",new Error("Quoted field not terminated at line "+(this.lines+1))):(0<this.line.length&&this.__push(this.line),e())}catch(e){return t=e,this.emit("error",t)}},u.prototype.__push=function(e){var t,n,r,i,o,a;if(!this.options.skip_lines_with_empty_values||""!==e.join("").trim()){if(!(a=null)===this.options.columns)return this.options.columns=e,void"";if("function"==typeof this.options.columns)return this.options.columns=this.options.columns(e),void"";if(!this.line_length&&0<e.length&&(this.line_length=this.options.columns?this.options.columns.length:e.length),1===e.length&&""===e[0])this.empty_line_count++;else if(e.length!==this.line_length){if(!this.options.relax_column_count)throw null!=this.options.columns?Error("Number of columns on line "+this.lines+" does not match header"):Error("Number of columns is inconsistent on line "+this.lines);this.skipped_line_count++}else this.count++;if(null!=this.options.columns){for(o={},n=r=0,i=e.length;r<i;n=++r)t=e[n],!1!==this.options.columns[n]&&(o[this.options.columns[n]]=t);a=this.options.objname?[o[this.options.objname],o]:o}else a=e;return this.options.raw?(this.push({raw:this.rawBuf,row:a}),this.rawBuf=""):this.push(a)}},u.prototype.__write=function(e,t,n){var r,i,o,a,s,u,c,l,p,f,d,h,v,g,m,y,b,w,S,_,C,E,x,O,k,P;for(v=function(e){return"function"==typeof O.is_int?O.is_int(e):O.is_int.test(e)},h=function(e){return"function"==typeof k.is_float?k.is_float(e):k.is_float.test(e)},o=function(e){var t;return P.options.auto_parse&&v(P.field)?P.field=parseInt(P.field):P.options.auto_parse&&h(P.field)?P.field=parseFloat(P.field):P.options.auto_parse&&P.options.auto_parse_date&&(t=Date.parse(P.field),isNaN(t)||(P.field=new Date(t))),P.field},m=(P=k=O=this).options.trim||this.options.ltrim,E=this.options.trim||this.options.rtrim,g=(e=this.buf+e).length,C=this.options.rowDelimiter?this.options.rowDelimiter.length:0,(u=0)===this.lines&&65279===e.charCodeAt(0)&&u++;u<g&&(t||(w=e.substr(u,g-u),!(!this.commenting&&g-u<this.options.comment.length&&this.options.comment.substr(0,g-u)===w||this.options.rowDelimiter&&g-u<C&&this.options.rowDelimiter.substr(0,g-u)===w||this.options.rowDelimiter&&this.quoting&&g-u<this.options.quote.length+C&&(this.options.quote+this.options.rowDelimiter).substr(0,g-u)===w||g-u<=this.options.delimiter.length&&this.options.delimiter.substr(0,g-u)===w||g-u<=this.options.escape.length&&this.options.escape.substr(0,g-u)===w)));)if(a=this.nextChar?this.nextChar:e.charAt(u),this.nextChar=u+1<g?e.charAt(u+1):"",this.options.raw&&(this.rawBuf+=a),null==this.options.rowDelimiter&&(this.quoting||"\n"!==a&&"\r"!==a?"\n"!==this.nextChar&&"\r"!==this.nextChar||(_=this.nextChar,y=u+2,this.raw&&(rawBuf+=this.nextChar)):(_=a,y=u+1),_&&("\r"===_&&"\n"===e.charAt(y)&&(_+="\n"),this.options.rowDelimiter=_,C=this.options.rowDelimiter.length)),this.commenting||a!==this.options.escape||(s=this.options.escape===this.options.quote,l=this.nextChar===this.options.escape,f=this.nextChar===this.options.quote,s&&!this.field&&!this.quoting||!l&&!f)){if(!this.commenting&&a===this.options.quote)if(this.quoting){if(i=this.options.rowDelimiter&&e.substr(u+1,this.options.rowDelimiter.length)===this.options.rowDelimiter,r=e.substr(u+1,this.options.delimiter.length)===this.options.delimiter,p=this.nextChar===this.options.comment,!this.nextChar||i||r||p){this.quoting=!1,this.closingQuote=this.options.quote.length,u++,t&&u===g&&(this.line.push(o(this.field)),this.field="");continue}if(!this.options.relax)throw Error("Invalid closing quote at line "+(this.lines+1)+"; found "+JSON.stringify(this.nextChar)+" instead of delimiter "+JSON.stringify(this.options.delimiter));this.quoting=!1,this.field=""+this.options.quote+this.field}else{if(!this.field){this.quoting=!0,u++;continue}if(this.field&&!this.options.relax)throw Error("Invalid opening quote at line "+(this.lines+1))}if(((d=this.options.rowDelimiter&&e.substr(u,this.options.rowDelimiter.length)===this.options.rowDelimiter)||t&&u===g-1)&&this.lines++,x=!1,this.commenting||this.quoting||!this.options.comment||e.substr(u,this.options.comment.length)!==this.options.comment?this.commenting&&d&&(x=!0,this.commenting=!1):this.commenting=!0,c=e.substr(u,this.options.delimiter.length)===this.options.delimiter,this.commenting||this.quoting||!c&&!d)this.commenting||this.quoting||" "!==a&&"\t"!==a?this.commenting||(this.field+=a):(m&&!this.field||(this.field+=a),t&&u+1===g&&(this.options.trim||this.options.rtrim)&&(this.field=this.field.trimRight())),u++;else{if(d&&0===this.line.length&&""===this.field&&(x||this.options.skip_empty_lines)){u+=this.options.rowDelimiter.length,this.nextChar=e.charAt(u);continue}if(E&&(this.closingQuote||(this.field=this.field.trimRight())),this.line.push(o(this.field)),this.closingQuote=0,this.field="",c&&(u+=this.options.delimiter.length,this.nextChar=e.charAt(u),t&&!this.nextChar&&(d=!0,this.line.push(""))),d){this.__push(this.line),this.line=[],u+=null!=(b=this.options.rowDelimiter)?b.length:void 0,this.nextChar=e.charAt(u);continue}}if(!this.commenting&&this.field.length>this.options.max_limit_on_data_read)throw Error("Delimiter not found in the file "+JSON.stringify(this.options.delimiter));if(!this.commenting&&this.line.length>this.options.max_limit_on_data_read)throw Error("Row delimiter not found in the file "+JSON.stringify(this.options.rowDelimiter))}else u++,a=this.nextChar,this.nextChar=e.charAt(u+1),this.field+=a,this.options.raw&&(this.rawBuf+=a),u++;if(t){if(E&&(this.closingQuote||(this.field=this.field.trimRight())),""!==this.field&&(this.line.push(o(this.field)),this.field=""),this.field.length>this.options.max_limit_on_data_read)throw Error("Delimiter not found in the file "+JSON.stringify(this.options.delimiter));if(0===g&&this.lines++,this.line.length>this.options.max_limit_on_data_read)throw Error("Row delimiter not found in the file "+JSON.stringify(this.options.rowDelimiter))}for(this.buf="",S=[];u<g;)this.buf+=e.charAt(u),S.push(u++);return S}}).call(this,n(83).Buffer,n(29))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.enforceTableCount=s,t.updateTableCounters=function(r,i,o){return(0,a.loadConfig)().then(function(e){return 0<i?s(e,r):Promise.resolve(e)}).then(function(t){var n=(0,a.getPathRef)((0,a.getProjectDatabase)(),"counters/tables/".concat(r));return u(n,o,i,t).catch(function(e){return String(e).includes("disconnect")?(setTimeout(function(){throw new Error("retrying updateTableCountersHelper after network disconnect")},0),u(n,o,i,t)):Promise.reject(e)})})},t.incrementRateLimitCounters=function(){return Promise.all([(0,a.loadConfig)(),function(){var e=(0,a.getProjectDatabase)().child("serverTime");return e.set(o.default.ServerValue.TIMESTAMP).then(function(){return e.once("value").then(function(e){return e.val()})})}()]).then(function(e){var t=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}(e,2),i=t[0],o=t[1];return Promise.all(Object.keys(i.limits).map(function(t){var n=i.limits[t],r="Some of the data could not be written because the app is writing data too many times per second. Please try writing data less frequently.";return c(n,t,o).catch(function(e){return String(e).includes("permission_denied")?c(n,t,o).catch(function(e){if(String(e).includes("permission_denied"))return Promise.reject("".concat(r," Error code: permission_denied"))}):String(e).includes("maxretry")?Promise.reject("".concat(r," Error code: maxretry")):String(e).includes("disconnect")?(setTimeout(function(){throw new Error("retrying incrementIntervalCounters after network disconnect")},0),c(n,t,o)):Promise.reject(e)})}))})},t.getLastRecordId=function(e){return(0,a.getPathRef)((0,a.getProjectDatabase)(),"counters/tables/".concat(e,"/lastId")).once("value").then(function(e){return e.val()||0})};var r,o=(r=n(1223))&&r.__esModule?r:{default:r},a=n(804),i=n(450);function s(t,n){return(0,a.getPathRef)((0,a.getProjectDatabase)(),"counters/tables").once("value").then(function(e){return e.numChildren()>=t.maxTableCount&&null===(0,a.getPathRef)(e,n).val()?Promise.reject({type:i.WarningType.MAX_TABLES_EXCEEDED,msg:"Table '".concat(n,"' cannot be written to because the ")+"maximum number of tables (".concat(t.maxTableCount,") has been exceeded.")}):Promise.resolve(t)})}function u(e,t,n,r){return e.transaction(function(e){if(e=e||{},t){if(1!==n)throw new Error("expected rowCountChange to equal 1 when updateNextId is true");e.lastId=(e.lastId||0)+1}if(!(e.rowCount+n>r.maxTableRows))return e.rowCount=Math.max(0,(e.rowCount||0)+n),e}).then(function(e){if(e.committed)return t?e.snapshot.child("lastId").val():null;if(e.snapshot.child("rowCount").val()+n>r.maxTableRows)return Promise.reject("The record could not be created. "+"A table may only contain ".concat(r.maxTableRows," rows."));throw new Error("An unexpected error occurred while updating table counters.")})}function c(t,e,r){var n=(0,a.getPathRef)((0,a.getProjectDatabase)(),"counters/limits/".concat(e)),i=1e3*Number(e);return n.transaction(function(e){return(e=e||{}).lastResetTime=e.lastResetTime||0,e.writeCount=(e.writeCount||0)+1,e.writeCount<=t?e:e.lastResetTime+i<r?(e.writeCount=1,e.lastResetTime=o.default.ServerValue.TIMESTAMP,e):void 0}).then(function(e){if(e.committed)return Promise.resolve();var t=e.snapshot.child("lastResetTime").val()+i,n=Math.ceil((t-r)/1e3);return(0,a.showRateLimitAlert)(),Promise.reject("rate limit exceeded. please wait ".concat(n," seconds before retrying."))})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.html2canvas=void 0;var r,i=(r=n(2249))&&r.__esModule?r:{default:r};var o=function(e,t){return(0,i.default)(e,t)};t.html2canvas=o,window.html2canvas=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initializeSubmitHelper=function(e){a=e.studioApp,r=e.onPuzzleComplete,i=e.unsubmitUrl;var t=document.getElementById("submitButton");t&&u.default.addClickTouchEvent(t,d);var n=document.getElementById("unsubmitButton");n&&u.default.addClickTouchEvent(n,h)},t.onSubmitComplete=function(e){var t=e?e.redirect:(0,o.getLastServerResponse)().nextRedirect;window.location.href=t};var a,r,i,s=f(n(5)),u=f(n(140)),c=f(n(1)),l=f(n(7)),p=f(n(895)),o=n(1629);function f(e){return e&&e.__esModule?e:{default:e}}function d(){g({title:s.default.submitYourProject(),text:s.default.submitYourProjectConfirm(),onConfirm:function(){return r(!0)}})}function h(){g({title:s.default.unsubmitYourProject(),text:s.default.unsubmitYourProjectConfirm(),onConfirm:v})}function v(){$.post(i,{_method:"PUT",user_level:{submitted:!1}},function(){location.reload()})}function g(e){e.text=e.text||"",e.title=e.title||"";var t=document.createElement("div");t.innerHTML='<p class="dialog-title">'+e.title+"</p><p>"+e.text+"</p>";var n=document.createElement("div");l.default.render(c.default.createElement(p.default,{confirmText:s.default.dialogOK(),cancelText:s.default.dialogCancel()}),n),t.appendChild(n);var r=a.createModalDialog({contentDiv:t,defaultBtnSelector:"#confirm-button"}),i=n.querySelector("#again-button");i&&u.default.addClickTouchEvent(i,function(){r.hide()});var o=n.querySelector("#confirm-button");o&&u.default.addClickTouchEvent(o,function(){e.onConfirm&&e.onConfirm(),r.hide()}),r.show()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=
/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * @link   http://www.phpied.com/rgb-color-parser-in-javascript/
 * @license Use it if you like it
 */
function(e){this.ok=!1,"#"===e.charAt(0)&&(e=e.substr(1,6));e=(e=e.replace(/ /g,"")).toLowerCase();var t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"};for(var n in t)e===n&&(e=t[n]);for(var r=[{re:/^rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(e){return[parseInt(e[1]),parseInt(e[2]),parseInt(e[3])]}},{re:/^rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*((?:\d+(?:\.\d+)?)|(?:\.\d+))\s*\)$/,example:["rgba(123, 234, 45, .33)","rgba(255,234,245,1)"],process:function(e){return[parseInt(e[1]),parseInt(e[2]),parseInt(e[3]),parseInt(e[4])]}},{re:/^([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})$/,example:["#00ff00","336699"],process:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/^([0-9a-f]{1})([0-9a-f]{1})([0-9a-f]{1})$/,example:["#fb0","f0f"],process:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}}],i=0;i<r.length;i++){var o=r[i].re,a=r[i].process,s=o.exec(e);if(s){var u=a(s);this.r=u[0],this.g=u[1],this.b=u[2],this.a=u[3],this.ok=!0}}this.r=this.r<0||isNaN(this.r)?0:255<this.r?255:this.r,this.g=this.g<0||isNaN(this.g)?0:255<this.g?255:this.g,this.b=this.b<0||isNaN(this.b)?0:255<this.b?255:this.b,this.a=this.a<0?0:1<this.a||isNaN(this.a)?1:this.a,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toRGBA=function(){return"rgba("+this.r+", "+this.g+", "+this.b+", "+this.a+")"},this.toHex=function(){var e=this.r.toString(16),t=this.g.toString(16),n=this.b.toString(16);return 1===e.length&&(e="0"+e),1===t.length&&(t="0"+t),1===n.length&&(n="0"+n),"#"+e+t+n}},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.textToSpeech=function(e,t,n,r,i,o){var a=p.SpeechConfig.fromAuthorizationToken(r,i);a.speechSynthesisOutputFormat=p.SpeechSynthesisOutputFormat.Audio16Khz32KBitRateMonoMp3;var s=o[n]&&o[n][t]||o.English.female,u=new p.SpeechSynthesizer(a,void 0),c='<speak version="1.0" xmlns="https://www.w3.org/2001/10/synthesis" xml:lang="en-US"><voice name="'.concat(s,'">').concat(e,"</voice></speak>");u.speakSsmlAsync(c,function(e){var t="file:"===window.location.protocol;l.default.getSingleton().playBytes(e.audioData,{volume:1,loop:!1,forceHTML5:t,allowHTML5Mobile:!0}),u.close()},function(e){console.warn(e),u.close()})};var r,l=(r=n(306))&&r.__esModule?r:{default:r},p=n(1876)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(225),i=n(44),o=n(19);Object.keys(o).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}})}),i.Events.instance.attachListener(new r.ConsoleLoggingListener)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConsoleLoggingListener=void 0;var r=n(44);t.ConsoleLoggingListener=function(){var n=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:r.EventType.Warning;this.onEvent=function(e){if(e.eventType>=n.privLogLevelFilter){var t=n.toString(e);switch(e.eventType){case r.EventType.Debug:console.debug(t);break;case r.EventType.Info:console.info(t);break;case r.EventType.Warning:console.warn(t);break;case r.EventType.Error:console.error(t);break;default:console.log(t)}}},this.toString=function(e){var t=["".concat(e.EventTime),"".concat(e.Name)];for(var n in e)if(n&&e.hasOwnProperty(n)&&"eventTime"!==n&&"eventType"!==n&&"eventId"!==n&&"name"!==n&&"constructor"!==n){var r=e[n],i="<NULL>";null!=r&&(i="number"==typeof r||"string"==typeof r?r.toString():JSON.stringify(r)),t.push("".concat(n,": ").concat(i))}return t.join(" | ")},this.privLogLevelFilter=e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AudioStreamNodeErrorEvent=t.AudioStreamNodeDetachedEvent=t.AudioStreamNodeAttachedEvent=t.AudioStreamNodeAttachingEvent=t.AudioStreamNodeEvent=t.AudioSourceErrorEvent=t.AudioSourceOffEvent=t.AudioSourceReadyEvent=t.AudioSourceInitializingEvent=t.AudioSourceEvent=void 0;var o=n(838);function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}function s(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}var i=function(i){function e(e,t){var n,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:o.EventType.Info;return(n=i.call(this,e,r)||this).privAudioSourceId=t,n}return s(e,i),a(e,[{key:"audioSourceId",get:function(){return this.privAudioSourceId}}]),e}(o.PlatformEvent),u=function(t){function e(e){return t.call(this,"AudioSourceInitializingEvent",e)||this}return s(e,t),e}(t.AudioSourceEvent=i);t.AudioSourceInitializingEvent=u;var c=function(t){function e(e){return t.call(this,"AudioSourceReadyEvent",e)||this}return s(e,t),e}(i);t.AudioSourceReadyEvent=c;var l=function(t){function e(e){return t.call(this,"AudioSourceOffEvent",e)||this}return s(e,t),e}(i);t.AudioSourceOffEvent=l;var p=function(r){function e(e,t){var n;return(n=r.call(this,"AudioSourceErrorEvent",e,o.EventType.Error)||this).privError=t,n}return s(e,r),a(e,[{key:"error",get:function(){return this.privError}}]),e}(i);t.AudioSourceErrorEvent=p;var f=function(i){function e(e,t,n){var r;return(r=i.call(this,e,t)||this).privAudioNodeId=n,r}return s(e,i),a(e,[{key:"audioNodeId",get:function(){return this.privAudioNodeId}}]),e}(i),d=function(n){function e(e,t){return n.call(this,"AudioStreamNodeAttachingEvent",e,t)||this}return s(e,n),e}(t.AudioStreamNodeEvent=f);t.AudioStreamNodeAttachingEvent=d;var h=function(n){function e(e,t){return n.call(this,"AudioStreamNodeAttachedEvent",e,t)||this}return s(e,n),e}(f);t.AudioStreamNodeAttachedEvent=h;var v=function(n){function e(e,t){return n.call(this,"AudioStreamNodeDetachedEvent",e,t)||this}return s(e,n),e}(f);t.AudioStreamNodeDetachedEvent=v;var g=function(i){function e(e,t,n){var r;return(r=i.call(this,"AudioStreamNodeErrorEvent",e,t)||this).privError=n,r}return s(e,i),a(e,[{key:"error",get:function(){return this.privError}}]),e}(f);t.AudioStreamNodeErrorEvent=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectionMessageSentEvent=t.ConnectionMessageReceivedEvent=t.ConnectionEstablishErrorEvent=t.ConnectionErrorEvent=t.ConnectionClosedEvent=t.ConnectionEstablishedEvent=t.ConnectionStartEvent=t.ConnectionEvent=t.ServiceEvent=void 0;var o=n(838);function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}function s(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}var i=function(i){function e(e,t){var n,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:o.EventType.Info;return(n=i.call(this,e,r)||this).privJsonResult=t,n}return s(e,i),a(e,[{key:"jsonString",get:function(){return this.privJsonResult}}]),e}(o.PlatformEvent);t.ServiceEvent=i;var u=function(i){function e(e,t){var n,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:o.EventType.Info;return(n=i.call(this,e,r)||this).privConnectionId=t,n}return s(e,i),a(e,[{key:"connectionId",get:function(){return this.privConnectionId}}]),e}(o.PlatformEvent),c=function(i){function e(e,t,n){var r;return(r=i.call(this,"ConnectionStartEvent",e)||this).privUri=t,r.privHeaders=n,r}return s(e,i),a(e,[{key:"uri",get:function(){return this.privUri}},{key:"headers",get:function(){return this.privHeaders}}]),e}(t.ConnectionEvent=u);t.ConnectionStartEvent=c;var l=function(n){function e(e,t){return n.call(this,"ConnectionEstablishedEvent",e)||this}return s(e,n),e}(u);t.ConnectionEstablishedEvent=l;var p=function(i){function e(e,t,n){var r;return(r=i.call(this,"ConnectionClosedEvent",e,o.EventType.Debug)||this).privRreason=n,r.privStatusCode=t,r}return s(e,i),a(e,[{key:"reason",get:function(){return this.privRreason}},{key:"statusCode",get:function(){return this.privStatusCode}}]),e}(u);t.ConnectionClosedEvent=p;var f=function(i){function e(e,t,n){var r;return(r=i.call(this,"ConnectionErrorEvent",e,o.EventType.Debug)||this).privMessage=t,r.privType=n,r}return s(e,i),a(e,[{key:"message",get:function(){return this.privMessage}},{key:"type",get:function(){return this.privType}}]),e}(u);t.ConnectionErrorEvent=f;var d=function(i){function e(e,t,n){var r;return(r=i.call(this,"ConnectionEstablishErrorEvent",e,o.EventType.Error)||this).privStatusCode=t,r.privReason=n,r}return s(e,i),a(e,[{key:"reason",get:function(){return this.privReason}},{key:"statusCode",get:function(){return this.privStatusCode}}]),e}(u);t.ConnectionEstablishErrorEvent=d;var h=function(i){function e(e,t,n){var r;return(r=i.call(this,"ConnectionMessageReceivedEvent",e)||this).privNetworkReceivedTime=t,r.privMessage=n,r}return s(e,i),a(e,[{key:"networkReceivedTime",get:function(){return this.privNetworkReceivedTime}},{key:"message",get:function(){return this.privMessage}}]),e}(u);t.ConnectionMessageReceivedEvent=h;var v=function(i){function e(e,t,n){var r;return(r=i.call(this,"ConnectionMessageSentEvent",e)||this).privNetworkSentTime=t,r.privMessage=n,r}return s(e,i),a(e,[{key:"networkSentTime",get:function(){return this.privNetworkSentTime}},{key:"message",get:function(){return this.privMessage}}]),e}(u);t.ConnectionMessageSentEvent=v},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectionOpenResponse=void 0;var i=function(){function e(e,t){this.privStatusCode=e,this.privReason=t}return function(e,t,n){t&&r(e.prototype,t),n&&r(e,n)}(e,[{key:"statusCode",get:function(){return this.privStatusCode}},{key:"reason",get:function(){return this.privReason}}]),e}();t.ConnectionOpenResponse=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Events=void 0;var r=n(203),i=n(1226);function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=function(){function e(){}return function(e,t,n){t&&o(e.prototype,t),n&&o(e,n)}(e,null,[{key:"instance",get:function(){return e.privInstance}}]),e}();(t.Events=a).privInstance=new i.EventSource,a.setEventSource=function(e){if(!e)throw new r.ArgumentNullError("eventSource");a.privInstance=e}},function(e,t,n){"use strict";var r,i;Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectionState=void 0,t.ConnectionState=r,(i=r||(t.ConnectionState=r={}))[i.None=0]="None",i[i.Connected=1]="Connected",i[i.Connecting=2]="Connecting",i[i.Disconnected=3]="Disconnected"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RawWebsocketMessage=void 0;var r=n(1225),i=n(203),o=n(343);function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=function(){function e(e,t,n){if(this.privPayload=null,!t)throw new i.ArgumentNullError("payload");if(e===r.MessageType.Binary&&!(t instanceof ArrayBuffer))throw new i.InvalidOperationError("Payload must be ArrayBuffer");if(e===r.MessageType.Text&&"string"!=typeof t)throw new i.InvalidOperationError("Payload must be a string");this.privMessageType=e,this.privPayload=t,this.privId=n||(0,o.createNoDashGuid)()}return function(e,t,n){t&&a(e.prototype,t),n&&a(e,n)}(e,[{key:"messageType",get:function(){return this.privMessageType}},{key:"payload",get:function(){return this.privPayload}},{key:"textContent",get:function(){if(this.privMessageType===r.MessageType.Binary)throw new i.InvalidOperationError("Not supported for binary message");return this.privPayload}},{key:"binaryContent",get:function(){if(this.privMessageType===r.MessageType.Text)throw new i.InvalidOperationError("Not supported for text message");return this.privPayload}},{key:"id",get:function(){return this.privId}}]),e}();t.RawWebsocketMessage=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RiffPcmEncoder=void 0;t.RiffPcmEncoder=function(e,t){var o=this;this.encode=function(e){var t=o.downSampleAudioFrame(e,o.privActualSampleRate,o.privDesiredSampleRate);if(!t)return null;var n=2*t.length,r=new ArrayBuffer(n),i=new DataView(r);return o.floatTo16BitPCM(i,0,t),r},this.setString=function(e,t,n){for(var r=0;r<n.length;r++)e.setUint8(t+r,n.charCodeAt(r))},this.floatTo16BitPCM=function(e,t,n){for(var r=0;r<n.length;r++,t+=2){var i=Math.max(-1,Math.min(1,n[r]));e.setInt16(t,i<0?32768*i:32767*i,!0)}},this.downSampleAudioFrame=function(e,t,n){if(n===t||t<n)return e;for(var r=t/n,i=Math.round(e.length/r),o=new Float32Array(i),a=0,s=0;s<i;){for(var u=Math.round((s+1)*r),c=0,l=0;a<u&&a<e.length;)c+=e[a++],l++;o[s++]=c/l}return o},this.privActualSampleRate=e,this.privDesiredSampleRate=t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StreamReader=t.Stream=void 0;var o=n(203),r=n(343),a=n(1228);function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}var u=function(){function e(e){var i=this;this.privReaderIdCounter=1,this.privIsEnded=!1,this.getReader=function(){var e=i.privReaderIdCounter;i.privReaderIdCounter++;var t=new a.Queue,n=i.privStreambuffer.length;i.privReaderQueues[e]=t;for(var r=0;r<n;r++)t.enqueue(i.privStreambuffer[r]);return new c(i.privId,t,function(){delete i.privReaderQueues[e]})},this.throwIfClosed=function(){if(i.privIsEnded)throw new o.InvalidOperationError("Stream closed")},this.privId=e||(0,r.createNoDashGuid)(),this.privStreambuffer=[],this.privReaderQueues={}}var t=e.prototype;return t.close=function(){this.privIsEnded||(this.writeStreamChunk({buffer:null,isEnd:!0,timeReceived:Date.now()}),this.privIsEnded=!0)},t.writeStreamChunk=function(e){for(var t in this.throwIfClosed(),this.privStreambuffer.push(e),this.privReaderQueues)if(!this.privReaderQueues[t].isDisposed())try{this.privReaderQueues[t].enqueue(e)}catch(e){}},s(e,[{key:"isClosed",get:function(){return this.privIsEnded}},{key:"id",get:function(){return this.privId}}]),e}();t.Stream=u;var c=function(){function e(e,t,n){var r=this;this.privIsClosed=!1,this.read=function(){if(r.isClosed)throw new o.InvalidOperationError("StreamReader closed");return r.privReaderQueue.dequeue().onSuccessContinueWith(function(e){return(void 0===e||e.isEnd)&&r.privReaderQueue.dispose("End of stream reached"),e})},this.close=function(){r.privIsClosed||(r.privIsClosed=!0,r.privReaderQueue.dispose("StreamReader closed"),r.privOnClose())},this.privReaderQueue=t,this.privOnClose=n,this.privStreamId=e}return s(e,[{key:"isClosed",get:function(){return this.privIsClosed}},{key:"streamId",get:function(){return this.privStreamId}}]),e}();t.StreamReader=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChunkedArrayBufferStream=void 0;var r=function(o){function e(e,t){var n;return(n=o.call(this,t)||this).privTargetChunkSize=e,n.privNextBufferReadyBytes=0,n}!function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(e,o);var t=e.prototype;return t.writeStreamChunk=function(e){if(e.isEnd||0===this.privNextBufferReadyBytes&&e.buffer.byteLength===this.privTargetChunkSize)o.prototype.writeStreamChunk.call(this,e);else for(var t=0;t<e.buffer.byteLength;){void 0===this.privNextBufferToWrite&&(this.privNextBufferToWrite=new ArrayBuffer(this.privTargetChunkSize),this.privNextBufferStartTime=e.timeReceived);var n=Math.min(e.buffer.byteLength-t,this.privTargetChunkSize-this.privNextBufferReadyBytes),r=new Uint8Array(this.privNextBufferToWrite),i=new Uint8Array(e.buffer.slice(t,n+t));r.set(i,this.privNextBufferReadyBytes),this.privNextBufferReadyBytes+=n,t+=n,this.privNextBufferReadyBytes===this.privTargetChunkSize&&(o.prototype.writeStreamChunk.call(this,{buffer:this.privNextBufferToWrite,isEnd:!1,timeReceived:this.privNextBufferStartTime}),this.privNextBufferReadyBytes=0,this.privNextBufferToWrite=void 0)}},t.close=function(){0===this.privNextBufferReadyBytes||this.isClosed||o.prototype.writeStreamChunk.call(this,{buffer:this.privNextBufferToWrite.slice(0,this.privNextBufferReadyBytes),isEnd:!1,timeReceived:this.privNextBufferStartTime}),o.prototype.close.call(this)},e}(n(44).Stream);t.ChunkedArrayBufferStream=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MicAudioSource=t.AudioWorkletSourceURLPropertyName=void 0;var i=n(39),a=n(44),r=n(593);function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s="MICROPHONE-WorkletSourceUrl";t.AudioWorkletSourceURLPropertyName=s;var u=function(){function r(e,t,n){var o=this;this.privRecorder=e,this.deviceId=t,this.privStreams={},this.turnOn=function(){if(o.privInitializeDeferral)return o.privInitializeDeferral.promise();o.privInitializeDeferral=new a.Deferred;try{o.createAudioContext()}catch(e){if(e instanceof Error){var t=e;o.privInitializeDeferral.reject(t.name+": "+t.message)}else o.privInitializeDeferral.reject(e);return o.privInitializeDeferral.promise()}var r=window.navigator,e=r.getUserMedia||r.webkitGetUserMedia||r.mozGetUserMedia||r.msGetUserMedia;if(r.mediaDevices&&(e=function(e,t,n){r.mediaDevices.getUserMedia(e).then(t).catch(n)}),e){var n=function(){o.onEvent(new a.AudioSourceInitializingEvent(o.privId)),e({audio:!o.deviceId||{deviceId:o.deviceId},video:!1},function(e){o.privMediaStream=e,o.onEvent(new a.AudioSourceReadyEvent(o.privId)),o.privInitializeDeferral.resolve(!0)},function(e){var t="Error occurred during microphone initialization: ".concat(e),n=o.privInitializeDeferral;o.privInitializeDeferral=null,n.reject(t),o.onEvent(new a.AudioSourceErrorEvent(o.privId,t))})};"suspended"===o.privContext.state?o.privContext.resume().then(n,function(e){o.privInitializeDeferral.reject("Failed to initialize audio context: ".concat(e))}):n()}else{var i="Browser does not support getUserMedia.";o.privInitializeDeferral.reject(i),o.onEvent(new a.AudioSourceErrorEvent(i,""))}return o.privInitializeDeferral.promise()},this.id=function(){return o.privId},this.attach=function(t){return o.onEvent(new a.AudioStreamNodeAttachingEvent(o.privId,t)),o.listen(t).onSuccessContinueWith(function(e){return o.onEvent(new a.AudioStreamNodeAttachedEvent(o.privId,t)),{detach:function(){e.close(),o.turnOff(),delete o.privStreams[t],o.onEvent(new a.AudioStreamNodeDetachedEvent(o.privId,t))},id:function(){return t},read:function(){return e.read()}}})},this.detach=function(e){e&&o.privStreams[e]&&(o.privStreams[e].close(),delete o.privStreams[e],o.onEvent(new a.AudioStreamNodeDetachedEvent(o.privId,e)))},this.turnOff=function(){for(var e in o.privStreams)if(e){var t=o.privStreams[e];t&&t.close()}return o.onEvent(new a.AudioSourceOffEvent(o.privId)),o.privInitializeDeferral=null,o.destroyAudioContext(),a.PromiseHelper.fromResult(!0)},this.listen=function(n){return o.turnOn().onSuccessContinueWith(function(e){var t=new a.ChunkedArrayBufferStream(o.privOutputChunkSize,n);o.privStreams[n]=t;try{o.privRecorder.record(o.privContext,o.privMediaStream,t)}catch(e){throw o.onEvent(new a.AudioStreamNodeErrorEvent(o.privId,n,e)),e}return t.getReader()})},this.onEvent=function(e){o.privEvents.onEvent(e),a.Events.instance.onEvent(e)},this.createAudioContext=function(){if(!o.privContext){if("undefined"==typeof AudioContext)throw new Error("Browser does not support Web Audio API (AudioContext is not available).");navigator.mediaDevices.getSupportedConstraints().sampleRate?o.privContext=new AudioContext({sampleRate:r.AUDIOFORMAT.samplesPerSec}):o.privContext=new AudioContext}},this.destroyAudioContext=function(){if(o.privContext){o.privRecorder.releaseMediaResources(o.privContext);var e=!1;"close"in o.privContext&&(e=!0),e?(o.privContext.close(),o.privContext=null):null!==o.privContext&&"running"===o.privContext.state&&o.privContext.suspend()}},this.privOutputChunkSize=r.AUDIOFORMAT.avgBytesPerSec/10,this.privId=n||(0,a.createNoDashGuid)(),this.privEvents=new a.EventSource}var e=r.prototype;return e.setProperty=function(e,t){if(e!==s)throw new Error("Property '"+e+"' is not supported on Microphone.");this.privRecorder.setWorkletUrl(t)},e.getMicrophoneLabel=function(){var s=this,e="microphone";if(void 0!==this.privMicrophoneLabel)return a.PromiseHelper.fromResult(this.privMicrophoneLabel);if(void 0===this.privMediaStream||!this.privMediaStream.active)return a.PromiseHelper.fromResult(e);this.privMicrophoneLabel=e;var u=this.privMediaStream.getTracks()[0].getSettings().deviceId;if(void 0===u)return a.PromiseHelper.fromResult(this.privMicrophoneLabel);var c=new a.Deferred;return navigator.mediaDevices.enumerateDevices().then(function(e){var t=!0,n=!1,r=void 0;try{for(var i,o=e[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var a=i.value;if(a.deviceId===u){s.privMicrophoneLabel=a.label;break}}}catch(e){n=!0,r=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw r}}c.resolve(s.privMicrophoneLabel)},function(){return c.resolve(s.privMicrophoneLabel)}),c.promise()},function(e,t,n){t&&o(e.prototype,t),n&&o(e,n)}(r,[{key:"format",get:function(){return a.PromiseHelper.fromResult(r.AUDIOFORMAT)}},{key:"events",get:function(){return this.privEvents}},{key:"deviceInfo",get:function(){return this.getMicrophoneLabel().onSuccessContinueWith(function(e){return{bitspersample:r.AUDIOFORMAT.bitsPerSample,channelcount:r.AUDIOFORMAT.channels,connectivity:i.connectivity.Unknown,manufacturer:"Speech SDK",model:e,samplerate:r.AUDIOFORMAT.samplesPerSec,type:i.type.Microphones}})}}]),r}();(t.MicAudioSource=u).AUDIOFORMAT=r.AudioStreamFormat.getDefaultInputFormat()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CognitiveSubscriptionKeyAuthentication=void 0;var r=n(44),i=n(841);t.CognitiveSubscriptionKeyAuthentication=function(e){var t=this;if(this.fetch=function(e){return r.PromiseHelper.fromResult(t.privAuthInfo)},this.fetchOnExpiry=function(e){return r.PromiseHelper.fromResult(t.privAuthInfo)},!e)throw new r.ArgumentNullError("subscriptionKey");this.privAuthInfo=new i.AuthInfo("Ocp-Apim-Subscription-Key",e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CognitiveTokenAuthentication=void 0;var r=n(44),i=n(841),o="Authorization";t.CognitiveTokenAuthentication=function(e,t){var n=this;if(this.fetch=function(e){return n.privFetchCallback(e).onSuccessContinueWith(function(e){return new i.AuthInfo(o,e)})},this.fetchOnExpiry=function(e){return n.privFetchOnExpiryCallback(e).onSuccessContinueWith(function(e){return new i.AuthInfo(o,e)})},!e)throw new r.ArgumentNullError("fetchCallback");if(!t)throw new r.ArgumentNullError("fetchOnExpiryCallback");this.privFetchCallback=e,this.privFetchOnExpiryCallback=t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IntentConnectionFactory=void 0;var c=n(225),l=n(19),r=n(595),p=n(39);var i=function(e){function t(){var u;return(u=e.apply(this,arguments)||this).create=function(e,t,n){var r=e.parameters.getProperty(l.PropertyId.SpeechServiceConnection_Endpoint);if(!r){var i=e.parameters.getProperty(l.PropertyId.SpeechServiceConnection_IntentRegion),o=i&&i.toLowerCase().startsWith("china")?".azure.cn":".microsoft.com";r=e.parameters.getProperty(l.PropertyId.SpeechServiceConnection_Host,"wss://"+i+".sr.speech"+o)+"/speech/recognition/interactive/cognitiveservices/v1"}var a={format:"simple",language:e.parameters.getProperty(l.PropertyId.SpeechServiceConnection_RecoLanguage)};u.setCommonUrlParams(e,a,r);var s={};return void 0!==t.token&&""!==t.token&&(s[t.headerName]=t.token),s["X-ConnectionId"]=n,e.parameters.setProperty(l.PropertyId.SpeechServiceConnection_Url,r),new c.WebsocketConnection(r,a,s,new p.WebsocketMessageFormatter,c.ProxyInfo.fromRecognizerConfig(e),n)},u}return function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(t,e),t.prototype.getSpeechRegionFromIntentRegion=function(e){switch(e){case"West US":case"US West":case"westus":return"uswest";case"West US 2":case"US West 2":case"westus2":return"uswest2";case"South Central US":case"US South Central":case"southcentralus":return"ussouthcentral";case"West Central US":case"US West Central":case"westcentralus":return"uswestcentral";case"East US":case"US East":case"eastus":return"useast";case"East US 2":case"US East 2":case"eastus2":return"useast2";case"West Europe":case"Europe West":case"westeurope":return"europewest";case"North Europe":case"Europe North":case"northeurope":return"europenorth";case"Brazil South":case"South Brazil":case"southbrazil":return"brazilsouth";case"Australia East":case"East Australia":case"eastaustralia":return"australiaeast";case"Southeast Asia":case"Asia Southeast":case"southeastasia":return"asiasoutheast";case"East Asia":case"Asia East":case"eastasia":return"asiaeast";default:return e}},t}(r.ConnectionFactoryBase);t.IntentConnectionFactory=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AudioOutputConfigImpl=t.AudioConfigImpl=t.AudioConfig=void 0;var r=n(225),i=n(86),o=n(19),a=n(1229),s=n(1230),u=n(594);function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t,n){return t&&c(e.prototype,t),n&&c(e,n),e}function p(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}var f=function(){function t(){}return t.fromDefaultMicrophoneInput=function(){var e=new r.PcmRecorder;return new d(new r.MicAudioSource(e))},t.fromMicrophoneInput=function(e){var t=new r.PcmRecorder;return new d(new r.MicAudioSource(t,e))},t.fromWavFileInput=function(e){return new d(new r.FileAudioSource(e))},t.fromStreamInput=function(e){if(e instanceof o.PullAudioInputStreamCallback)return new d(new s.PullAudioInputStreamImpl(e));if(e instanceof o.AudioInputStream)return new d(e);throw new Error("Not Supported Type")},t.fromDefaultSpeakerOutput=function(){return new h(new o.SpeakerAudioDestination)},t.fromSpeakerOutput=function(e){if(void 0===e)return t.fromDefaultSpeakerOutput();if(e instanceof o.SpeakerAudioDestination)return new h(e);throw new Error("Not Supported Type")},t.fromAudioFileOutput=function(e){return new h(new a.AudioFileWriter(e))},t.fromStreamOutput=function(e){if(e instanceof o.PushAudioOutputStreamCallback)return new h(new u.PushAudioOutputStreamImpl(e));if(e instanceof o.PushAudioOutputStream)return new h(e);if(e instanceof o.PullAudioOutputStream)return new h(e);throw new Error("Not Supported Type")},t}(),d=function(n){function e(e){var t;return(t=n.call(this)||this).privSource=e,t}p(e,n);var t=e.prototype;return t.close=function(){this.privSource.turnOff()},t.id=function(){return this.privSource.id()},t.turnOn=function(){return this.privSource.turnOn()},t.attach=function(e){return this.privSource.attach(e)},t.detach=function(e){return this.privSource.detach(e)},t.turnOff=function(){return this.privSource.turnOff()},t.setProperty=function(e,t){if(i.Contracts.throwIfNull(t,"value"),void 0===this.privSource.setProperty)throw new Error("This AudioConfig instance does not support setting properties.");this.privSource.setProperty(e,t)},t.getProperty=function(e,t){if(void 0!==this.privSource.getProperty)return this.privSource.getProperty(e,t);throw new Error("This AudioConfig instance does not support getting properties.")},l(e,[{key:"format",get:function(){return this.privSource.format}},{key:"events",get:function(){return this.privSource.events}},{key:"deviceInfo",get:function(){return this.privSource.deviceInfo}}]),e}(t.AudioConfig=f);t.AudioConfigImpl=d;var h=function(n){function e(e){var t;return(t=n.call(this)||this).privDestination=e,t}p(e,n);var t=e.prototype;return t.write=function(e){this.privDestination.write(e)},t.close=function(){this.privDestination.close()},t.id=function(){return this.privDestination.id()},t.setProperty=function(e,t){throw new Error("This AudioConfig instance does not support setting properties.")},t.getProperty=function(e,t){throw new Error("This AudioConfig instance does not support getting properties.")},l(e,[{key:"format",set:function(e){this.privDestination.format=e}}]),e}(f);t.AudioOutputConfigImpl=h},function(e,t){},function(e,t,n){"use strict";var r,i;Object.defineProperty(t,"__esModule",{value:!0}),t.CancellationReason=void 0,t.CancellationReason=r,(i=r||(t.CancellationReason=r={}))[i.Error=0]="Error",i[i.EndOfStream=1]="EndOfStream"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PullAudioInputStreamCallback=void 0;t.PullAudioInputStreamCallback=function(){}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PushAudioOutputStreamCallback=void 0;t.PushAudioOutputStreamCallback=function(){}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.KeywordRecognitionModel=void 0;var r=n(86),i=function(){function e(){this.privDisposed=!1}return e.fromFile=function(e){throw r.Contracts.throwIfFileDoesNotExist(e,"fileName"),new Error("Not yet implemented.")},e.fromStream=function(e){throw r.Contracts.throwIfNull(e,"file"),new Error("Not yet implemented.")},e.prototype.close=function(){this.privDisposed||(this.privDisposed=!0)},e}();t.KeywordRecognitionModel=i},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0}),t.SessionEventArgs=void 0;var i=function(){function e(e){this.privSessionId=e}return function(e,t,n){t&&r(e.prototype,t),n&&r(e,n)}(e,[{key:"sessionId",get:function(){return this.privSessionId}}]),e}();t.SessionEventArgs=i},function(e,t,n){"use strict";function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0}),t.RecognitionEventArgs=void 0;var r=function(r){function e(e,t){var n;return(n=r.call(this,t)||this).privOffset=e,n}return function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(e,r),function(e,t,n){t&&i(e.prototype,t),n&&i(e,n)}(e,[{key:"offset",get:function(){return this.privOffset}}]),e}(n(19).SessionEventArgs);t.RecognitionEventArgs=r},function(e,t,n){"use strict";var r,i;Object.defineProperty(t,"__esModule",{value:!0}),t.OutputFormat=void 0,t.OutputFormat=r,(i=r||(t.OutputFormat=r={}))[i.Simple=0]="Simple",i[i.Detailed=1]="Detailed"},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0}),t.IntentRecognitionEventArgs=void 0;var i=function(i){function e(e,t,n){var r;return(r=i.call(this,t,n)||this).privResult=e,r}return function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(e,i),function(e,t,n){t&&r(e.prototype,t),n&&r(e,n)}(e,[{key:"result",get:function(){return this.privResult}}]),e}(n(19).RecognitionEventArgs);t.IntentRecognitionEventArgs=i},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0}),t.RecognitionResult=void 0;var i=function(){function e(e,t,n,r,i,o,a,s){this.privResultId=e,this.privReason=t,this.privText=n,this.privDuration=r,this.privOffset=i,this.privErrorDetails=o,this.privJson=a,this.privProperties=s}return function(e,t,n){t&&r(e.prototype,t),n&&r(e,n)}(e,[{key:"resultId",get:function(){return this.privResultId}},{key:"reason",get:function(){return this.privReason}},{key:"text",get:function(){return this.privText}},{key:"duration",get:function(){return this.privDuration}},{key:"offset",get:function(){return this.privOffset}},{key:"errorDetails",get:function(){return this.privErrorDetails}},{key:"json",get:function(){return this.privJson}},{key:"properties",get:function(){return this.privProperties}}]),e}();t.RecognitionResult=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SpeechRecognitionResult=void 0;var r=function(u){function e(e,t,n,r,i,o,a,s){return u.call(this,e,t,n,r,i,o,a,s)||this}return function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(e,u),e}(n(19).RecognitionResult);t.SpeechRecognitionResult=r},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0}),t.IntentRecognitionResult=void 0;var i=function(l){function e(e,t,n,r,i,o,a,s,u){var c;return(c=l.call(this,t,n,r,i,o,a,s,u)||this).privIntentId=e,c}return function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(e,l),function(e,t,n){t&&r(e.prototype,t),n&&r(e,n)}(e,[{key:"intentId",get:function(){return this.privIntentId}}]),e}(n(19).SpeechRecognitionResult);t.IntentRecognitionResult=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LanguageUnderstandingModelImpl=t.LanguageUnderstandingModel=void 0;var i=n(86);var r=function(){function e(){}return e.fromEndpoint=function(e){i.Contracts.throwIfNull(e,"uri"),i.Contracts.throwIfNullOrWhitespace(e.hostname,"uri");var t=new o,n=e.host.indexOf(".");if(-1===n)throw new Error("Could not determine region from endpoint");t.region=e.host.substr(0,n);var r=e.pathname.lastIndexOf("/")+1;if(-1===r)throw new Error("Could not determine appId from endpoint");if(t.appId=e.pathname.substr(r),t.subscriptionKey=e.searchParams.get("subscription-key"),void 0===t.subscriptionKey)throw new Error("Could not determine subscription key from endpoint");return t},e.fromAppId=function(e){i.Contracts.throwIfNullOrWhitespace(e,"appId");var t=new o;return t.appId=e,t},e.fromSubscription=function(e,t,n){i.Contracts.throwIfNullOrWhitespace(e,"subscriptionKey"),i.Contracts.throwIfNullOrWhitespace(t,"appId"),i.Contracts.throwIfNullOrWhitespace(n,"region");var r=new o;return r.appId=t,r.region=n,r.subscriptionKey=e,r},e}(),o=function(e){function t(){return e.apply(this,arguments)||this}return function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(t,e),t}(t.LanguageUnderstandingModel=r);t.LanguageUnderstandingModelImpl=o},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0}),t.SpeechRecognitionEventArgs=void 0;var i=function(i){function e(e,t,n){var r;return(r=i.call(this,t,n)||this).privResult=e,r}return function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(e,i),function(e,t,n){t&&r(e.prototype,t),n&&r(e,n)}(e,[{key:"result",get:function(){return this.privResult}}]),e}(n(19).RecognitionEventArgs);t.SpeechRecognitionEventArgs=i},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0}),t.SpeechRecognitionCanceledEventArgs=void 0;var i=function(a){function e(e,t,n,r,i){var o;return(o=a.call(this,r,i)||this).privReason=e,o.privErrorDetails=t,o.privErrorCode=n,o}return function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(e,a),function(e,t,n){t&&r(e.prototype,t),n&&r(e,n)}(e,[{key:"reason",get:function(){return this.privReason}},{key:"errorCode",get:function(){return this.privErrorCode}},{key:"errorDetails",get:function(){return this.privErrorDetails}}]),e}(n(19).RecognitionEventArgs);t.SpeechRecognitionCanceledEventArgs=i},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0}),t.TranslationRecognitionEventArgs=void 0;var i=function(i){function e(e,t,n){var r;return(r=i.call(this,t,n)||this).privResult=e,r}return function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(e,i),function(e,t,n){t&&r(e.prototype,t),n&&r(e,n)}(e,[{key:"result",get:function(){return this.privResult}}]),e}(n(19).RecognitionEventArgs);t.TranslationRecognitionEventArgs=i},function(e,t,n){"use strict";function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0}),t.TranslationSynthesisEventArgs=void 0;var r=function(r){function e(e,t){var n;return(n=r.call(this,t)||this).privResult=e,n}return function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(e,r),function(e,t,n){t&&i(e.prototype,t),n&&i(e,n)}(e,[{key:"result",get:function(){return this.privResult}}]),e}(n(19).SessionEventArgs);t.TranslationSynthesisEventArgs=r},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0}),t.TranslationSynthesisResult=void 0;var i=function(){function e(e,t){this.privReason=e,this.privAudio=t}return function(e,t,n){t&&r(e.prototype,t),n&&r(e,n)}(e,[{key:"audio",get:function(){return this.privAudio}},{key:"reason",get:function(){return this.privReason}}]),e}();t.TranslationSynthesisResult=i},function(e,t,n){"use strict";var r,i;Object.defineProperty(t,"__esModule",{value:!0}),t.ResultReason=void 0,t.ResultReason=r,(i=r||(t.ResultReason=r={}))[i.NoMatch=0]="NoMatch",i[i.Canceled=1]="Canceled",i[i.RecognizingSpeech=2]="RecognizingSpeech",i[i.RecognizedSpeech=3]="RecognizedSpeech",i[i.RecognizingIntent=4]="RecognizingIntent",i[i.RecognizedIntent=5]="RecognizedIntent",i[i.TranslatingSpeech=6]="TranslatingSpeech",i[i.TranslatedSpeech=7]="TranslatedSpeech",i[i.SynthesizingAudio=8]="SynthesizingAudio",i[i.SynthesizingAudioCompleted=9]="SynthesizingAudioCompleted",i[i.SynthesizingAudioStarted=10]="SynthesizingAudioStarted"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SpeechConfigImpl=t.SpeechConfig=void 0;var i=n(39),r=n(86),o=n(19);function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=function(){function e(){}return e.fromSubscription=function(e,t){r.Contracts.throwIfNullOrWhitespace(e,"subscriptionKey"),r.Contracts.throwIfNullOrWhitespace(t,"region");var n=new u;return n.setProperty(o.PropertyId.SpeechServiceConnection_Region,t),n.setProperty(o.PropertyId.SpeechServiceConnection_IntentRegion,t),n.setProperty(o.PropertyId.SpeechServiceConnection_Key,e),n},e.fromEndpoint=function(e,t){r.Contracts.throwIfNull(e,"endpoint");var n=new u;return n.setProperty(o.PropertyId.SpeechServiceConnection_Endpoint,e.href),void 0!==t&&n.setProperty(o.PropertyId.SpeechServiceConnection_Key,t),n},e.fromHost=function(e,t){r.Contracts.throwIfNull(e,"hostName");var n=new u;return n.setProperty(o.PropertyId.SpeechServiceConnection_Host,e.protocol+"//"+e.hostname+(""===e.port?"":":"+e.port)),void 0!==t&&n.setProperty(o.PropertyId.SpeechServiceConnection_Key,t),n},e.fromAuthorizationToken=function(e,t){r.Contracts.throwIfNull(e,"authorizationToken"),r.Contracts.throwIfNullOrWhitespace(t,"region");var n=new u;return n.setProperty(o.PropertyId.SpeechServiceConnection_Region,t),n.setProperty(o.PropertyId.SpeechServiceConnection_IntentRegion,t),n.authorizationToken=e,n},e.prototype.close=function(){},e}(),u=function(t){function n(){var e;return(e=t.call(this)||this).privProperties=new o.PropertyCollection,e.speechRecognitionLanguage="en-US",e.outputFormat=o.OutputFormat.Simple,e}!function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(n,t);var e=n.prototype;return e.setProperty=function(e,t){r.Contracts.throwIfNull(t,"value"),this.privProperties.setProperty(e,t)},e.getProperty=function(e,t){return this.privProperties.getProperty(e,t)},e.setProxy=function(e,t,n,r){this.setProperty(o.PropertyId[o.PropertyId.SpeechServiceConnection_ProxyHostName],e),this.setProperty(o.PropertyId[o.PropertyId.SpeechServiceConnection_ProxyPort],t),this.setProperty(o.PropertyId[o.PropertyId.SpeechServiceConnection_ProxyUserName],n),this.setProperty(o.PropertyId[o.PropertyId.SpeechServiceConnection_ProxyPassword],r)},e.setServiceProperty=function(e,t,n){var r=JSON.parse(this.privProperties.getProperty(i.ServicePropertiesPropertyName,"{}"));r[e]=t,this.privProperties.setProperty(i.ServicePropertiesPropertyName,JSON.stringify(r))},e.setProfanity=function(e){this.privProperties.setProperty(o.PropertyId.SpeechServiceResponse_ProfanityOption,o.ProfanityOption[e])},e.enableAudioLogging=function(){this.privProperties.setProperty(o.PropertyId.SpeechServiceConnection_EnableAudioLogging,"true")},e.requestWordLevelTimestamps=function(){this.privProperties.setProperty(o.PropertyId.SpeechServiceResponse_RequestWordLevelTimestamps,"true")},e.enableDictation=function(){this.privProperties.setProperty(i.ForceDictationPropertyName,"true")},e.clone=function(){var e=new n;return e.privProperties=this.privProperties.clone(),e},function(e,t,n){t&&a(e.prototype,t),n&&a(e,n)}(n,[{key:"properties",get:function(){return this.privProperties}},{key:"endPoint",get:function(){return new URL(this.privProperties.getProperty(o.PropertyId.SpeechServiceConnection_Endpoint))}},{key:"subscriptionKey",get:function(){return this.privProperties.getProperty(o.PropertyId.SpeechServiceConnection_Key)}},{key:"region",get:function(){return this.privProperties.getProperty(o.PropertyId.SpeechServiceConnection_Region)}},{key:"authorizationToken",get:function(){return this.privProperties.getProperty(o.PropertyId.SpeechServiceAuthorization_Token)},set:function(e){this.privProperties.setProperty(o.PropertyId.SpeechServiceAuthorization_Token,e)}},{key:"speechRecognitionLanguage",get:function(){return this.privProperties.getProperty(o.PropertyId.SpeechServiceConnection_RecoLanguage)},set:function(e){this.privProperties.setProperty(o.PropertyId.SpeechServiceConnection_RecoLanguage,e)}},{key:"outputFormat",get:function(){return o.OutputFormat[this.privProperties.getProperty(i.OutputFormatPropertyName,void 0)]},set:function(e){this.privProperties.setProperty(i.OutputFormatPropertyName,o.OutputFormat[e])}},{key:"endpointId",get:function(){return this.privProperties.getProperty(o.PropertyId.SpeechServiceConnection_EndpointId)},set:function(e){this.privProperties.setProperty(o.PropertyId.SpeechServiceConnection_EndpointId,e)}},{key:"speechSynthesisLanguage",get:function(){return this.privProperties.getProperty(o.PropertyId.SpeechServiceConnection_SynthLanguage)},set:function(e){this.privProperties.setProperty(o.PropertyId.SpeechServiceConnection_SynthLanguage,e)}},{key:"speechSynthesisVoiceName",get:function(){return this.privProperties.getProperty(o.PropertyId.SpeechServiceConnection_SynthVoice)},set:function(e){this.privProperties.setProperty(o.PropertyId.SpeechServiceConnection_SynthVoice,e)}},{key:"speechSynthesisOutputFormat",get:function(){return o.SpeechSynthesisOutputFormat[this.privProperties.getProperty(o.PropertyId.SpeechServiceConnection_SynthOutputFormat,void 0)]},set:function(e){this.privProperties.setProperty(o.PropertyId.SpeechServiceConnection_SynthOutputFormat,o.SpeechSynthesisOutputFormat[e])}}]),n}(t.SpeechConfig=s);t.SpeechConfigImpl=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SpeechTranslationConfigImpl=t.SpeechTranslationConfig=void 0;var i=n(39),r=n(86),o=n(19);function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}var u=function(e){function t(){return e.call(this)||this}return s(t,e),t.fromSubscription=function(e,t){r.Contracts.throwIfNullOrWhitespace(e,"subscriptionKey"),r.Contracts.throwIfNullOrWhitespace(t,"region");var n=new c;return n.properties.setProperty(o.PropertyId.SpeechServiceConnection_Key,e),n.properties.setProperty(o.PropertyId.SpeechServiceConnection_Region,t),n},t.fromAuthorizationToken=function(e,t){r.Contracts.throwIfNullOrWhitespace(e,"authorizationToken"),r.Contracts.throwIfNullOrWhitespace(t,"region");var n=new c;return n.properties.setProperty(o.PropertyId.SpeechServiceAuthorization_Token,e),n.properties.setProperty(o.PropertyId.SpeechServiceConnection_Region,t),n},t.fromHost=function(e,t){r.Contracts.throwIfNull(e,"hostName");var n=new c;return n.setProperty(o.PropertyId.SpeechServiceConnection_Host,e.protocol+"//"+e.hostname+(""===e.port?"":":"+e.port)),void 0!==t&&n.setProperty(o.PropertyId.SpeechServiceConnection_Key,t),n},t.fromEndpoint=function(e,t){r.Contracts.throwIfNull(e,"endpoint"),r.Contracts.throwIfNull(t,"subscriptionKey");var n=new c;return n.properties.setProperty(o.PropertyId.SpeechServiceConnection_Endpoint,e.href),n.properties.setProperty(o.PropertyId.SpeechServiceConnection_Key,t),n},t}(o.SpeechConfig),c=function(t){function e(){var e;return(e=t.call(this)||this).privSpeechProperties=new o.PropertyCollection,e.outputFormat=o.OutputFormat.Simple,e}s(e,t);var n=e.prototype;return n.addTargetLanguage=function(e){r.Contracts.throwIfNullOrWhitespace(e,"value");var t=this.targetLanguages;t.push(e),this.privSpeechProperties.setProperty(o.PropertyId.SpeechServiceConnection_TranslationToLanguages,t.join(","))},n.setProxy=function(e,t,n,r){this.setProperty(o.PropertyId[o.PropertyId.SpeechServiceConnection_ProxyHostName],e),this.setProperty(o.PropertyId[o.PropertyId.SpeechServiceConnection_ProxyPort],t),this.setProperty(o.PropertyId[o.PropertyId.SpeechServiceConnection_ProxyUserName],n),this.setProperty(o.PropertyId[o.PropertyId.SpeechServiceConnection_ProxyPassword],r)},n.getProperty=function(e,t){return this.privSpeechProperties.getProperty(e,t)},n.setProperty=function(e,t){this.privSpeechProperties.setProperty(e,t)},n.close=function(){},n.setServiceProperty=function(e,t,n){var r=JSON.parse(this.privSpeechProperties.getProperty(i.ServicePropertiesPropertyName,"{}"));r[e]=t,this.privSpeechProperties.setProperty(i.ServicePropertiesPropertyName,JSON.stringify(r))},n.setProfanity=function(e){this.privSpeechProperties.setProperty(o.PropertyId.SpeechServiceResponse_ProfanityOption,o.ProfanityOption[e])},n.enableAudioLogging=function(){this.privSpeechProperties.setProperty(o.PropertyId.SpeechServiceConnection_EnableAudioLogging,"true")},n.requestWordLevelTimestamps=function(){this.privSpeechProperties.setProperty(o.PropertyId.SpeechServiceResponse_RequestWordLevelTimestamps,"true")},n.enableDictation=function(){this.privSpeechProperties.setProperty(i.ForceDictationPropertyName,"true")},function(e,t,n){t&&a(e.prototype,t),n&&a(e,n)}(e,[{key:"authorizationToken",set:function(e){r.Contracts.throwIfNullOrWhitespace(e,"value"),this.privSpeechProperties.setProperty(o.PropertyId.SpeechServiceAuthorization_Token,e)}},{key:"speechRecognitionLanguage",set:function(e){r.Contracts.throwIfNullOrWhitespace(e,"value"),this.privSpeechProperties.setProperty(o.PropertyId.SpeechServiceConnection_RecoLanguage,e)}},{key:"subscriptionKey",get:function(){return this.privSpeechProperties.getProperty(o.PropertyId[o.PropertyId.SpeechServiceConnection_Key])}},{key:"outputFormat",get:function(){return o.OutputFormat[this.privSpeechProperties.getProperty(i.OutputFormatPropertyName,void 0)]},set:function(e){this.privSpeechProperties.setProperty(i.OutputFormatPropertyName,o.OutputFormat[e])}},{key:"endpointId",get:function(){return this.privSpeechProperties.getProperty(o.PropertyId.SpeechServiceConnection_EndpointId)},set:function(e){this.privSpeechProperties.setProperty(o.PropertyId.SpeechServiceConnection_EndpointId,e)}},{key:"targetLanguages",get:function(){return void 0!==this.privSpeechProperties.getProperty(o.PropertyId.SpeechServiceConnection_TranslationToLanguages,void 0)?this.privSpeechProperties.getProperty(o.PropertyId.SpeechServiceConnection_TranslationToLanguages).split(","):[]}},{key:"voiceName",get:function(){return this.getProperty(o.PropertyId[o.PropertyId.SpeechServiceConnection_TranslationVoice])},set:function(e){r.Contracts.throwIfNullOrWhitespace(e,"value"),this.privSpeechProperties.setProperty(o.PropertyId.SpeechServiceConnection_TranslationVoice,e)}},{key:"region",get:function(){return this.privSpeechProperties.getProperty(o.PropertyId.SpeechServiceConnection_Region)}},{key:"properties",get:function(){return this.privSpeechProperties}},{key:"speechSynthesisLanguage",get:function(){return this.privSpeechProperties.getProperty(o.PropertyId.SpeechServiceConnection_SynthLanguage)},set:function(e){this.privSpeechProperties.setProperty(o.PropertyId.SpeechServiceConnection_SynthLanguage,e)}},{key:"speechSynthesisVoiceName",get:function(){return this.privSpeechProperties.getProperty(o.PropertyId.SpeechServiceConnection_SynthVoice)},set:function(e){this.privSpeechProperties.setProperty(o.PropertyId.SpeechServiceConnection_SynthVoice,e)}},{key:"speechSynthesisOutputFormat",get:function(){return o.SpeechSynthesisOutputFormat[this.privSpeechProperties.getProperty(o.PropertyId.SpeechServiceConnection_SynthOutputFormat,void 0)]},set:function(e){this.privSpeechProperties.setProperty(o.PropertyId.SpeechServiceConnection_SynthOutputFormat,o.SpeechSynthesisOutputFormat[e])}}]),e}(t.SpeechTranslationConfig=u);t.SpeechTranslationConfigImpl=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Recognizer=void 0;var s=n(39),u=n(44),a=n(86),c=n(19);function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=function(){function e(e,t,n){this.audioConfig=void 0!==e?e:c.AudioConfig.fromDefaultMicrophoneInput(),this.privDisposed=!1,this.privProperties=t.clone(),this.privConnectionFactory=n,this.implCommonRecognizerSetup()}var t=e.prototype;return t.close=function(){a.Contracts.throwIfDisposed(this.privDisposed),this.dispose(!0)},t.dispose=function(e){this.privDisposed||(e&&this.privReco&&(this.privReco.audioSource.turnOff(),this.privReco.dispose()),this.privDisposed=!0)},e.enableTelemetry=function(e){s.ServiceRecognizerBase.telemetryDataEnabled=e},t.implCommonRecognizerSetup=function(){var n=this,e="undefined"!=typeof window?"Browser":"Node",t="unknown",r="unknown";"undefined"!=typeof navigator&&(e=e+"/"+navigator.platform,t=navigator.userAgent,r=navigator.appVersion);var i=this.createRecognizerConfig(new s.SpeechServiceConfig(new s.Context(new s.OS(e,t,r)))),o=this.privProperties.getProperty(c.PropertyId.SpeechServiceConnection_Key,void 0),a=o&&""!==o?new s.CognitiveSubscriptionKeyAuthentication(o):new s.CognitiveTokenAuthentication(function(e){var t=n.privProperties.getProperty(c.PropertyId.SpeechServiceAuthorization_Token,void 0);return u.PromiseHelper.fromResult(t)},function(e){var t=n.privProperties.getProperty(c.PropertyId.SpeechServiceAuthorization_Token,void 0);return u.PromiseHelper.fromResult(t)});this.privReco=this.createServiceRecognizer(a,this.privConnectionFactory,this.audioConfig,i)},t.recognizeOnceAsyncImpl=function(n,r,i){var o=this;try{a.Contracts.throwIfDisposed(this.privDisposed),this.implRecognizerStop().on(function(e){try{o.privReco.recognize(n,function(t){o.implRecognizerStop().on(function(e){r&&r(t)},function(e){i&&i(e)})},function(e){o.implRecognizerStop(),i&&i(e)}).on(function(e){},function(e){i&&i(e)})}catch(e){if(i)if(e instanceof Error){var t=e;i(t.name+": "+t.message)}else i(e);o.dispose(!0)}},function(e){i&&i(e)})}catch(e){if(i)if(e instanceof Error){var t=e;i(t.name+": "+t.message)}else i(e);this.dispose(!0)}},t.startContinuousRecognitionAsyncImpl=function(t,n,r){var i=this;try{a.Contracts.throwIfDisposed(this.privDisposed),this.implRecognizerStop().on(function(e){i.privReco.recognize(t,void 0,void 0).on(function(e){if(n){try{n()}catch(e){r&&r(e)}n=void 0}},function(e){r&&r(e),i.dispose(!0)})},function(e){r&&r(e),i.dispose(!0)})}catch(e){if(r)if(e instanceof Error){var o=e;r(o.name+": "+o.message)}else r(e);this.dispose(!0)}},t.stopContinuousRecognitionAsyncImpl=function(t,n){try{a.Contracts.throwIfDisposed(this.privDisposed),this.implRecognizerStop().on(function(e){if(t)try{t()}catch(e){n&&n(e)}},function(e){n&&n(e)})}catch(e){if(n)if(e instanceof Error){var r=e;n(r.name+": "+r.message)}else n(e);this.dispose(!0)}},t.implRecognizerStop=function(){return this.privReco?this.privReco.stopRecognizing():u.PromiseHelper.fromResult(!0)},function(e,t,n){t&&r(e.prototype,t),n&&r(e,n)}(e,[{key:"internalData",get:function(){return this.privReco}}],[{key:"telemetryEnabled",get:function(){return s.ServiceRecognizerBase.telemetryDataEnabled}}]),e}();t.Recognizer=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SpeechRecognizer=void 0;var o=n(39),a=n(1235),s=n(86),u=n(19);function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=function(i){function e(e,t){var n,r=e;return s.Contracts.throwIfNull(r,"speechConfig"),s.Contracts.throwIfNullOrWhitespace(r.properties.getProperty(u.PropertyId.SpeechServiceConnection_RecoLanguage),u.PropertyId[u.PropertyId.SpeechServiceConnection_RecoLanguage]),(n=i.call(this,t,r.properties,new a.SpeechConnectionFactory)||this).privDisposedSpeechRecognizer=!1,n}!function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(e,i);var t=e.prototype;return t.recognizeOnceAsync=function(e,t){this.recognizeOnceAsyncImpl(o.RecognitionMode.Interactive,e,t)},t.startContinuousRecognitionAsync=function(e,t){this.startContinuousRecognitionAsyncImpl(o.RecognitionMode.Conversation,e,t)},t.stopContinuousRecognitionAsync=function(e,t){this.stopContinuousRecognitionAsyncImpl(e,t)},t.startKeywordRecognitionAsync=function(e,t,n){s.Contracts.throwIfNull(e,"model"),n&&n("Not yet implemented.")},t.stopKeywordRecognitionAsync=function(e,t){e&&e()},t.close=function(){s.Contracts.throwIfDisposed(this.privDisposedSpeechRecognizer),this.dispose(!0)},t.dispose=function(e){this.privDisposedSpeechRecognizer||(e&&(this.implRecognizerStop(),this.privDisposedSpeechRecognizer=!0),i.prototype.dispose.call(this,e))},t.createRecognizerConfig=function(e){return new o.RecognizerConfig(e,this.properties)},t.createServiceRecognizer=function(e,t,n,r){var i=n;return new o.SpeechServiceRecognizer(e,t,i,r,this)},function(e,t,n){t&&r(e.prototype,t),n&&r(e,n)}(e,[{key:"endpointId",get:function(){return s.Contracts.throwIfDisposed(this.privDisposedSpeechRecognizer),this.properties.getProperty(u.PropertyId.SpeechServiceConnection_EndpointId,"00000000-0000-0000-0000-000000000000")}},{key:"authorizationToken",get:function(){return this.properties.getProperty(u.PropertyId.SpeechServiceAuthorization_Token)},set:function(e){s.Contracts.throwIfNullOrWhitespace(e,"token"),this.properties.setProperty(u.PropertyId.SpeechServiceAuthorization_Token,e)}},{key:"speechRecognitionLanguage",get:function(){return s.Contracts.throwIfDisposed(this.privDisposedSpeechRecognizer),this.properties.getProperty(u.PropertyId.SpeechServiceConnection_RecoLanguage)}},{key:"outputFormat",get:function(){return s.Contracts.throwIfDisposed(this.privDisposedSpeechRecognizer),this.properties.getProperty(o.OutputFormatPropertyName,u.OutputFormat[u.OutputFormat.Simple])===u.OutputFormat[u.OutputFormat.Simple]?u.OutputFormat.Simple:u.OutputFormat.Detailed}},{key:"properties",get:function(){return this.privProperties}}]),e}(u.Recognizer);t.SpeechRecognizer=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IntentRecognizer=void 0;var o=n(39),a=n(86),c=n(19);function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=function(i){function e(e,t){var n;a.Contracts.throwIfNullOrUndefined(e,"speechConfig");var r=e;return a.Contracts.throwIfNullOrUndefined(r,"speechConfig"),(n=i.call(this,t,r.properties,new o.IntentConnectionFactory)||this).privAddedIntents=[],n.privAddedLmIntents={},n.privDisposedIntentRecognizer=!1,n.privProperties=r.properties,a.Contracts.throwIfNullOrWhitespace(n.properties.getProperty(c.PropertyId.SpeechServiceConnection_RecoLanguage),c.PropertyId[c.PropertyId.SpeechServiceConnection_RecoLanguage]),n}!function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(e,i);var t=e.prototype;return t.recognizeOnceAsync=function(e,t){if(a.Contracts.throwIfDisposed(this.privDisposedIntentRecognizer),0!==Object.keys(this.privAddedLmIntents).length||void 0!==this.privUmbrellaIntent){var n=this.buildSpeechContext();this.privReco.speechContext.setSection("intent",n.Intent),this.privReco.dynamicGrammar.addReferenceGrammar(n.ReferenceGrammars),this.privReco.setIntents(this.privAddedLmIntents,this.privUmbrellaIntent)}this.recognizeOnceAsyncImpl(o.RecognitionMode.Interactive,e,t)},t.startContinuousRecognitionAsync=function(e,t){if(0!==Object.keys(this.privAddedLmIntents).length){var n=this.buildSpeechContext();this.privReco.speechContext.setSection("intent",n.Intent),this.privReco.dynamicGrammar.addReferenceGrammar(n.ReferenceGrammars),this.privReco.setIntents(this.privAddedLmIntents,this.privUmbrellaIntent)}this.startContinuousRecognitionAsyncImpl(o.RecognitionMode.Conversation,e,t)},t.stopContinuousRecognitionAsync=function(e,t){this.stopContinuousRecognitionAsyncImpl(e,t)},t.startKeywordRecognitionAsync=function(e,t,n){a.Contracts.throwIfNull(e,"model"),n&&n("Not yet implemented.")},t.stopKeywordRecognitionAsync=function(e,t){e&&e()},t.addIntent=function(e,t){a.Contracts.throwIfDisposed(this.privDisposedIntentRecognizer),a.Contracts.throwIfNullOrWhitespace(t,"intentId"),a.Contracts.throwIfNullOrWhitespace(e,"simplePhrase"),this.privAddedIntents.push([t,e])},t.addIntentWithLanguageModel=function(e,t,n){a.Contracts.throwIfDisposed(this.privDisposedIntentRecognizer),a.Contracts.throwIfNullOrWhitespace(e,"intentId"),a.Contracts.throwIfNull(t,"model");var r=t;a.Contracts.throwIfNullOrWhitespace(r.appId,"model.appId"),this.privAddedLmIntents[e]=new o.AddedLmIntent(r,n)},t.addAllIntents=function(e,t){a.Contracts.throwIfNull(e,"model");var n=e;a.Contracts.throwIfNullOrWhitespace(n.appId,"model.appId"),this.privUmbrellaIntent=new o.AddedLmIntent(n,t)},t.close=function(){a.Contracts.throwIfDisposed(this.privDisposedIntentRecognizer),this.dispose(!0)},t.createRecognizerConfig=function(e){return new o.RecognizerConfig(e,this.properties)},t.createServiceRecognizer=function(e,t,n,r){var i=n;return new o.IntentServiceRecognizer(e,t,i,r,this)},t.dispose=function(e){this.privDisposedIntentRecognizer||e&&(this.privDisposedIntentRecognizer=!0,i.prototype.dispose.call(this,e))},t.buildSpeechContext=function(){var e,t,n,r=[];void 0!==this.privUmbrellaIntent&&(e=this.privUmbrellaIntent.modelImpl.appId,t=this.privUmbrellaIntent.modelImpl.region,n=this.privUmbrellaIntent.modelImpl.subscriptionKey);for(var i=0,o=Object.keys(this.privAddedLmIntents);i<o.length;i++){var a=o[i],s=this.privAddedLmIntents[a];if(void 0===e)e=s.modelImpl.appId;else if(e!==s.modelImpl.appId)throw new Error("Intents must all be from the same LUIS model");if(void 0===t)t=s.modelImpl.region;else if(t!==s.modelImpl.region)throw new Error("Intents must all be from the same LUIS model in a single region");if(void 0===n)n=s.modelImpl.subscriptionKey;else if(n!==s.modelImpl.subscriptionKey)throw new Error("Intents must all use the same subscription key");var u="luis/"+e+"-PRODUCTION#"+a;r.push(u)}return{Intent:{id:e,key:void 0===n?this.privProperties.getProperty(c.PropertyId[c.PropertyId.SpeechServiceConnection_Key]):n,provider:"LUIS"},ReferenceGrammars:void 0===this.privUmbrellaIntent?r:["luis/"+e+"-PRODUCTION"]}},function(e,t,n){t&&r(e.prototype,t),n&&r(e,n)}(e,[{key:"speechRecognitionLanguage",get:function(){return a.Contracts.throwIfDisposed(this.privDisposedIntentRecognizer),this.properties.getProperty(c.PropertyId.SpeechServiceConnection_RecoLanguage)}},{key:"authorizationToken",get:function(){return this.properties.getProperty(c.PropertyId.SpeechServiceAuthorization_Token)},set:function(e){this.properties.setProperty(c.PropertyId.SpeechServiceAuthorization_Token,e)}},{key:"properties",get:function(){return this.privProperties}}]),e}(c.Recognizer);t.IntentRecognizer=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TranslationRecognizer=void 0;var o=n(39),a=n(86),s=n(19);function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=function(i){function e(e,t){var n,r=e;return a.Contracts.throwIfNull(r,"speechConfig"),(n=i.call(this,t,r.properties,new o.TranslationConnectionFactory)||this).privDisposedTranslationRecognizer=!1,n.privProperties=r.properties.clone(),void 0!==n.properties.getProperty(s.PropertyId.SpeechServiceConnection_TranslationVoice,void 0)&&a.Contracts.throwIfNullOrWhitespace(n.properties.getProperty(s.PropertyId.SpeechServiceConnection_TranslationVoice),s.PropertyId[s.PropertyId.SpeechServiceConnection_TranslationVoice]),a.Contracts.throwIfNullOrWhitespace(n.properties.getProperty(s.PropertyId.SpeechServiceConnection_TranslationToLanguages),s.PropertyId[s.PropertyId.SpeechServiceConnection_TranslationToLanguages]),a.Contracts.throwIfNullOrWhitespace(n.properties.getProperty(s.PropertyId.SpeechServiceConnection_RecoLanguage),s.PropertyId[s.PropertyId.SpeechServiceConnection_RecoLanguage]),n}!function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(e,i);var t=e.prototype;return t.recognizeOnceAsync=function(e,t){a.Contracts.throwIfDisposed(this.privDisposedTranslationRecognizer),this.recognizeOnceAsyncImpl(o.RecognitionMode.Conversation,e,t)},t.startContinuousRecognitionAsync=function(e,t){this.startContinuousRecognitionAsyncImpl(o.RecognitionMode.Conversation,e,t)},t.stopContinuousRecognitionAsync=function(e,t){this.stopContinuousRecognitionAsyncImpl(e,t)},t.close=function(){a.Contracts.throwIfDisposed(this.privDisposedTranslationRecognizer),this.dispose(!0)},t.dispose=function(e){this.privDisposedTranslationRecognizer||e&&(this.implRecognizerStop(),this.privDisposedTranslationRecognizer=!0,i.prototype.dispose.call(this,e))},t.createRecognizerConfig=function(e){return new o.RecognizerConfig(e,this.properties)},t.createServiceRecognizer=function(e,t,n,r){var i=n;return new o.TranslationServiceRecognizer(e,t,i,r,this)},function(e,t,n){t&&r(e.prototype,t),n&&r(e,n)}(e,[{key:"speechRecognitionLanguage",get:function(){return a.Contracts.throwIfDisposed(this.privDisposedTranslationRecognizer),this.properties.getProperty(s.PropertyId.SpeechServiceConnection_RecoLanguage)}},{key:"targetLanguages",get:function(){return a.Contracts.throwIfDisposed(this.privDisposedTranslationRecognizer),this.properties.getProperty(s.PropertyId.SpeechServiceConnection_TranslationToLanguages).split(",")}},{key:"voiceName",get:function(){return a.Contracts.throwIfDisposed(this.privDisposedTranslationRecognizer),this.properties.getProperty(s.PropertyId.SpeechServiceConnection_TranslationVoice,void 0)}},{key:"authorizationToken",get:function(){return this.properties.getProperty(s.PropertyId.SpeechServiceAuthorization_Token)},set:function(e){this.properties.setProperty(s.PropertyId.SpeechServiceAuthorization_Token,e)}},{key:"properties",get:function(){return this.privProperties}}]),e}(s.Recognizer);t.TranslationRecognizer=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Translations=void 0;var r=n(19),i=function(){function e(){this.privMap=new r.PropertyCollection}var t=e.prototype;return t.get=function(e,t){return this.privMap.getProperty(e,t)},t.set=function(e,t){this.privMap.setProperty(e,t)},e}();t.Translations=i},function(e,t,n){"use strict";var r,i;Object.defineProperty(t,"__esModule",{value:!0}),t.NoMatchReason=void 0,t.NoMatchReason=r,(i=r||(t.NoMatchReason=r={}))[i.NotRecognized=0]="NotRecognized",i[i.InitialSilenceTimeout=1]="InitialSilenceTimeout",i[i.InitialBabbleTimeout=2]="InitialBabbleTimeout"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NoMatchDetails=void 0;var i=n(39),o=n(19);function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var r=function(){function r(e){this.privReason=e}return r.fromResult=function(e){var t=i.SimpleSpeechPhrase.fromJSON(e.json),n=o.NoMatchReason.NotRecognized;switch(t.RecognitionStatus){case i.RecognitionStatus.BabbleTimeout:n=o.NoMatchReason.InitialBabbleTimeout;break;case i.RecognitionStatus.InitialSilenceTimeout:n=o.NoMatchReason.InitialSilenceTimeout;break;default:n=o.NoMatchReason.NotRecognized}return new r(n)},function(e,t,n){t&&a(e.prototype,t),n&&a(e,n)}(r,[{key:"reason",get:function(){return this.privReason}}]),r}();t.NoMatchDetails=r},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0}),t.TranslationRecognitionCanceledEventArgs=void 0;var i=function(){function e(e,t,n,r,i){this.privCancelReason=t,this.privErrorDetails=n,this.privResult=i,this.privSessionId=e,this.privErrorCode=r}return function(e,t,n){t&&r(e.prototype,t),n&&r(e,n)}(e,[{key:"result",get:function(){return this.privResult}},{key:"sessionId",get:function(){return this.privSessionId}},{key:"reason",get:function(){return this.privCancelReason}},{key:"errorCode",get:function(){return this.privErrorCode}},{key:"errorDetails",get:function(){return this.privErrorDetails}}]),e}();t.TranslationRecognitionCanceledEventArgs=i},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0}),t.IntentRecognitionCanceledEventArgs=void 0;var i=function(s){function e(e,t,n,r,i,o){var a;return(a=s.call(this,r,i,o)||this).privReason=e,a.privErrorDetails=t,a.privErrorCode=n,a}return function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(e,s),function(e,t,n){t&&r(e.prototype,t),n&&r(e,n)}(e,[{key:"reason",get:function(){return this.privReason}},{key:"errorCode",get:function(){return this.privErrorCode}},{key:"errorDetails",get:function(){return this.privErrorDetails}}]),e}(n(19).IntentRecognitionEventArgs);t.IntentRecognitionCanceledEventArgs=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CancellationDetails=void 0;var o=n(39),a=n(19);function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=function(){function i(e,t,n){this.privReason=e,this.privErrorDetails=t,this.privErrorCode=n}return i.fromResult=function(e){var t=a.CancellationReason.Error,n=a.CancellationErrorCode.NoError;if(e instanceof a.RecognitionResult&&e.json){var r=o.SimpleSpeechPhrase.fromJSON(e.json);t=o.EnumTranslation.implTranslateCancelResult(r.RecognitionStatus)}return e.properties&&(n=a.CancellationErrorCode[e.properties.getProperty(o.CancellationErrorCodePropertyName,a.CancellationErrorCode[a.CancellationErrorCode.NoError])]),new i(t,e.errorDetails,n)},function(e,t,n){t&&r(e.prototype,t),n&&r(e,n)}(i,[{key:"reason",get:function(){return this.privReason}},{key:"errorDetails",get:function(){return this.privErrorDetails}},{key:"ErrorCode",get:function(){return this.privErrorCode}}]),i}();t.CancellationDetails=i},function(e,t,n){"use strict";var r,i;Object.defineProperty(t,"__esModule",{value:!0}),t.CancellationErrorCode=void 0,t.CancellationErrorCode=r,(i=r||(t.CancellationErrorCode=r={}))[i.NoError=0]="NoError",i[i.AuthenticationFailure=1]="AuthenticationFailure",i[i.BadRequestParameters=2]="BadRequestParameters",i[i.TooManyRequests=3]="TooManyRequests",i[i.ConnectionFailure=4]="ConnectionFailure",i[i.ServiceTimeout=5]="ServiceTimeout",i[i.ServiceError=6]="ServiceError",i[i.RuntimeError=7]="RuntimeError"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectionEventArgs=void 0;var r=function(e){function t(){return e.apply(this,arguments)||this}return function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(t,e),t}(n(19).SessionEventArgs);t.ConnectionEventArgs=r},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0}),t.ServiceEventArgs=void 0;var i=function(i){function e(e,t,n){var r;return(r=i.call(this,n)||this).privJsonResult=e,r.privEventName=t,r}return function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(e,i),function(e,t,n){t&&r(e.prototype,t),n&&r(e,n)}(e,[{key:"jsonString",get:function(){return this.privJsonResult}},{key:"eventName",get:function(){return this.privEventName}}]),e}(n(19).SessionEventArgs);t.ServiceEventArgs=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Connection=void 0;var i=n(1236),o=n(19),r=function(){function r(){}r.fromRecognizer=function(e){var t=e.internalData,n=new r;return n.privServiceRecognizer=t,n.privEventListener=n.privServiceRecognizer.connectionEvents.attach(function(e){"ConnectionEstablishedEvent"===e.name?n.connected&&n.connected(new o.ConnectionEventArgs(e.connectionId)):"ConnectionClosedEvent"===e.name?n.disconnected&&n.disconnected(new o.ConnectionEventArgs(e.connectionId)):"ConnectionMessageSentEvent"===e.name?n.messageSent&&n.messageSent(new o.ConnectionMessageEventArgs(new i.ConnectionMessageImpl(e.message))):"ConnectionMessageReceivedEvent"===e.name&&n.messageReceived&&n.messageReceived(new o.ConnectionMessageEventArgs(new i.ConnectionMessageImpl(e.message)))}),n.privServiceEventListener=n.privServiceRecognizer.serviceEvents.attach(function(e){n.receivedServiceMessage&&n.receivedServiceMessage(new o.ServiceEventArgs(e.jsonString,e.name))}),n};var e=r.prototype;return e.openConnection=function(){this.privServiceRecognizer.connect()},e.closeConnection=function(){this.privServiceRecognizer.disconnect()},e.close=function(){},r}();t.Connection=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PhraseListGrammar=void 0;var r=function(){function t(e){this.privGrammerBuilder=e.dynamicGrammar}t.fromRecognizer=function(e){return new t(e.internalData)};var e=t.prototype;return e.addPhrase=function(e){this.privGrammerBuilder.addPhrase(e)},e.addPhrases=function(e){this.privGrammerBuilder.addPhrase(e)},e.clear=function(){this.privGrammerBuilder.clearPhrases()},t}();t.PhraseListGrammar=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BotFrameworkConfig=void 0;var i=n(86),o=n(842),a=n(19);var r=function(e){function t(){return e.call(this)||this}return function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(t,e),t.fromSubscription=function(e,t,n){i.Contracts.throwIfNullOrWhitespace(e,"subscription"),i.Contracts.throwIfNullOrWhitespace(t,"region");var r=new o.DialogServiceConfigImpl;return r.setProperty(a.PropertyId.Conversation_DialogType,"bot_framework"),r.setProperty(a.PropertyId.SpeechServiceConnection_Key,e),r.setProperty(a.PropertyId.SpeechServiceConnection_Region,t),n&&r.setProperty(a.PropertyId.Conversation_ApplicationId,n),r},t.fromAuthorizationToken=function(e,t){i.Contracts.throwIfNullOrWhitespace(e,"authorizationToken"),i.Contracts.throwIfNullOrWhitespace(t,"region");var n=new o.DialogServiceConfigImpl;return n.setProperty(a.PropertyId.Conversation_DialogType,"bot_framework"),n.setProperty(a.PropertyId.SpeechServiceAuthorization_Token,e),n.setProperty(a.PropertyId.SpeechServiceConnection_Region,t),n},t}(o.DialogServiceConfigImpl);t.BotFrameworkConfig=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CustomCommandsConfig=void 0;var i=n(86),o=n(842),a=n(19);function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=function(e){function t(){return e.call(this)||this}return function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(t,e),t.fromSubscription=function(e,t,n){i.Contracts.throwIfNullOrWhitespace(e,"applicationId"),i.Contracts.throwIfNullOrWhitespace(t,"subscription"),i.Contracts.throwIfNullOrWhitespace(n,"region");var r=new o.DialogServiceConfigImpl;return r.setProperty(a.PropertyId.Conversation_DialogType,"custom_commands"),r.setProperty(a.PropertyId.Conversation_ApplicationId,e),r.setProperty(a.PropertyId.SpeechServiceConnection_Key,t),r.setProperty(a.PropertyId.SpeechServiceConnection_Region,n),r},t.fromAuthorizationToken=function(e,t,n){i.Contracts.throwIfNullOrWhitespace(e,"applicationId"),i.Contracts.throwIfNullOrWhitespace(t,"authorizationToken"),i.Contracts.throwIfNullOrWhitespace(n,"region");var r=new o.DialogServiceConfigImpl;return r.setProperty(a.PropertyId.Conversation_DialogType,"custom_commands"),r.setProperty(a.PropertyId.Conversation_ApplicationId,e),r.setProperty(a.PropertyId.SpeechServiceAuthorization_Token,t),r.setProperty(a.PropertyId.SpeechServiceConnection_Region,n),r},function(e,t,n){t&&r(e.prototype,t),n&&r(e,n)}(t,[{key:"applicationId",set:function(e){i.Contracts.throwIfNullOrWhitespace(e,"value"),this.setProperty(a.PropertyId.Conversation_ApplicationId,e)},get:function(){return this.getProperty(a.PropertyId.Conversation_ApplicationId)}}]),t}(o.DialogServiceConfigImpl);t.CustomCommandsConfig=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DialogServiceConnector=void 0;var a=n(1931),s=n(39),u=n(86),r=n(19),i=n(1234);function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=function(o){function e(e,t){var n,r=e;u.Contracts.throwIfNull(e,"dialogConfig"),(n=o.call(this,t,r.properties,new a.DialogConnectionFactory)||this).isTurnComplete=!0,n.privIsDisposed=!1,n.privProperties=r.properties.clone();var i=n.buildAgentConfig();return n.privReco.agentConfig.set(i),n}!function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(e,o);var t=e.prototype;return t.connect=function(){this.privReco.connect()},t.disconnect=function(){this.privReco.disconnect()},t.listenOnceAsync=function(t,n){var r=this;if(this.isTurnComplete)try{u.Contracts.throwIfDisposed(this.privIsDisposed),this.connect(),this.implRecognizerStop(),this.isTurnComplete=!1,this.privReco.recognize(s.RecognitionMode.Conversation,function(e){r.implRecognizerStop(),r.isTurnComplete=!0,t&&t(e)},function(e){r.implRecognizerStop(),r.isTurnComplete=!0,n&&n(e)}).on(function(e){},function(e){n&&n(e)})}catch(e){if(n)if(e instanceof Error){var i=e;n(i.name+": "+i.message)}else n(e);this.dispose(!0)}},t.sendActivityAsync=function(e){this.privReco.sendMessage(e)},t.close=function(){u.Contracts.throwIfDisposed(this.privIsDisposed),this.dispose(!0)},t.dispose=function(e){this.privIsDisposed||e&&(this.implRecognizerStop(),this.privIsDisposed=!0,o.prototype.dispose.call(this,e))},t.createRecognizerConfig=function(e){return new s.RecognizerConfig(e,this.privProperties)},t.createServiceRecognizer=function(e,t,n,r){var i=n;return new s.DialogServiceAdapter(e,t,i,r,this)},t.buildAgentConfig=function(){return{botInfo:{commType:this.properties.getProperty("Conversation_Communication_Type","Default"),commandsCulture:void 0,connectionId:this.properties.getProperty(i.PropertyId.Conversation_ApplicationId),conversationId:void 0,fromId:this.properties.getProperty(i.PropertyId.Conversation_From_Id,void 0)},version:.2}},function(e,t,n){t&&c(e.prototype,t),n&&c(e,n)}(e,[{key:"authorizationToken",get:function(){return this.properties.getProperty(i.PropertyId.SpeechServiceAuthorization_Token)},set:function(e){u.Contracts.throwIfNullOrWhitespace(e,"token"),this.properties.setProperty(i.PropertyId.SpeechServiceAuthorization_Token,e)}},{key:"properties",get:function(){return this.privProperties}},{key:"speechActivityTemplate",get:function(){return this.properties.getProperty(i.PropertyId.Conversation_Speech_Activity_Template)},set:function(e){this.properties.setProperty(i.PropertyId.Conversation_Speech_Activity_Template,e)}}]),e}(r.Recognizer);t.DialogServiceConnector=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DialogConnectionFactory=void 0;var g=n(225),m=n(19),r=n(595),y=n(39),b=n(596);var w="convai.speech",S={authHeader:"X-DLS-Secret",resourcePath:"",version:"v3"},_={authHeader:"X-CommandsAppId",resourcePath:"commands",version:"v1"};var i=function(e){function t(){var v;return(v=e.apply(this,arguments)||this).create=function(e,t,n){var r=e.parameters.getProperty(m.PropertyId.Conversation_ApplicationId,""),i=e.parameters.getProperty(m.PropertyId.Conversation_DialogType),o=e.parameters.getProperty(m.PropertyId.SpeechServiceConnection_Region),a=e.parameters.getProperty(m.PropertyId.SpeechServiceConnection_RecoLanguage,"en-US"),s={};s[b.QueryParameterNames.LanguageParamName]=a,s[b.QueryParameterNames.FormatParamName]=e.parameters.getProperty(m.PropertyId.SpeechServiceResponse_OutputFormatOption,m.OutputFormat[m.OutputFormat.Simple]).toLowerCase();var u=function(e){switch(e){case"custom_commands":return _;case"bot_framework":return S}throw new Error("Invalid dialog type '".concat(e,"'"))}(i),c=u.resourcePath,l=u.version,p=u.authHeader,f={};null!=t.token&&""!==t.token&&(f[t.headerName]=t.token),f[b.QueryParameterNames.ConnectionIdHeader]=n,""!==r&&(f[p]=r);var d=e.parameters.getProperty(m.PropertyId.SpeechServiceConnection_Endpoint,"");if(""===d){var h=o&&o.toLowerCase().startsWith("china")?".azure.cn":".microsoft.com";d=""===r?"wss://".concat(o,".").concat(w).concat(h,"/").concat("api","/").concat(l):"wss://".concat(o,".").concat(w).concat(h,"/").concat(c,"/").concat("api","/").concat(l)}return v.setCommonUrlParams(e,s,d),new g.WebsocketConnection(d,s,f,new y.WebsocketMessageFormatter,g.ProxyInfo.fromRecognizerConfig(e),n)},v}return function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(t,e),t}(r.ConnectionFactoryBase);t.DialogConnectionFactory=i},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0}),t.ActivityReceivedEventArgs=void 0;var i=function(){function e(e,t){this.privActivity=e,this.privAudioStream=t}return function(e,t,n){t&&r(e.prototype,t),n&&r(e,n)}(e,[{key:"activity",get:function(){return this.privActivity}},{key:"audioStream",get:function(){return this.privAudioStream}}]),e}();t.ActivityReceivedEventArgs=i},function(e,t,n){"use strict";var r,i;Object.defineProperty(t,"__esModule",{value:!0}),t.ServicePropertyChannel=void 0,t.ServicePropertyChannel=r,(i=r||(t.ServicePropertyChannel=r={}))[i.UriQueryParameter=0]="UriQueryParameter"},function(e,t,n){"use strict";var r,i;Object.defineProperty(t,"__esModule",{value:!0}),t.ProfanityOption=void 0,t.ProfanityOption=r,(i=r||(t.ProfanityOption=r={}))[i.Masked=0]="Masked",i[i.Removed=1]="Removed",i[i.Raw=2]="Raw"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BaseAudioPlayer=void 0;var r=n(203),i=function(){function e(e){this.audioContext=null,this.gainNode=null,this.autoUpdateBufferTimer=0,this.init(e)}var t=e.prototype;return t.playAudioSample=function(e){this.ensureInitializedContext();var t=this.formatAudioData(e),n=new Float32Array(this.samples.length+t.length);n.set(this.samples,0),n.set(t,this.samples.length),this.samples=n},t.stopAudio=function(){null!==this.audioContext&&(this.samples=new Float32Array,clearInterval(this.autoUpdateBufferTimer),this.audioContext.close(),this.audioContext=null)},t.init=function(e){this.audioFormat=e,this.samples=new Float32Array},t.ensureInitializedContext=function(){var e=this;if(null===this.audioContext){this.createAudioContext();this.autoUpdateBufferTimer=setInterval(function(){e.updateAudioBuffer()},200)}},t.createAudioContext=function(){this.audioContext=new AudioContext,this.gainNode=this.audioContext.createGain(),this.gainNode.gain.value=1,this.gainNode.connect(this.audioContext.destination),this.startTime=this.audioContext.currentTime},t.formatAudioData=function(e){switch(this.audioFormat.bitsPerSample){case 8:return this.formatArrayBuffer(new Int8Array(e),128);case 16:return this.formatArrayBuffer(new Int16Array(e),32768);case 32:return this.formatArrayBuffer(new Int32Array(e),2147483648);default:throw new r.InvalidOperationError("Only WAVE_FORMAT_PCM (8/16/32 bps) format supported at this time")}},t.formatArrayBuffer=function(e,t){for(var n=new Float32Array(e.length),r=0;r<e.length;r++)n[r]=e[r]/t;return n},t.updateAudioBuffer=function(){if(0!==this.samples.length){for(var e=this.audioFormat.channels,t=this.audioContext.createBufferSource(),n=this.samples.length/e,r=this.audioContext.createBuffer(e,n,this.audioFormat.samplesPerSec),i=0;i<e;i++)for(var o=i,a=r.getChannelData(i),s=0;s<this.samples.length;s++,o+=e)a[s]=this.samples[o];this.startTime<this.audioContext.currentTime&&(this.startTime=this.audioContext.currentTime),t.buffer=r,t.connect(this.gainNode),t.start(this.startTime),this.startTime+=r.duration,this.samples=new Float32Array}},e}();t.BaseAudioPlayer=i},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectionMessageEventArgs=void 0;var i=function(){function e(e){this.privConnectionMessage=e}return e.prototype.toString=function(){return"Message: "+this.privConnectionMessage.toString()},function(e,t,n){t&&r(e.prototype,t),n&&r(e,n)}(e,[{key:"message",get:function(){return this.privConnectionMessage}}]),e}();t.ConnectionMessageEventArgs=i},function(e,t,n){"use strict";function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0}),t.ConversationExpirationEventArgs=void 0;var r=function(r){function e(e,t){var n;return(n=r.call(this,t)||this).privExpirationTime=e,n}return function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(e,r),function(e,t,n){t&&i(e.prototype,t),n&&i(e,n)}(e,[{key:"expirationTime",get:function(){return this.privExpirationTime}}]),e}(n(19).SessionEventArgs);t.ConversationExpirationEventArgs=r},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0}),t.ConversationParticipantsChangedEventArgs=void 0;var i=function(i){function e(e,t,n){var r;return(r=i.call(this,n)||this).privReason=e,r.privParticipant=t,r}return function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(e,i),function(e,t,n){t&&r(e.prototype,t),n&&r(e,n)}(e,[{key:"reason",get:function(){return this.privReason}},{key:"participants",get:function(){return this.privParticipant}}]),e}(n(19).SessionEventArgs);t.ConversationParticipantsChangedEventArgs=i},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0}),t.ConversationTranslationCanceledEventArgs=void 0;var i=function(a){function e(e,t,n,r,i){var o;return(o=a.call(this,r,i)||this).privReason=e,o.privErrorDetails=t,o.privErrorCode=n,o}return function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(e,a),function(e,t,n){t&&r(e.prototype,t),n&&r(e,n)}(e,[{key:"reason",get:function(){return this.privReason}},{key:"errorCode",get:function(){return this.privErrorCode}},{key:"errorDetails",get:function(){return this.privErrorDetails}}]),e}(n(19).RecognitionEventArgs);t.ConversationTranslationCanceledEventArgs=i},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0}),t.ConversationTranslationEventArgs=void 0;var i=function(i){function e(e,t,n){var r;return(r=i.call(this,t,n)||this).privResult=e,r}return function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(e,i),function(e,t,n){t&&r(e.prototype,t),n&&r(e,n)}(e,[{key:"result",get:function(){return this.privResult}}]),e}(n(19).RecognitionEventArgs);t.ConversationTranslationEventArgs=i},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0}),t.ConversationTranslationResult=void 0;var i=function(f){function e(e,t,n,r,i,o,a,s,u,c,l){var p;return(p=f.call(this,t,r,i,o,a,s,u,c,l)||this).privId=e,p.privOrigLang=n,p}return function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(e,f),function(e,t,n){t&&r(e.prototype,t),n&&r(e,n)}(e,[{key:"participantId",get:function(){return this.privId}},{key:"originalLang",get:function(){return this.privOrigLang}}]),e}(n(1232).TranslationRecognitionResult);t.ConversationTranslationResult=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConversationTranslator=t.SpeechState=void 0;var i,r,c=n(39),l=n(86),p=n(19),f=n(1238),d=n(1237);function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}t.SpeechState=i,(r=i||(t.SpeechState=i={}))[r.Inactive=0]="Inactive",r[r.Connecting=1]="Connecting",r[r.Connected=2]="Connected";var a=function(){function e(e){var r=this;this.privIsDisposed=!1,this.privIsSpeaking=!1,this.privSpeechState=i.Inactive,this.onSpeechConnected=function(e){r.privSpeechState=i.Connected},this.onSpeechDisconnected=function(e){r.privSpeechState=i.Inactive,r.cancelSpeech()},this.onSpeechRecognized=function(e,t){var n;(null===(n=t.result)||void 0===n?void 0:n.errorDetails)&&(r.cancelSpeech(),r.fireCancelEvent(t.result.errorDetails))},this.onSpeechRecognizing=function(e,t){},this.onSpeechCanceled=function(e,t){if(r.privSpeechState!==i.Inactive)try{r.cancelSpeech()}catch(e){r.privSpeechState=i.Inactive}},this.onSpeechSessionStarted=function(e,t){r.privSpeechState=i.Connected},this.onSpeechSessionStopped=function(e,t){r.privSpeechState=i.Inactive},this.privProperties=new p.PropertyCollection,this.privAudioConfig=e}var t=e.prototype;return t.joinConversationAsync=function(e,t,n,r,i){var o=this;try{if("string"==typeof e){l.Contracts.throwIfNullOrUndefined(e,c.ConversationTranslatorConfig.strings.invalidArgs.replace("{arg}","conversation id")),l.Contracts.throwIfNullOrWhitespace(t,c.ConversationTranslatorConfig.strings.invalidArgs.replace("{arg}","nickname")),this.privConversation&&this.handleError(new Error(c.ConversationTranslatorConfig.strings.permissionDeniedStart),i);var a=n;null!=a&&""!==a||(a=c.ConversationTranslatorConfig.defaultLanguageCode),this.privSpeechTranslationConfig=p.SpeechTranslationConfig.fromSubscription(c.ConversationTranslatorConfig.auth.placeholderSubscriptionKey,c.ConversationTranslatorConfig.auth.placeholderRegion),this.privSpeechTranslationConfig.setProfanity(p.ProfanityOption.Masked),this.privSpeechTranslationConfig.addTargetLanguage(a),this.privSpeechTranslationConfig.setProperty(p.PropertyId[p.PropertyId.SpeechServiceConnection_RecoLanguage],a),this.privSpeechTranslationConfig.setProperty(p.PropertyId[p.PropertyId.ConversationTranslator_Name],t);var s=this.privProperties.getProperty(p.PropertyId.ConversationTranslator_Host);s&&this.privSpeechTranslationConfig.setProperty(p.PropertyId[p.PropertyId.ConversationTranslator_Host],s);var u=this.privProperties.getProperty(p.PropertyId.SpeechServiceConnection_Host);u&&this.privSpeechTranslationConfig.setProperty(p.PropertyId[p.PropertyId.SpeechServiceConnection_Host],u),this.privConversation=new f.ConversationImpl(this.privSpeechTranslationConfig),(this.privConversation.conversationTranslator=this).privConversation.joinConversationAsync(e,t,a,function(e){e||o.handleError(new Error(c.ConversationTranslatorConfig.strings.permissionDeniedConnect),i),o.privSpeechTranslationConfig.authorizationToken=e,o.privConversation.startConversationAsync(function(){o.handleCallback(r,i)},function(e){o.handleError(e,i)})},function(e){o.handleError(e,i)})}else"object"===h(e)?(l.Contracts.throwIfNullOrUndefined(e,c.ConversationTranslatorConfig.strings.invalidArgs.replace("{arg}","conversation id")),l.Contracts.throwIfNullOrWhitespace(t,c.ConversationTranslatorConfig.strings.invalidArgs.replace("{arg}","nickname")),this.privProperties.setProperty(p.PropertyId.ConversationTranslator_Name,t),this.privConversation=e,this.privConversation.conversationTranslator=this,l.Contracts.throwIfNullOrUndefined(this.privConversation,c.ConversationTranslatorConfig.strings.permissionDeniedConnect),l.Contracts.throwIfNullOrUndefined(this.privConversation.room.token,c.ConversationTranslatorConfig.strings.permissionDeniedConnect),this.privSpeechTranslationConfig=e.config,this.handleCallback(n,r)):this.handleError(new Error(c.ConversationTranslatorConfig.strings.invalidArgs.replace("{arg}","invalid conversation type")),r)}catch(e){this.handleError(e,"string"==typeof n?i:r)}},t.leaveConversationAsync=function(e,t){var n=this;try{this.cancelSpeech(),this.privConversation.endConversationAsync(function(){n.privConversation.deleteConversationAsync(function(){n.handleCallback(e,t),n.dispose()},function(e){n.handleError(e,t)})},function(e){n.handleError(e,t)})}catch(e){this.handleError(e,t)}},t.sendTextMessageAsync=function(e,t,n){var r;try{l.Contracts.throwIfNullOrUndefined(this.privConversation,c.ConversationTranslatorConfig.strings.permissionDeniedSend),l.Contracts.throwIfNullOrWhitespace(e,c.ConversationTranslatorConfig.strings.invalidArgs.replace("{arg}",e)),null===(r=this.privConversation)||void 0===r||r.sendTextMessageAsync(e,t,n)}catch(e){this.handleError(e,n)}},t.startTranscribingAsync=function(e,t){var n=this;try{l.Contracts.throwIfNullOrUndefined(this.privConversation,c.ConversationTranslatorConfig.strings.permissionDeniedSend),l.Contracts.throwIfNullOrUndefined(this.privConversation.room.token,c.ConversationTranslatorConfig.strings.permissionDeniedConnect),this.canSpeak||this.handleError(new Error(c.ConversationTranslatorConfig.strings.permissionDeniedSend),t),void 0===this.privTranslationRecognizer?this.connectTranslatorRecognizer(function(){n.startContinuousRecognition(function(){n.privIsSpeaking=!0,n.handleCallback(e,t)},function(e){n.privIsSpeaking=!1,n.cancelSpeech(),n.handleError(e,t)})},function(e){n.handleError(e,t)}):this.startContinuousRecognition(function(){n.privIsSpeaking=!0,n.handleCallback(e,t)},function(e){n.privIsSpeaking=!1,n.cancelSpeech(),n.handleError(e,t)})}catch(e){this.handleError(e,t),this.cancelSpeech()}},t.stopTranscribingAsync=function(e,t){var n,r=this;try{if(!this.privIsSpeaking)return this.cancelSpeech(),void this.handleCallback(e,t);this.privIsSpeaking=!1,null===(n=this.privTranslationRecognizer)||void 0===n||n.stopContinuousRecognitionAsync(function(){r.handleCallback(e,t)},function(e){r.handleError(e,t),r.cancelSpeech()})}catch(e){this.handleError(e,t),this.cancelSpeech()}},t.isDisposed=function(){return this.privIsDisposed},t.dispose=function(e){var t,n;this.isDisposed&&!this.privIsSpeaking||(this.cancelSpeech(),this.privIsDisposed=!0,null===(t=this.privSpeechTranslationConfig)||void 0===t||t.close(),this.privSpeechRecognitionLanguage=void 0,this.privProperties=void 0,this.privAudioConfig=void 0,this.privSpeechTranslationConfig=void 0,null===(n=this.privConversation)||void 0===n||n.dispose(),this.privConversation=void 0)},t.connectTranslatorRecognizer=function(e,t){try{void 0===this.privAudioConfig&&(this.privAudioConfig=p.AudioConfig.fromDefaultMicrophoneInput()),this.privSpeechTranslationConfig.getProperty(p.PropertyId[p.PropertyId.SpeechServiceConnection_Key])===c.ConversationTranslatorConfig.auth.placeholderSubscriptionKey&&this.privSpeechTranslationConfig.setProperty(p.PropertyId[p.PropertyId.SpeechServiceConnection_Key],"");var n=encodeURIComponent(this.privConversation.room.token),r=this.privSpeechTranslationConfig.getProperty(p.PropertyId[p.PropertyId.SpeechServiceConnection_Host],c.ConversationTranslatorConfig.speechHost);r=r.replace("{region}",this.privConversation.room.cognitiveSpeechRegion);var i="wss://".concat(r).concat(c.ConversationTranslatorConfig.speechPath,"?").concat(c.ConversationTranslatorConfig.params.token,"=").concat(n);this.privSpeechTranslationConfig.setProperty(p.PropertyId[p.PropertyId.SpeechServiceConnection_Endpoint],i),this.privTranslationRecognizer=new p.TranslationRecognizer(this.privSpeechTranslationConfig,this.privAudioConfig),this.privTranslationRecognizerConnection=p.Connection.fromRecognizer(this.privTranslationRecognizer),this.privTranslationRecognizerConnection.connected=this.onSpeechConnected,this.privTranslationRecognizerConnection.disconnected=this.onSpeechDisconnected,this.privTranslationRecognizer.recognized=this.onSpeechRecognized,this.privTranslationRecognizer.recognizing=this.onSpeechRecognizing,this.privTranslationRecognizer.canceled=this.onSpeechCanceled,this.privTranslationRecognizer.sessionStarted=this.onSpeechSessionStarted,this.privTranslationRecognizer.sessionStopped=this.onSpeechSessionStopped,this.handleCallback(e,t)}catch(e){this.handleError(e,t),this.cancelSpeech()}},t.startContinuousRecognition=function(e,t){this.privTranslationRecognizer.startContinuousRecognitionAsync(e,t)},t.fireCancelEvent=function(e){var t,n,r,i,o,a,s;try{if(this.canceled){var u=new d.ConversationTranslationCanceledEventArgs(null!=(n=null===(t=e)||void 0===t?void 0:t.reason)?n:p.CancellationReason.Error,null!=(i=null===(r=e)||void 0===r?void 0:r.errorDetails)?i:e,null!=(a=null===(o=e)||void 0===o?void 0:o.errorCode)?a:p.CancellationErrorCode.RuntimeError,void 0,null===(s=e)||void 0===s?void 0:s.sessionId);this.canceled(this,u)}}catch(e){}},t.cancelSpeech=function(){var e,t;try{this.privIsSpeaking=!1,null===(e=this.privTranslationRecognizer)||void 0===e||e.stopContinuousRecognitionAsync(),null===(t=this.privTranslationRecognizerConnection)||void 0===t||t.closeConnection(),this.privTranslationRecognizerConnection=void 0,this.privTranslationRecognizer=void 0,this.privSpeechState=i.Inactive}catch(e){}},t.handleCallback=function(e,t){if(e){try{e()}catch(e){t&&t(e)}e=void 0}},t.handleError=function(e,t){if(t)if(e instanceof Error){var n=e;t(n.name+": "+n.message)}else t(e)},function(e,t,n){t&&o(e.prototype,t),n&&o(e,n)}(e,[{key:"properties",get:function(){return this.privProperties}},{key:"speechRecognitionLanguage",get:function(){return this.privSpeechRecognitionLanguage}},{key:"participants",get:function(){var e;return null===(e=this.privConversation)||void 0===e?void 0:e.participants}},{key:"canSpeak",get:function(){return!!this.privConversation.isConnected&&(!this.privIsSpeaking&&this.privSpeechState!==i.Connected&&this.privSpeechState!==i.Connecting&&!this.privConversation.isMutedByHost)}}]),e}();t.ConversationTranslator=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Participant=t.User=void 0;var s=n(19);function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}var o=function(){function e(e){this.privUserId=e}return i(e,[{key:"userId",get:function(){return this.privUserId}}]),e}();t.User=o;var a=function(){function e(e,t,n,r,i,o,a){this.privId=e,this.privAvatar=t,this.privDisplayName=n,this.privIsHost=r,this.privIsMuted=i,this.privIsUsingTts=o,this.privPreferredLanguage=a,this.privPoperties=new s.PropertyCollection}return i(e,[{key:"avatar",get:function(){return this.privAvatar}},{key:"displayName",get:function(){return this.privDisplayName}},{key:"id",get:function(){return this.privId}},{key:"preferredLanguage",get:function(){return this.privPreferredLanguage}},{key:"isHost",get:function(){return this.privIsHost}},{key:"isMuted",get:function(){return this.privIsMuted}},{key:"isUsingTts",get:function(){return this.privIsUsingTts}},{key:"properties",get:function(){return this.privPoperties}}]),e}();t.Participant=a},function(e,t,n){"use strict";var r,i;Object.defineProperty(t,"__esModule",{value:!0}),t.ParticipantChangedReason=void 0,t.ParticipantChangedReason=r,(i=r||(t.ParticipantChangedReason=r={}))[i.JoinedConversation=0]="JoinedConversation",i[i.LeftConversation=1]="LeftConversation",i[i.Updated=2]="Updated"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SynthesisRequest=t.SpeechSynthesizer=void 0;var s=n(39),c=n(44),l=n(1229),u=n(709),p=n(594),f=n(86),d=n(19);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=function(){function e(e,t){var n=e;f.Contracts.throwIfNull(n,"speechConfig"),null!==t&&(this.audioConfig=void 0!==t?t:d.AudioConfig.fromDefaultSpeakerOutput()),this.privProperties=n.properties.clone(),this.privDisposed=!1,this.privSynthesizing=!1,this.privConnectionFactory=new s.SpeechSynthesisConnectionFactory,this.synthesisRequestQueue=new c.Queue,this.implCommonRSynthesizeSetup()}e.buildSsml=function(e,t){var n,r=(a(n={},"ar-EG","Microsoft Server Speech Text to Speech Voice (ar-EG, Hoda)"),a(n,"ar-SA","Microsoft Server Speech Text to Speech Voice (ar-SA, Naayf)"),a(n,"bg-BG","Microsoft Server Speech Text to Speech Voice (bg-BG, Ivan)"),a(n,"ca-ES","Microsoft Server Speech Text to Speech Voice (ca-ES, HerenaRUS)"),a(n,"cs-CZ","Microsoft Server Speech Text to Speech Voice (cs-CZ, Jakub)"),a(n,"da-DK","Microsoft Server Speech Text to Speech Voice (da-DK, HelleRUS)"),a(n,"de-AT","Microsoft Server Speech Text to Speech Voice (de-AT, Michael)"),a(n,"de-CH","Microsoft Server Speech Text to Speech Voice (de-CH, Karsten)"),a(n,"de-DE","Microsoft Server Speech Text to Speech Voice (de-DE, HeddaRUS)"),a(n,"el-GR","Microsoft Server Speech Text to Speech Voice (el-GR, Stefanos)"),a(n,"en-AU","Microsoft Server Speech Text to Speech Voice (en-AU, HayleyRUS)"),a(n,"en-CA","Microsoft Server Speech Text to Speech Voice (en-CA, HeatherRUS)"),a(n,"en-GB","Microsoft Server Speech Text to Speech Voice (en-GB, HazelRUS)"),a(n,"en-IE","Microsoft Server Speech Text to Speech Voice (en-IE, Sean)"),a(n,"en-IN","Microsoft Server Speech Text to Speech Voice (en-IN, PriyaRUS)"),a(n,"en-US","Microsoft Server Speech Text to Speech Voice (en-US, JessaRUS)"),a(n,"es-ES","Microsoft Server Speech Text to Speech Voice (es-ES, HelenaRUS)"),a(n,"es-MX","Microsoft Server Speech Text to Speech Voice (es-MX, HildaRUS)"),a(n,"fi-FI","Microsoft Server Speech Text to Speech Voice (fi-FI, HeidiRUS)"),a(n,"fr-CA","Microsoft Server Speech Text to Speech Voice (fr-CA, HarmonieRUS)"),a(n,"fr-CH","Microsoft Server Speech Text to Speech Voice (fr-CH, Guillaume)"),a(n,"fr-FR","Microsoft Server Speech Text to Speech Voice (fr-FR, HortenseRUS)"),a(n,"he-IL","Microsoft Server Speech Text to Speech Voice (he-IL, Asaf)"),a(n,"hi-IN","Microsoft Server Speech Text to Speech Voice (hi-IN, Kalpana)"),a(n,"hr-HR","Microsoft Server Speech Text to Speech Voice (hr-HR, Matej)"),a(n,"hu-HU","Microsoft Server Speech Text to Speech Voice (hu-HU, Szabolcs)"),a(n,"id-ID","Microsoft Server Speech Text to Speech Voice (id-ID, Andika)"),a(n,"it-IT","Microsoft Server Speech Text to Speech Voice (it-IT, LuciaRUS)"),a(n,"ja-JP","Microsoft Server Speech Text to Speech Voice (ja-JP, HarukaRUS)"),a(n,"ko-KR","Microsoft Server Speech Text to Speech Voice (ko-KR, HeamiRUS)"),a(n,"ms-MY","Microsoft Server Speech Text to Speech Voice (ms-MY, Rizwan)"),a(n,"nb-NO","Microsoft Server Speech Text to Speech Voice (nb-NO, HuldaRUS)"),a(n,"nl-NL","Microsoft Server Speech Text to Speech Voice (nl-NL, HannaRUS)"),a(n,"pl-PL","Microsoft Server Speech Text to Speech Voice (pl-PL, PaulinaRUS)"),a(n,"pt-BR","Microsoft Server Speech Text to Speech Voice (pt-BR, HeloisaRUS)"),a(n,"pt-PT","Microsoft Server Speech Text to Speech Voice (pt-PT, HeliaRUS)"),a(n,"ro-RO","Microsoft Server Speech Text to Speech Voice (ro-RO, Andrei)"),a(n,"ru-RU","Microsoft Server Speech Text to Speech Voice (ru-RU, EkaterinaRUS)"),a(n,"sk-SK","Microsoft Server Speech Text to Speech Voice (sk-SK, Filip)"),a(n,"sl-SI","Microsoft Server Speech Text to Speech Voice (sl-SI, Lado)"),a(n,"sv-SE","Microsoft Server Speech Text to Speech Voice (sv-SE, HedvigRUS)"),a(n,"ta-IN","Microsoft Server Speech Text to Speech Voice (ta-IN, Valluvar)"),a(n,"te-IN","Microsoft Server Speech Text to Speech Voice (te-IN, Chitra)"),a(n,"th-TH","Microsoft Server Speech Text to Speech Voice (th-TH, Pattara)"),a(n,"tr-TR","Microsoft Server Speech Text to Speech Voice (tr-TR, SedaRUS)"),a(n,"vi-VN","Microsoft Server Speech Text to Speech Voice (vi-VN, An)"),a(n,"zh-CN","Microsoft Server Speech Text to Speech Voice (zh-CN, HuihuiRUS)"),a(n,"zh-HK","Microsoft Server Speech Text to Speech Voice (zh-HK, TracyRUS)"),a(n,"zh-TW","Microsoft Server Speech Text to Speech Voice (zh-TW, HanHanRUS)"),n),i=t.getProperty(d.PropertyId.SpeechServiceConnection_SynthLanguage,"en-US"),o=t.getProperty(d.PropertyId.SpeechServiceConnection_SynthVoice,r[i]);return"<speak version='1.0' xmlns='http://www.w3.org/2001/10/synthesis' xmlns:mstts='http://www.w3.org/2001/mstts' xmlns:emo='http://www.w3.org/2009/10/emotionml' xml:lang='".concat(i,"'><voice name='").concat(o,"'>").concat(this.XMLEncode(e),"</voice></speak>")};var t=e.prototype;return t.speakTextAsync=function(e,t,n,r){this.speakImpl(e,!1,t,n,r)},t.speakSsmlAsync=function(e,t,n,r){this.speakImpl(e,!0,t,n,r)},t.close=function(){f.Contracts.throwIfDisposed(this.privDisposed),this.dispose(!0)},t.dispose=function(e){this.privDisposed||(e&&this.privAdapter&&this.privAdapter.dispose(),this.privDisposed=!0)},t.createSynthesizerConfig=function(e){return new s.SynthesizerConfig(e,this.privProperties)},t.createSynthesisAdapter=function(e,t,n,r){return new s.SynthesisAdapterBase(e,t,r,this,this.audioConfig)},t.implCommonRSynthesizeSetup=function(){var n=this,e="undefined"!=typeof window?"Browser":"Node",t="unknown",r="unknown";"undefined"!=typeof navigator&&(e=e+"/"+navigator.platform,t=navigator.userAgent,r=navigator.appVersion);var i=this.createSynthesizerConfig(new s.SpeechServiceConfig(new s.Context(new s.OS(e,t,r)))),o=this.privProperties.getProperty(d.PropertyId.SpeechServiceConnection_Key,void 0),a=o&&""!==o?new s.CognitiveSubscriptionKeyAuthentication(o):new s.CognitiveTokenAuthentication(function(e){var t=n.privProperties.getProperty(d.PropertyId.SpeechServiceAuthorization_Token,void 0);return c.PromiseHelper.fromResult(t)},function(e){var t=n.privProperties.getProperty(d.PropertyId.SpeechServiceAuthorization_Token,void 0);return c.PromiseHelper.fromResult(t)});this.privAdapter=this.createSynthesisAdapter(a,this.privConnectionFactory,this.audioConfig,i),this.privAdapter.audioOutputFormat=u.AudioOutputFormatImpl.fromSpeechSynthesisOutputFormat(d.SpeechSynthesisOutputFormat[this.properties.getProperty(d.PropertyId.SpeechServiceConnection_SynthOutputFormat,void 0)])},t.speakImpl=function(e,t,n,r,i){var o=this;try{f.Contracts.throwIfDisposed(this.privDisposed);var a,s=(0,c.createNoDashGuid)();a=i instanceof d.PushAudioOutputStreamCallback?new p.PushAudioOutputStreamImpl(i):i instanceof d.PullAudioOutputStream?i:void 0!==i?new l.AudioFileWriter(i):void 0,this.synthesisRequestQueue.enqueue(new h(s,e,t,function(e){if(o.privSynthesizing=!1,n)try{n(e)}catch(e){r&&r(e)}n=void 0,o.adapterSpeak()},function(e){r&&r(e)},a)),this.adapterSpeak()}catch(e){if(r)if(e instanceof Error){var u=e;r(u.name+": "+u.message)}else r(e);this.dispose(!0)}},t.adapterSpeak=function(){var t=this;return this.privDisposed||this.privSynthesizing?c.PromiseHelper.fromResult(!0):(this.privSynthesizing=!0,this.synthesisRequestQueue.dequeue().onSuccessContinueWithPromise(function(e){return t.privAdapter.Speak(e.text,e.isSSML,e.requestId,e.cb,e.err,e.dataStream)}))},e.XMLEncode=function(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")},function(e,t,n){t&&r(e.prototype,t),n&&r(e,n)}(e,[{key:"authorizationToken",get:function(){return this.properties.getProperty(d.PropertyId.SpeechServiceAuthorization_Token)},set:function(e){f.Contracts.throwIfNullOrWhitespace(e,"token"),this.properties.setProperty(d.PropertyId.SpeechServiceAuthorization_Token,e)}},{key:"properties",get:function(){return this.privProperties}},{key:"internalData",get:function(){return this.privAdapter}}]),e}();t.SpeechSynthesizer=i;var h=function(e,t,n,r,i,o){this.requestId=e,this.text=t,this.isSSML=n,this.cb=r,this.err=i,this.dataStream=o};t.SynthesisRequest=h},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0}),t.SpeechSynthesisResult=void 0;var i=function(){function e(e,t,n,r,i){this.privResultId=e,this.privReason=t,this.privAudioData=n,this.privErrorDetails=r,this.privProperties=i}return function(e,t,n){t&&r(e.prototype,t),n&&r(e,n)}(e,[{key:"resultId",get:function(){return this.privResultId}},{key:"reason",get:function(){return this.privReason}},{key:"audioData",get:function(){return this.privAudioData}},{key:"errorDetails",get:function(){return this.privErrorDetails}},{key:"properties",get:function(){return this.privProperties}}]),e}();t.SpeechSynthesisResult=i},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0}),t.SpeechSynthesisEventArgs=void 0;var i=function(){function e(e){this.privResult=e}return function(e,t,n){t&&r(e.prototype,t),n&&r(e,n)}(e,[{key:"result",get:function(){return this.privResult}}]),e}();t.SpeechSynthesisEventArgs=i},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0}),t.SpeechSynthesisWordBoundaryEventArgs=void 0;var i=function(){function e(e,t,n,r){this.privAduioOffset=e,this.privText=t,this.privWordLength=n,this.privTextOffset=r}return function(e,t,n){t&&r(e.prototype,t),n&&r(e,n)}(e,[{key:"audioOffset",get:function(){return this.privAduioOffset}},{key:"text",get:function(){return this.privText}},{key:"wordLength",get:function(){return this.privWordLength}},{key:"textOffset",get:function(){return this.privTextOffset}}]),e}();t.SpeechSynthesisWordBoundaryEventArgs=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SpeakerAudioDestination=void 0;var r,i=n(44),o=n(709);function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u=(s(r={},o.AudioFormatTag.PCM,"audio/wav"),s(r,o.AudioFormatTag.MP3,"audio/mpeg"),r),c=function(){function e(e){this.privPlaybackStarted=!1,this.privAppendingToBuffer=!1,this.privMediaSourceOpened=!1,this.privId=e||(0,i.createNoDashGuid)(),this.privIsPaused=!1,this.privIsClosed=!1}var t=e.prototype;return t.id=function(){return this.privId},t.write=function(e){void 0!==this.privAudioBuffer&&(this.privAudioBuffer.push(e),this.updateSourceBuffer())},t.close=function(){this.privIsClosed=!0,void 0!==this.privSourceBuffer&&this.handleSourceBufferUpdateEnd()},t.pause=function(){this.privIsPaused||void 0===this.privAudio||(this.privAudio.pause(),this.privIsPaused=!0)},t.resume=function(){this.privIsPaused&&void 0!==this.privAudio&&(this.privAudio.play(),this.privIsPaused=!1)},t.updateSourceBuffer=function(){if(void 0!==this.privAudioBuffer&&0<this.privAudioBuffer.length&&this.sourceBufferAvailable()){this.privAppendingToBuffer=!0;var t=this.privAudioBuffer.shift();try{this.privSourceBuffer.appendBuffer(t)}catch(e){return this.privAudioBuffer.unshift(t),void console.log("buffer filled, pausing addition of binaries until space is made")}this.notifyPlayback()}else this.canEndStream()&&this.handleSourceBufferUpdateEnd()},t.handleSourceBufferUpdateEnd=function(){this.canEndStream()&&this.sourceBufferAvailable()&&(this.privMediaSource.endOfStream(),this.notifyPlayback())},t.notifyPlayback=function(){var e=this;this.privPlaybackStarted||void 0===this.privAudio||(this.privAudio.onended=function(){e.onAudioEnd&&e.onAudioEnd(e)},this.privIsPaused||this.privAudio.play(),this.privPlaybackStarted=!0)},t.canEndStream=function(){return this.isClosed&&void 0!==this.privSourceBuffer&&0===this.privAudioBuffer.length&&this.privMediaSourceOpened&&!this.privAppendingToBuffer&&"open"===this.privMediaSource.readyState},t.sourceBufferAvailable=function(){return void 0!==this.privSourceBuffer&&!this.privSourceBuffer.updating},function(e,t,n){t&&a(e.prototype,t),n&&a(e,n)}(e,[{key:"format",set:function(e){var t=this;if("undefined"!=typeof AudioContext){this.privFormat=e;var n=u[this.privFormat.formatTag];void 0!==n&&"undefined"!=typeof MediaSource&&MediaSource.isTypeSupported(n)?(this.privAudio=new Audio,this.privAudioBuffer=[],this.privMediaSource=new MediaSource,this.privAudio.src=URL.createObjectURL(this.privMediaSource),this.privAudio.load(),this.privMediaSource.onsourceopen=function(e){t.privMediaSourceOpened=!0,t.privMediaSource.duration=1800,t.privSourceBuffer=t.privMediaSource.addSourceBuffer("audio/mpeg"),t.privSourceBuffer.onupdate=function(e){t.updateSourceBuffer()},t.privSourceBuffer.onupdateend=function(e){t.handleSourceBufferUpdateEnd()},t.privSourceBuffer.onupdatestart=function(e){t.privAppendingToBuffer=!1}},this.updateSourceBuffer()):console.warn("Format ".concat(o.AudioFormatTag[this.privFormat.formatTag]," is not supported for playback."))}}},{key:"isClosed",get:function(){return this.privIsClosed}},{key:"currentTime",get:function(){return void 0!==this.privAudio?this.privAudio.currentTime:-1}},{key:"internalAudio",get:function(){return this.privAudio}}]),e}();t.SpeakerAudioDestination=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ServiceRecognizerBase=void 0;var i=n(225),l=n(44),u=n(19),p=n(39),f=n(844);function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=function(){function o(e,t,n,r,i){var c=this;if(this.recognizeOverride=void 0,this.disconnectOverride=void 0,this.sendTelemetryData=function(){var t=c.privRequestSession.getTelemetry();if(!0!==o.telemetryDataEnabled||c.privIsDisposed||null===t)return l.PromiseHelper.fromResult(!0);if(o.telemetryData)try{o.telemetryData(t)}catch(e){}return c.fetchConnection().onSuccessContinueWith(function(e){return e.send(new f.SpeechConnectionMessage(l.MessageType.Text,"telemetry",c.privRequestSession.requestId,"application/json",t))})},this.receiveMessageOverride=void 0,this.receiveMessage=function(){return c.fetchConnection().on(function(e){return e.read().onSuccessContinueWithPromise(function(e){if(void 0!==c.receiveMessageOverride)return c.receiveMessageOverride();if(c.privIsDisposed)return l.PromiseHelper.fromResult(void 0);if(!e)return c.privRequestSession.isRecognizing?c.receiveMessage():l.PromiseHelper.fromResult(!0);c.privServiceHasSentMessage=!0;var t=f.SpeechConnectionMessage.fromConnectionMessage(e);if(t.requestId.toLowerCase()===c.privRequestSession.requestId.toLowerCase())switch(t.path.toLowerCase()){case"turn.start":c.privMustReportEndOfStream=!0,c.privRequestSession.onServiceTurnStartResponse();break;case"speech.startdetected":var n=p.SpeechDetected.fromJSON(t.textBody),r=new u.RecognitionEventArgs(n.Offset,c.privRequestSession.sessionId);c.privRecognizer.speechStartDetected&&c.privRecognizer.speechStartDetected(c.privRecognizer,r);break;case"speech.enddetected":var i;i=0<t.textBody.length?t.textBody:"{ Offset: 0 }";var o=p.SpeechDetected.fromJSON(i);c.privRecognizerConfig.isContinuousRecognition&&c.privRequestSession.onServiceRecognized(o.Offset+c.privRequestSession.currentTurnAudioOffset);var a=new u.RecognitionEventArgs(o.Offset+c.privRequestSession.currentTurnAudioOffset,c.privRequestSession.sessionId);c.privRecognizer.speechEndDetected&&c.privRecognizer.speechEndDetected(c.privRecognizer,a);break;case"turn.end":c.sendTelemetryData(),c.privRequestSession.isSpeechEnded&&c.privMustReportEndOfStream&&(c.privMustReportEndOfStream=!1,c.cancelRecognitionLocal(u.CancellationReason.EndOfStream,u.CancellationErrorCode.NoError,void 0));var s=new u.SessionEventArgs(c.privRequestSession.sessionId);if(c.privRequestSession.onServiceTurnEndResponse(c.privRecognizerConfig.isContinuousRecognition),!c.privRecognizerConfig.isContinuousRecognition||c.privRequestSession.isSpeechEnded||!c.privRequestSession.isRecognizing)return c.privRecognizer.sessionStopped&&c.privRecognizer.sessionStopped(c.privRecognizer,s),l.PromiseHelper.fromResult(!0);c.fetchConnection().onSuccessContinueWith(function(e){c.sendSpeechContext(e),c.sendWaveHeader(e)});break;default:c.processTypeSpecificMessages(t)||c.privServiceEvents&&c.serviceEvents.onEvent(new l.ServiceEvent(t.path.toLowerCase(),t.textBody))}return c.receiveMessage()})},function(e){})},this.sendSpeechContext=function(e){var t=c.speechContext.toJSON();return t?e.send(new f.SpeechConnectionMessage(l.MessageType.Text,"speech.context",c.privRequestSession.requestId,"application/json",t)):l.PromiseHelper.fromResult(!0)},this.connectImplOverride=void 0,this.configConnectionOverride=void 0,this.fetchConnectionOverride=void 0,this.sendSpeechServiceConfig=function(e,t,n){if(!0!==o.telemetryDataEnabled){var r={context:{system:JSON.parse(n).context.system}};n=JSON.stringify(r)}return n?e.send(new f.SpeechConnectionMessage(l.MessageType.Text,"speech.config",t.requestId,"application/json",n)):l.PromiseHelper.fromResult(!0)},this.sendAudio=function(r){return c.audioSource.format.onSuccessContinueWithPromise(function(a){var s=new l.Deferred,u=Date.now(),e=c.privRecognizerConfig.parameters.getProperty("SPEECH-TransmitLengthBeforThrottleMs","5000"),t=a.avgBytesPerSec/1e3*parseInt(e,10),n=c.privRequestSession.recogNumber;return function o(){c.privIsDisposed||c.privRequestSession.isSpeechEnded||!c.privRequestSession.isRecognizing||c.privRequestSession.recogNumber!==n||c.fetchConnection().on(function(i){r.read().on(function(n){var r,e;c.privRequestSession.isSpeechEnded?s.resolve(!0):(e=!n||n.isEnd?(r=null,0):(r=n.buffer,c.privRequestSession.onAudioSent(r.byteLength),t>=c.privRequestSession.bytesSent?0:Math.max(0,u-Date.now())),setTimeout(function(){var e;null!==r&&(u=Date.now()+1e3*r.byteLength/(2*a.avgBytesPerSec));var t=i.send(new f.SpeechConnectionMessage(l.MessageType.Binary,"audio",c.privRequestSession.requestId,null,r));(null===(e=n)||void 0===e?void 0:e.isEnd)?(c.privRequestSession.onSpeechEnded(),s.resolve(!0)):t.continueWith(function(e){o()})},e))},function(e){c.privRequestSession.isSpeechEnded?s.resolve(!0):s.reject(e)})},function(e){s.reject(e)})}(),s.promise()})},this.fetchConnection=function(){return void 0!==c.fetchConnectionOverride?c.fetchConnectionOverride():c.configureConnection()},!e)throw new l.ArgumentNullError("authentication");if(!t)throw new l.ArgumentNullError("connectionFactory");if(!n)throw new l.ArgumentNullError("audioSource");if(!r)throw new l.ArgumentNullError("recognizerConfig");this.privMustReportEndOfStream=!1,this.privAuthentication=e,this.privConnectionFactory=t,this.privAudioSource=n,this.privRecognizerConfig=r,this.privIsDisposed=!1,this.privRecognizer=i,this.privRequestSession=new p.RequestSession(this.privAudioSource.id()),this.privConnectionEvents=new l.EventSource,this.privServiceEvents=new l.EventSource,this.privDynamicGrammar=new p.DynamicGrammarBuilder,this.privSpeechContext=new p.SpeechContext(this.privDynamicGrammar),this.privAgentConfig=new p.AgentConfig}var e=o.prototype;return e.isDisposed=function(){return this.privIsDisposed},e.dispose=function(t){this.privIsDisposed=!0,this.privConnectionConfigurationPromise&&this.privConnectionConfigurationPromise.onSuccessContinueWith(function(e){e.dispose(t)})},e.recognize=function(e,t,n){var r=this;return void 0!==this.recognizeOverride?this.recognizeOverride(e,t,n):(this.privConnectionConfigurationPromise=null,this.privRecognizerConfig.recognitionMode=e,this.privSuccessCallback=t,this.privErrorCallback=n,this.privRequestSession.startNewRecognition(),this.privRequestSession.listenForServiceTelemetry(this.privAudioSource.events),this.connectImpl(),this.audioSource.attach(this.privRequestSession.audioNodeId).onSuccessContinueWithPromise(function(t){var n;return r.audioSource.format.onSuccessContinueWithPromise(function(e){return n=new i.ReplayableAudioNode(t,e.avgBytesPerSec),r.privRequestSession.onAudioSourceAttachCompleted(n,!1),r.audioSource.deviceInfo.onSuccessContinueWithPromise(function(e){return r.privRecognizerConfig.SpeechServiceConfig.Context.audio={source:e},r.configureConnection().continueWithPromise(function(e){if(e.isError)return r.cancelRecognitionLocal(u.CancellationReason.Error,u.CancellationErrorCode.ConnectionFailure,e.error),l.PromiseHelper.fromError(e.error);var t=new u.SessionEventArgs(r.privRequestSession.sessionId);r.privRecognizer.sessionStarted&&r.privRecognizer.sessionStarted(r.privRecognizer,t);r.receiveMessage();return r.sendAudio(n).on(function(e){},function(e){r.cancelRecognitionLocal(u.CancellationReason.Error,u.CancellationErrorCode.RuntimeError,e)}),l.PromiseHelper.fromResult(!0)})})})}))},e.stopRecognizing=function(){var t=this;return this.privRequestSession.isRecognizing?(this.audioSource.turnOff(),this.sendFinalAudio().onSuccessContinueWithPromise(function(e){return t.privRequestSession.onStopRecognizing(),t.privRequestSession.turnCompletionPromise.onSuccessContinueWith(function(e){return t.privRequestSession.onStopRecognizing(),t.privRequestSession.dispose(),!0})})):l.PromiseHelper.fromResult(!0)},e.connect=function(){this.connectImpl().result()},e.connectAsync=function(t,n){this.connectImpl().continueWith(function(e){try{e.isError?n&&n(e.error):e.isCompleted&&t&&t()}catch(e){n&&n(e)}})},e.disconnect=function(){void 0===this.disconnectOverride?(this.cancelRecognitionLocal(u.CancellationReason.Error,u.CancellationErrorCode.NoError,"Disconnecting"),this.privConnectionPromise.result().isCompleted?this.privConnectionPromise.result().isError||(this.privConnectionPromise.result().result.dispose(),this.privConnectionPromise=null):this.privConnectionPromise.onSuccessContinueWith(function(e){e.dispose()})):this.disconnectOverride()},e.disconnectAsync=function(t,n){try{if(void 0!==this.disconnectOverride)return this.disconnectOverride(),void(t&&t());this.cancelRecognitionLocal(u.CancellationReason.Error,u.CancellationErrorCode.NoError,"Disconnecting"),this.privConnectionPromise.continueWith(function(e){try{e.isError?n&&n(e.error):e.isCompleted&&(e.result.dispose(),t&&t())}catch(e){n&&n(e)}})}catch(e){n&&n(e)}},e.sendMessage=function(e){},e.cancelRecognitionLocal=function(e,t,n){this.privRequestSession.isRecognizing&&(this.privRequestSession.onStopRecognizing(),this.cancelRecognition(this.privRequestSession.sessionId,this.privRequestSession.requestId,e,t,n))},e.sendWaveHeader=function(t){var n=this;return this.audioSource.format.onSuccessContinueWithPromise(function(e){return t.send(new f.SpeechConnectionMessage(l.MessageType.Binary,"audio",n.privRequestSession.requestId,"audio/x-wav",e.header))})},e.connectImpl=function(){var n=this,r=0<arguments.length&&void 0!==arguments[0]&&arguments[0];if(void 0!==this.connectImplOverride)return this.connectImplOverride(r);if(this.privConnectionPromise)return this.privConnectionPromise.result().isCompleted&&(this.privConnectionPromise.result().isError||this.privConnectionPromise.result().result.state()===l.ConnectionState.Disconnected)&&!0===this.privServiceHasSentMessage?(this.privConnectionId=null,this.privConnectionPromise=null,this.privServiceHasSentMessage=!1,this.connectImpl()):this.privConnectionPromise;this.privAuthFetchEventId=(0,l.createNoDashGuid)(),this.privConnectionId=(0,l.createNoDashGuid)(),this.privRequestSession.onPreConnectionStart(this.privAuthFetchEventId,this.privConnectionId);var e=r?this.privAuthentication.fetchOnExpiry(this.privAuthFetchEventId):this.privAuthentication.fetch(this.privAuthFetchEventId);return this.privConnectionPromise=e.continueWithPromise(function(e){if(e.isError)throw n.privRequestSession.onAuthCompleted(!0,e.error),new Error(e.error);n.privRequestSession.onAuthCompleted(!1);var t=n.privConnectionFactory.create(n.privRecognizerConfig,e.result,n.privConnectionId);return n.privRequestSession.listenForServiceTelemetry(t.events),t.events.attach(function(e){n.connectionEvents.onEvent(e)}),t.open().onSuccessContinueWithPromise(function(e){return 200===e.statusCode?(n.privRequestSession.onPreConnectionStart(n.privAuthFetchEventId,n.privConnectionId),n.privRequestSession.onConnectionEstablishCompleted(e.statusCode),l.PromiseHelper.fromResult(t)):403!==e.statusCode||r?(n.privRequestSession.onConnectionEstablishCompleted(e.statusCode,e.reason),l.PromiseHelper.fromError("Unable to contact server. StatusCode: ".concat(e.statusCode,", ").concat(n.privRecognizerConfig.parameters.getProperty(u.PropertyId.SpeechServiceConnection_Endpoint)," Reason: ").concat(e.reason))):n.connectImpl(!0)})}),this.privConnectionPromise},e.writeBufferToConsole=function(e){var t="Buffer Size: ";if(null===e)t+="null";else{var n=new Uint8Array(e);t+=e.byteLength+"\r\n";for(var r=0;r<e.byteLength;r++)t+=n[r].toString(16).padStart(2,"0")+" "}console.info(t)},e.sendFinalAudio=function(){var t=this,n=new l.Deferred;return this.fetchConnection().on(function(e){e.send(new f.SpeechConnectionMessage(l.MessageType.Binary,"audio",t.privRequestSession.requestId,null,null)).on(function(e){n.resolve(!0)},function(e){n.reject(e)})},function(e){n.reject(e)}),n.promise()},e.configureConnection=function(){var n=this;return void 0!==this.configConnectionOverride?this.configConnectionOverride():this.privConnectionConfigurationPromise?this.privConnectionConfigurationPromise.result().isCompleted&&(this.privConnectionConfigurationPromise.result().isError||this.privConnectionConfigurationPromise.result().result.state()===l.ConnectionState.Disconnected)?(this.privConnectionConfigurationPromise=null,this.configureConnection()):this.privConnectionConfigurationPromise:(this.privConnectionConfigurationPromise=this.connectImpl().onSuccessContinueWithPromise(function(t){return n.sendSpeechServiceConfig(t,n.privRequestSession,n.privRecognizerConfig.SpeechServiceConfig.serialize()).onSuccessContinueWithPromise(function(e){return n.sendSpeechContext(t).onSuccessContinueWithPromise(function(e){return n.sendWaveHeader(t).onSuccessContinueWith(function(e){return t})})})}),this.privConnectionConfigurationPromise)},function(e,t,n){t&&r(e.prototype,t),n&&r(e,n)}(o,[{key:"audioSource",get:function(){return this.privAudioSource}},{key:"speechContext",get:function(){return this.privSpeechContext}},{key:"dynamicGrammar",get:function(){return this.privDynamicGrammar}},{key:"agentConfig",get:function(){return this.privAgentConfig}},{key:"conversationTranslatorToken",set:function(e){this.privRecognizerConfig.parameters.setProperty(u.PropertyId.ConversationTranslator_Token,e)}},{key:"connectionEvents",get:function(){return this.privConnectionEvents}},{key:"serviceEvents",get:function(){return this.privServiceEvents}},{key:"recognitionMode",get:function(){return this.privRecognizerConfig.recognitionMode}},{key:"activityTemplate",set:function(e){this.privActivityTemplate=e},get:function(){return this.privActivityTemplate}}]),o}();(t.ServiceRecognizerBase=o).telemetryDataEnabled=!0},function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}var a,s,u,c;Object.defineProperty(t,"__esModule",{value:!0}),t.type=t.connectivity=t.Device=t.OS=t.System=t.Context=t.SpeechServiceConfig=t.RecognizerConfig=t.SpeechResultFormat=t.RecognitionMode=void 0,t.RecognitionMode=a,(s=a||(t.RecognitionMode=a={}))[s.Interactive=0]="Interactive",s[s.Conversation=1]="Conversation",s[s.Dictation=2]="Dictation",t.SpeechResultFormat=u,(c=u||(t.SpeechResultFormat=u={}))[c.Simple=0]="Simple",c[c.Detailed=1]="Detailed";var l=function(){function e(e,t){this.privRecognitionMode=a.Interactive,this.privSpeechServiceConfig=e||new p(new f(null)),this.privParameters=t}return o(e,[{key:"parameters",get:function(){return this.privParameters}},{key:"recognitionMode",get:function(){return this.privRecognitionMode},set:function(e){this.privRecognitionMode=e,this.privRecognitionActivityTimeout=e===a.Interactive?8e3:25e3,this.privSpeechServiceConfig.Recognition=a[e]}},{key:"SpeechServiceConfig",get:function(){return this.privSpeechServiceConfig}},{key:"recognitionActivityTimeout",get:function(){return this.privRecognitionActivityTimeout}},{key:"isContinuousRecognition",get:function(){return this.privRecognitionMode!==a.Interactive}}]),e}();t.RecognizerConfig=l;var p=function(){function e(e){var t=this;this.serialize=function(){return JSON.stringify(t,function(e,t){if(t&&"object"===i(t)){var n={};for(var r in t)Object.hasOwnProperty.call(t,r)&&(n[r&&r.charAt(0).toLowerCase()+r.substring(1)]=t[r]);return n}return t})},this.context=e}return o(e,[{key:"Context",get:function(){return this.context}},{key:"Recognition",get:function(){return this.recognition},set:function(e){this.recognition=e.toLowerCase()}}]),e}();t.SpeechServiceConfig=p;var f=function(e){this.system=new d,this.os=e};t.Context=f;var d=function(){this.name="SpeechSDK",this.version="1.12.0",this.build="JavaScript",this.lang="JavaScript"};t.System=d;t.OS=function(e,t,n){this.platform=e,this.name=t,this.version=n};var h,v,g,m;t.Device=function(e,t,n){this.manufacturer=e,this.model=t,this.version=n},t.connectivity=h,(v=h||(t.connectivity=h={})).Bluetooth="Bluetooth",v.Wired="Wired",v.WiFi="WiFi",v.Cellular="Cellular",v.InBuilt="InBuilt",v.Unknown="Unknown",t.type=g,(m=g||(t.type=g={})).Phone="Phone",m.Speaker="Speaker",m.Car="Car",m.Headset="Headset",m.Thermostat="Thermostat",m.Microphones="Microphones",m.Deskphone="Deskphone",m.RemoteControl="RemoteControl",m.Unknown="Unknown",m.File="File",m.Stream="Stream"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WebsocketMessageFormatter=void 0;var h=n(44);t.WebsocketMessageFormatter=function(){var d=this;this.toConnectionMessage=function(e){var t=new h.Deferred;try{if(e.messageType===h.MessageType.Text){var n=e.textContent,r={},i=null;if(n){var o=n.split("\r\n\r\n");o&&0<o.length&&(r=d.parseHeaders(o[0]),1<o.length&&(i=o[1]))}t.resolve(new h.ConnectionMessage(e.messageType,i,r,e.id))}else if(e.messageType===h.MessageType.Binary){var a,s=e.binaryContent,u=null;if(!s||s.byteLength<2)throw new Error("Invalid binary message format. Header length missing.");var c=new DataView(s),l=c.getInt16(0);if(s.byteLength<l+2)throw new Error("Invalid binary message format. Header content missing.");for(var p="",f=0;f<l;f++)p+=String.fromCharCode(c.getInt8(f+2));a=d.parseHeaders(p),s.byteLength>l+2&&(u=s.slice(2+l)),t.resolve(new h.ConnectionMessage(e.messageType,u,a,e.id))}}catch(e){t.reject("Error formatting the message. Error: ".concat(e))}return t.promise()},this.fromConnectionMessage=function(e){var t=new h.Deferred;try{if(e.messageType===h.MessageType.Text){var n="".concat(d.makeHeaders(e)).concat("\r\n").concat(e.textBody?e.textBody:"");t.resolve(new h.RawWebsocketMessage(h.MessageType.Text,n,e.id))}else if(e.messageType===h.MessageType.Binary){var r=d.makeHeaders(e),i=e.binaryBody,o=new Int8Array(d.stringToArrayBuffer(r)),a=new ArrayBuffer(2+o.byteLength+(i?i.byteLength:0)),s=new DataView(a);s.setInt16(0,o.length);for(var u=0;u<o.byteLength;u++)s.setInt8(2+u,o[u]);if(i)for(var c=new Int8Array(i),l=0;l<c.byteLength;l++)s.setInt8(2+o.byteLength+l,c[l]);t.resolve(new h.RawWebsocketMessage(h.MessageType.Binary,a,e.id))}}catch(e){t.reject("Error formatting the message. ".concat(e))}return t.promise()},this.makeHeaders=function(e){var t="";if(e.headers)for(var n in e.headers)n&&(t+="".concat(n,": ").concat(e.headers[n]).concat("\r\n"));return t},this.parseHeaders=function(e){var t={};if(e){var n=e.match(/[^\r\n]+/g);if(t){var r=!0,i=!1,o=void 0;try{for(var a,s=n[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var u=a.value;if(u){var c=u.indexOf(":"),l=0<c?u.substr(0,c).trim().toLowerCase():u,p=0<c&&u.length>c+1?u.substr(c+1).trim():"";t[l]=p}}}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}}}return t},this.stringToArrayBuffer=function(e){for(var t=new ArrayBuffer(e.length),n=new DataView(t),r=0;r<e.length;r++)n.setUint8(r,e.charCodeAt(r));return t}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TranslationConnectionFactory=void 0;var c=n(225),l=n(19),r=n(595),p=n(39),f=n(596);var i=function(e){function t(){var u;return(u=e.apply(this,arguments)||this).create=function(e,t,n){var r=e.parameters.getProperty(l.PropertyId.SpeechServiceConnection_Endpoint,void 0);if(!r){var i=e.parameters.getProperty(l.PropertyId.SpeechServiceConnection_Region,void 0),o=i&&i.toLowerCase().startsWith("china")?".azure.cn":".microsoft.com";r=e.parameters.getProperty(l.PropertyId.SpeechServiceConnection_Host,"wss://"+i+".s2s.speech"+o)+"/speech/translation/cognitiveservices/v1"}var a={from:e.parameters.getProperty(l.PropertyId.SpeechServiceConnection_RecoLanguage),to:e.parameters.getProperty(l.PropertyId.SpeechServiceConnection_TranslationToLanguages)};u.setCommonUrlParams(e,a,r),u.setUrlParameter(l.PropertyId.SpeechServiceResponse_TranslationRequestStablePartialResult,f.QueryParameterNames.StableTranslation,e,a,r);void 0!==e.parameters.getProperty(l.PropertyId.SpeechServiceConnection_TranslationVoice,void 0)&&(a.voice=e.parameters.getProperty(l.PropertyId.SpeechServiceConnection_TranslationVoice),a.features="texttospeech");var s={};return void 0!==t.token&&""!==t.token&&(s[t.headerName]=t.token),s["X-ConnectionId"]=n,e.parameters.setProperty(l.PropertyId.SpeechServiceConnection_Url,r),new c.WebsocketConnection(r,a,s,new p.WebsocketMessageFormatter,c.ProxyInfo.fromRecognizerConfig(e),n)},u}return function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(t,e),t}(r.ConnectionFactoryBase);t.TranslationConnectionFactory=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SpeechSynthesisConnectionFactory=void 0;var c=n(225),l=n(19),p=n(39),f=n(596);t.SpeechSynthesisConnectionFactory=function(){var u=this;this.synthesisUri="/cognitiveservices/websocket/v1",this.create=function(e,t,n){var r=e.parameters.getProperty(l.PropertyId.SpeechServiceConnection_Endpoint,void 0),i=e.parameters.getProperty(l.PropertyId.SpeechServiceConnection_Region,void 0),o=i&&i.toLowerCase().startsWith("china")?".azure.cn":".microsoft.com",a=e.parameters.getProperty(l.PropertyId.SpeechServiceConnection_Host,"wss://"+i+".tts.speech"+o);r||(r=a+u.synthesisUri);var s={};return void 0!==t.token&&""!==t.token&&(s[t.headerName]=t.token),s[f.QueryParameterNames.ConnectionIdHeader]=n,e.parameters.setProperty(l.PropertyId.SpeechServiceConnection_Url,r),new c.WebsocketConnection(r,{},s,new p.WebsocketMessageFormatter,c.ProxyInfo.fromParameters(e.parameters),n)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EnumTranslation=void 0;var r=n(19),i=n(39),o=function(){function e(){}return e.implTranslateRecognitionResult=function(e){var t=r.ResultReason.Canceled;switch(e){case i.RecognitionStatus.Success:t=r.ResultReason.RecognizedSpeech;break;case i.RecognitionStatus.NoMatch:case i.RecognitionStatus.InitialSilenceTimeout:case i.RecognitionStatus.BabbleTimeout:case i.RecognitionStatus.EndOfDictation:t=r.ResultReason.NoMatch;break;case i.RecognitionStatus.Error:default:t=r.ResultReason.Canceled}return t},e.implTranslateCancelResult=function(e){var t=r.CancellationReason.EndOfStream;switch(e){case i.RecognitionStatus.Success:case i.RecognitionStatus.EndOfDictation:case i.RecognitionStatus.NoMatch:t=r.CancellationReason.EndOfStream;break;case i.RecognitionStatus.InitialSilenceTimeout:case i.RecognitionStatus.BabbleTimeout:case i.RecognitionStatus.Error:default:t=r.CancellationReason.Error}return t},e.implTranslateCancelErrorCode=function(e){var t=r.CancellationErrorCode.NoError;switch(e){case i.RecognitionStatus.Error:t=r.CancellationErrorCode.ServiceError;break;case i.RecognitionStatus.TooManyRequests:t=r.CancellationErrorCode.TooManyRequests;break;default:t=r.CancellationErrorCode.NoError}return t},e}();t.EnumTranslation=o},function(e,t,n){"use strict";var r,i,o,a;Object.defineProperty(t,"__esModule",{value:!0}),t.RecognitionStatus=t.SynthesisStatus=void 0,t.SynthesisStatus=r,(i=r||(t.SynthesisStatus=r={}))[i.Success=0]="Success",i[i.SynthesisEnd=1]="SynthesisEnd",i[i.Error=2]="Error",t.RecognitionStatus=o,(a=o||(t.RecognitionStatus=o={}))[a.Success=0]="Success",a[a.NoMatch=1]="NoMatch",a[a.InitialSilenceTimeout=2]="InitialSilenceTimeout",a[a.BabbleTimeout=3]="BabbleTimeout",a[a.Error=4]="Error",a[a.EndOfDictation=5]="EndOfDictation",a[a.TooManyRequests=6]="TooManyRequests"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TranslationSynthesisEnd=void 0;var r=n(39);function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=function(){function t(e){this.privSynthesisEnd=JSON.parse(e),this.privSynthesisEnd.SynthesisStatus=r.SynthesisStatus[this.privSynthesisEnd.SynthesisStatus]}return t.fromJSON=function(e){return new t(e)},function(e,t,n){t&&i(e.prototype,t),n&&i(e,n)}(t,[{key:"SynthesisStatus",get:function(){return this.privSynthesisEnd.SynthesisStatus}},{key:"FailureReason",get:function(){return this.privSynthesisEnd.FailureReason}}]),t}();t.TranslationSynthesisEnd=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TranslationHypothesis=void 0;var r=n(840);function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=function(){function t(e){this.privTranslationHypothesis=JSON.parse(e),this.privTranslationHypothesis.Translation.TranslationStatus=r.TranslationStatus[this.privTranslationHypothesis.Translation.TranslationStatus]}return t.fromJSON=function(e){return new t(e)},function(e,t,n){t&&i(e.prototype,t),n&&i(e,n)}(t,[{key:"Duration",get:function(){return this.privTranslationHypothesis.Duration}},{key:"Offset",get:function(){return this.privTranslationHypothesis.Offset}},{key:"Text",get:function(){return this.privTranslationHypothesis.Text}},{key:"Translation",get:function(){return this.privTranslationHypothesis.Translation}}]),t}();t.TranslationHypothesis=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TranslationPhrase=void 0;var r=n(39),i=n(840);function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=function(){function t(e){this.privTranslationPhrase=JSON.parse(e),this.privTranslationPhrase.RecognitionStatus=r.RecognitionStatus[this.privTranslationPhrase.RecognitionStatus],void 0!==this.privTranslationPhrase.Translation&&(this.privTranslationPhrase.Translation.TranslationStatus=i.TranslationStatus[this.privTranslationPhrase.Translation.TranslationStatus])}return t.fromJSON=function(e){return new t(e)},function(e,t,n){t&&o(e.prototype,t),n&&o(e,n)}(t,[{key:"RecognitionStatus",get:function(){return this.privTranslationPhrase.RecognitionStatus}},{key:"Offset",get:function(){return this.privTranslationPhrase.Offset}},{key:"Duration",get:function(){return this.privTranslationPhrase.Duration}},{key:"Text",get:function(){return this.privTranslationPhrase.Text}},{key:"Translation",get:function(){return this.privTranslationPhrase.Translation}}]),t}();t.TranslationPhrase=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TranslationServiceRecognizer=void 0;var h=n(44),v=n(19),g=n(39);var r=function(a){function e(e,t,n,r,i){var o;return(o=a.call(this,e,t,n,r,i)||this).privTranslationRecognizer=i,o}!function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(e,a);var t=e.prototype;return t.processTypeSpecificMessages=function(e){var t=new v.PropertyCollection,n=!1;switch(e.messageType===h.MessageType.Text&&t.setProperty(v.PropertyId.SpeechServiceResponse_JsonResult,e.textBody),e.path.toLowerCase()){case"translation.hypothesis":var r=this.fireEventForResult(g.TranslationHypothesis.fromJSON(e.textBody),t);if(this.privRequestSession.onHypothesis(this.privRequestSession.currentTurnAudioOffset+r.offset),this.privTranslationRecognizer.recognizing)try{this.privTranslationRecognizer.recognizing(this.privTranslationRecognizer,r)}catch(e){}n=!0;break;case"translation.phrase":var i=g.TranslationPhrase.fromJSON(e.textBody);if(this.privRequestSession.onPhraseRecognized(this.privRequestSession.currentTurnAudioOffset+i.Offset+i.Duration),i.RecognitionStatus===g.RecognitionStatus.Success){var o=this.fireEventForResult(i,t);if(this.privTranslationRecognizer.recognized)try{this.privTranslationRecognizer.recognized(this.privTranslationRecognizer,o)}catch(e){}if(this.privSuccessCallback){try{this.privSuccessCallback(o.result)}catch(e){this.privErrorCallback&&this.privErrorCallback(e)}this.privSuccessCallback=void 0,this.privErrorCallback=void 0}break}var a=g.EnumTranslation.implTranslateRecognitionResult(i.RecognitionStatus),s=new v.TranslationRecognitionResult(void 0,this.privRequestSession.requestId,a,i.Text,i.Duration,this.privRequestSession.currentTurnAudioOffset+i.Offset,void 0,e.textBody,t);if(a===v.ResultReason.Canceled){var u=g.EnumTranslation.implTranslateCancelResult(i.RecognitionStatus);this.cancelRecognitionLocal(u,g.EnumTranslation.implTranslateCancelErrorCode(i.RecognitionStatus),void 0)}else{if(!this.privRequestSession.isSpeechEnded||a!==v.ResultReason.NoMatch||i.RecognitionStatus===g.RecognitionStatus.InitialSilenceTimeout){var c=new v.TranslationRecognitionEventArgs(s,s.offset,this.privRequestSession.sessionId);if(this.privTranslationRecognizer.recognized)try{this.privTranslationRecognizer.recognized(this.privTranslationRecognizer,c)}catch(e){}}if(this.privSuccessCallback){try{this.privSuccessCallback(s)}catch(e){this.privErrorCallback&&this.privErrorCallback(e)}this.privSuccessCallback=void 0,this.privErrorCallback=void 0}}n=!0;break;case"translation.synthesis":this.sendSynthesisAudio(e.binaryBody,this.privRequestSession.sessionId),n=!0;break;case"translation.synthesis.end":var l=g.TranslationSynthesisEnd.fromJSON(e.textBody);switch(l.SynthesisStatus){case g.SynthesisStatus.Error:if(this.privTranslationRecognizer.synthesizing){var p=new v.TranslationSynthesisResult(v.ResultReason.Canceled,void 0),f=new v.TranslationSynthesisEventArgs(p,this.privRequestSession.sessionId);try{this.privTranslationRecognizer.synthesizing(this.privTranslationRecognizer,f)}catch(e){}}if(this.privTranslationRecognizer.canceled){var d=new v.TranslationRecognitionCanceledEventArgs(this.privRequestSession.sessionId,v.CancellationReason.Error,l.FailureReason,v.CancellationErrorCode.ServiceError,null);try{this.privTranslationRecognizer.canceled(this.privTranslationRecognizer,d)}catch(e){}}break;case g.SynthesisStatus.Success:this.sendSynthesisAudio(void 0,this.privRequestSession.sessionId)}n=!0}return n},t.cancelRecognition=function(e,t,n,r,i){var o=new v.PropertyCollection;if(o.setProperty(g.CancellationErrorCodePropertyName,v.CancellationErrorCode[r]),this.privTranslationRecognizer.canceled){var a=new v.TranslationRecognitionCanceledEventArgs(e,n,i,r,void 0);try{this.privTranslationRecognizer.canceled(this.privTranslationRecognizer,a)}catch(e){}}if(this.privSuccessCallback){var s=new v.TranslationRecognitionResult(void 0,t,v.ResultReason.Canceled,void 0,void 0,void 0,i,void 0,o);try{this.privSuccessCallback(s),this.privSuccessCallback=void 0}catch(e){}}},t.fireEventForResult=function(e,t){var n,r;if(void 0!==e.Translation.Translations){n=new v.Translations;var i=!0,o=!1,a=void 0;try{for(var s,u=e.Translation.Translations[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var c=s.value;n.set(c.Language,c.Text)}}catch(e){o=!0,a=e}finally{try{i||null==u.return||u.return()}finally{if(o)throw a}}}r=e instanceof g.TranslationPhrase?e.Translation.TranslationStatus===h.TranslationStatus.Success?v.ResultReason.TranslatedSpeech:v.ResultReason.RecognizedSpeech:v.ResultReason.TranslatingSpeech;var l=e.Offset+this.privRequestSession.currentTurnAudioOffset,p=new v.TranslationRecognitionResult(n,this.privRequestSession.requestId,r,e.Text,e.Duration,l,e.Translation.FailureReason,JSON.stringify(e),t);return new v.TranslationRecognitionEventArgs(p,l,this.privRequestSession.sessionId)},t.sendSynthesisAudio=function(e,t){var n=void 0===e?v.ResultReason.SynthesizingAudioCompleted:v.ResultReason.SynthesizingAudio,r=new v.TranslationSynthesisResult(n,e),i=new v.TranslationSynthesisEventArgs(r,t);if(this.privTranslationRecognizer.synthesizing)try{this.privTranslationRecognizer.synthesizing(this.privTranslationRecognizer,i)}catch(e){}},e}(g.ServiceRecognizerBase);t.TranslationServiceRecognizer=r},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0}),t.SpeechDetected=void 0;var i=function(){function t(e){this.privSpeechStartDetected=JSON.parse(e)}return t.fromJSON=function(e){return new t(e)},function(e,t,n){t&&r(e.prototype,t),n&&r(e,n)}(t,[{key:"Offset",get:function(){return this.privSpeechStartDetected.Offset}}]),t}();t.SpeechDetected=i},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0}),t.SpeechHypothesis=void 0;var i=function(){function t(e){this.privSpeechHypothesis=JSON.parse(e)}return t.fromJSON=function(e){return new t(e)},function(e,t,n){t&&r(e.prototype,t),n&&r(e,n)}(t,[{key:"Text",get:function(){return this.privSpeechHypothesis.Text}},{key:"Offset",get:function(){return this.privSpeechHypothesis.Offset}},{key:"Duration",get:function(){return this.privSpeechHypothesis.Duration}}]),t}();t.SpeechHypothesis=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SpeechServiceRecognizer=void 0;var f=n(19),d=n(39);var r=function(a){function e(e,t,n,r,i){var o;return(o=a.call(this,e,t,n,r,i)||this).privSpeechRecognizer=i,o}!function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(e,a);var t=e.prototype;return t.processTypeSpecificMessages=function(e){var t,n=new f.PropertyCollection;n.setProperty(f.PropertyId.SpeechServiceResponse_JsonResult,e.textBody);var r=!1;switch(e.path.toLowerCase()){case"speech.hypothesis":case"speech.fragment":var i=d.SpeechHypothesis.fromJSON(e.textBody),o=i.Offset+this.privRequestSession.currentTurnAudioOffset;t=new f.SpeechRecognitionResult(this.privRequestSession.requestId,f.ResultReason.RecognizingSpeech,i.Text,i.Duration,o,void 0,e.textBody,n),this.privRequestSession.onHypothesis(o);var a=new f.SpeechRecognitionEventArgs(t,i.Duration,this.privRequestSession.sessionId);if(this.privSpeechRecognizer.recognizing)try{this.privSpeechRecognizer.recognizing(this.privSpeechRecognizer,a)}catch(e){}r=!0;break;case"speech.phrase":var s=d.SimpleSpeechPhrase.fromJSON(e.textBody),u=d.EnumTranslation.implTranslateRecognitionResult(s.RecognitionStatus);if(this.privRequestSession.onPhraseRecognized(this.privRequestSession.currentTurnAudioOffset+s.Offset+s.Duration),f.ResultReason.Canceled===u){var c=d.EnumTranslation.implTranslateCancelResult(s.RecognitionStatus);this.cancelRecognitionLocal(c,d.EnumTranslation.implTranslateCancelErrorCode(s.RecognitionStatus),void 0)}else{if(!this.privRequestSession.isSpeechEnded||u!==f.ResultReason.NoMatch||s.RecognitionStatus===d.RecognitionStatus.InitialSilenceTimeout){if(this.privRecognizerConfig.parameters.getProperty(d.OutputFormatPropertyName)===f.OutputFormat[f.OutputFormat.Simple])t=new f.SpeechRecognitionResult(this.privRequestSession.requestId,u,s.DisplayText,s.Duration,s.Offset+this.privRequestSession.currentTurnAudioOffset,void 0,e.textBody,n);else{var l=d.DetailedSpeechPhrase.fromJSON(e.textBody);t=new f.SpeechRecognitionResult(this.privRequestSession.requestId,u,l.RecognitionStatus===d.RecognitionStatus.Success?l.NBest[0].Display:void 0,l.Duration,l.Offset+this.privRequestSession.currentTurnAudioOffset,void 0,e.textBody,n)}var p=new f.SpeechRecognitionEventArgs(t,t.offset,this.privRequestSession.sessionId);if(this.privSpeechRecognizer.recognized)try{this.privSpeechRecognizer.recognized(this.privSpeechRecognizer,p)}catch(e){}}if(this.privSuccessCallback){try{this.privSuccessCallback(t)}catch(e){this.privErrorCallback&&this.privErrorCallback(e)}this.privSuccessCallback=void 0,this.privErrorCallback=void 0}}r=!0}return r},t.cancelRecognition=function(e,t,n,r,i){var o=new f.PropertyCollection;if(o.setProperty(d.CancellationErrorCodePropertyName,f.CancellationErrorCode[r]),this.privSpeechRecognizer.canceled){var a=new f.SpeechRecognitionCanceledEventArgs(n,i,r,void 0,e);try{this.privSpeechRecognizer.canceled(this.privSpeechRecognizer,a)}catch(e){}}if(this.privSuccessCallback){var s=new f.SpeechRecognitionResult(t,f.ResultReason.Canceled,void 0,void 0,void 0,i,void 0,o);try{this.privSuccessCallback(s),this.privSuccessCallback=void 0}catch(e){}}},e}(d.ServiceRecognizerBase);t.SpeechServiceRecognizer=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DetailedSpeechPhrase=void 0;var r=n(39);function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=function(){function t(e){this.privDetailedSpeechPhrase=JSON.parse(e),this.privDetailedSpeechPhrase.RecognitionStatus=r.RecognitionStatus[this.privDetailedSpeechPhrase.RecognitionStatus]}return t.fromJSON=function(e){return new t(e)},function(e,t,n){t&&i(e.prototype,t),n&&i(e,n)}(t,[{key:"RecognitionStatus",get:function(){return this.privDetailedSpeechPhrase.RecognitionStatus}},{key:"NBest",get:function(){return this.privDetailedSpeechPhrase.NBest}},{key:"Duration",get:function(){return this.privDetailedSpeechPhrase.Duration}},{key:"Offset",get:function(){return this.privDetailedSpeechPhrase.Offset}}]),t}();t.DetailedSpeechPhrase=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SimpleSpeechPhrase=void 0;var r=n(39);function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=function(){function t(e){this.privSimpleSpeechPhrase=JSON.parse(e),this.privSimpleSpeechPhrase.RecognitionStatus=r.RecognitionStatus[this.privSimpleSpeechPhrase.RecognitionStatus]}return t.fromJSON=function(e){return new t(e)},function(e,t,n){t&&i(e.prototype,t),n&&i(e,n)}(t,[{key:"RecognitionStatus",get:function(){return this.privSimpleSpeechPhrase.RecognitionStatus}},{key:"DisplayText",get:function(){return this.privSimpleSpeechPhrase.DisplayText}},{key:"Offset",get:function(){return this.privSimpleSpeechPhrase.Offset}},{key:"Duration",get:function(){return this.privSimpleSpeechPhrase.Duration}}]),t}();t.SimpleSpeechPhrase=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AddedLmIntent=void 0;t.AddedLmIntent=function(e,t){this.modelImpl=e,this.intentName=t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IntentServiceRecognizer=void 0;var d=n(44),h=n(19),v=n(39);var r=function(a){function e(e,t,n,r,i){var o;return(o=a.call(this,e,t,n,r,i)||this).privIntentRecognizer=i,o.privIntentDataSent=!1,o}!function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(e,a);var t=e.prototype;return t.setIntents=function(e,t){this.privAddedLmIntents=e,this.privUmbrellaIntent=t,this.privIntentDataSent=!0},t.processTypeSpecificMessages=function(e){var t,n,r=this,i=!1,o=new h.PropertyCollection;switch(e.messageType===d.MessageType.Text&&o.setProperty(h.PropertyId.SpeechServiceResponse_JsonResult,e.textBody),e.path.toLowerCase()){case"speech.hypothesis":var a=v.SpeechHypothesis.fromJSON(e.textBody);if(t=new h.IntentRecognitionResult(void 0,this.privRequestSession.requestId,h.ResultReason.RecognizingIntent,a.Text,a.Duration,a.Offset+this.privRequestSession.currentTurnAudioOffset,void 0,e.textBody,o),this.privRequestSession.onHypothesis(t.offset),n=new h.IntentRecognitionEventArgs(t,a.Offset+this.privRequestSession.currentTurnAudioOffset,this.privRequestSession.sessionId),this.privIntentRecognizer.recognizing)try{this.privIntentRecognizer.recognizing(this.privIntentRecognizer,n)}catch(e){}i=!0;break;case"speech.phrase":var s=v.SimpleSpeechPhrase.fromJSON(e.textBody);t=new h.IntentRecognitionResult(void 0,this.privRequestSession.requestId,v.EnumTranslation.implTranslateRecognitionResult(s.RecognitionStatus),s.DisplayText,s.Duration,s.Offset+this.privRequestSession.currentTurnAudioOffset,void 0,e.textBody,o),n=new h.IntentRecognitionEventArgs(t,t.offset,this.privRequestSession.sessionId);!1===this.privIntentDataSent||h.ResultReason.NoMatch===n.result.reason?(this.privRequestSession.onPhraseRecognized(n.offset+n.result.duration),function(){if(r.privIntentRecognizer.recognized)try{r.privIntentRecognizer.recognized(r.privIntentRecognizer,n)}catch(e){}if(r.privSuccessCallback){try{r.privSuccessCallback(t)}catch(e){r.privErrorCallback&&r.privErrorCallback(e)}r.privSuccessCallback=void 0,r.privErrorCallback=void 0}}()):this.privPendingIntentArgs=n,i=!0;break;case"response":if(n=this.privPendingIntentArgs,(this.privPendingIntentArgs=void 0)===n){if(""===e.textBody)return;n=new h.IntentRecognitionEventArgs(new h.IntentRecognitionResult,0,this.privRequestSession.sessionId)}var u=v.IntentResponse.fromJSON(e.textBody),c=this.privAddedLmIntents[u.topScoringIntent.intent];if(void 0!==this.privUmbrellaIntent&&(c=this.privUmbrellaIntent),null!==u&&void 0!==c){var l=void 0===c.intentName?u.topScoringIntent.intent:c.intentName,p=n.result.reason;void 0!==l&&(p=h.ResultReason.RecognizedIntent);var f=void 0!==n.result.properties?n.result.properties:new h.PropertyCollection;f.setProperty(h.PropertyId.LanguageUnderstandingServiceResponse_JsonResult,e.textBody),n=new h.IntentRecognitionEventArgs(new h.IntentRecognitionResult(l,n.result.resultId,p,n.result.text,n.result.duration,n.result.offset,n.result.errorDetails,n.result.json,f),n.offset,n.sessionId)}if(this.privRequestSession.onPhraseRecognized(n.offset+n.result.duration),this.privIntentRecognizer.recognized)try{this.privIntentRecognizer.recognized(this.privIntentRecognizer,n)}catch(e){}if(this.privSuccessCallback){try{this.privSuccessCallback(n.result)}catch(e){this.privErrorCallback&&this.privErrorCallback(e)}this.privSuccessCallback=void 0,this.privErrorCallback=void 0}i=!0}return i},t.cancelRecognition=function(e,t,n,r,i){var o=new h.PropertyCollection;if(o.setProperty(v.CancellationErrorCodePropertyName,h.CancellationErrorCode[r]),this.privIntentRecognizer.canceled){var a=new h.IntentRecognitionCanceledEventArgs(n,i,r,void 0,void 0,e);try{this.privIntentRecognizer.canceled(this.privIntentRecognizer,a)}catch(e){}}if(this.privSuccessCallback){var s=new h.IntentRecognitionResult(void 0,t,h.ResultReason.Canceled,void 0,void 0,void 0,i,void 0,o);try{this.privSuccessCallback(s),this.privSuccessCallback=void 0}catch(e){}}},e}(v.ServiceRecognizerBase);t.IntentServiceRecognizer=r},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0}),t.IntentResponse=void 0;var i=function(){function t(e){this.privIntentResponse=JSON.parse(e)}return t.fromJSON=function(e){return new t(e)},function(e,t,n){t&&r(e.prototype,t),n&&r(e,n)}(t,[{key:"query",get:function(){return this.privIntentResponse.query}},{key:"topScoringIntent",get:function(){return this.privIntentResponse.topScoringIntent}},{key:"entities",get:function(){return this.privIntentResponse.entities}}]),t}();t.IntentResponse=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RequestSession=void 0;var r=n(44),i=n(843),o=n(1970);function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=function(){function e(e){var a=this;this.privIsDisposed=!1,this.privDetachables=new Array,this.privIsAudioNodeDetached=!1,this.privIsRecognizing=!1,this.privIsSpeechEnded=!1,this.privTurnStartAudioOffset=0,this.privLastRecoOffset=0,this.privHypothesisReceived=!1,this.privBytesSent=0,this.privRecogNumber=0,this.onAudioSourceAttachCompleted=function(e,t,n){a.privAudioNode=e,a.privIsAudioNodeDetached=!1,t?a.onComplete():a.onEvent(new i.ListeningStartedEvent(a.privRequestId,a.privSessionId,a.privAudioSourceId,a.privAudioNodeId))},this.onPreConnectionStart=function(e,t){a.privAuthFetchEventId=e,a.privSessionId=t,a.onEvent(new i.ConnectingToServiceEvent(a.privRequestId,a.privAuthFetchEventId,a.privSessionId))},this.onAuthCompleted=function(e,t){e&&a.onComplete()},this.onConnectionEstablishCompleted=function(e,t){if(200===e)return a.onEvent(new i.RecognitionStartedEvent(a.requestId,a.privAudioSourceId,a.privAudioNodeId,a.privAuthFetchEventId,a.privSessionId)),a.privAudioNode&&a.privAudioNode.replay(),a.privTurnStartAudioOffset=a.privLastRecoOffset,void(a.privBytesSent=0);403===e&&a.onComplete()},this.onServiceTurnEndResponse=function(e){a.privTurnDeferral.resolve(!0),!e||a.isSpeechEnded?a.onComplete():(a.privTurnStartAudioOffset=a.privLastRecoOffset,a.privRequestId=(0,r.createNoDashGuid)(),a.privAudioNode.replay())},this.onServiceTurnStartResponse=function(){a.privTurnDeferral.state()===r.PromiseState.None&&a.privTurnDeferral.reject("Another turn started before current completed."),a.privTurnDeferral=new r.Deferred},this.dispose=function(e){if(!a.privIsDisposed){var t=a.privIsDisposed=!0,n=!1,r=void 0;try{for(var i,o=a.privDetachables[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){i.value.detach()}}catch(e){n=!0,r=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw r}}a.privServiceTelemetryListener.dispose()}},this.getTelemetry=function(){return a.privServiceTelemetryListener.hasTelemetry?a.privServiceTelemetryListener.getTelemetry():null},this.onEvent=function(e){a.privServiceTelemetryListener&&a.privServiceTelemetryListener.onEvent(e),r.Events.instance.onEvent(e)},this.onComplete=function(){a.privIsRecognizing&&(a.privIsRecognizing=!1,a.detachAudioNode())},this.detachAudioNode=function(){a.privIsAudioNodeDetached||(a.privIsAudioNodeDetached=!0,a.privAudioNode&&a.privAudioNode.detach())},this.privAudioSourceId=e,this.privRequestId=(0,r.createNoDashGuid)(),this.privAudioNodeId=(0,r.createNoDashGuid)(),this.privTurnDeferral=new r.Deferred,this.privTurnDeferral.resolve(!0)}var t=e.prototype;return t.listenForServiceTelemetry=function(e){this.privServiceTelemetryListener&&this.privDetachables.push(e.attachListener(this.privServiceTelemetryListener))},t.startNewRecognition=function(){this.privIsSpeechEnded=!1,this.privIsRecognizing=!0,this.privTurnStartAudioOffset=0,this.privLastRecoOffset=0,this.privRequestId=(0,r.createNoDashGuid)(),this.privRecogNumber++,this.privServiceTelemetryListener=new o.ServiceTelemetryListener(this.privRequestId,this.privAudioSourceId,this.privAudioNodeId),this.onEvent(new i.RecognitionTriggeredEvent(this.requestId,this.privSessionId,this.privAudioSourceId,this.privAudioNodeId))},t.onHypothesis=function(e){this.privHypothesisReceived||(this.privHypothesisReceived=!0,this.privServiceTelemetryListener.hypothesisReceived(this.privAudioNode.findTimeAtOffset(e)))},t.onPhraseRecognized=function(e){this.privServiceTelemetryListener.phraseReceived(this.privAudioNode.findTimeAtOffset(e)),this.onServiceRecognized(e)},t.onServiceRecognized=function(e){this.privLastRecoOffset=e,this.privHypothesisReceived=!1,this.privAudioNode.shrinkBuffers(e)},t.onAudioSent=function(e){this.privBytesSent+=e},t.onStopRecognizing=function(){this.onComplete()},t.onSpeechEnded=function(){this.privIsSpeechEnded=!0},function(e,t,n){t&&a(e.prototype,t),n&&a(e,n)}(e,[{key:"sessionId",get:function(){return this.privSessionId}},{key:"requestId",get:function(){return this.privRequestId}},{key:"audioNodeId",get:function(){return this.privAudioNodeId}},{key:"turnCompletionPromise",get:function(){return this.privTurnDeferral.promise()}},{key:"isSpeechEnded",get:function(){return this.privIsSpeechEnded}},{key:"isRecognizing",get:function(){return this.privIsRecognizing}},{key:"currentTurnAudioOffset",get:function(){return this.privTurnStartAudioOffset}},{key:"recogNumber",get:function(){return this.privRecogNumber}},{key:"bytesSent",get:function(){return this.privBytesSent}}]),e}();t.RequestSession=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ServiceTelemetryListener=void 0;var i=n(44),o=n(843);function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=function(){function e(e,t,n){var r=this;this.privIsDisposed=!1,this.privListeningTriggerMetric=null,this.privMicMetric=null,this.privConnectionEstablishMetric=null,this.onEvent=function(e){r.privIsDisposed||(e instanceof o.RecognitionTriggeredEvent&&e.requestId===r.privRequestId&&(r.privListeningTriggerMetric={End:e.eventTime,Name:"ListeningTrigger",Start:e.eventTime}),e instanceof i.AudioStreamNodeAttachingEvent&&e.audioSourceId===r.privAudioSourceId&&e.audioNodeId===r.privAudioNodeId&&(r.privMicStartTime=e.eventTime),e instanceof i.AudioStreamNodeAttachedEvent&&e.audioSourceId===r.privAudioSourceId&&e.audioNodeId===r.privAudioNodeId&&(r.privMicStartTime=e.eventTime),e instanceof i.AudioSourceErrorEvent&&e.audioSourceId===r.privAudioSourceId&&(r.privMicMetric||(r.privMicMetric={End:e.eventTime,Error:e.error,Name:"Microphone",Start:r.privMicStartTime})),e instanceof i.AudioStreamNodeErrorEvent&&e.audioSourceId===r.privAudioSourceId&&e.audioNodeId===r.privAudioNodeId&&(r.privMicMetric||(r.privMicMetric={End:e.eventTime,Error:e.error,Name:"Microphone",Start:r.privMicStartTime})),e instanceof i.AudioStreamNodeDetachedEvent&&e.audioSourceId===r.privAudioSourceId&&e.audioNodeId===r.privAudioNodeId&&(r.privMicMetric||(r.privMicMetric={End:e.eventTime,Name:"Microphone",Start:r.privMicStartTime})),e instanceof o.ConnectingToServiceEvent&&e.requestId===r.privRequestId&&(r.privConnectionId=e.sessionId),e instanceof i.ConnectionStartEvent&&e.connectionId===r.privConnectionId&&(r.privConnectionStartTime=e.eventTime),e instanceof i.ConnectionEstablishedEvent&&e.connectionId===r.privConnectionId&&(r.privConnectionEstablishMetric||(r.privConnectionEstablishMetric={End:e.eventTime,Id:r.privConnectionId,Name:"Connection",Start:r.privConnectionStartTime})),e instanceof i.ConnectionEstablishErrorEvent&&e.connectionId===r.privConnectionId&&(r.privConnectionEstablishMetric||(r.privConnectionEstablishMetric={End:e.eventTime,Error:r.getConnectionError(e.statusCode),Id:r.privConnectionId,Name:"Connection",Start:r.privConnectionStartTime})),e instanceof i.ConnectionMessageReceivedEvent&&e.connectionId===r.privConnectionId&&e.message&&e.message.headers&&e.message.headers.path&&(r.privReceivedMessages[e.message.headers.path]||(r.privReceivedMessages[e.message.headers.path]=new Array),r.privReceivedMessages[e.message.headers.path].push(e.networkReceivedTime)))},this.getTelemetry=function(){var e=new Array;r.privListeningTriggerMetric&&e.push(r.privListeningTriggerMetric),r.privMicMetric&&e.push(r.privMicMetric),r.privConnectionEstablishMetric&&e.push(r.privConnectionEstablishMetric),0<r.privPhraseLatencies.length&&e.push({PhraseLatencyMs:r.privPhraseLatencies}),0<r.privHypothesisLatencies.length&&e.push({FirstHypothesisLatencyMs:r.privHypothesisLatencies});var t={Metrics:e,ReceivedMessages:r.privReceivedMessages},n=JSON.stringify(t);return r.privReceivedMessages={},r.privListeningTriggerMetric=null,r.privMicMetric=null,r.privConnectionEstablishMetric=null,r.privPhraseLatencies=[],r.privHypothesisLatencies=[],n},this.dispose=function(){r.privIsDisposed=!0},this.getConnectionError=function(e){switch(e){case 400:case 1002:case 1003:case 1005:case 1007:case 1008:case 1009:return"BadRequest";case 401:return"Unauthorized";case 403:return"Forbidden";case 503:case 1001:return"ServerUnavailable";case 500:case 1011:return"ServerError";case 408:case 504:return"Timeout";default:return"statuscode:"+e.toString()}},this.privRequestId=e,this.privAudioSourceId=t,this.privAudioNodeId=n,this.privReceivedMessages={},this.privPhraseLatencies=[],this.privHypothesisLatencies=[]}var t=e.prototype;return t.phraseReceived=function(e){0<e&&this.privPhraseLatencies.push(Date.now()-e)},t.hypothesisReceived=function(e){0<e&&this.privHypothesisLatencies.push(Date.now()-e)},function(e,t,n){t&&r(e.prototype,t),n&&r(e,n)}(e,[{key:"hasTelemetry",get:function(){return 0!==Object.keys(this.privReceivedMessages).length||null!==this.privListeningTriggerMetric||null!==this.privMicMetric||null!==this.privConnectionEstablishMetric||0!==this.privPhraseLatencies.length||0!==this.privHypothesisLatencies.length}}]),e}();t.ServiceTelemetryListener=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SpeechContext=void 0;var r=function(){function e(e){this.privContext={},this.privDynamicGrammar=e}var t=e.prototype;return t.setSection=function(e,t){this.privContext[e]=t},t.toJSON=function(){var e=this.privDynamicGrammar.generateGrammarObject();return this.setSection("dgi",e),JSON.stringify(this.privContext)},e}();t.SpeechContext=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DynamicGrammarBuilder=void 0;var r=function(){function e(){}var t=e.prototype;return t.addPhrase=function(e){this.privPhrases||(this.privPhrases=[]),e instanceof Array?this.privPhrases=this.privPhrases.concat(e):this.privPhrases.push(e)},t.clearPhrases=function(){this.privPhrases=void 0},t.addReferenceGrammar=function(e){this.privGrammars||(this.privGrammars=[]),e instanceof Array?this.privGrammars=this.privGrammars.concat(e):this.privGrammars.push(e)},t.clearGrammars=function(){this.privGrammars=void 0},t.generateGrammarObject=function(){if(void 0!==this.privGrammars||void 0!==this.privPhrases){var e={};if(e.ReferenceGrammars=this.privGrammars,void 0!==this.privPhrases&&0!==this.privPhrases.length){var r=[];this.privPhrases.forEach(function(e,t,n){r.push({Text:e})}),e.Groups=[{Type:"Generic",Items:r}]}return e}},e}();t.DynamicGrammarBuilder=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DialogServiceAdapter=void 0;var a=n(225),m=n(44),y=n(19),s=n(1974),b=n(39),w=n(1239),h=n(844);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var r=function(o){function e(e,t,n,r,i){var d;return(d=o.call(this,e,t,n,r,i)||this).sendMessage=function(e){var t=(0,m.createGuid)(),n=(0,m.createNoDashGuid)(),r={context:{interactionId:t},messagePayload:e,version:.5},i=JSON.stringify(r);d.fetchDialogConnection().onSuccessContinueWith(function(e){e.send(new h.SpeechConnectionMessage(m.MessageType.Text,"agent",n,"application/json",i))})},d.listenOnce=function(e,t,n){return d.privRecognizerConfig.recognitionMode=e,d.privSuccessCallback=t,d.privErrorCallback=n,d.privDialogRequestSession.startNewRecognition(),d.privDialogRequestSession.listenForServiceTelemetry(d.privDialogAudioSource.events),d.dialogConnectImpl(),d.sendPreAudioMessages(),d.privDialogAudioSource.attach(d.privDialogRequestSession.audioNodeId).continueWithPromise(function(t){var n;return t.isError?(d.cancelRecognition(d.privDialogRequestSession.sessionId,d.privDialogRequestSession.requestId,y.CancellationReason.Error,y.CancellationErrorCode.ConnectionFailure,t.error),m.PromiseHelper.fromError(t.error)):d.privDialogAudioSource.format.onSuccessContinueWithPromise(function(e){return n=new a.ReplayableAudioNode(t.result,e.avgBytesPerSec),d.privDialogRequestSession.onAudioSourceAttachCompleted(n,!1),d.privDialogAudioSource.deviceInfo.onSuccessContinueWithPromise(function(e){return d.privRecognizerConfig.SpeechServiceConfig.Context.audio={source:e},d.configConnection().continueWithPromise(function(e){if(e.isError)return d.cancelRecognitionLocal(y.CancellationReason.Error,y.CancellationErrorCode.ConnectionFailure,e.error),m.PromiseHelper.fromError(e.error);var t=new y.SessionEventArgs(d.privDialogRequestSession.sessionId);return d.privRecognizer.sessionStarted&&d.privRecognizer.sessionStarted(d.privRecognizer,t),d.sendAudio(n).on(function(e){},function(e){d.cancelRecognition(d.privDialogRequestSession.sessionId,d.privDialogRequestSession.requestId,y.CancellationReason.Error,y.CancellationErrorCode.RuntimeError,e)}),m.PromiseHelper.fromResult(!0)})})})})},d.sendAudio=function(n){return d.privDialogAudioSource.format.onSuccessContinueWithPromise(function(o){var a=new m.Deferred,s=Date.now(),e=d.privRecognizerConfig.parameters.getProperty("SPEECH-TransmitLengthBeforThrottleMs","5000"),u=o.avgBytesPerSec/1e3*parseInt(e,10),t=d.privDialogRequestSession.recogNumber;return function i(){d.privDialogIsDisposed||d.privDialogRequestSession.isSpeechEnded||!d.privDialogRequestSession.isRecognizing||d.privDialogRequestSession.recogNumber!==t||d.fetchDialogConnection().on(function(r){n.read().on(function(t){var n,e;d.privDialogRequestSession.isSpeechEnded?a.resolve(!0):(e=!t||t.isEnd?(n=null,0):(n=t.buffer,d.privDialogRequestSession.onAudioSent(n.byteLength),u>=d.privDialogRequestSession.bytesSent?0:Math.max(0,s-Date.now())),setTimeout(function(){null!==n&&(s=Date.now()+1e3*n.byteLength/(2*o.avgBytesPerSec));var e=r.send(new h.SpeechConnectionMessage(m.MessageType.Binary,"audio",d.privDialogRequestSession.requestId,null,n));t&&!t.isEnd?e.continueWith(function(e){i()}):(d.privDialogRequestSession.onSpeechEnded(),a.resolve(!0))},e))},function(e){d.privDialogRequestSession.isSpeechEnded?a.resolve(!0):a.reject(e)})},function(e){a.reject(e)})}(),a.promise()})},d.receiveDialogMessageOverride=function(){var f=new m.Deferred;return d.fetchDialogConnection().on(function(e){return e.read().onSuccessContinueWithPromise(function(e){var t=d.isDisposed(),n=!d.isDisposed()&&d.terminateMessageLoop;if(t||n)return f.resolve(void 0),m.PromiseHelper.fromResult(void 0);if(!e)return d.receiveDialogMessageOverride();var r=h.SpeechConnectionMessage.fromConnectionMessage(e);switch(r.path.toLowerCase()){case"turn.start":var i=r.requestId.toUpperCase();i!==d.privDialogRequestSession.requestId.toUpperCase()?d.privTurnStateManager.StartTurn(i):d.privDialogRequestSession.onServiceTurnStartResponse();break;case"speech.startdetected":var o=b.SpeechDetected.fromJSON(r.textBody),a=new y.RecognitionEventArgs(o.Offset,d.privDialogRequestSession.sessionId);d.privRecognizer.speechStartDetected&&d.privRecognizer.speechStartDetected(d.privRecognizer,a);break;case"speech.enddetected":var s;s=0<r.textBody.length?r.textBody:"{ Offset: 0 }";var u=b.SpeechDetected.fromJSON(s);d.privDialogRequestSession.onServiceRecognized(u.Offset+d.privDialogRequestSession.currentTurnAudioOffset);var c=new y.RecognitionEventArgs(u.Offset+d.privDialogRequestSession.currentTurnAudioOffset,d.privDialogRequestSession.sessionId);d.privRecognizer.speechEndDetected&&d.privRecognizer.speechEndDetected(d.privRecognizer,c);break;case"turn.end":var l=r.requestId.toUpperCase();if(l!==d.privDialogRequestSession.requestId.toUpperCase())d.privTurnStateManager.CompleteTurn(l);else{var p=new y.SessionEventArgs(d.privDialogRequestSession.sessionId);if(d.privDialogRequestSession.onServiceTurnEndResponse(!1),d.privDialogRequestSession.isSpeechEnded&&d.privRecognizer.sessionStopped&&d.privRecognizer.sessionStopped(d.privRecognizer,p),d.privSuccessCallback&&d.privLastResult){try{d.privSuccessCallback(d.privLastResult),d.privLastResult=null}catch(e){d.privErrorCallback&&d.privErrorCallback(e)}d.privSuccessCallback=void 0,d.privErrorCallback=void 0}}break;default:d.processTypeSpecificMessages(r)||d.serviceEvents&&d.serviceEvents.onEvent(new m.ServiceEvent(r.path.toLowerCase(),r.textBody))}return d.receiveDialogMessageOverride()})},function(e){return d.terminateMessageLoop=!0,f.resolve(void 0),m.PromiseHelper.fromResult(void 0)}),f.promise()},d.fetchDialogConnection=function(){return d.configConnection()},d.sendAgentConfig=function(e){if(!d.agentConfig||d.agentConfigSent)return m.PromiseHelper.fromResult(!0);if("custom_commands"===d.privRecognizerConfig.parameters.getProperty(y.PropertyId.Conversation_DialogType)){var t=d.agentConfig.get();t.botInfo.commandsCulture=d.privRecognizerConfig.parameters.getProperty(y.PropertyId.SpeechServiceConnection_RecoLanguage,"en-us"),d.agentConfig.set(t)}var n=d.agentConfig.toJsonString();return d.agentConfigSent=!0,e.send(new h.SpeechConnectionMessage(m.MessageType.Text,"agent.config",d.privDialogRequestSession.requestId,"application/json",n))},d.sendAgentContext=function(e){var t=(0,m.createGuid)(),n=d.privDialogServiceConnector.properties.getProperty(y.PropertyId.Conversation_Speech_Activity_Template),r={channelData:"",context:{interactionId:t},messagePayload:void 0===u(n)?void 0:n,version:.5},i=JSON.stringify(r);return e.send(new h.SpeechConnectionMessage(m.MessageType.Text,"speech.agent.context",d.privDialogRequestSession.requestId,"application/json",i))},d.privDialogServiceConnector=i,d.privDialogAuthentication=e,d.receiveMessageOverride=d.receiveDialogMessageOverride,d.privTurnStateManager=new s.DialogServiceTurnStateManager,d.recognizeOverride=d.listenOnce,d.connectImplOverride=d.dialogConnectImpl,d.configConnectionOverride=d.configConnection,d.fetchConnectionOverride=d.fetchDialogConnection,d.disconnectOverride=d.privDisconnect,d.privDialogAudioSource=n,d.privDialogRequestSession=new b.RequestSession(n.id()),d.privDialogConnectionFactory=t,d.privDialogIsDisposed=!1,d.agentConfigSent=!1,d.privLastResult=null,d}!function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(e,o);var t=e.prototype;return t.isDisposed=function(){return this.privDialogIsDisposed},t.dispose=function(t){this.privDialogIsDisposed=!0,this.privConnectionConfigPromise&&this.privConnectionConfigPromise.onSuccessContinueWith(function(e){e.dispose(t)})},t.privDisconnect=function(){this.cancelRecognition(this.privDialogRequestSession.sessionId,this.privDialogRequestSession.requestId,y.CancellationReason.Error,y.CancellationErrorCode.NoError,"Disconnecting"),this.terminateMessageLoop=!0,this.agentConfigSent=!1,this.privDialogConnectionPromise.result().isCompleted?this.privDialogConnectionPromise.result().isError||(this.privDialogConnectionPromise.result().result.dispose(),this.privDialogConnectionPromise=null):this.privDialogConnectionPromise.onSuccessContinueWith(function(e){e.dispose()})},t.processTypeSpecificMessages=function(e){var t,n,r=new y.PropertyCollection;switch(e.messageType===m.MessageType.Text&&r.setProperty(y.PropertyId.SpeechServiceResponse_JsonResult,e.textBody),e.path.toLowerCase()){case"speech.phrase":var i=b.SimpleSpeechPhrase.fromJSON(e.textBody);if(this.privDialogRequestSession.onPhraseRecognized(this.privDialogRequestSession.currentTurnAudioOffset+i.Offset+i.Duration),i.RecognitionStatus===b.RecognitionStatus.Success){var o=this.fireEventForResult(i,r);if(this.privLastResult=o.result,this.privDialogServiceConnector.recognized)try{this.privDialogServiceConnector.recognized(this.privDialogServiceConnector,o)}catch(e){}}n=!0;break;case"speech.hypothesis":var a=b.SpeechHypothesis.fromJSON(e.textBody),s=a.Offset+this.privDialogRequestSession.currentTurnAudioOffset;t=new y.SpeechRecognitionResult(this.privDialogRequestSession.requestId,y.ResultReason.RecognizingSpeech,a.Text,a.Duration,s,void 0,e.textBody,r),this.privDialogRequestSession.onHypothesis(s);var u=new y.SpeechRecognitionEventArgs(t,a.Duration,this.privDialogRequestSession.sessionId);if(this.privDialogServiceConnector.recognizing)try{this.privDialogServiceConnector.recognizing(this.privDialogServiceConnector,u)}catch(e){}n=!0;break;case"audio":var c=e.requestId.toUpperCase(),l=this.privTurnStateManager.GetTurn(c);try{e.binaryBody?l.audioStream.write(e.binaryBody):l.endAudioStream()}catch(e){}n=!0;break;case"response":var p=e.requestId.toUpperCase(),f=w.ActivityPayloadResponse.fromJSON(e.textBody),d=this.privTurnStateManager.GetTurn(p);if(f.conversationId){var h=this.agentConfig.get();h.botInfo.conversationId=f.conversationId,this.agentConfig.set(h)}var v=d.processActivityPayload(f),g=new y.ActivityReceivedEventArgs(f.messagePayload,v);if(this.privDialogServiceConnector.activityReceived)try{this.privDialogServiceConnector.activityReceived(this.privDialogServiceConnector,g)}catch(e){}n=!0}return n},t.cancelRecognition=function(e,t,n,r,i){if(this.terminateMessageLoop=!0,this.privDialogRequestSession.isRecognizing&&this.privDialogRequestSession.onStopRecognizing(),this.privDialogServiceConnector.canceled){var o=new y.PropertyCollection;o.setProperty(b.CancellationErrorCodePropertyName,y.CancellationErrorCode[r]);var a=new y.SpeechRecognitionCanceledEventArgs(n,i,r,void 0,e);try{this.privDialogServiceConnector.canceled(this.privDialogServiceConnector,a)}catch(e){}if(this.privSuccessCallback){var s=new y.SpeechRecognitionResult(void 0,y.ResultReason.Canceled,void 0,void 0,void 0,i,void 0,o);try{this.privSuccessCallback(s),this.privSuccessCallback=void 0}catch(e){}}}},t.sendWaveHeader=function(t){var n=this;return this.audioSource.format.onSuccessContinueWithPromise(function(e){return t.send(new h.SpeechConnectionMessage(m.MessageType.Binary,"audio",n.privDialogRequestSession.requestId,"audio/x-wav",e.header))})},t.dialogConnectImpl=function(){var n=this,r=0<arguments.length&&void 0!==arguments[0]&&arguments[0];if(this.privDialogConnectionPromise)return this.privDialogConnectionPromise.result().isCompleted&&(this.privDialogConnectionPromise.result().isError||this.privDialogConnectionPromise.result().result.state()===m.ConnectionState.Disconnected)?(this.agentConfigSent=!1,this.privDialogConnectionPromise=null,this.terminateMessageLoop=!0,this.configConnection()):this.privDialogConnectionPromise;this.privDialogAuthFetchEventId=(0,m.createNoDashGuid)(),void 0===this.privConnectionId&&(this.privConnectionId=(0,m.createNoDashGuid)()),this.privDialogRequestSession.onPreConnectionStart(this.privDialogAuthFetchEventId,this.privConnectionId);var e=r?this.privDialogAuthentication.fetchOnExpiry(this.privDialogAuthFetchEventId):this.privDialogAuthentication.fetch(this.privDialogAuthFetchEventId);return this.privDialogConnectionPromise=e.continueWithPromise(function(e){if(e.isError)throw n.privDialogRequestSession.onAuthCompleted(!0,e.error),new Error(e.error);n.privDialogRequestSession.onAuthCompleted(!1);var t=n.privDialogConnectionFactory.create(n.privRecognizerConfig,e.result,n.privConnectionId);return n.privDialogRequestSession.listenForServiceTelemetry(t.events),t.events.attach(function(e){n.connectionEvents.onEvent(e)}),t.open().onSuccessContinueWithPromise(function(e){return 200===e.statusCode?(n.privDialogRequestSession.onPreConnectionStart(n.privDialogAuthFetchEventId,n.privConnectionId),n.privDialogRequestSession.onConnectionEstablishCompleted(e.statusCode),m.PromiseHelper.fromResult(t)):403!==e.statusCode||r?(n.privDialogRequestSession.onConnectionEstablishCompleted(e.statusCode,e.reason),m.PromiseHelper.fromError("Unable to contact server. StatusCode: ".concat(e.statusCode,", ").concat(n.privRecognizerConfig.parameters.getProperty(y.PropertyId.SpeechServiceConnection_Endpoint)," Reason: ").concat(e.reason))):n.dialogConnectImpl(!0)})}),this.privConnectionLoop=this.startMessageLoop(),this.privDialogConnectionPromise},t.startMessageLoop=function(){var t=this;return this.terminateMessageLoop=!1,this.receiveDialogMessageOverride().on(function(e){return!0},function(e){t.cancelRecognition(t.privDialogRequestSession.sessionId,t.privDialogRequestSession.requestId,y.CancellationReason.Error,y.CancellationErrorCode.RuntimeError,e)})},t.configConnection=function(){var n=this;return this.privConnectionConfigPromise?this.privConnectionConfigPromise.result().isCompleted&&(this.privConnectionConfigPromise.result().isError||this.privConnectionConfigPromise.result().result.state()===m.ConnectionState.Disconnected)?(this.privConnectionConfigPromise=null,this.configConnection()):this.privConnectionConfigPromise:this.terminateMessageLoop?(this.terminateMessageLoop=!1,m.PromiseHelper.fromError("Connection to service terminated.")):(this.privConnectionConfigPromise=this.dialogConnectImpl().onSuccessContinueWithPromise(function(t){return n.sendSpeechServiceConfig(t,n.privDialogRequestSession,n.privRecognizerConfig.SpeechServiceConfig.serialize()).onSuccessContinueWithPromise(function(e){return n.sendAgentConfig(t).onSuccessContinueWith(function(e){return t})})}),this.privConnectionConfigPromise)},t.sendPreAudioMessages=function(){var t=this;this.fetchDialogConnection().onSuccessContinueWith(function(e){t.sendAgentContext(e),t.sendWaveHeader(e)})},t.fireEventForResult=function(e,t){var n=b.EnumTranslation.implTranslateRecognitionResult(e.RecognitionStatus),r=e.Offset+this.privDialogRequestSession.currentTurnAudioOffset,i=new y.SpeechRecognitionResult(this.privDialogRequestSession.requestId,n,e.DisplayText,e.Duration,r,void 0,JSON.stringify(e),t);return new y.SpeechRecognitionEventArgs(i,r,this.privDialogRequestSession.sessionId)},e}(b.ServiceRecognizerBase);t.DialogServiceAdapter=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DialogServiceTurnStateManager=void 0;var r=n(203),i=n(1975),o=function(){function e(){this.privTurnMap=new Map}var t=e.prototype;return t.StartTurn=function(e){if(this.privTurnMap.has(e))throw new r.InvalidOperationError("Service error: There is already a turn with id:"+e);var t=new i.DialogServiceTurnState(this,e);return this.privTurnMap.set(e,t),this.privTurnMap.get(e)},t.GetTurn=function(e){return this.privTurnMap.get(e)},t.CompleteTurn=function(e){if(!this.privTurnMap.has(e))throw new r.InvalidOperationError("Service error: Received turn end for an unknown turn id:"+e);var t=this.privTurnMap.get(e);return t.complete(),this.privTurnMap.delete(e),t},e}();t.DialogServiceTurnStateManager=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DialogServiceTurnState=void 0;var r=n(709),i=n(594),o=n(1239);function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=function(){function e(e,t){this.privRequestId=t,this.privIsCompleted=!1,this.privAudioStream=null,this.privTurnManager=e,this.resetTurnEndTimeout()}var t=e.prototype;return t.processActivityPayload=function(e){return e.messageDataStreamType===o.MessageDataStreamType.TextToSpeechAudio&&(this.privAudioStream=i.AudioOutputStream.createPullStream(),this.privAudioStream.format=r.AudioOutputFormatImpl.getDefaultOutputFormat()),this.privAudioStream},t.endAudioStream=function(){null===this.privAudioStream||this.privAudioStream.isClosed||this.privAudioStream.close()},t.complete=function(){void 0!==this.privTimeoutToken&&clearTimeout(this.privTimeoutToken),this.endAudioStream()},t.resetTurnEndTimeout=function(){var e=this;void 0!==this.privTimeoutToken&&clearTimeout(this.privTimeoutToken),this.privTimeoutToken=setTimeout(function(){e.privTurnManager.CompleteTurn(e.privRequestId)},2e3)},function(e,t,n){t&&a(e.prototype,t),n&&a(e,n)}(e,[{key:"audioStream",get:function(){return this.resetTurnEndTimeout(),this.privAudioStream}}]),e}();t.DialogServiceTurnState=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AgentConfig=void 0;var r=function(){function e(){}var t=e.prototype;return t.toJsonString=function(){return JSON.stringify(this.iPrivConfig)},t.get=function(){return this.iPrivConfig},t.set=function(e){this.iPrivConfig=e},e}();t.AgentConfig=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ConversationManager",{enumerable:!0,get:function(){return r.ConversationManager}}),Object.defineProperty(t,"ConversationTranslatorConfig",{enumerable:!0,get:function(){return i.ConversationTranslatorConfig}}),Object.defineProperty(t,"ConversationTranslatorRecognizer",{enumerable:!0,get:function(){return o.ConversationTranslatorRecognizer}}),Object.defineProperty(t,"ConversationReceivedTranslationEventArgs",{enumerable:!0,get:function(){return a.ConversationReceivedTranslationEventArgs}}),Object.defineProperty(t,"LockRoomEventArgs",{enumerable:!0,get:function(){return a.LockRoomEventArgs}}),Object.defineProperty(t,"MuteAllEventArgs",{enumerable:!0,get:function(){return a.MuteAllEventArgs}}),Object.defineProperty(t,"ParticipantAttributeEventArgs",{enumerable:!0,get:function(){return a.ParticipantAttributeEventArgs}}),Object.defineProperty(t,"ParticipantEventArgs",{enumerable:!0,get:function(){return a.ParticipantEventArgs}}),Object.defineProperty(t,"ParticipantsListEventArgs",{enumerable:!0,get:function(){return a.ParticipantsListEventArgs}}),Object.defineProperty(t,"ConversationTranslatorCommandTypes",{enumerable:!0,get:function(){return s.ConversationTranslatorCommandTypes}}),Object.defineProperty(t,"ConversationTranslatorMessageTypes",{enumerable:!0,get:function(){return s.ConversationTranslatorMessageTypes}}),Object.defineProperty(t,"InternalParticipants",{enumerable:!0,get:function(){return s.InternalParticipants}});var r=n(1978),i=n(710),o=n(1979),a=n(1241),s=n(845)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConversationManager=void 0;var g=n(86),m=n(19),y=n(710),r=function(){function e(){}var t=e.prototype;return t.createOrJoin=function(e,t,o,a){try{g.Contracts.throwIfNullOrUndefined(e,"args");var n=e.getProperty(m.PropertyId.SpeechServiceConnection_RecoLanguage,y.ConversationTranslatorConfig.defaultLanguageCode),r=e.getProperty(m.PropertyId.ConversationTranslator_Name),i=e.getProperty(m.PropertyId.ConversationTranslator_Host,y.ConversationTranslatorConfig.host),s=e.getProperty(m.PropertyId.ConversationTranslator_CorrelationId),u=e.getProperty(m.PropertyId.SpeechServiceConnection_Key),c=e.getProperty(m.PropertyId.SpeechServiceConnection_Region),l=e.getProperty(m.PropertyId.SpeechServiceAuthorization_Token);g.Contracts.throwIfNullOrWhitespace(n,"languageCode"),g.Contracts.throwIfNullOrWhitespace(r,"nickname"),g.Contracts.throwIfNullOrWhitespace(i,"endpointHost");var p={};p[y.ConversationTranslatorConfig.params.apiVersion]=y.ConversationTranslatorConfig.apiVersion,p[y.ConversationTranslatorConfig.params.languageCode]=n,p[y.ConversationTranslatorConfig.params.nickname]=r;var f={};s&&(f[y.ConversationTranslatorConfig.params.correlationId]=s),f[y.ConversationTranslatorConfig.params.clientAppId]=y.ConversationTranslatorConfig.clientAppId,void 0!==t?p[y.ConversationTranslatorConfig.params.roomId]=t:(g.Contracts.throwIfNullOrUndefined(c,y.ConversationTranslatorConfig.strings.authInvalidSubscriptionRegion),f[y.ConversationTranslatorConfig.params.subscriptionRegion]=c,u?f[y.ConversationTranslatorConfig.params.subscriptionKey]=u:l?f[y.ConversationTranslatorConfig.params.authorization]="Bearer ".concat(l):g.Contracts.throwIfNullOrUndefined(u,y.ConversationTranslatorConfig.strings.authInvalidSubscriptionKey));var d={};d.headers=f;var h="https://".concat(i).concat(y.ConversationTranslatorConfig.restPath);(0,y.request)("post",h,p,null,d,function(t){var e=(0,y.extractHeaderValue)(y.ConversationTranslatorConfig.params.requestId,t.headers);if(t.ok){var n=JSON.parse(t.data);if(n&&(n.requestId=e),o){try{o(n)}catch(e){a&&a(e)}o=void 0}}else if(a){var r,i=y.ConversationTranslatorConfig.strings.invalidCreateJoinConversationResponse.replace("{status}",t.status.toString());try{r=JSON.parse(t.data),i+=" [".concat(r.error.code,": ").concat(r.error.message,"]")}catch(e){i+=" [".concat(t.data,"]")}e&&(i+=" ".concat(e)),a(i)}})}catch(e){if(a)if(e instanceof Error){var v=e;a(v.name+": "+v.message)}else a(e)}},t.leave=function(e,t,n,r){try{g.Contracts.throwIfNullOrUndefined(e,y.ConversationTranslatorConfig.strings.invalidArgs.replace("{arg}","config")),g.Contracts.throwIfNullOrWhitespace(t,y.ConversationTranslatorConfig.strings.invalidArgs.replace("{arg}","token"));var i=e.getProperty(m.PropertyId.ConversationTranslator_Host,y.ConversationTranslatorConfig.host),o=e.getProperty(m.PropertyId.ConversationTranslator_CorrelationId),a={};a[y.ConversationTranslatorConfig.params.apiVersion]=y.ConversationTranslatorConfig.apiVersion,a[y.ConversationTranslatorConfig.params.sessionToken]=t;var s={};o&&(s[y.ConversationTranslatorConfig.params.correlationId]=o);var u={};u.headers=s;var c="https://".concat(i).concat(y.ConversationTranslatorConfig.restPath);(0,y.request)("delete",c,a,null,u,function(e){if(e.ok,n){try{n()}catch(e){r&&r(e)}n=void 0}})}catch(e){if(r)if(e instanceof Error){var l=e;r(l.name+": "+l.message)}else r(e)}},e}();t.ConversationManager=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConversationTranslatorRecognizer=void 0;var r=n(39),a=n(86),i=n(19),o=n(1980),s=n(1982),u=n(845),c=n(710);function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var p=function(i){function e(e,t){var n,r=e;return a.Contracts.throwIfNull(r,"speechConfig"),(n=i.call(this,t,r.properties,new o.ConversationConnectionFactory)||this).privIsDisposed=!1,n.privProperties=r.properties.clone(),n}!function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(e,i);var t=e.prototype;return t.isDisposed=function(){return this.privIsDisposed},t.connect=function(e,t,n){try{a.Contracts.throwIfDisposed(this.privIsDisposed),a.Contracts.throwIfNullOrWhitespace(e,"token"),this.privReco.conversationTranslatorToken=e,this.privReco.connectAsync(t,n)}catch(e){if(n)if(e instanceof Error){var r=e;n(r.name+": "+r.message)}else n(e)}},t.disconnect=function(e,t){try{a.Contracts.throwIfDisposed(this.privIsDisposed),this.privRoom=void 0,this.privReco.disconnectAsync(e,t)}catch(e){if(t)if(e instanceof Error){var n=e;t(n.name+": "+n.message)}else t(e);this.dispose(!0)}},t.sendMessageRequest=function(e,t,n){try{a.Contracts.throwIfDisposed(this.privIsDisposed),a.Contracts.throwIfNullOrWhitespace(this.privRoom.roomId,"conversationId"),a.Contracts.throwIfNullOrWhitespace(this.privRoom.participantId,"participantId"),a.Contracts.throwIfNullOrWhitespace(e,"message");var r={participantId:this.privRoom.participantId,roomId:this.privRoom.roomId,text:e,type:u.ConversationTranslatorMessageTypes.instantMessage};this.sendMessage(JSON.stringify(r),t,n)}catch(e){if(n)if(e instanceof Error){var i=e;n(i.name+": "+i.message)}else n(e);this.dispose(!0)}},t.sendLockRequest=function(e,t,n){try{a.Contracts.throwIfDisposed(this.privIsDisposed),a.Contracts.throwIfNullOrWhitespace(this.privRoom.roomId,"conversationId"),a.Contracts.throwIfNullOrWhitespace(this.privRoom.participantId,"participantId"),a.Contracts.throwIfNullOrUndefined(e,"isLocked");var r={command:u.ConversationTranslatorCommandTypes.setLockState,participantId:this.privRoom.participantId,roomid:this.privRoom.roomId,type:u.ConversationTranslatorMessageTypes.participantCommand,value:e};this.sendMessage(JSON.stringify(r),t,n)}catch(e){if(n)if(e instanceof Error){var i=e;n(i.name+": "+i.message)}else n(e);this.dispose(!0)}},t.sendMuteAllRequest=function(e,t,n){try{a.Contracts.throwIfDisposed(this.privIsDisposed),a.Contracts.throwIfNullOrWhitespace(this.privRoom.roomId,"conversationId"),a.Contracts.throwIfNullOrWhitespace(this.privRoom.participantId,"participantId"),a.Contracts.throwIfNullOrUndefined(e,"isMuted");var r={command:u.ConversationTranslatorCommandTypes.setMuteAll,participantId:this.privRoom.participantId,roomid:this.privRoom.roomId,type:u.ConversationTranslatorMessageTypes.participantCommand,value:e};this.sendMessage(JSON.stringify(r),t,n)}catch(e){if(n)if(e instanceof Error){var i=e;n(i.name+": "+i.message)}else n(e);this.dispose(!0)}},t.sendMuteRequest=function(e,t,n,r){try{a.Contracts.throwIfDisposed(this.privIsDisposed),a.Contracts.throwIfNullOrWhitespace(this.privRoom.roomId,"conversationId"),a.Contracts.throwIfNullOrWhitespace(e,"participantId"),a.Contracts.throwIfNullOrUndefined(t,"isMuted");var i={command:u.ConversationTranslatorCommandTypes.setMute,participantId:e,roomid:this.privRoom.roomId,type:u.ConversationTranslatorMessageTypes.participantCommand,value:t};this.sendMessage(JSON.stringify(i),n,r)}catch(e){if(r)if(e instanceof Error){var o=e;r(o.name+": "+o.message)}else r(e);this.dispose(!0)}},t.sendEjectRequest=function(e,t,n){try{a.Contracts.throwIfDisposed(this.privIsDisposed),a.Contracts.throwIfNullOrWhitespace(this.privRoom.roomId,"conversationId"),a.Contracts.throwIfNullOrWhitespace(e,"participantId");var r={command:u.ConversationTranslatorCommandTypes.ejectParticipant,participantId:e,roomid:this.privRoom.roomId,type:u.ConversationTranslatorMessageTypes.participantCommand};if(this.sendMessage(JSON.stringify(r),t,n),t)try{t()}catch(e){n&&n(e)}}catch(e){if(n)if(e instanceof Error){var i=e;n(i.name+": "+i.message)}else n(e);this.dispose(!0)}},t.sendChangeNicknameRequest=function(e,t,n){try{a.Contracts.throwIfDisposed(this.privIsDisposed),a.Contracts.throwIfNullOrWhitespace(this.privRoom.roomId,"conversationId"),a.Contracts.throwIfNullOrWhitespace(e,"nickname");var r={command:u.ConversationTranslatorCommandTypes.changeNickname,nickname:e,participantId:this.privRoom.participantId,roomid:this.privRoom.roomId,type:u.ConversationTranslatorMessageTypes.participantCommand,value:e};this.sendMessage(JSON.stringify(r),t,n)}catch(e){if(n)if(e instanceof Error){var i=e;n(i.name+": "+i.message)}else n(e);this.dispose(!0)}},t.close=function(){a.Contracts.throwIfDisposed(this.privIsDisposed),this.dispose(!0)},t.dispose=function(e){this.privIsDisposed||e&&(this.privIsDisposed=!0,i.prototype.dispose.call(this,e))},t.createRecognizerConfig=function(e){return new r.RecognizerConfig(e,this.privProperties)},t.createServiceRecognizer=function(e,t,n,r){var i=n;return new s.ConversationServiceAdapter(e,t,i,r,this)},t.sendMessage=function(e,t,n){var r=this.privReco;(0,c.PromiseToEmptyCallback)(r.sendMessageAsync(e),t,n)},function(e,t,n){t&&l(e.prototype,t),n&&l(e,n)}(e,[{key:"conversation",set:function(e){this.privRoom=e}},{key:"speechRecognitionLanguage",get:function(){return this.privSpeechRecognitionLanguage}},{key:"properties",get:function(){return this.privProperties}}]),e}(i.Recognizer);t.ConversationTranslatorRecognizer=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConversationConnectionFactory=void 0;var u=n(225),c=n(44),l=n(86),p=n(19),r=n(595),f=n(710),d=n(1981);var i=function(e){function t(){return e.apply(this,arguments)||this}return function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(t,e),t.prototype.create=function(e,t,n){var r=e.parameters.getProperty(p.PropertyId.ConversationTranslator_Host,f.ConversationTranslatorConfig.host),i=e.parameters.getProperty(p.PropertyId.ConversationTranslator_CorrelationId,(0,c.createGuid)()),o="wss://".concat(r).concat(f.ConversationTranslatorConfig.webSocketPath),a=e.parameters.getProperty(p.PropertyId.ConversationTranslator_Token,void 0);l.Contracts.throwIfNullOrUndefined(a,"token");var s={};return s[f.ConversationTranslatorConfig.params.apiVersion]=f.ConversationTranslatorConfig.apiVersion,s[f.ConversationTranslatorConfig.params.token]=a,s[f.ConversationTranslatorConfig.params.correlationId]=i,new u.WebsocketConnection(o,s,{},new d.ConversationWebsocketMessageFormatter,u.ProxyInfo.fromRecognizerConfig(e),n)},t}(r.ConnectionFactoryBase);t.ConversationConnectionFactory=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConversationWebsocketMessageFormatter=void 0;var r=n(44),i=n(1240);t.ConversationWebsocketMessageFormatter=function(){this.toConnectionMessage=function(e){var t=new r.Deferred;try{if(e.messageType===r.MessageType.Text){var n=new i.ConversationConnectionMessage(e.messageType,e.textContent,{},e.id);t.resolve(n)}else e.messageType===r.MessageType.Binary&&t.resolve(new i.ConversationConnectionMessage(e.messageType,e.binaryContent,void 0,e.id))}catch(e){t.reject("Error formatting the message. Error: ".concat(e))}return t.promise()},this.fromConnectionMessage=function(e){var t=new r.Deferred;try{if(e.messageType===r.MessageType.Text){var n="".concat(e.textBody?e.textBody:"");t.resolve(new r.RawWebsocketMessage(r.MessageType.Text,n,e.id))}}catch(e){t.reject("Error formatting the message. ".concat(e))}return t.promise()}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConversationServiceAdapter=void 0;var m=n(44),a=n(839),y=n(19),r=n(39),s=n(1240),u=n(1983),b=n(1241),w=n(845),S=n(1984);var i=function(o){function e(e,t,n,r,i){var g;return(g=o.call(this,e,t,n,r,i)||this).privLastPartialUtteranceId="",g.sendMessageAsync=function(t){var n=new a.Sink;return g.fetchConversationConnection().continueWith(function(e){try{e.isError?n.reject(e.error):e.result.send(new s.ConversationConnectionMessage(m.MessageType.Text,t)).continueWith(function(e){try{e.isError?n.reject(e.error):n.resolve(e.result)}catch(e){n.reject("Unhandled inner error: ".concat(e))}})}catch(e){n.reject("Unhandled error: ".concat(e))}}),new m.Promise(n)},g.noOp=function(){},g.receiveConversationMessageOverride=function(e,t){var v=new m.Deferred;return g.fetchConversationConnection().on(function(e){return e.read().onSuccessContinueWithPromise(function(e){var t=g.isDisposed(),n=!g.isDisposed()&&g.terminateMessageLoop,r=g.privConversationRequestSession.sessionId,i=!1;if(t||n)return v.resolve(void 0),m.PromiseHelper.fromResult(void 0);if(!e)return g.receiveConversationMessageOverride();try{switch(e.conversationMessageType.toLowerCase()){case"info":case"participant_command":case"command":var o=S.CommandResponsePayload.fromJSON(e.textBody);switch(o.command.toLowerCase()){case"participantlist":var a=S.ParticipantsListPayloadResponse.fromJSON(e.textBody),s=a.participants.map(function(e){return{avatar:e.avatar,displayName:e.nickname,id:e.participantId,isHost:e.ishost,isMuted:e.ismuted,isUsingTts:e.usetts,preferredLanguage:e.locale}});g.privConversationServiceConnector.participantsListReceived&&g.privConversationServiceConnector.participantsListReceived(g.privConversationServiceConnector,new b.ParticipantsListEventArgs(a.roomid,a.token,a.translateTo,a.profanityFilter,a.roomProfanityFilter,a.roomLocked,a.muteAll,s,r));break;case"settranslatetolanguages":g.privConversationServiceConnector.participantUpdateCommandReceived&&g.privConversationServiceConnector.participantUpdateCommandReceived(g.privConversationServiceConnector,new b.ParticipantAttributeEventArgs(o.participantId,w.ConversationTranslatorCommandTypes.setTranslateToLanguages,o.value,r));break;case"setprofanityfiltering":g.privConversationServiceConnector.participantUpdateCommandReceived&&g.privConversationServiceConnector.participantUpdateCommandReceived(g.privConversationServiceConnector,new b.ParticipantAttributeEventArgs(o.participantId,w.ConversationTranslatorCommandTypes.setProfanityFiltering,o.value,r));break;case"setmute":g.privConversationServiceConnector.participantUpdateCommandReceived&&g.privConversationServiceConnector.participantUpdateCommandReceived(g.privConversationServiceConnector,new b.ParticipantAttributeEventArgs(o.participantId,w.ConversationTranslatorCommandTypes.setMute,o.value,r));break;case"setmuteall":g.privConversationServiceConnector.muteAllCommandReceived&&g.privConversationServiceConnector.muteAllCommandReceived(g.privConversationServiceConnector,new b.MuteAllEventArgs(o.value,r));break;case"roomexpirationwarning":g.privConversationServiceConnector.conversationExpiration&&g.privConversationServiceConnector.conversationExpiration(g.privConversationServiceConnector,new y.ConversationExpirationEventArgs(o.value,g.privConversationRequestSession.sessionId));break;case"setusetts":g.privConversationServiceConnector.participantUpdateCommandReceived&&g.privConversationServiceConnector.participantUpdateCommandReceived(g.privConversationServiceConnector,new b.ParticipantAttributeEventArgs(o.participantId,w.ConversationTranslatorCommandTypes.setUseTTS,o.value,r));break;case"setlockstate":g.privConversationServiceConnector.lockRoomCommandReceived&&g.privConversationServiceConnector.lockRoomCommandReceived(g.privConversationServiceConnector,new b.LockRoomEventArgs(o.value,r));break;case"changenickname":g.privConversationServiceConnector.participantUpdateCommandReceived&&g.privConversationServiceConnector.participantUpdateCommandReceived(g.privConversationServiceConnector,new b.ParticipantAttributeEventArgs(o.participantId,w.ConversationTranslatorCommandTypes.changeNickname,o.nickname,r));break;case"joinsession":var u=S.ParticipantPayloadResponse.fromJSON(e.textBody),c={avatar:u.avatar,displayName:u.nickname,id:u.participantId,isHost:u.ishost,isMuted:u.ismuted,isUsingTts:u.usetts,preferredLanguage:u.locale};g.privConversationServiceConnector.participantJoinCommandReceived&&g.privConversationServiceConnector.participantJoinCommandReceived(g.privConversationServiceConnector,new b.ParticipantEventArgs(c,r));break;case"leavesession":var l={id:o.participantId};g.privConversationServiceConnector.participantLeaveCommandReceived&&g.privConversationServiceConnector.participantLeaveCommandReceived(g.privConversationServiceConnector,new b.ParticipantEventArgs(l,r));break;case"disconnectsession":o.participantId}break;case"partial":case"final":var p=S.SpeechResponsePayload.fromJSON(e.textBody),f=new y.ConversationTranslationResult(p.participantId,g.getTranslations(p.translations),p.language,void 0,void 0,p.recognition,void 0,void 0,e.textBody,void 0);p.isFinal?(void 0!==f.text&&0<f.text.length?i=!0:p.id===g.privLastPartialUtteranceId&&(i=!0),i&&g.privConversationServiceConnector.translationReceived&&g.privConversationServiceConnector.translationReceived(g.privConversationServiceConnector,new b.ConversationReceivedTranslationEventArgs(w.ConversationTranslatorMessageTypes.final,f,r))):void 0!==f.text&&(g.privLastPartialUtteranceId=p.id,g.privConversationServiceConnector.translationReceived&&g.privConversationServiceConnector.translationReceived(g.privConversationServiceConnector,new b.ConversationReceivedTranslationEventArgs(w.ConversationTranslatorMessageTypes.partial,f,r)));break;case"translated_message":var d=S.TextResponsePayload.fromJSON(e.textBody),h=new y.ConversationTranslationResult(d.participantId,g.getTranslations(d.translations),d.language,void 0,void 0,d.originalText,void 0,void 0,void 0,e.textBody,void 0);g.privConversationServiceConnector.translationReceived&&g.privConversationServiceConnector.translationReceived(g.privConversationServiceConnector,new b.ConversationReceivedTranslationEventArgs(w.ConversationTranslatorMessageTypes.instantMessage,h,r))}}catch(e){}return g.receiveConversationMessageOverride()})},function(e){g.terminateMessageLoop=!0}),v.promise()},g.fetchConversationConnection=function(){return g.configConnection()},g.privConversationServiceConnector=i,g.privConversationAuthentication=e,g.receiveMessageOverride=g.receiveConversationMessageOverride,g.recognizeOverride=g.noOp,g.connectImplOverride=g.conversationConnectImpl,g.configConnectionOverride=g.configConnection,g.fetchConnectionOverride=g.fetchConversationConnection,g.disconnectOverride=g.privDisconnect,g.privConversationRequestSession=new u.ConversationRequestSession((0,m.createNoDashGuid)()),g.privConversationConnectionFactory=t,g.privConversationIsDisposed=!1,g}!function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(e,o);var t=e.prototype;return t.isDisposed=function(){return this.privConversationIsDisposed},t.dispose=function(t){this.privConversationIsDisposed=!0,this.privConnectionConfigPromise&&this.privConnectionConfigPromise.onSuccessContinueWith(function(e){e.dispose(t)})},t.sendMessage=function(t){this.fetchConversationConnection().onSuccessContinueWith(function(e){e.send(new s.ConversationConnectionMessage(m.MessageType.Text,t))})},t.privDisconnect=function(){this.terminateMessageLoop||(this.cancelRecognition(this.privConversationRequestSession.sessionId,this.privConversationRequestSession.requestId,y.CancellationReason.Error,y.CancellationErrorCode.NoError,"Disconnecting"),this.terminateMessageLoop=!0,this.privConversationConnectionPromise.result().isCompleted?this.privConversationConnectionPromise.result().isError||(this.privConversationConnectionPromise.result().result.dispose(),this.privConversationConnectionPromise=null):this.privConversationConnectionPromise.onSuccessContinueWith(function(e){e.dispose()}))},t.processTypeSpecificMessages=function(e,t,n){return!0},t.cancelRecognition=function(e,t,n,r,i){this.terminateMessageLoop=!0;var o=new y.ConversationTranslationCanceledEventArgs(n,i,r,void 0,e);try{this.privConversationServiceConnector.canceled&&this.privConversationServiceConnector.canceled(this.privConversationServiceConnector,o)}catch(e){}},t.conversationConnectImpl=function(){var r=this,i=0<arguments.length&&void 0!==arguments[0]&&arguments[0];if(this.privConversationConnectionPromise)return this.privConversationConnectionPromise.result().isCompleted&&(this.privConversationConnectionPromise.result().isError||this.privConversationConnectionPromise.result().result.state()===m.ConnectionState.Disconnected)?(this.privConnectionId=null,this.privConversationConnectionPromise=null,this.terminateMessageLoop=!0,this.conversationConnectImpl()):this.privConversationConnectionPromise;this.privConversationAuthFetchEventId=(0,m.createNoDashGuid)(),void 0===this.privConnectionId&&(this.privConnectionId=(0,m.createNoDashGuid)()),this.privConversationRequestSession.onPreConnectionStart(this.privConversationAuthFetchEventId,this.privConnectionId);var e=i?this.privConversationAuthentication.fetchOnExpiry(this.privConversationAuthFetchEventId):this.privConversationAuthentication.fetch(this.privConversationAuthFetchEventId);return this.privConversationConnectionPromise=e.continueWithPromise(function(e){if(e.isError)throw r.privConversationRequestSession.onAuthCompleted(!0,e.error),new Error(e.error);r.privConversationRequestSession.onAuthCompleted(!1);var n=r.privConversationConnectionFactory.create(r.privRecognizerConfig,e.result,r.privConnectionId);return n.events.attach(function(e){r.connectionEvents.onEvent(e)}),n.open().onSuccessContinueWithPromise(function(e){if(200!==e.statusCode)return 403!==e.statusCode||i?(r.privConversationRequestSession.onConnectionEstablishCompleted(e.statusCode,e.reason),m.PromiseHelper.fromError("Unable to contact server. StatusCode: ".concat(e.statusCode,", ").concat(r.privRecognizerConfig.parameters.getProperty(y.PropertyId.SpeechServiceConnection_Endpoint)," Reason: ").concat(e.reason))):r.conversationConnectImpl(!0);r.privConversationRequestSession.onPreConnectionStart(r.privConversationAuthFetchEventId,r.privConnectionId),r.privConversationRequestSession.onConnectionEstablishCompleted(e.statusCode);var t=new y.SessionEventArgs(r.privConversationRequestSession.sessionId);return r.privConversationServiceConnector.connectionOpened&&r.privConversationServiceConnector.connectionOpened(r.privConversationServiceConnector,t),m.PromiseHelper.fromResult(n)})}),this.privConnectionLoop=this.startMessageLoop(),this.privConversationConnectionPromise},t.startMessageLoop=function(){var t=this;return this.terminateMessageLoop=!1,this.receiveConversationMessageOverride().on(function(e){return!0},function(e){t.cancelRecognition(t.privRequestSession?t.privRequestSession.sessionId:"",t.privRequestSession?t.privRequestSession.requestId:"",y.CancellationReason.Error,y.CancellationErrorCode.RuntimeError,e)})},t.configConnection=function(){return this.privConnectionConfigPromise?this.privConnectionConfigPromise.result().isCompleted&&(this.privConnectionConfigPromise.result().isError||this.privConnectionConfigPromise.result().result.state()===m.ConnectionState.Disconnected)?(this.privConnectionConfigPromise=null,this.configConnection()):this.privConnectionConfigPromise:this.terminateMessageLoop?m.PromiseHelper.fromResult(void 0):(this.privConnectionConfigPromise=this.conversationConnectImpl().onSuccessContinueWith(function(e){return e}),this.privConnectionConfigPromise)},t.getTranslations=function(e){var t;if(void 0!==e){t=new y.Translations;var n=!0,r=!1,i=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;t.set(s.lang,s.translation)}}catch(e){r=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}}return t},e}(r.ServiceRecognizerBase);t.ConversationServiceAdapter=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConversationRequestSession=void 0;var r=n(44);function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=function(){function e(e){var a=this;this.privIsDisposed=!1,this.privDetachables=new Array,this.onPreConnectionStart=function(e,t){a.privSessionId=t},this.onAuthCompleted=function(e,t){e&&a.onComplete()},this.onConnectionEstablishCompleted=function(e,t){200!==e&&403===e&&a.onComplete()},this.onServiceTurnEndResponse=function(e){e?a.privRequestId=(0,r.createNoDashGuid)():a.onComplete()},this.dispose=function(e){if(!a.privIsDisposed){var t=a.privIsDisposed=!0,n=!1,r=void 0;try{for(var i,o=a.privDetachables[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){i.value.detach()}}catch(e){n=!0,r=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw r}}}},this.onComplete=function(){},this.privSessionId=e,this.privRequestId=(0,r.createNoDashGuid)(),this.privRequestCompletionDeferral=new r.Deferred}return function(e,t,n){t&&i(e.prototype,t),n&&i(e,n)}(e,[{key:"sessionId",get:function(){return this.privSessionId}},{key:"requestId",get:function(){return this.privRequestId}},{key:"completionPromise",get:function(){return this.privRequestCompletionDeferral.promise()}}]),e}();t.ConversationRequestSession=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"CommandResponsePayload",{enumerable:!0,get:function(){return r.CommandResponsePayload}}),Object.defineProperty(t,"ParticipantsListPayloadResponse",{enumerable:!0,get:function(){return i.ParticipantsListPayloadResponse}}),Object.defineProperty(t,"ParticipantPayloadResponse",{enumerable:!0,get:function(){return i.ParticipantPayloadResponse}}),Object.defineProperty(t,"SpeechResponsePayload",{enumerable:!0,get:function(){return o.SpeechResponsePayload}}),Object.defineProperty(t,"TextResponsePayload",{enumerable:!0,get:function(){return o.TextResponsePayload}});var r=n(1985),i=n(1986),o=n(1987)},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0}),t.CommandResponsePayload=void 0;var i=function(){function t(e){this.privCommandResponse=JSON.parse(e)}return t.fromJSON=function(e){return new t(e)},function(e,t,n){t&&r(e.prototype,t),n&&r(e,n)}(t,[{key:"type",get:function(){return this.privCommandResponse.type}},{key:"command",get:function(){return this.privCommandResponse.command}},{key:"id",get:function(){return this.privCommandResponse.id}},{key:"nickname",get:function(){return this.privCommandResponse.nickname}},{key:"participantId",get:function(){return this.privCommandResponse.participantId}},{key:"roomid",get:function(){return this.privCommandResponse.roomid}},{key:"value",get:function(){return this.privCommandResponse.value}}]),t}();t.CommandResponsePayload=i},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}Object.defineProperty(t,"__esModule",{value:!0}),t.ParticipantPayloadResponse=t.ParticipantsListPayloadResponse=void 0;var o=function(){function t(e){this.privParticipantsPayloadResponse=JSON.parse(e)}return t.fromJSON=function(e){return new t(e)},i(t,[{key:"roomid",get:function(){return this.privParticipantsPayloadResponse.roomid}},{key:"id",get:function(){return this.privParticipantsPayloadResponse.id}},{key:"command",get:function(){return this.privParticipantsPayloadResponse.command}},{key:"participants",get:function(){return this.privParticipantsPayloadResponse.participants}},{key:"token",get:function(){return this.privParticipantsPayloadResponse.token}},{key:"translateTo",get:function(){return this.privParticipantsPayloadResponse.translateTo}},{key:"profanityFilter",get:function(){return this.privParticipantsPayloadResponse.profanityFilter}},{key:"roomProfanityFilter",get:function(){return this.privParticipantsPayloadResponse.roomProfanityFilter}},{key:"roomLocked",get:function(){return this.privParticipantsPayloadResponse.roomLocked}},{key:"muteAll",get:function(){return this.privParticipantsPayloadResponse.muteAll}},{key:"type",get:function(){return this.privParticipantsPayloadResponse.type}}]),t}();t.ParticipantsListPayloadResponse=o;var a=function(){function t(e){this.privParticipantPayloadResponse=JSON.parse(e)}return t.fromJSON=function(e){return new t(e)},i(t,[{key:"nickname",get:function(){return this.privParticipantPayloadResponse.nickname}},{key:"locale",get:function(){return this.privParticipantPayloadResponse.locale}},{key:"usetts",get:function(){return this.privParticipantPayloadResponse.usetts}},{key:"ismuted",get:function(){return this.privParticipantPayloadResponse.ismuted}},{key:"ishost",get:function(){return this.privParticipantPayloadResponse.ishost}},{key:"participantId",get:function(){return this.privParticipantPayloadResponse.participantId}},{key:"avatar",get:function(){return this.privParticipantPayloadResponse.avatar}}]),t}();t.ParticipantPayloadResponse=a},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}Object.defineProperty(t,"__esModule",{value:!0}),t.TextResponsePayload=t.SpeechResponsePayload=void 0;var o=function(){function t(e){this.privSpeechResponse=JSON.parse(e)}return t.fromJSON=function(e){return new t(e)},i(t,[{key:"recognition",get:function(){return this.privSpeechResponse.recognition}},{key:"translations",get:function(){return this.privSpeechResponse.translations}},{key:"id",get:function(){return this.privSpeechResponse.id}},{key:"language",get:function(){return this.privSpeechResponse.language}},{key:"nickname",get:function(){return this.privSpeechResponse.nickname}},{key:"participantId",get:function(){return this.privSpeechResponse.participantId}},{key:"roomid",get:function(){return this.privSpeechResponse.roomid}},{key:"timestamp",get:function(){return this.privSpeechResponse.timestamp}},{key:"type",get:function(){return this.privSpeechResponse.type}},{key:"isFinal",get:function(){return"final"===this.privSpeechResponse.type}}]),t}();t.SpeechResponsePayload=o;var a=function(){function t(e){this.privTextResponse=JSON.parse(e)}return t.fromJSON=function(e){return new t(e)},i(t,[{key:"originalText",get:function(){return this.privTextResponse.originalText}},{key:"translations",get:function(){return this.privTextResponse.translations}},{key:"id",get:function(){return this.privTextResponse.id}},{key:"language",get:function(){return this.privTextResponse.language}},{key:"nickname",get:function(){return this.privTextResponse.nickname}},{key:"participantId",get:function(){return this.privTextResponse.participantId}},{key:"roomid",get:function(){return this.privTextResponse.roomid}},{key:"timestamp",get:function(){return this.privTextResponse.timestamp}},{key:"type",get:function(){return this.privTextResponse.type}}]),t}();t.TextResponsePayload=a},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0}),t.SynthesisAudioMetadata=void 0;var i=function(){function t(e){this.privSynthesisAudioMetadata=JSON.parse(e)}return t.fromJSON=function(e){return new t(e)},function(e,t,n){t&&r(e.prototype,t),n&&r(e,n)}(t,[{key:"Metadata",get:function(){return this.privSynthesisAudioMetadata.Metadata}}]),t}();t.SynthesisAudioMetadata=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SynthesisTurn=void 0;var r=n(44),i=n(594),o=n(1242),a=n(1990);function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var u=function(){function e(){var n=this;this.privIsDisposed=!1,this.privIsSynthesizing=!1,this.privIsSynthesisEnded=!1,this.privBytesReceived=0,this.privTextOffset=0,this.privNextSearchTextIndex=0,this.onPreConnectionStart=function(e,t){n.privAuthFetchEventId=e,n.onEvent(new a.ConnectingToSynthesisServiceEvent(n.privRequestId,n.privAuthFetchEventId))},this.onAuthCompleted=function(e,t){e&&n.onComplete()},this.onConnectionEstablishCompleted=function(e,t){if(200===e)return n.onEvent(new a.SynthesisStartedEvent(n.requestId,n.privAuthFetchEventId)),void(n.privBytesReceived=0);403===e&&n.onComplete()},this.onServiceResponseMessage=function(e){var t=JSON.parse(e);n.streamId=t.audio.streamId},this.onServiceTurnEndResponse=function(){n.privTurnDeferral.resolve(!0),n.onComplete()},this.onServiceTurnStartResponse=function(){n.privTurnDeferral.state()===r.PromiseState.None&&n.privTurnDeferral.reject("Another turn started before current completed."),n.privTurnDeferral=new r.Deferred},this.dispose=function(e){n.privIsDisposed||(n.privIsDisposed=!0)},this.onEvent=function(e){r.Events.instance.onEvent(e)},this.onComplete=function(){n.privIsSynthesizing&&(n.privIsSynthesizing=!1,n.privIsSynthesisEnded=!0,n.privAudioOutputStream.close(),void 0!==n.privTurnAudioDestination&&(n.privTurnAudioDestination.close(),n.privTurnAudioDestination=void 0))},this.privRequestId=(0,r.createNoDashGuid)(),this.privAudioNodeId=(0,r.createNoDashGuid)(),this.privTurnDeferral=new r.Deferred,this.privTurnDeferral.resolve(!0)}var t=e.prototype;return t.startNewSynthesis=function(e,t,n,r){this.privIsSynthesisEnded=!1,this.privIsSynthesizing=!0,this.privRequestId=e,this.privRawText=t,this.privIsSSML=n,this.privAudioOutputStream=new i.PullAudioOutputStreamImpl,this.privAudioOutputStream.format=this.privAudioOutputFormat,this.privReceivedAudio=null,this.privReceivedAudioWithHeader=null,this.privBytesReceived=0,this.privTextOffset=0,void(this.privNextSearchTextIndex=0)!==r&&(this.privTurnAudioDestination=r,this.privTurnAudioDestination.format=this.privAudioOutputFormat),this.onEvent(new a.SynthesisTriggeredEvent(this.requestId,void 0,void 0===r?void 0:r.id()))},t.onAudioChunkReceived=function(e){this.isSynthesizing&&(this.privAudioOutputStream.write(e),this.privBytesReceived+=e.byteLength,void 0!==this.privTurnAudioDestination&&this.privTurnAudioDestination.write(e))},t.onWordBoundaryEvent=function(e){this.updateTextOffset(e)},t.onStopSynthesizing=function(){this.onComplete()},t.updateTextOffset=function(e){0<=this.privTextOffset&&(this.privTextOffset=this.privRawText.indexOf(e,this.privNextSearchTextIndex),0<=this.privTextOffset&&(this.privNextSearchTextIndex=this.privTextOffset+e.length),this.privIsSSML&&this.privRawText.indexOf("<",this.privTextOffset+1)>this.privRawText.indexOf(">",this.privTextOffset+1)&&this.updateTextOffset(e))},t.readAllAudioFromStream=function(){if(this.privIsSynthesisEnded){this.privReceivedAudio=new ArrayBuffer(this.bytesReceived);try{this.privAudioOutputStream.read(this.privReceivedAudio)}catch(e){this.privReceivedAudio=new ArrayBuffer(0)}}},function(e,t,n){t&&s(e.prototype,t),n&&s(e,n)}(e,[{key:"requestId",get:function(){return this.privRequestId}},{key:"streamId",get:function(){return this.privStreamId},set:function(e){this.privStreamId=e}},{key:"audioOutputFormat",get:function(){return this.privAudioOutputFormat},set:function(e){this.privAudioOutputFormat=e}},{key:"turnCompletionPromise",get:function(){return this.privTurnDeferral.promise()}},{key:"isSynthesisEnded",get:function(){return this.privIsSynthesisEnded}},{key:"isSynthesizing",get:function(){return this.privIsSynthesizing}},{key:"currentTextOffset",get:function(){return this.privTextOffset}},{key:"bytesReceived",get:function(){return this.privBytesReceived}},{key:"allReceivedAudio",get:function(){return this.privReceivedAudio?this.privReceivedAudio:this.privIsSynthesisEnded?(this.readAllAudioFromStream(),this.allReceivedAudio):null}},{key:"allReceivedAudioWithHeader",get:function(){return this.privReceivedAudioWithHeader?this.privReceivedAudioWithHeader:this.privIsSynthesisEnded?this.audioOutputFormat.hasHeader?(this.privReceivedAudioWithHeader=o.SynthesisAdapterBase.addHeader(this.allReceivedAudio,this.audioOutputFormat),this.allReceivedAudioWithHeader):this.allReceivedAudio:null}}]),e}();t.SynthesisTurn=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SynthesisStartedEvent=t.ConnectingToSynthesisServiceEvent=t.SynthesisTriggeredEvent=t.SpeechSynthesisEvent=void 0;var o=n(44);function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}function s(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}var i=function(i){function e(e,t){var n,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:o.EventType.Info;return(n=i.call(this,e,r)||this).privRequestId=t,n}return s(e,i),a(e,[{key:"requestId",get:function(){return this.privRequestId}}]),e}(o.PlatformEvent),u=function(i){function e(e,t,n){var r;return(r=i.call(this,"SynthesisTriggeredEvent",e)||this).privSessionAudioDestinationId=t,r.privTurnAudioDestinationId=n,r}return s(e,i),a(e,[{key:"audioSessionDestinationId",get:function(){return this.privSessionAudioDestinationId}},{key:"audioTurnDestinationId",get:function(){return this.privTurnAudioDestinationId}}]),e}(t.SpeechSynthesisEvent=i);t.SynthesisTriggeredEvent=u;var c=function(r){function e(e,t){var n;return(n=r.call(this,"ConnectingToSynthesisServiceEvent",e)||this).privAuthFetchEventId=t,n}return s(e,r),a(e,[{key:"authFetchEventId",get:function(){return this.privAuthFetchEventId}}]),e}(i);t.ConnectingToSynthesisServiceEvent=c;var l=function(r){function e(e,t){var n;return(n=r.call(this,"SynthesisStartedEvent",e)||this).privAuthFetchEventId=t,n}return s(e,r),a(e,[{key:"authFetchEventId",get:function(){return this.privAuthFetchEventId}}]),e}(i);t.SynthesisStartedEvent=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SynthesizerConfig=t.SynthesisServiceType=void 0;var r,i,o=n(39);function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}t.SynthesisServiceType=r,(i=r||(t.SynthesisServiceType=r={}))[i.Standard=0]="Standard",i[i.Custom=1]="Custom";var s=function(){function e(e,t){this.privSynthesisServiceType=r.Standard,this.privSpeechServiceConfig=e||new o.SpeechServiceConfig(new o.Context(null)),this.privParameters=t}return function(e,t,n){t&&a(e.prototype,t),n&&a(e,n)}(e,[{key:"parameters",get:function(){return this.privParameters}},{key:"synthesisServiceType",get:function(){return this.privSynthesisServiceType},set:function(e){this.privSynthesisServiceType=e}},{key:"SpeechServiceConfig",get:function(){return this.privSpeechServiceConfig}}]),e}();t.SynthesizerConfig=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FileAudioSource=void 0;var r=n(39),s=n(44),u=n(593);function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=function(){function e(e,t){var o=this;this.privStreams={},this.turnOn=function(){if("undefined"==typeof FileReader){var e="Browser does not support FileReader.";return o.onEvent(new s.AudioSourceErrorEvent(e,"")),s.PromiseHelper.fromError(e)}if(o.privFile.name.lastIndexOf(".wav")===o.privFile.name.length-4)return o.onEvent(new s.AudioSourceInitializingEvent(o.privId)),o.onEvent(new s.AudioSourceReadyEvent(o.privId)),s.PromiseHelper.fromResult(!0);var t=o.privFile.name+" is not supported. Only WAVE files are allowed at the moment.";return o.onEvent(new s.AudioSourceErrorEvent(t,"")),s.PromiseHelper.fromError(t)},this.id=function(){return o.privId},this.attach=function(t){return o.onEvent(new s.AudioStreamNodeAttachingEvent(o.privId,t)),o.upload(t).onSuccessContinueWith(function(e){return o.onEvent(new s.AudioStreamNodeAttachedEvent(o.privId,t)),{detach:function(){e.close(),delete o.privStreams[t],o.onEvent(new s.AudioStreamNodeDetachedEvent(o.privId,t)),o.turnOff()},id:function(){return t},read:function(){return e.read()}}})},this.detach=function(e){e&&o.privStreams[e]&&(o.privStreams[e].close(),delete o.privStreams[e],o.onEvent(new s.AudioStreamNodeDetachedEvent(o.privId,e)))},this.turnOff=function(){for(var e in o.privStreams)if(e){var t=o.privStreams[e];t&&!t.isClosed&&t.close()}return o.onEvent(new s.AudioSourceOffEvent(o.privId)),s.PromiseHelper.fromResult(!0)},this.readHeader=function(){var e=o.privFile.slice(0,44),t=new FileReader,a=new s.Deferred;return t.onload=function(e){var t=e.target.result,n=new DataView(t);"RIFF"!==String.fromCharCode(n.getUint8(0),n.getUint8(1),n.getUint8(2),n.getUint8(3))&&a.reject("Invalid WAV header in file, RIFF was not found"),"WAVEfmt"!==String.fromCharCode(n.getUint8(8),n.getUint8(9),n.getUint8(10),n.getUint8(11),n.getUint8(12),n.getUint8(13),n.getUint8(14))&&a.reject("Invalid WAV header in file, WAVEfmt was not found");var r=n.getUint16(22,!0),i=n.getUint32(24,!0),o=n.getUint16(34,!0);a.resolve(u.AudioStreamFormat.getWaveFormatPCM(i,o,r))},t.readAsArrayBuffer(e),a.promise()},this.upload=function(i){return o.turnOn().onSuccessContinueWithPromise(function(e){return o.privAudioFormatPromise.onSuccessContinueWith(function(e){new s.ChunkedArrayBufferStream(3200);var t=new FileReader,n=new s.ChunkedArrayBufferStream(e.avgBytesPerSec/10,i);o.privStreams[i]=n;t.onload=function(e){n.isClosed||(n.writeStreamChunk({buffer:t.result,isEnd:!1,timeReceived:Date.now()}),n.close())},t.onerror=function(e){var t="Error occurred while processing '".concat(o.privFile.name,"'. ").concat(e);throw o.onEvent(new s.AudioStreamNodeErrorEvent(o.privId,i,t)),new Error(t)};var r=o.privFile.slice(44);return t.readAsArrayBuffer(r),n.getReader()})})},this.onEvent=function(e){o.privEvents.onEvent(e),s.Events.instance.onEvent(e)},this.privId=t||(0,s.createNoDashGuid)(),this.privEvents=new s.EventSource,this.privFile=e,this.privAudioFormatPromise=this.readHeader()}return function(e,t,n){t&&i(e.prototype,t),n&&i(e,n)}(e,[{key:"format",get:function(){return this.privAudioFormatPromise}},{key:"events",get:function(){return this.privEvents}},{key:"deviceInfo",get:function(){return this.privAudioFormatPromise.onSuccessContinueWithPromise(function(e){return s.PromiseHelper.fromResult({bitspersample:e.bitsPerSample,channelcount:e.channels,connectivity:r.connectivity.Unknown,manufacturer:"Speech SDK",model:"File",samplerate:e.samplesPerSec,type:r.type.File})})}}]),e}();t.FileAudioSource=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PcmRecorder=void 0;var s=n(44),r=function(){function e(){var a=this;this.record=function(r,t,i){var e=function(){var t=0;try{return r.createScriptProcessor(t,1,1)}catch(e){t=2048;for(var n=r.sampleRate;t<16384&&32e3<=n;)t<<=1,n>>=1;return r.createScriptProcessor(t,1,1)}}(),o=new s.RiffPcmEncoder(r.sampleRate,16e3);e.onaudioprocess=function(e){var t=e.inputBuffer.getChannelData(0);if(i&&!i.isClosed){var n=o.encode(t);n&&(i.writeStreamChunk({buffer:n,isEnd:!1,timeReceived:Date.now()}),!1)}};var n=r.createMediaStreamSource(t);a.privSpeechProcessorScript&&r.audioWorklet?r.audioWorklet.addModule(a.privSpeechProcessorScript).then(function(){var e=new AudioWorkletNode(r,"speech-processor");e.port.onmessage=function(e){var t=e.data;if(i&&!i.isClosed){var n=o.encode(t);n&&(i.writeStreamChunk({buffer:n,isEnd:!1,timeReceived:Date.now()}),!1)}},n.connect(e),e.connect(r.destination),a.privMediaResources={scriptProcessorNode:e,source:n,stream:t}}).catch(function(){n.connect(e),e.connect(r.destination),a.privMediaResources={scriptProcessorNode:e,source:n,stream:t}}):(n.connect(e),e.connect(r.destination),a.privMediaResources={scriptProcessorNode:e,source:n,stream:t})},this.releaseMediaResources=function(e){a.privMediaResources&&(a.privMediaResources.scriptProcessorNode&&(a.privMediaResources.scriptProcessorNode.disconnect(e.destination),a.privMediaResources.scriptProcessorNode=null),a.privMediaResources.source&&(a.privMediaResources.source.disconnect(),a.privMediaResources.stream.getTracks().forEach(function(e){return e.stop()}),a.privMediaResources.source=null))}}return e.prototype.setWorkletUrl=function(e){this.privSpeechProcessorScript=e},e}();t.PcmRecorder=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WebsocketConnection=void 0;var d=n(44),h=n(1243);function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=function(){function e(e,t,n,r,i,o){var a=this;if(this.privIsDisposed=!1,this.dispose=function(){a.privIsDisposed=!0,a.privConnectionMessageAdapter&&a.privConnectionMessageAdapter.close()},this.isDisposed=function(){return a.privIsDisposed},this.state=function(){return a.privConnectionMessageAdapter.state},this.open=function(){return a.privConnectionMessageAdapter.open()},this.send=function(e){return a.privConnectionMessageAdapter.send(e)},this.read=function(){return a.privConnectionMessageAdapter.read()},!e)throw new d.ArgumentNullError("uri");if(!r)throw new d.ArgumentNullError("messageFormatter");this.privMessageFormatter=r;var s="",u=0;if(t)for(var c in t)if(c){s+=0===u&&-1===e.indexOf("?")?"?":"&";var l=encodeURIComponent(t[c]);s+="".concat(c,"=").concat(l),u++}if(n)for(var p in n)if(p){s+=0===u?"?":"&";var f=encodeURIComponent(n[p]);s+="".concat(p,"=").concat(f),u++}this.privUri=e+s,this.privId=o||(0,d.createNoDashGuid)(),this.privConnectionMessageAdapter=new h.WebsocketMessageAdapter(this.privUri,this.id,this.privMessageFormatter,i,n)}return function(e,t,n){t&&r(e.prototype,t),n&&r(e,n)}(e,[{key:"id",get:function(){return this.privId}},{key:"events",get:function(){return this.privConnectionMessageAdapter.events}}]),e}();t.WebsocketConnection=i},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ReplayableAudioNode=void 0;var o=n(44),r=function(){function e(e,t){var n=this;this.privBuffers=[],this.privReplayOffset=0,this.privLastShrinkOffset=0,this.privBufferStartOffset=0,this.privBufferSerial=0,this.privBufferedBytes=0,this.privReplay=!1,this.privLastChunkAcquiredTime=0,this.id=function(){return n.privAudioNode.id()},this.privAudioNode=e,this.privBytesPerSecond=t}var t=e.prototype;return t.read=function(){var t=this;if(this.privReplay&&0!==this.privBuffers.length){var e=this.privReplayOffset-this.privBufferStartOffset,n=Math.round(e*this.privBytesPerSecond*1e-7);0!=n%2&&n++;for(var r=0;r<this.privBuffers.length&&n>=this.privBuffers[r].chunk.buffer.byteLength;)n-=this.privBuffers[r++].chunk.buffer.byteLength;var i=this.privBuffers[r].chunk.buffer.slice(n);return this.privReplayOffset+=i.byteLength/this.privBytesPerSecond*1e7,r===this.privBuffers.length-1&&(this.privReplay=!1),o.PromiseHelper.fromResult({buffer:i,isEnd:!1,timeReceived:this.privBuffers[r].chunk.timeReceived})}return this.privAudioNode.read().onSuccessContinueWith(function(e){return e&&e.buffer&&(t.privBuffers.push(new a(e,t.privBufferSerial++,t.privBufferedBytes)),t.privBufferedBytes+=e.buffer.byteLength),e})},t.detach=function(){this.privAudioNode.detach(),this.privBuffers=void 0},t.replay=function(){this.privBuffers&&0!==this.privBuffers.length&&(this.privReplay=!0,this.privReplayOffset=this.privLastShrinkOffset)},t.shrinkBuffers=function(e){if(void 0!==this.privBuffers){for(var t=(this.privLastShrinkOffset=e)-this.privBufferStartOffset,n=Math.round(t*this.privBytesPerSecond*1e-7),r=0;r<this.privBuffers.length&&n>=this.privBuffers[r].chunk.buffer.byteLength;)n-=this.privBuffers[r++].chunk.buffer.byteLength;this.privBufferStartOffset=Math.round(e-n/this.privBytesPerSecond*1e7),this.privBuffers=this.privBuffers.slice(r)}},t.findTimeAtOffset=function(e){if(e<this.privBufferStartOffset||void 0===this.privBuffers)return 0;var t=!0,n=!1,r=void 0;try{for(var i,o=this.privBuffers[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var a=i.value,s=a.byteOffset/this.privBytesPerSecond*1e7,u=s+a.chunk.buffer.byteLength/this.privBytesPerSecond*1e7;if(s<=e&&e<=u)return a.chunk.timeReceived}}catch(e){n=!0,r=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw r}}return 0},e}();t.ReplayableAudioNode=r;var a=function(e,t,n){this.chunk=e,this.serial=t,this.byteOffset=n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProxyInfo=void 0;var r=n(19);function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=function(){function t(e,t,n,r){this.privProxyHostName=e,this.privProxyPort=t,this.privProxyUserName=n,this.privProxyPassword=r}return t.fromParameters=function(e){return new t(e.getProperty(r.PropertyId.SpeechServiceConnection_ProxyHostName),parseInt(e.getProperty(r.PropertyId.SpeechServiceConnection_ProxyPort),10),e.getProperty(r.PropertyId.SpeechServiceConnection_ProxyUserName),e.getProperty(r.PropertyId.SpeechServiceConnection_ProxyPassword))},t.fromRecognizerConfig=function(e){return this.fromParameters(e.parameters)},function(e,t,n){t&&i(e.prototype,t),n&&i(e,n)}(t,[{key:"HostName",get:function(){return this.privProxyHostName}},{key:"Port",get:function(){return this.privProxyPort}},{key:"UserName",get:function(){return this.privProxyUserName}},{key:"Password",get:function(){return this.privProxyPassword}}]),t}();t.ProxyInfo=o},,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(0)),i=a(n(1)),o=a(n(6));function a(e){return e&&e.__esModule?e:{default:e}}var s,u,c,l={input:{width:"100%",boxSizing:"border-box",padding:"3px 7px",margin:0,borderStyle:"solid",borderWidth:1,borderColor:o.default.light_gray,borderRadius:4,textIndent:22},icon:{position:"absolute",top:5,left:5,fontSize:16,color:o.default.light_gray},clearIcon:{position:"absolute",top:5,right:5,fontSize:16,color:o.default.light_gray},searchArea:{position:"relative",margin:"10px 0"}},p=function(e){function t(){return e.apply(this,arguments)||this}!function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(t,e);var n=t.prototype;return n.componentDidMount=function(){this.searchBox.focus()},n.render=function(){var t=this;return i.default.createElement("div",{style:l.searchArea},i.default.createElement("span",{className:"fa fa-search",style:l.icon}),i.default.createElement("input",{style:l.input,placeholder:this.props.placeholderText,onChange:this.props.onChange,ref:function(e){t.searchBox=e}}),this.props.clearButton&&i.default.createElement("span",{className:"fa fa-close",style:l.clearIcon,onClick:function(){t.searchBox.value="",t.props.onChange()}}))},t}(i.default.Component);t.default=p,s=p,u="propTypes",c={placeholderText:r.default.string.isRequired,onChange:r.default.func.isRequired,clearButton:r.default.bool},u in s?Object.defineProperty(s,u,{value:c,enumerable:!0,configurable:!0,writable:!0}):s[u]=c,e.exports=t.default},,,,,,,,,,function(e,t,n){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=f(n(6)),o=f(n(1)),i=l(n(0)),s=l(n(15)),u=n(238),c=l(n(5));function l(e){return e&&e.__esModule?e:{default:e}}function p(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return p=function(){return e},e}function f(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=p();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v={overlay:{wrapper:{position:"absolute",top:68,left:16,zIndex:5,textAlign:"center"},clickText:{position:"absolute",width:"100%",textAlign:"center",fontSize:"x-large",color:"white",bottom:50,textShadow:"-1px -1px 0 #000, 1px -1px 0 #000, -1px 1px 0 #000, 1px 1px 0 #000",cursor:"default"}},playButtonWrapper:{color:"white",position:"absolute",bottom:-52,fontSize:22,height:26,width:26,lineHeight:"".concat(26,"px"),padding:7,borderRadius:5,backgroundColor:r.dark_charcoal,borderColor:r.dark_charcoal,borderWidth:1,borderStyle:"solid",cursor:"pointer",":hover":{boxShadow:"2px 2px 5px rgba(0, 0, 0, 0.3)"},":active":{borderWidth:1,borderStyle:"solid",borderColor:"#888"}},playButton:{paddingLeft:4}},g=function(i){function e(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return h(d(e=i.call.apply(i,[this].concat(n))||this),"state",{tooYoung:!1}),h(d(e),"handleTooYoung",function(){e.setState({tooYoung:!0})}),h(d(e),"onClick",function(){e.state.tooYoung||(0,u.singleton)().startIFrameEmbeddedApp(e.handleTooYoung)}),e}return function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(e,i),e.prototype.render=function(){return o.default.createElement("div",{style:[v.overlay.wrapper,{width:this.props.appWidth,height:this.props.appHeight},!this.state.tooYoung&&{cursor:"cursor"},this.props.style],onClick:this.onClick},this.state.tooYoung?o.default.createElement("div",{className:"alert alert-danger"},c.default.tooYoung()):o.default.createElement("div",null,o.default.createElement("div",{style:v.overlay.clickText},"Tap or click to run"),o.default.createElement("div",{style:[v.playButtonWrapper,{left:this.props.appWidth/2-13-v.playButtonWrapper.padding/2},this.props.playButtonStyle]},o.default.createElement("span",{className:"fa fa-play",style:v.playButton}))))},e}(o.Component);h(g,"propTypes",{appWidth:i.default.number.isRequired,appHeight:i.default.number.isRequired,style:i.default.object,playButtonStyle:i.default.object}),h(g,"defaultProps",{showPlayButton:!0});var m=(0,s.default)(g);t.default=m,e.exports=t.default},function(e,t,n){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.TestableCodeWorkspaceContainer=void 0;var r=d(n(10)),s=d(n(1)),i=d(n(7)),o=d(n(0)),u=d(n(15)),c=n(9),l=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=f();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}n.default=e,t&&t.set(e,n);return n}(n(12)),p=d(n(296));function f(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return f=function(){return e},e}function d(e){return e&&e.__esModule?e:{default:e}}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=function(e){function t(){return e.apply(this,arguments)||this}!function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(t,e);var n=t.prototype;return n.getRenderedHeight=function(){return(0,r.default)(i.default.findDOMNode(this)).height()},n.componentDidUpdate=function(e){this.props.topMargin!==e.topMargin&&l.fireResizeEvent()},n.render=function(){var e=this.props,t=e.hidden,n=e.isRtl,r=e.noVisualization,i=e.topMargin,o=e.children,a=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(Object(n));"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(e){h(t,e,n[e])})}return t}({},y.main,{top:i},r&&y.noVisualization,n&&y.mainRtl,r&&n&&y.noVisualizationRtl,t&&p.default.hidden);return s.default.createElement("div",{style:a,className:"editor-column"},s.default.createElement("div",{id:"codeWorkspace",style:y.codeWorkspace},o))},t}(s.default.Component);h(v,"propTypes",{hidden:o.default.bool.isRequired,isRtl:o.default.bool.isRequired,noVisualization:o.default.bool.isRequired,topMargin:o.default.number.isRequired,children:o.default.node});var g=(0,u.default)(v);t.TestableCodeWorkspaceContainer=g;var m=(0,c.connect)(function(e){return{hidden:e.pageConstants.hideSource&&!e.pageConstants.visualizationInWorkspace,isRtl:e.isRtl,noVisualization:e.pageConstants.noVisualization}},void 0,null,{withRef:!0})(v);t.default=m;var y={main:{position:"absolute",right:0,bottom:0,marginLeft:15},mainRtl:{right:void 0,left:0,marginLeft:0,marginRight:15},codeWorkspace:{position:"absolute",left:0,right:0,bottom:0,top:0,borderBottomStyle:"none",borderRightStyle:"none",borderLeftStyle:"none",borderTopWidth:1,borderTopStyle:"solid",borderTopColor:"#ddd"},noVisualization:{left:0,marginLeft:0},noVisualizationRtl:{right:0}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=n(50),o=(r=n(1244))&&r.__esModule?r:{default:r},a=n(805);function s(e,t){dashboard.assets.showAssetManager(t,e,null,{showUnderageWarning:!(0,i.getStore)().getState().pageConstants.is13Plus})}var u={playSound:{func:"playSound",parent:a.executors,paramButtons:{minArgs:1,maxArgs:2},paletteParams:["url","loop"],params:['"sound://default.mp3"',"false"],dropdown:{0:function(){return(0,o.default)("audio")},1:["true","false"]},nativeCallsBackInterpreter:!0,assetTooltip:{0:s.bind(null,"audio")}},stopSound:{func:"stopSound",parent:a.executors,paramButtons:{minArgs:0,maxArgs:1},paletteParams:["url"],params:['"sound://default.mp3"'],dropdown:{0:function(){return(0,o.default)("audio")}},assetTooltip:{0:s.bind(null,"audio")}},playSpeech:{func:"playSpeech",parent:a.executors,paramButtons:{minArgs:2,maxArgs:3},paletteParams:["text","gender","language"],params:['"Hello World!"','"female"','"en-US"'],dropdown:{1:['"female"','"male"'],2:function(){return Object.keys(appOptions.azureSpeechServiceLanguages).map(function(e){return'"'.concat(e,'"')})}.bind(null)},nativeCallsBackInterpreter:!0,assetTooltip:{0:s.bind(null,"audio")}}};t.default=u,e.exports=t.default},function(e,t,n){"use strict";function r(){if(!(this instanceof r))return new r;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files={},this.comment=null,this.root="",this.clone=function(){var e=new r;for(var t in this)"function"!=typeof this[t]&&(e[t]=this[t]);return e}}(r.prototype=n(2251)).loadAsync=n(2274),r.support=n(496),r.defaults=n(1354),r.loadAsync=function(e,t){return(new r).loadAsync(e,t)},r.external=n(646),e.exports=r},function(e,t,n){var r,i=i||function(d){"use strict";if("undefined"==typeof navigator||!/MSIE [1-9]\./.test(navigator.userAgent)){var e=d.document,h=function(){return d.URL||d.webkitURL||d},v=e.createElementNS("http://www.w3.org/1999/xhtml","a"),g="download"in v,m=d.webkitRequestFileSystem,y=d.requestFileSystem||m||d.mozRequestFileSystem,o=function(e){(d.setImmediate||d.setTimeout)(function(){throw e},0)},b="application/octet-stream",w=0,S=function(e){var t=function(){"string"==typeof e?h().revokeObjectURL(e):e.remove()};d.chrome?t():setTimeout(t,500)},_=function(e,t,n){for(var r=(t=[].concat(t)).length;r--;){var i=e["on"+t[r]];if("function"==typeof i)try{i.call(e,n||e)}catch(e){o(e)}}},C=function(e){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e},r=function(r,n,e){e||(r=C(r));var t,i,o,a=this,s=r.type,u=!1,c=function(){_(a,"writestart progress write writeend".split(" "))},l=function(){(!u&&t||(t=h().createObjectURL(r)),i)?i.location.href=t:null==d.open(t,"_blank")&&"undefined"!=typeof safari&&(d.location.href=t);a.readyState=a.DONE,c(),S(t)},p=function(e){return function(){if(a.readyState!==a.DONE)return e.apply(this,arguments)}},f={create:!0,exclusive:!1};if(a.readyState=a.INIT,n||(n="download"),g)return t=h().createObjectURL(r),v.href=t,v.download=n,void setTimeout(function(){!function(e){var t=new MouseEvent("click");e.dispatchEvent(t)}(v),c(),S(t),a.readyState=a.DONE});d.chrome&&s&&s!==b&&(o=r.slice||r.webkitSlice,r=o.call(r,0,r.size,b),u=!0),m&&"download"!==n&&(n+=".download"),(s===b||m)&&(i=d),y?(w+=r.size,y(d.TEMPORARY,w,p(function(e){e.root.getDirectory("saved",f,p(function(e){var t=function(){e.getFile(n,f,p(function(n){n.createWriter(p(function(t){t.onwriteend=function(e){i.location.href=n.toURL(),a.readyState=a.DONE,_(a,"writeend",e),S(n)},t.onerror=function(){var e=t.error;e.code!==e.ABORT_ERR&&l()},"writestart progress write abort".split(" ").forEach(function(e){t["on"+e]=a["on"+e]}),t.write(r),a.abort=function(){t.abort(),a.readyState=a.DONE},a.readyState=a.WRITING}),l)}),l)};e.getFile(n,{create:!1},p(function(e){e.remove(),t()}),p(function(e){e.code===e.NOT_FOUND_ERR?t():l()}))}),l)}),l)):l()},t=r.prototype;return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(e,t,n){return n||(e=C(e)),navigator.msSaveOrOpenBlob(e,t||"download")}:(t.abort=function(){this.readyState=this.DONE,_(this,"abort")},t.readyState=t.INIT=0,t.WRITING=1,t.DONE=2,t.error=t.onwritestart=t.onprogress=t.onwrite=t.onabort=t.onerror=t.onwriteend=null,function(e,t,n){return new r(e,t,n)})}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content);
/*! @source http://purl.eligrey.com/github/FileSaver.js/blob/master/FileSaver.js */e.exports?e.exports.saveAs=i:null!==n(329)&&null!=n(1622)&&(void 0===(r=function(){return i}.apply(t,[]))||(e.exports=r))},function(e,t){e.exports='{\n  "main": "node_modules/expo/AppEntry.js",\n  "scripts": {\n    "start": "expo start",\n    "android": "expo start --android",\n    "ios": "expo start --ios",\n    "eject": "expo eject"\n  },\n  "dependencies": {\n    "expo": "~36.0.0",\n    "expo-cli": "3.11.1",\n    "react": "~16.9.0",\n    "react-dom": "~16.9.0",\n    "react-native": "https://github.com/expo/react-native/archive/sdk-36.0.0.tar.gz",\n    "react-native-web": "~0.11.7",\n    "react-native-webview": "7.4.3"\n  },\n  "devDependencies": {\n    "babel-preset-expo": "~8.0.0"\n  },\n  "private": true\n}\n'},function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){rethrow=rethrow||function(e,t,n,r,i){var o=t.split("\n"),a=Math.max(r-3,0),s=Math.min(o.length,r+3),u=i(n),c=o.slice(a,s).map(function(e,t){var n=t+a+1;return(n==r?" >> ":"    ")+n+"| "+e}).join("\n");throw e.path=u,e.message=(u||"ejs")+":"+r+"\n"+c+"\n\n"+e.message,e},escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __line=1,__lines="import React from 'react';\nimport { Platform, StyleSheet, View } from 'react-native';\nimport { WebView } from 'react-native-webview';\nimport { AppLoading } from 'expo';\n\nimport CustomAsset from './CustomAsset';\nimport DataWarning from './DataWarning';\nimport packagedFiles from './packagedFiles';\n\nexport default class App extends React.Component {\n\n  static APP_HEIGHT = <%- appHeight %>;\n  static APP_WIDTH = <%- appWidth %>;\n\n  constructor(props) {\n    super(props);\n    this.state = {\n<% if (!hasDataAPIs) { -%>\n      age: DataWarning.AGE_MINIMUM,\n<% } -%>\n      needsEmptyRender: Platform.OS === 'android',\n    };\n  }\n\n  componentDidMount() {\n    this.prepareAssets();\n    this.checkAge();\n  }\n\n<% if (hasDataAPIs) { -%>\n  checkAge = async () => {\n    try {\n      const age = await AsyncStorage.getItem(DataWarning.AGE_KEY);\n      this.setState({ age });\n    } catch (e) {\n    }\n  };\n<% } else { -%>\n  checkAge = () => {};\n<% } -%>\n\n  async prepareAssets() {\n    const downloadAssets = packagedFiles.map(({ module, fileName }) =>\n      CustomAsset.fromModule(module, fileName)\n    );\n    await CustomAsset.loadAsyncAssets(downloadAssets);\n    const indexHtmlIndex = packagedFiles.findIndex(({ fileName }) => fileName === 'index.html');\n    this.setState({\n      indexUri: downloadAssets[indexHtmlIndex].localUri,\n    });\n  }\n\n  onLayout = ({ nativeEvent }) => {\n    const { height, width } = nativeEvent.layout;\n    this.setState({\n      height,\n      width,\n    });\n  };\n\n  onLoad = () => {\n    //\n    // NOTE: wait for 2 frames after the WebView says it is loaded before we set our state to\n    // loaded and remove the \"cover\" View (without this delay, we see a white flash from the WebView)\n    //\n    requestAnimationFrame(() => {\n      requestAnimationFrame(() => {\n        this.setState({\n          loaded: true,\n        });\n      });\n    });\n  };\n\n  webViewScale() {\n    const { height, width } = this.state;\n\n    const heightScale = height / App.APP_HEIGHT;\n    const widthScale = width / App.APP_WIDTH;\n    return Math.min(heightScale, widthScale);\n  }\n\n  webViewContainerStyle() {\n    const scale = this.webViewScale();\n\n    return [\n      styles.webViewContainer,\n      {\n        height: App.APP_HEIGHT * scale,\n        width: App.APP_WIDTH * scale,\n      }\n    ];\n  }\n\n  render() {\n    const { age, height, indexUri, loaded, needsEmptyRender } = this.state;\n\n    if (!age || age < DataWarning.AGE_MINIMUM) {\n      return (\n        <DataWarning onComplete={this.checkAge} />\n      );\n    }\n\n    if (!indexUri) {\n      return (\n        <AppLoading />\n      );\n    }\n\n    const showWebView = !!height && indexUri;\n\n    if (showWebView && needsEmptyRender) {\n      // Workaround for react-native-webview issue with Android 10\n      // See https://github.com/react-native-community/react-native-webview/issues/656#issuecomment-551312436\n      this.setState({needsEmptyRender: false});\n    }\n\n    let readAccessToURL;\n    if (Platform.OS === 'ios' && indexUri) {\n      readAccessToURL = indexUri.substring(0, indexUri.lastIndexOf('/') + 1);\n    }\n\n    return (\n      <View onLayout={this.onLayout} style={styles.container}>\n        {showWebView && <View style={this.webViewContainerStyle()}>\n          <WebView\n            allowUniversalAccessFromFileURLs\n            originWhitelist={['*']}\n            allowFileAccess\n            allowFileAccessFromFileURLs\n            allowingReadAccessToURL={readAccessToURL}\n            source={needsEmptyRender ? undefined : {uri: indexUri}}\n            style={Platform.OS === 'ios' ? styles.webViewIOS : styles.webViewAndroid}\n            javaScriptEnabled\n            mediaPlaybackRequiresUserAction={false}\n            scrollEnabled={false}\n            bounces={false}\n            onLoad={this.onLoad}\n            useWebkit\n          />\n        </View>}\n        {!loaded && <View style={styles.cover} />}\n      </View>\n    );\n  }\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    ...StyleSheet.absoluteFillObject,\n    backgroundColor: 'black',\n    justifyContent: 'center',\n  },\n  cover: {\n    ...StyleSheet.absoluteFillObject,\n    backgroundColor: 'white',\n  },\n  webViewIOS: {\n    backgroundColor: 'black',\n    flex: 1,\n  },\n  webViewAndroid: {\n    backgroundColor: 'white',\n    flex: 1,\n  },\n  webViewContainer: {\n    backgroundColor: 'black',\n  }\n});\n",__filename="src/templates/export/expo/App.js.ejs";try{var __output=[],__append=__output.push.bind(__output);with(locals||{})__append("import React from 'react';\nimport { Platform, StyleSheet, View } from 'react-native';\nimport { WebView } from 'react-native-webview';\nimport { AppLoading } from 'expo';\n\nimport CustomAsset from './CustomAsset';\nimport DataWarning from './DataWarning';\nimport packagedFiles from './packagedFiles';\n\nexport default class App extends React.Component {\n\n  static APP_HEIGHT = "),__line=12,__append(appHeight),__append(";\n  static APP_WIDTH = "),__line=13,__append(appWidth),__append(";\n\n  constructor(props) {\n    super(props);\n    this.state = {\n"),__line=18,hasDataAPIs||(__append("      age: DataWarning.AGE_MINIMUM,\n"),__line=20),__append("      needsEmptyRender: Platform.OS === 'android',\n    };\n  }\n\n  componentDidMount() {\n    this.prepareAssets();\n    this.checkAge();\n  }\n\n"),__line=30,__line=hasDataAPIs?(__append("  checkAge = async () => {\n    try {\n      const age = await AsyncStorage.getItem(DataWarning.AGE_KEY);\n      this.setState({ age });\n    } catch (e) {\n    }\n  };\n"),38):(__append("  checkAge = () => {};\n"),40),__append("\n  async prepareAssets() {\n    const downloadAssets = packagedFiles.map(({ module, fileName }) =>\n      CustomAsset.fromModule(module, fileName)\n    );\n    await CustomAsset.loadAsyncAssets(downloadAssets);\n    const indexHtmlIndex = packagedFiles.findIndex(({ fileName }) => fileName === 'index.html');\n    this.setState({\n      indexUri: downloadAssets[indexHtmlIndex].localUri,\n    });\n  }\n\n  onLayout = ({ nativeEvent }) => {\n    const { height, width } = nativeEvent.layout;\n    this.setState({\n      height,\n      width,\n    });\n  };\n\n  onLoad = () => {\n    //\n    // NOTE: wait for 2 frames after the WebView says it is loaded before we set our state to\n    // loaded and remove the \"cover\" View (without this delay, we see a white flash from the WebView)\n    //\n    requestAnimationFrame(() => {\n      requestAnimationFrame(() => {\n        this.setState({\n          loaded: true,\n        });\n      });\n    });\n  };\n\n  webViewScale() {\n    const { height, width } = this.state;\n\n    const heightScale = height / App.APP_HEIGHT;\n    const widthScale = width / App.APP_WIDTH;\n    return Math.min(heightScale, widthScale);\n  }\n\n  webViewContainerStyle() {\n    const scale = this.webViewScale();\n\n    return [\n      styles.webViewContainer,\n      {\n        height: App.APP_HEIGHT * scale,\n        width: App.APP_WIDTH * scale,\n      }\n    ];\n  }\n\n  render() {\n    const { age, height, indexUri, loaded, needsEmptyRender } = this.state;\n\n    if (!age || age < DataWarning.AGE_MINIMUM) {\n      return (\n        <DataWarning onComplete={this.checkAge} />\n      );\n    }\n\n    if (!indexUri) {\n      return (\n        <AppLoading />\n      );\n    }\n\n    const showWebView = !!height && indexUri;\n\n    if (showWebView && needsEmptyRender) {\n      // Workaround for react-native-webview issue with Android 10\n      // See https://github.com/react-native-community/react-native-webview/issues/656#issuecomment-551312436\n      this.setState({needsEmptyRender: false});\n    }\n\n    let readAccessToURL;\n    if (Platform.OS === 'ios' && indexUri) {\n      readAccessToURL = indexUri.substring(0, indexUri.lastIndexOf('/') + 1);\n    }\n\n    return (\n      <View onLayout={this.onLayout} style={styles.container}>\n        {showWebView && <View style={this.webViewContainerStyle()}>\n          <WebView\n            allowUniversalAccessFromFileURLs\n            originWhitelist={['*']}\n            allowFileAccess\n            allowFileAccessFromFileURLs\n            allowingReadAccessToURL={readAccessToURL}\n            source={needsEmptyRender ? undefined : {uri: indexUri}}\n            style={Platform.OS === 'ios' ? styles.webViewIOS : styles.webViewAndroid}\n            javaScriptEnabled\n            mediaPlaybackRequiresUserAction={false}\n            scrollEnabled={false}\n            bounces={false}\n            onLoad={this.onLoad}\n            useWebkit\n          />\n        </View>}\n        {!loaded && <View style={styles.cover} />}\n      </View>\n    );\n  }\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    ...StyleSheet.absoluteFillObject,\n    backgroundColor: 'black',\n    justifyContent: 'center',\n  },\n  cover: {\n    ...StyleSheet.absoluteFillObject,\n    backgroundColor: 'white',\n  },\n  webViewIOS: {\n    backgroundColor: 'black',\n    flex: 1,\n  },\n  webViewAndroid: {\n    backgroundColor: 'white',\n    flex: 1,\n  },\n  webViewContainer: {\n    backgroundColor: 'black',\n  }\n});\n"),__line=170;return __output.join("")}catch(e){rethrow(e,__lines,__filename,__line,escapeFn)}}},function(e,t){e.exports="import { Asset } from 'expo-asset';\nimport * as FileSystem from 'expo-file-system';\n\nexport default class CustomAsset {\n  constructor({ asset, fileName }) {\n    this.asset = asset;\n    this.fileName = fileName;\n  }\n\n  static fromModule(moduleId, fileName) {\n    const asset = Asset.fromModule(moduleId);\n    return new CustomAsset({asset, fileName});\n  }\n\n  static loadAsyncAssets(assets) {\n    return Promise.all(assets.map(a => a.downloadAsync()));\n  }\n\n  async downloadAsync() {\n    const localUri = `${FileSystem.cacheDirectory}${encodeURI(this.fileName)}`;\n    let exists, md5;\n    ({ exists, md5 } = await FileSystem.getInfoAsync(localUri, {\n      cache: true,\n      md5: true,\n    }));\n    if (!exists || md5 !== this.asset.hash) {\n      const dirName = localUri.substring(0, localUri.lastIndexOf('/'));\n      if (`${dirName}/` !== FileSystem.cacheDirectory) {\n        try {\n          await FileSystem.makeDirectoryAsync(dirName, {\n            intermediates: true,\n          });\n        } catch (e) {\n          // Ignore this because it throws if the dir already exists on Android\n        }\n      }\n      if (this.asset.localUri) {\n        await FileSystem.copyAsync({\n          from: this.asset.localUri,\n          to: localUri,\n        });\n        ({ md5 } = await FileSystem.getInfoAsync(localUri, {\n          cache: true,\n          md5: true,\n        }));\n      } else {\n        ({ md5 } = await FileSystem.downloadAsync(this.asset.uri, localUri, {\n            cache: true,\n            md5: true,\n        }));\n      }\n      if (md5 !== this.asset.hash) {\n        throw new Error(\n          `Downloaded file for asset '${this.fileName} ` +\n            `Located at ${localUri} ` +\n            `failed MD5 integrity check`\n        );\n      }\n    }\n    this.localUri = localUri;\n    this.downloaded = true;\n  }\n}\n"},function(e,t){e.exports="import React, { Component } from 'react';\nimport {\n  AsyncStorage,\n  Dimensions,\n  Image,\n  Linking,\n  Picker,\n  Text,\n  TouchableOpacity,\n  View,\n  SafeAreaView,\n  StyleSheet,\n} from 'react-native';\nimport PropTypes from 'prop-types';\n\nexport default class DataWarning extends Component {\n  state = { };\n\n  propTypes = {\n    onComplete: PropTypes.func,\n  };\n\n  static AGE_KEY = '@ApplabApp:age';\n  static AGE_MINIMUM = 13;\n  static SMALL_SCREEN_WIDTH = 320;\n\n  async componentDidMount() {\n    const age = await AsyncStorage.getItem(DataWarning.AGE_KEY);\n    if (!age) {\n      return;\n    }\n\n    this.setState({\n      age,\n      ageLocked: true,\n      ageText: this.ageTextFromAge(age),\n    });\n    if (age >= DataWarning.AGE_MINIMUM) {\n      onComplete && onComplete();\n    }\n  }\n\n  onPressAge = () => {\n    this.setState({ picking: true });\n  };\n\n  onPressDone = () => {\n    this.setState({ picking: false });\n  };\n\n  onAgeChange = (itemValue) => {\n    this.setState({ age: itemValue, ageText: this.ageTextFromAge(itemValue) });\n  };\n\n  onPressPrivacy = () => {\n    Linking.openURL('https://code.org/privacy');\n  };\n\n  ageTextFromAge(age) {\n    return age == 21 ? '21+' : age;\n  }\n\n  onPressOK = async () => {\n    const { onComplete } = this.props;\n    const { age } = this.state;\n    try {\n      await AsyncStorage.setItem(DataWarning.AGE_KEY, age);\n    } catch (e) {\n    }\n    if (!age) {\n      return;\n    }\n    this.setState({ ageLocked: true });\n    if (age >= DataWarning.AGE_MINIMUM) {\n      onComplete && onComplete();\n    }\n  };\n\n  renderTooYoung() {\n    return (\n      <SafeAreaView style={styles.background}>\n        <View style={[styles.container, styles.containerTooYoung]}>\n          <Text style={styles.paragraph}>\n            Sorry, you cannot access this content.\n          </Text>\n        </View>\n      </SafeAreaView>\n    );\n  }\n\n  render() {\n    const { age, ageLocked, ageText, picking } = this.state;\n    if (ageLocked && age < DataWarning.AGE_MINIMUM) {\n      return this.renderTooYoung();\n    }\n    const { height, width } = Dimensions.get('window');\n    const smallScreen = Math.min(height, width) <= DataWarning.SMALL_SCREEN_WIDTH;\n    const paragraphStyle = smallScreen ? styles.paragraphSmallScreen : styles.paragraph;\n    const ageSelected = !!ageText;\n    return [\n      (<SafeAreaView style={styles.background} key=\"background\">\n        <View style={styles.container}>\n          <View style={styles.topWarningContainer}>\n            <Image\n              source={require('./appassets/warning.png')}\n              style={styles.warningImage}\n            />\n            <Text style={[paragraphStyle, styles.topWarning]}>\n              Warning\n            </Text>\n          </View>\n          <Text style={paragraphStyle}>\n            This app was built on Code.org by a student. The Code.org platform is optimized for creating prototypes and student projects, and as a result any data you enter while using the app could potentially be viewed by anyone with access to the app on any platform or website where this app is shared.\n            {'\\n'}\n            {'\\n'}\n            <Text style={[paragraphStyle, styles.warning]}>While using this app please do not enter any private information</Text> (such as your name, email, or street address). Any data you enter may be broadly accessible to the public.\n            {'\\n'}\n            {'\\n'}\n            Please provide your age below and click OK to continue.\n          </Text>\n          <TouchableOpacity onPress={this.onPressAge} style={styles.ageContainer}>\n            <Text style={paragraphStyle}>\n              {ageSelected ? ageText : 'Select Age'}\n            </Text>\n          </TouchableOpacity>\n          <View style={styles.okContainer}>\n            <TouchableOpacity onPress={this.onPressPrivacy}>\n              <Text style={[paragraphStyle, styles.privacy]}>\n                Code.org Privacy Policy\n              </Text>\n            </TouchableOpacity>\n            <TouchableOpacity\n              disabled={!ageSelected}\n              onPress={this.onPressOK}\n              style={[styles.okButtonContainer, ageSelected ? undefined : styles.okButtonContainerDisabled]}\n            >\n              <Text style={styles.okButton}>\n                OK\n              </Text>\n            </TouchableOpacity>\n          </View>\n        </View>\n      </SafeAreaView>),\n      picking && <View style={styles.pickerFullscreen} key=\"picker\">\n        <TouchableOpacity onPress={this.onPressDone} style={styles.pickerDoneContainer}>\n          <Text style={[paragraphStyle, styles.pickingDone]}>\n            Done\n          </Text>\n        </TouchableOpacity>\n        <Picker\n          itemStyle={styles.pickerItem}\n          onValueChange={this.onAgeChange}\n          selectedValue={age}\n          style={styles.picker}\n        >\n          <Picker.Item label=\"Select Age\" />\n          <Picker.Item label=\"4\" value=\"4\" />\n          <Picker.Item label=\"5\" value=\"5\" />\n          <Picker.Item label=\"6\" value=\"6\" />\n          <Picker.Item label=\"7\" value=\"7\" />\n          <Picker.Item label=\"8\" value=\"8\" />\n          <Picker.Item label=\"9\" value=\"9\" />\n          <Picker.Item label=\"10\" value=\"10\" />\n          <Picker.Item label=\"11\" value=\"11\" />\n          <Picker.Item label=\"12\" value=\"12\" />\n          <Picker.Item label=\"13\" value=\"13\" />\n          <Picker.Item label=\"14\" value=\"14\" />\n          <Picker.Item label=\"15\" value=\"15\" />\n          <Picker.Item label=\"16\" value=\"16\" />\n          <Picker.Item label=\"17\" value=\"17\" />\n          <Picker.Item label=\"18\" value=\"18\" />\n          <Picker.Item label=\"19\" value=\"19\" />\n          <Picker.Item label=\"20\" value=\"20\" />\n          <Picker.Item label=\"21+\" value=\"21\" />\n        </Picker>\n      </View>\n    ];\n  }\n}\n\nconst styles = StyleSheet.create({\n  ageContainer: {\n    alignItems: 'center',\n    borderColor: '#94a9be',\n    borderRadius: 8,\n    borderWidth: 1,\n    flexDirection: 'row',\n    marginTop: 10,\n    minHeight: 40,\n    paddingHorizontal: 10,\n  },\n  background: {\n    ...StyleSheet.absoluteFillObject,\n    justifyContent: 'flex-start',\n    backgroundColor: '#444444',\n  },\n  container: {\n    alignItems: 'stretch',\n    backgroundColor: 'white',\n    borderColor: 'white',\n    borderRadius: 18,\n    borderWidth: 18,\n    flex: 1,\n    justifyContent: 'flex-start',\n    margin: 6,\n    paddingTop: 6,\n  },\n  containerTooYoung: {\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  okButton: {\n    color: 'white',\n    fontFamily: 'sans-serif',\n    fontSize: 16,\n    fontWeight: 'bold',\n  },\n  okButtonContainer: {\n    alignItems: 'center',\n    backgroundColor: '#ffa400',\n    borderRadius: 6,\n    justifyContent: 'center',\n    height: 40,\n    minWidth: 65,\n  },\n  okButtonContainerDisabled: {\n    backgroundColor: '#ffa4006f',\n  },\n  okContainer: {\n    alignItems: 'center',\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    marginTop: 20,\n  },\n  paragraph: {\n    fontFamily: 'sans-serif',\n    fontSize: 16,\n    lineHeight: 24,\n    textAlign: 'left',\n    color: '#34495e',\n  },\n  paragraphSmallScreen: {\n    fontFamily: 'sans-serif',\n    fontSize: 14,\n    lineHeight: 18,\n    textAlign: 'left',\n    color: '#34495e',\n  },\n  picker: {\n    backgroundColor: 'white',\n  },\n  pickerDoneContainer: {\n    alignItems: 'center',\n    backgroundColor: 'white',\n    borderColor: '#94a9be',\n    borderBottomWidth: 1,\n    flexDirection: 'row',\n    justifyContent: 'flex-end',\n    minHeight: 40,\n    paddingHorizontal: 10,\n  },\n  pickerFullscreen: {\n    ...StyleSheet.absoluteFillObject,\n    justifyContent: 'center',\n    backgroundColor: '#000000af',\n  },\n  pickerItem: {\n    fontFamily: 'sans-serif',\n    color: 'black',\n  },\n  pickingDone: {\n    textAlign: 'right',\n    fontWeight: 'bold',\n  },\n  privacy: {\n    color: '#00adbd',\n    fontWeight: '900',\n  },\n  topWarning: {\n    fontSize: 26,\n    fontWeight: 'bold',\n  },\n  topWarningContainer: {\n    alignItems: 'center',\n    flexDirection: 'row',\n    marginBottom: 20,\n  },\n  warning: {\n    fontWeight: 'bold',\n    textDecorationLine: 'underline',\n  },\n  warningImage: {\n    height: 50,\n    width: 50,\n    marginRight: 15,\n  },\n});\n"},function(e,t){e.exports='module.exports = {\n  resolver: {\n    assetExts: [\n      "html",\n      "css",\n      "j",\n      "jpg",\n      "jpeg",\n      "png",\n      "gif",\n      "mp3",\n      "woff2",\n      "ttf",\n      "txt"\n    ]\n  }\n}\n'},function(e,t,n){e.exports=n.p+"warningwp36ac34fff79309eee8417f46222e99f6.png"},function(e,t,n){e.exports=n.p+"splashwp43ec0dcbe5a156bf9e650bb8c15e7af6.png"},,,,,,,,,,,,,,,,function(e,t,n){var o=n(347);e.exports=function(t,e,n,r){try{return r?e(o(n)[0],n[1]):e(n)}catch(e){var i=t.return;throw void 0!==i&&o(i.call(t)),e}}},function(e,t,n){var r=n(505),i=n(204)("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||o[i]===e)}},function(e,t,n){var o=n(204)("iterator"),a=!1;try{var r=[7][o]();r.return=function(){a=!0},Array.from(r,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!a)return!1;var n=!1;try{var r=[7],i=r[o]();i.next=function(){return{done:n=!0}},r[o]=function(){return i},e(r)}catch(e){}return n}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ConfirmEnableMakerDialog=void 0;var r=f(n(0)),i=p(n(1)),o=f(n(702)),s=f(n(5)),u=f(n(6)),c=p(n(335));function l(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return l=function(){return e},e}function p(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=l();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}function f(e){return e&&e.__esModule?e:{default:e}}function d(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v={description:{fontSize:"smaller"},warning:{color:u.default.red,fontSize:"smaller",fontStyle:"italic",textAlign:"center",padding:10}},g=function(e){function t(){return e.apply(this,arguments)||this}return d(t,e),t.prototype.render=function(){return i.default.createElement(c.default,{isOpen:this.props.isOpen,confirmText:s.default.enable(),onConfirm:this.props.handleConfirm,onCancel:this.props.handleCancel,handleClose:this.props.handleCancel},i.default.createElement(c.Title,null,s.default.enableMakerDialogTitle()),i.default.createElement(c.Body,null,i.default.createElement("div",{style:v.description},s.default.enableMakerDialogDescription()," ",i.default.createElement("a",{href:"/maker/setup",target:"_blank"},s.default.enableMakerDialogSetupPageLinkText())),i.default.createElement("div",{style:v.warning},s.default.enableMakerDialogWarning())))},t}(i.Component);h(t.ConfirmEnableMakerDialog=g,"propTypes",{isOpen:r.default.bool.isRequired,handleConfirm:r.default.func.isRequired,handleCancel:r.default.func.isRequired});var m=function(e){function t(){return e.apply(this,arguments)||this}return d(t,e),t.prototype.render=function(){return i.default.createElement(o.default,{isOpened:this.props.isOpen},i.default.createElement(g,this.props))},t}(i.Component);h(t.default=m,"propTypes",g.propTypes)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.LibraryManagerDialog=t.mapUserNameToProjectLibraries=void 0;var i=g(n(10)),r=g(n(0)),c=g(n(1)),o=g(n(15)),l=g(n(5)),p=g(n(80)),a=g(n(27)),f=g(n(17)),u=g(n(640)),d=g(n(2178)),h=g(n(1322)),v=g(n(746)),s=g(n(6));function g(e){return e&&e.__esModule?e:{default:e}}function m(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function y(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(Object(n));"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(e){w(t,e,n[e])})}return t}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var S={dialog:{padding:"0 15px",cursor:"default"},linkBox:{cursor:"auto",height:"32px",marginBottom:0,flex:1,maxWidth:400},header:{textAlign:"left",fontSize:24,marginTop:20},libraryList:{maxHeight:"140px",overflowY:"auto",borderBottom:"2px solid ".concat(s.default.purple)},message:{color:s.default.dark_charcoal,textAlign:"left",margin:7,overflow:"hidden",lineHeight:"15px",whiteSpace:"pre-wrap"},inputParent:{display:"flex",alignItems:"baseline"},add:{margin:7,color:s.default.dark_charcoal,borderColor:s.default.dark_charcoal,":disabled":{color:s.default.light_gray,borderColor:s.default.light_gray,backgroundColor:s.default.lightest_gray}},hidden:{visibility:"hidden"},error:{color:s.default.red,textAlign:"left",margin:7,minHeight:30,whiteSpace:"pre-wrap",lineHeight:1},updateButtons:{display:"flex",justifyContent:"space-between"}},_=function(e,n){return 0===n.length||e.forEach(function(t){var e=n.find(function(e){return e.channel===t.channelId});t.userName=e&&e.userName}),e};t.mapUserNameToProjectLibraries=_;var C="none",E="view",x="update",O=function(r){function e(){for(var s,e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return w(b(s=r.call.apply(r,[this].concat(t))||this),"state",{importLibraryId:"",projectLibraries:[],classLibraries:[],cachedClassLibraries:[],displayLibrary:null,displayLibraryMode:C,isLoading:!1,errorMessages:{},updatedLibraryChannels:[],sectionFilter:""}),w(b(s),"onOpen",function(){var t=dashboard.project.getProjectLibraries()||[];s.setState({projectLibraries:t}),(new u.default).getClassLibraries(function(e){t=_(t,e),s.setState({classLibraries:e,projectLibraries:t})},function(e){s.setState({errorMessages:y({},s.state.errorMessages,{loadClassLibraries:l.default.errorFindingClassLibraries()})})}),s.fetchUpdates(t)}),w(b(s),"fetchUpdates",function(e){if(0!==e.length){var t=e.map(function(e){return{channel_id:e.channelId,version:e.versionId}});i.default.ajax({method:"GET",url:"/libraries/get_updates?libraries=".concat(JSON.stringify(t))}).done(function(e){return s.setState({updatedLibraryChannels:e})})}}),w(b(s),"setLibraryToImport",function(e){s.setState({importLibraryId:e.target.value,errorMessages:y({},s.state.errorMessages,{importFromId:void 0})})}),w(b(s),"addLibraryToProject",function(e){var t=s.state.projectLibraries;e&&(dashboard.project.setProjectLibraries([].concat(m(t),[e])),s.setState({projectLibraries:dashboard.project.getProjectLibraries()}))}),w(b(s),"updateLibraryInProject",function(t){if(t){var e=m(s.state.projectLibraries),n=e.findIndex(function(e){return e.channelId===t.channelId});e[n]=t,dashboard.project.setProjectLibraries(e),s.setState({libraries:dashboard.project.getProjectLibraries()})}}),w(b(s),"addLibraryById",function(e,t){t?s.setState({errorMessages:y({},s.state.errorMessages,{importFromId:l.default.libraryImportError()}),isLoading:!1}):e&&s.addLibraryToProject(e)}),w(b(s),"fetchLatestLibrary",function(r,i){var o=s.state.cachedClassLibraries,e=o.find(function(e){return e.channelId===r});if(e)i(e,null);else{var t=new u.default(r),a=function(e){return i(null,e)};t.fetchLatestVersionId(function(n){return t.fetchByVersion(n,function(e){var t=v.default.prepareLibraryForImport(e,r,n);s.setState({cachedClassLibraries:[].concat(m(o),[t]),isLoading:!1}),i(t,null)},a)},a)}}),w(b(s),"removeLibrary",function(t){var e=s.state.projectLibraries;dashboard.project.setProjectLibraries(e.filter(function(e){return e.channelId!==t})),s.setState({projectLibraries:dashboard.project.getProjectLibraries()})}),w(b(s),"displayProjectLibraries",function(){var e=s.state,t=e.projectLibraries,n=e.updatedLibraryChannels;if(!Array.isArray(t)||!t.length)return c.default.createElement("div",{style:S.message},l.default.noLibrariesInProject());var r=function(e){s.fetchLatestLibrary(e,function(e){return s.viewCode(e,x)})};return t.map(function(e){return c.default.createElement(d.default,{key:e.channelId,library:e,onUpdate:n.includes(e.channelId)?r:void 0,onRemove:s.removeLibrary,onViewCode:function(){return s.viewCode(e)}})})}),w(b(s),"displayClassLibraries",function(){var e=s.state,t=e.classLibraries,n=e.errorMessages,r=e.sectionFilter;return n.loadClassLibraries?c.default.createElement("div",{style:S.error},n.loadClassLibraries):Array.isArray(t)&&t.length?(r?t.filter(function(e){return e.sectionName===r}):t).map(function(e){return c.default.createElement(d.default,{key:e.channel,library:e,onAdd:function(){return s.fetchLatestLibrary(e.channel,s.addLibraryToProject)},onViewCode:function(){return s.fetchLatestLibrary(e.channel,s.viewCode)}})}):c.default.createElement("div",{style:S.message},l.default.noLibrariesInClass())}),w(b(s),"viewCode",function(e,t){e&&s.setState({displayLibrary:e,displayLibraryMode:t||E})}),w(b(s),"closeLibraryManager",function(){s.setState({cachedClassLibraries:[]}),s.props.onClose()}),w(b(s),"renderDisplayLibrary",function(){var e=s.state,t=e.displayLibrary,n=e.displayLibraryMode;if(!t)return null;var r=function(){return s.setState({displayLibrary:null,displayLibraryMode:C})};switch(n){case E:return c.default.createElement(h.default,{title:t.name,description:t.description,onClose:r,sourceCode:t.source});case x:return c.default.createElement(h.default,{title:l.default.updateLibraryConfirmation({libraryName:t.name}),description:t.description,onClose:r,sourceCode:t.source,buttons:c.default.createElement("div",{style:S.updateButtons},c.default.createElement(a.default,{text:l.default.cancel(),color:a.default.ButtonColor.gray,onClick:r}),c.default.createElement(a.default,{text:l.default.update(),onClick:function(){return s.updateLibraryInProject(t)}}))});default:return null}}),s}!function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(e,r);var t=e.prototype;return t.componentDidUpdate=function(e){!1===e.isOpen&&!0===this.props.isOpen&&this.onOpen()},t.render=function(){var t=this,e=this.props.isOpen,n=this.state,r=n.importLibraryId,i=n.displayLibrary,o=n.isLoading,a=n.errorMessages,s=n.classLibraries;if(!e)return null;var u=m(new Set(s.map(function(e){return e.sectionName})));return c.default.createElement("div",null,c.default.createElement(p.default,{isOpen:!0,handleClose:this.closeLibraryManager,style:y({},S.dialog,i?S.hidden:{}),useUpdatedStyles:!0},c.default.createElement("h1",{style:S.header},l.default.libraryManage()),c.default.createElement("div",{style:S.libraryList},this.displayProjectLibraries()),c.default.createElement("h1",{style:S.header},l.default.libraryClassImport()),c.default.createElement("div",{style:{textAlign:"left"}},c.default.createElement("label",{style:y({},S.message,{display:"inline"})},l.default.showingLibrariesFromSection()),c.default.createElement("select",{onChange:function(e){return t.setState({sectionFilter:e.target.value})}},c.default.createElement("option",{value:""},l.default.all()),u.map(function(e){return c.default.createElement("option",{key:e,value:e},e)}))),c.default.createElement("div",{style:S.libraryList},this.displayClassLibraries()),c.default.createElement("h1",{style:S.header},l.default.libraryIdImport()),c.default.createElement("div",{style:S.inputParent},c.default.createElement("input",{style:S.linkBox,type:"text",value:r,onChange:this.setLibraryToImport}),c.default.createElement("button",{style:S.add,onClick:function(){t.setState({isLoading:!0}),t.fetchLatestLibrary(r,t.addLibraryById)},type:"button",disabled:!r},o&&c.default.createElement(f.default,{icon:"spinner",className:"fa-spin"}),!o&&l.default.add())),c.default.createElement("div",{style:S.error},a.importFromId)),i&&this.renderDisplayLibrary())},e}(c.default.Component);w(t.LibraryManagerDialog=O,"propTypes",{onClose:r.default.func.isRequired,isOpen:r.default.bool.isRequired});var k=(0,o.default)(O);t.default=k},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.LibraryListItem=void 0;var r=p(n(0)),o=p(n(1)),a=p(n(17)),i=p(n(15)),s=p(n(6)),u=p(n(5)),c=p(n(1202)),l=p(n(2179));function p(e){return e&&e.__esModule?e:{default:e}}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d={overflowEllipsis:{textOverflow:"ellipsis",overflow:"hidden"},listItem:{padding:8,margin:2,color:s.default.dark_charcoal,textAlign:"left",display:"flex",borderBottom:"1px solid ".concat(s.default.lightest_gray),lineHeight:1.5},libraryTitle:{fontFamily:"'Gotham 5r', sans-serif",fontSize:16,cursor:"pointer",color:s.default.link_color,":hover":{color:s.default.link_color}},description:{marginRight:25,flexShrink:2},actions:{display:"flex",flexGrow:1,justifyContent:"flex-end"},actionBtn:{padding:8,fontSize:18,backgroundColor:s.default.white,":hover":{boxShadow:"none"}},iconPadding:{padding:"0 2px"},addBtn:{color:s.default.link_color,borderColor:s.default.link_color,":hover":{color:s.default.white,backgroundColor:s.default.link_color}},updateBtn:{color:s.default.orange,borderColor:s.default.orange,":hover":{color:s.default.white,backgroundColor:s.default.orange}},updateText:{fontFamily:"'Gotham 5r', sans-serif",paddingLeft:5,fontSize:16},removeBtn:{color:s.default.dark_red,borderColor:s.default.dark_red,":hover":{color:s.default.white,backgroundColor:s.default.dark_red},":disabled":{color:s.default.light_gray,borderColor:s.default.light_gray,backgroundColor:s.default.lightest_gray,cursor:"default"}}},h=function(i){function e(){for(var t,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return f(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t=i.call.apply(i,[this].concat(n))||this),"viewCode",function(e){e.preventDefault(),t.props.onViewCode()}),t}return function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(e,i),e.prototype.render=function(){var e=this,t=this.props.library;return o.default.createElement("div",{style:d.listItem},o.default.createElement("div",{style:[{marginRight:25},d.overflowEllipsis]},o.default.createElement(l.default,{text:u.default.viewCode(),place:"bottom"},o.default.createElement("a",{onClick:this.viewCode,style:d.libraryTitle},t.name)),t.userName&&o.default.createElement("div",{style:[d.author,d.overflowEllipsis]},o.default.createElement(c.default,{markdown:u.default.authorName({name:t.userName})}))),o.default.createElement("div",{style:[d.description,d.overflowEllipsis]},t.description),o.default.createElement("div",{style:d.actions},this.props.onAdd&&o.default.createElement(l.default,{text:u.default.add(),place:"bottom"},o.default.createElement("button",{type:"button",key:"add-"+t.id,onClick:function(){return e.props.onAdd(t.id)},style:[d.actionBtn,d.addBtn]},o.default.createElement(a.default,{icon:"plus",style:d.iconPadding}))),this.props.onUpdate&&o.default.createElement("button",{type:"button",key:"update-"+t.id,onClick:function(){return e.props.onUpdate(t.channelId)},style:[d.actionBtn,d.updateBtn]},o.default.createElement(a.default,{icon:"refresh",style:{padding:"0 1px"}}),o.default.createElement("span",{style:d.updateText},u.default.update())),this.props.onRemove&&o.default.createElement(l.default,{text:t.fromLevelbuilder?u.default.cannotDeleteLibrary():u.default.removeFromProject(),place:"bottom"},o.default.createElement("button",{type:"button",key:"remove-"+t.id,onClick:function(){return e.props.onRemove(t.channelId)},style:[d.actionBtn,d.removeBtn],disabled:!!t.fromLevelbuilder},o.default.createElement(a.default,{icon:"trash-o",style:d.iconPadding})))))},e}(o.default.Component);f(t.LibraryListItem=h,"propTypes",{library:r.default.object.isRequired,onUpdate:r.default.func,onRemove:r.default.func,onAdd:r.default.func,onViewCode:r.default.func});var v=(0,i.default)(h);t.default=v},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n(1)),r=i(n(0)),a=i(n(16)),s=i(n(131));function i(e){return e&&e.__esModule?e:{default:e}}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c=function(i){function e(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return u(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e=i.call.apply(i,[this].concat(n))||this),"state",{id:a.default.uniqueId()}),e}return function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(e,i),e.prototype.render=function(){var e=this.props,t=e.children,n=e.text,r=e.place,i=this.state.id;return o.default.createElement("span",{"data-for":this.state.id,"data-tip":!0,"data-place":r},t,o.default.createElement(s.default,{id:i,role:"tooltip",effect:"solid"},o.default.createElement("div",null,n)))},e}(o.default.Component);u(t.default=c,"propTypes",{text:r.default.string.isRequired,children:r.default.node.isRequired,place:r.default.oneOf(["top","right","bottom","left"])}),e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(0)),i=a(n(1)),o=a(n(5));function a(e){return e&&e.__esModule?e:{default:e}}var s,u,c,l=function(e){function t(){return e.apply(this,arguments)||this}return function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(t,e),t.prototype.render=function(){return i.default.createElement("button",{type:"button",id:"skipButton",className:"launch"},o.default.skipPuzzle())},t}(i.default.Component);t.default=l,s=l,u="propTypes",c={nextLevelUrl:r.default.string.isRequired},u in s?Object.defineProperty(s,u,{value:c,enumerable:!0,configurable:!0,writable:!0}):s[u]=c,e.exports=t.default},function(e,t){e.exports="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAkAAAEALAAAAAABAAEAAAICTAEAOw=="},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=i(n(1)),p=i(n(5)),r=i(n(6)),o=i(n(94)),a=i(n(16));function i(e){return e&&e.__esModule?e:{default:e}}function f(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(Object(n));"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(e){u(t,e,n[e])})}return t}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d={button:{position:"fixed",zIndex:9999,opacity:.8,color:r.default.white,backgroundColor:r.default.black,borderRadius:4,padding:15,transform:"translate(-100%,-100%)",whiteSpace:"nowrap",cursor:"pointer"},buttonIcon:{display:"inline-block",verticalAlign:"middle",fontSize:24},buttonText:{display:"inline-block",verticalAlign:"middle",paddingTop:5},helper:{position:"fixed",zIndex:9998,backgroundColor:"white",opacity:.8,top:0,left:0,right:0,bottom:0,width:"100%",height:"100%"},helperInner:{position:"fixed",zIndex:9999,transform:"translate(-50%,-50%)",color:r.default.white,backgroundColor:r.default.black,opacity:.8,padding:15,borderRadius:5,textAlign:"center",pointerEvents:"none"},helperInnerIcons:{fontSize:24,marginBottom:10},closeX:{position:"absolute",top:5,right:5,fontSize:13}},c=function(i){function e(){for(var n,e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return u(s(n=i.call.apply(i,[this].concat(t))||this),"state",{mode:"none"}),u(s(n),"updateViewport",function(){var e=n.isZoomed();if("none"===n.state.mode||e)"none"===n.state.mode&&e&&(n.setState({mode:"button"}),(0,o.default)("Research","FixZoomHelper","none-to-button"));else{var t=n.state.mode;n.setState({mode:"none"}),(0,o.default)("Research","FixZoomHelper","".concat(t,"-to-none"))}window.visualViewport&&n.setState({offsetLeft:window.visualViewport.offsetLeft,offsetTop:window.visualViewport.offsetTop,width:window.visualViewport.width,height:window.visualViewport.height})}),u(s(n),"onButtonClick",function(){n.setState({mode:"helper"}),(0,o.default)("Research","FixZoomHelper","button-to-helper")}),u(s(n),"onHelperClick",function(){n.setState({mode:"button"}),(0,o.default)("Research","FixZoomHelper","helper-to-button")}),n}!function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(e,i);var t=e.prototype;return t.isLandscape=function(){return window.matchMedia("(orientation: landscape)").matches},t.isZoomed=function(){return 30<Math.abs(document.body.offsetWidth-window.visualViewport.width)},t.componentDidMount=function(){window.visualViewport&&(this.updateViewport(),this.resizeListener=a.default.throttle(this.updateViewport,200),window.visualViewport.addEventListener("resize",this.resizeListener),window.visualViewport.addEventListener("scroll",this.resizeListener))},t.componentWillUnmount=function(){window.visualViewport&&(document.removeEventListener("resize",this.resizeListener,!1),document.removeEventListener("scroll",this.resizeListener,!1))},t.render=function(){var e=this.state,t=e.offsetTop,n=e.offsetLeft,r=e.height,i=e.width,o=e.mode;if("button"===o){var a=t+r-10,s=n+i-10;return l.default.createElement("div",{onClick:this.onButtonClick,style:f({},d.button,{top:a,left:s})},l.default.createElement("div",{style:d.buttonIcon},l.default.createElement("span",{style:d.icon,className:"fa fa-search-minus"}),"Â "),l.default.createElement("div",{style:d.buttonText},p.default.fixZoomHelperZoomOut()))}if("helper"!==o)return null;var u=t+r/2,c=n+i/2;return l.default.createElement("div",null,l.default.createElement("div",{onClick:this.onHelperClick,style:d.helper}),l.default.createElement("div",{style:f({},d.helperInner,{top:u,left:c})},l.default.createElement("div",{style:d.helperInnerIcons},l.default.createElement("span",{className:"fa fa-arrow-circle-o-right"}),"Â ",l.default.createElement("span",{className:"fa fa-arrow-circle-o-left"})),p.default.fixZoomHelperPinch(),l.default.createElement("br",null),p.default.fixZoomHelperDismiss()))},e}(l.default.Component);t.default=c,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=c(n(1)),i=c(n(5)),o=c(n(205)),a=c(n(91)),s=c(n(94)),u=c(n(16));function c(e){return e&&e.__esModule?e:{default:e}}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f={closeX:{position:"absolute",top:5,right:5,fontSize:13}},d="hide_toolbar_helper",h=function(t){function e(e){var i;return p(l(i=t.call(this,e)||this),"state",{showHelper:!1}),p(l(i),"updateLayout",function(){var e=i.isiOS13(),t=i.isHideCookieSet(),n=i.isLandscape();if(e&&n&&!t){var r=i.isToolbarShowing();!i.wasHelperShowing||r||i.didTrackToolbarHide||((0,s.default)("Research","HideToolbarHelper","hid-"+window.innerHeight),i.setHideHelperCookie(),i.didTrackToolbarHide=!0),i.wasHelperShowing=r,i.setState({showHelper:r})}else i.setState({showHelper:!1})}),p(l(i),"onClick",function(){i.setHideHelperCookie(),i.updateLayout(),(0,s.default)("Research","HideToolbarHelper","click-"+window.innerHeight+"-"+document.body.offsetHeight)}),i.wasHelperShowing=!1,i.didTrackToolbarHide=!1,-1!==window.location.search.indexOf("force_show_toolbar_helper")&&o.default.remove(d,{path:"/"}),i}!function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(e,t);var n=e.prototype;return n.isiOS13=function(){return-1!==navigator.userAgent.indexOf("iPhone OS 13")},n.isHideCookieSet=function(){return o.default.get(d)},n.isLandscape=function(){return 0!==window.orientation},n.isToolbarShowing=function(){return window.innerHeight<document.body.offsetHeight},n.componentDidMount=function(){this.updateLayout(),this.updateLayoutListener=u.default.throttle(this.updateLayout,200),window.addEventListener("orientationchange",this.updateLayoutListener),window.addEventListener("resize",this.updateLayoutListener),window.addEventListener("scroll",this.updateLayoutListener)},n.componentWillUnmount=function(){document.removeEventListener("orientationchange",this.updateLayoutListener,!1),document.removeEventListener("resize",this.updateLayoutListener,!1),document.removeEventListener("scroll",this.updateLayoutListener,!1)},n.setHideHelperCookie=function(){o.default.set(d,"true",{expires:365,path:"/"})},n.render=function(){return this.state.showHelper?r.default.createElement("div",{className:"hide_toolbar_helper",onClick:this.onClick},r.default.createElement(a.default,{markdown:i.default.hideToolbarHelper()}),r.default.createElement("i",{className:"fa fa-times",style:f.closeX})):null},e}(r.default.Component);t.default=h,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(0)),u=i(n(1)),c=i(n(5)),o=i(n(16));function i(e){return e&&e.__esModule?e:{default:e}}function l(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(Object(n));"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(e){s(t,e,n[e])})}return t}function a(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p={rotateContainer:{position:"fixed",zIndex:10001,backgroundColor:"white",top:0,left:0,right:0,bottom:0,width:"100%",height:"100%"},rotateContainerInner:{position:"absolute",backgroundPosition:"50% 50%",backgroundSize:"contain",backgroundRepeat:"no-repeat",width:"100%",height:"100%"},rotateText:{position:"relative",top:"50%",left:"-40%"},paragraph:{textAlign:"center",fontSize:24,lineHeight:1.5,transform:"rotate(90deg)"}},f=function(i){function e(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return s(a(e=i.call.apply(i,[this].concat(n))||this),"state",{hasVisualViewport:!1}),s(a(e),"updateViewport",function(){e.setState({hasVisualViewport:!0,offsetLeft:window.visualViewport.offsetLeft,offsetTop:window.visualViewport.offsetTop,width:window.visualViewport.width,height:window.visualViewport.height})}),e}!function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(e,i);var t=e.prototype;return t.componentDidMount=function(){window.visualViewport&&(this.updateViewport(),this.resizeListener=o.default.throttle(this.updateViewport,200),window.visualViewport.addEventListener("resize",this.resizeListener),window.visualViewport.addEventListener("scroll",this.resizeListener))},t.render=function(){var e=l({},p.rotateContainerInner,{backgroundImage:"url("+this.props.assetUrl("media/turnphone_horizontal.png")+")"}),t=l({},p.rotateText),n=l({},p.paragraph);if(this.state.hasVisualViewport){var r=this.state.width,i=this.state.height,o=-.4*r,a=i/2,s=r/25;e=l({},e,{width:r,height:i,left:this.state.offsetLeft,top:this.state.offsetTop}),t=l({},t,{left:o,top:a}),n=l({},n,{fontSize:s})}return u.default.createElement("div",{id:"rotateContainer",style:p.rotateContainer},u.default.createElement("div",{id:"rotateContainerInner",style:e},u.default.createElement("div",{id:"rotateText",style:t},u.default.createElement("p",{style:n},c.default.rotateText(),u.default.createElement("br",null),c.default.orientationLock()))))},e}(u.default.Component);s(t.default=f,"propTypes",{assetUrl:r.default.func.isRequired}),e.exports=t.default},function(e,t,n){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.UnconnectedTopInstructions=void 0;var w=g(n(10)),S=v(n(1)),o=g(n(7)),r=g(n(0)),i=g(n(15)),s=n(9),u=g(n(16)),_=g(n(2186)),C=g(n(2187)),E=g(n(1340)),x=g(n(2193)),O=g(n(2194)),k=v(n(708)),P=g(n(2195)),T=g(n(2196)),c=n(447),l=g(n(6)),p=g(n(206)),R=g(n(296)),A=g(n(1073)),I=g(n(2199)),M=g(n(2200)),N=g(n(5)),D=n(70),f=g(n(90)),j=g(n(2201)),d=g(n(62)),L=n(304);function h(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return h=function(){return e},e}function v(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=h();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}function g(e){return e&&e.__esModule?e:{default:e}}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=p.default["workspace-headers-height"],B=p.default["resize-bar-width"],F=B+60,z="instructions",U="resources",H="comments",W="teacher-only",V={instructionsBody:{backgroundColor:"#646464"},headerBar:{color:l.default.white,backgroundColor:"#3b3b3b"}},q={main:{position:"absolute",marginLeft:15,top:0,right:0},mainRtl:{position:"absolute",marginRight:15,top:0,left:0},noViz:{left:0,right:0,marginRight:0,marginLeft:0},body:{backgroundColor:"white",paddingLeft:10,paddingRight:10,position:"absolute",top:b,bottom:0,left:0,right:0,overflowY:"scroll"},csfBody:{backgroundColor:"#ddd",position:"absolute",top:b,bottom:0,left:0,right:0,overflow:"hidden"},embedView:{height:void 0,bottom:0},paneHeaderOverride:{color:l.default.default_text},title:{textAlign:"center",height:b,lineHeight:b+"px"},helpTabs:{float:"left",paddingTop:6,paddingLeft:30},helpTabsRtl:{float:"right",paddingTop:6,paddingRight:30}},G={wrapper:{float:"right"},button:{height:24,marginTop:"3px",marginBottom:"3px"},buttonImg:{lineHeight:"24px",fontSize:15,paddingLeft:12}},K={wrapper:{float:"left"},button:{height:24,marginTop:"3px",marginBottom:"3px"},buttonImg:{lineHeight:"24px",fontSize:15,paddingLeft:12}},X=function(i){function e(e){var n;y(m(n=i.call(this,e)||this),"forceTabResizeToMaxHeight",function(){n.state.tabSelected===H&&n.props.setInstructionsRenderedHeight(n.adjustMaxNeededHeight())}),y(m(n),"getItemTop",function(){return n.refs.topInstructions.getBoundingClientRect().top}),y(m(n),"handleHeightResize",function(e){var t=Math.max(F,e);t=Math.min(t,n.props.maxHeight),n.props.setInstructionsRenderedHeight(t)}),y(m(n),"adjustMaxNeededHeight",function(){if(n.props.hidden||!n.props.shortInstructions&&!n.props.longInstructions&&!n.props.hasContainedLevels)return 0;var e;switch(n.state.tabSelected){case U:e=n.refs.helpTab;break;case z:e=n.refs.instructions;break;case H:e=n.refs.commentTab;break;case W:e=n.refs.teacherOnlyTab}var t=(0,w.default)(o.default.findDOMNode(e)).outerHeight(!0)+b+B;return n.props.maxHeight!==t&&n.props.setInstructionsMaxHeightNeeded(t),t}),y(m(n),"handleClickCollapser",function(){n.props.collapsed?d.default.putRecord({study:"top-instructions",event:"expand-instructions",data_json:JSON.stringify({csfStyleInstructions:!n.props.noInstructionsWhenCollapsed})}):d.default.putRecord({study:"top-instructions",event:"collapse-instructions",data_json:JSON.stringify({csfStyleInstructions:!n.props.noInstructionsWhenCollapsed})});var e=!n.props.collapsed;n.props.toggleInstructionsCollapsed(),e&&n.props.noInstructionsWhenCollapsed?n.props.setInstructionsRenderedHeight(b):n.props.setInstructionsRenderedHeight(n.props.expandedHeight)}),y(m(n),"handleDocumentationClick",function(){window.open(n.props.documentationUrl,"_blank").focus()}),y(m(n),"handleHelpTabClick",function(){n.scrollToTopOfTab(),n.setState({tabSelected:U},function(){n.scrollToTopOfTab(),n.adjustMaxNeededHeight()}),d.default.putRecord({study:"top-instructions",event:"click-help-and-tips-tab"})}),y(m(n),"handleInstructionTabClick",function(){n.scrollToTopOfTab(),n.setState({tabSelected:z},function(){n.scrollToTopOfTab(),n.adjustMaxNeededHeight()})}),y(m(n),"handleCommentTabClick",function(){n.scrollToTopOfTab(),n.state.tabSelected!==H&&n.incrementFeedbackVisitCount(),d.default.putRecord({study:"top-instructions",event:"click-feedback-tab"}),n.setState({tabSelected:H},function(){n.forceTabResizeToMaxHeight(),n.scrollToTopOfTab()})}),y(m(n),"handleTeacherOnlyTabClick",function(){n.setState({tabSelected:W},function(){n.scrollToTopOfTab(),n.adjustMaxNeededHeight()}),d.default.putRecord({study:"top-instructions",event:"click-teacher-only-tab"})}),y(m(n),"scrollToTopOfTab",function(){document.getElementById("scroll-container").scrollTop=0}),y(m(n),"incrementFeedbackVisitCount",u.default.debounce(function(){var e=n.state.feedbacks[0];!n.state.teacherViewingStudentWork&&e&&w.default.ajax({url:"/api/v1/teacher_feedbacks/".concat(e.id,"/increment_visit_count"),method:"POST",contentType:"application/json;charset=UTF-8",headers:{"X-CSRF-Token":n.state.token}})},5e3,{leading:!0}));var t=f.default.parse(window.location.search).user_id,r=n.props.viewAs===D.ViewType.Teacher&&n.props.readOnlyWorkspace&&window.location.search.includes("user_id");return n.state={tabSelected:r&&n.props.noInstructionsWhenCollapsed?H:z,feedbacks:[],rubric:null,studentId:t,teacherViewingStudentWork:r,fetchingData:!0,token:null},n}!function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(e,i);var t=e.prototype;return t.componentDidMount=function(){var r=this,e=this.props,t=e.user,n=e.serverLevelId,i=this.state.studentId;window.addEventListener("resize",this.adjustMaxNeededHeight);var o=this.adjustMaxNeededHeight();this.props.setInstructionsRenderedHeight(Math.min(o,300));var a=[];this.props.viewAs===D.ViewType.Student&&t&&n&&a.push(w.default.ajax({url:"/api/v1/teacher_feedbacks/get_feedbacks?student_id=".concat(t,"&level_id=").concat(n),method:"GET",contentType:"application/json;charset=UTF-8"}).done(function(e,t,n){e[0]&&(e[0].comment||e[0].performance)&&(r.setState({feedbacks:e,tabSelected:H,token:n.getResponseHeader("csrf-token")}),r.incrementFeedbackVisitCount())})),n&&a.push(w.default.ajax({url:"/levels/".concat(n,"/get_rubric"),method:"GET",contentType:"application/json;charset=UTF-8"}).done(function(e){r.setState({rubric:e})})),this.state.teacherViewingStudentWork&&t&&n&&i&&a.push(w.default.ajax({url:"/api/v1/teacher_feedbacks/get_feedback_from_teacher?student_id=".concat(i,"&level_id=").concat(n,"&teacher_id=").concat(t),method:"GET",contentType:"application/json;charset=UTF-8"}).done(function(e,t,n){r.setState({feedbacks:204===n.status?[]:[e],token:n.getResponseHeader("csrf-token")})})),Promise.all(a).then(function(){r.setState({fetchingData:!1},r.forceTabResizeToMaxHeight)}).catch(function(e){console.log("Promise Rejection while getting instructions: "+e.responseText)})},t.componentWillUnmount=function(){window.removeEventListener("resize",this.adjustMaxNeededHeight)},t.componentWillReceiveProps=function(e){!e.collapsed&&e.height<F&&e.height<e.maxHeight&&!e.hidden&&(e.shortInstructions||e.longInstructions||e.hasContainedLevels)&&this.props.setInstructionsRenderedHeight(Math.min(e.maxHeight,F))},t.render=function(){var e=this.props,t=e.hidden,n=e.shortInstructions,r=e.longInstructions,i=e.hasContainedLevels,o=!this.props.noInstructionsWhenCollapsed,a=this.props.noInstructionsWhenCollapsed,s=L.WIDGET_WIDTH+"px",u=[this.props.isRtl?q.mainRtl:q.main,{height:this.props.height-B},this.props.noVisualization&&q.noViz,this.props.isEmbedView&&q.embedView,this.props.widgetMode&&(this.props.isRtl?{right:s}:{left:s})],c=this.props.ttsLongInstructionsUrl,l=this.props.levelVideos?this.props.levelVideos[0]:[],p=this.props.levelVideos&&0<this.props.levelVideos.length,f=null!==this.props.mapReference||this.props.referenceLinks&&0<this.props.referenceLinks.length,d=p||f,h=this.props.viewAs===D.ViewType.Student&&0<this.state.feedbacks.length&&(this.state.feedbacks[0].comment||this.state.feedbacks[0].performance),v=this.state.rubric&&(this.props.viewAs===D.ViewType.Student&&!h||this.props.viewAs===D.ViewType.Teacher&&!this.state.teacherViewingStudentWork),g=v?N.default.keyConcept():N.default.feedback(),m=v||this.state.teacherViewingStudentWork||h,y=this.state.tabSelected===W||this.state.tabSelected===H&&this.state.teacherViewingStudentWork;if(t||!n&&!r&&!i)return S.default.createElement("div",null);var b=this.props.hasContainedLevels&&0<(0,w.default)("#containedLevelAnswer0").length;return S.default.createElement("div",{style:u,className:"editor-column",ref:"topInstructions"},S.default.createElement(k.default,{hasFocus:!1,teacherOnly:y,isMinecraft:this.props.isMinecraft},S.default.createElement("div",{style:q.paneHeaderOverride},this.state.tabSelected===z&&c&&(this.props.hasContainedLevels||a)&&S.default.createElement(E.default,{src:c,style:this.props.isRtl?K:G}),this.props.documentationUrl&&this.state.tabSelected!==H&&S.default.createElement(k.PaneButton,{iconClass:"fa fa-book",label:N.default.documentation(),isRtl:this.props.isRtl,headerHasFocus:!1,onClick:this.handleDocumentationClick,isMinecraft:this.props.isMinecraft}),S.default.createElement("div",{style:this.props.isRtl?q.helpTabsRtl:q.helpTabs},S.default.createElement(P.default,{className:"uitest-instructionsTab",onClick:this.handleInstructionTabClick,selected:this.state.tabSelected===z,text:N.default.instructions(),teacherOnly:y,isMinecraft:this.props.isMinecraft,isRtl:this.props.isRtl}),a&&d&&S.default.createElement(P.default,{className:"uitest-helpTab",onClick:this.handleHelpTabClick,selected:this.state.tabSelected===U,text:N.default.helpTips(),teacherOnly:y,isMinecraft:this.props.isMinecraft,isRtl:this.props.isRtl}),a&&m&&(!this.state.fetchingData||y)&&S.default.createElement(P.default,{className:"uitest-feedback",onClick:this.handleCommentTabClick,selected:this.state.tabSelected===H,text:g,teacherOnly:y,isMinecraft:this.props.isMinecraft,isRtl:this.props.isRtl}),this.props.viewAs===D.ViewType.Teacher&&(this.props.teacherMarkdown||b)&&S.default.createElement(P.default,{className:"uitest-teacherOnlyTab",onClick:this.handleTeacherOnlyTabClick,selected:this.state.tabSelected===W,text:N.default.teacherOnly(),teacherOnly:y,isMinecraft:this.props.isMinecraft,isRtl:this.props.isRtl})),!this.props.isEmbedView&&(a||this.props.hasContainedLevels)&&S.default.createElement(I.default,{collapsed:this.props.collapsed,onClick:this.handleClickCollapser,teacherOnly:y,isRtl:this.props.isRtl}))),S.default.createElement("div",{style:[this.props.collapsed&&a&&R.default.hidden]},S.default.createElement("div",{style:[o&&!this.props.hasContainedLevels&&this.state.tabSelected===z?q.csfBody:q.body,this.props.isMinecraft&&V.instructionsBody],id:"scroll-container"},S.default.createElement("div",{ref:"instructions"},this.props.hasContainedLevels&&S.default.createElement("div",null,S.default.createElement(x.default,{ref:"instructions",hidden:this.state.tabSelected!==z})),!this.props.hasContainedLevels&&o&&this.state.tabSelected===z&&S.default.createElement(j.default,{ref:"instructions",handleClickCollapser:this.handleClickCollapser,adjustMaxNeededHeight:this.adjustMaxNeededHeight,isEmbedView:this.props.isEmbedView,teacherViewingStudentWork:this.state.teacherViewingStudentWork}),!this.props.hasContainedLevels&&a&&this.state.tabSelected===z&&S.default.createElement("div",null,S.default.createElement(A.default,{ref:"instructions",longInstructions:this.props.longInstructions,onResize:this.adjustMaxNeededHeight,inTopPane:!0}))),this.state.tabSelected===U&&S.default.createElement(T.default,{ref:"helpTab",videoData:l,mapReference:this.props.mapReference,referenceLinks:this.props.referenceLinks}),m&&!this.state.fetchingData&&S.default.createElement(C.default,{user:this.props.user,visible:this.state.tabSelected===H,displayKeyConcept:v,disabledMode:this.props.viewAs===D.ViewType.Student||!this.state.teacherViewingStudentWork,rubric:this.state.rubric,ref:"commentTab",latestFeedback:this.state.feedbacks,token:this.state.token}),this.props.viewAs===D.ViewType.Teacher&&(this.props.hasContainedLevels||this.props.teacherMarkdown)&&S.default.createElement("div",null,this.props.hasContainedLevels&&S.default.createElement(O.default,{ref:"teacherOnlyTab",hidden:this.state.tabSelected!==W}),this.state.tabSelected===W&&S.default.createElement(_.default,{ref:"teacherOnlyTab"}))),!this.props.isEmbedView&&S.default.createElement(M.default,{resizeItemTop:this.getItemTop,position:this.props.height,onResize:this.handleHeightResize})))},e}(S.Component);y(X,"propTypes",{isEmbedView:r.default.bool.isRequired,hasContainedLevels:r.default.bool,height:r.default.number.isRequired,expandedHeight:r.default.number.isRequired,maxHeight:r.default.number.isRequired,longInstructions:r.default.string,collapsed:r.default.bool.isRequired,noVisualization:r.default.bool.isRequired,toggleInstructionsCollapsed:r.default.func.isRequired,setInstructionsRenderedHeight:r.default.func.isRequired,setInstructionsMaxHeightNeeded:r.default.func.isRequired,documentationUrl:r.default.string,ttsLongInstructionsUrl:r.default.string,levelVideos:r.default.array,mapReference:r.default.string,referenceLinks:r.default.array,viewAs:r.default.oneOf(Object.keys(D.ViewType)),readOnlyWorkspace:r.default.bool,serverLevelId:r.default.number,user:r.default.number,noInstructionsWhenCollapsed:r.default.bool.isRequired,teacherMarkdown:r.default.string,hidden:r.default.bool.isRequired,shortInstructions:r.default.string,isMinecraft:r.default.bool.isRequired,isRtl:r.default.bool.isRequired,widgetMode:r.default.bool});var Y=X;t.UnconnectedTopInstructions=Y;var J=(0,s.connect)(function(e){return{isEmbedView:e.pageConstants.isEmbedView,hasContainedLevels:e.pageConstants.hasContainedLevels,isMinecraft:!!e.pageConstants.isMinecraft,height:e.instructions.renderedHeight,expandedHeight:e.instructions.expandedHeight,maxHeight:Math.min(e.instructions.maxAvailableHeight,e.instructions.maxNeededHeight),longInstructions:e.instructions.longInstructions,noVisualization:e.pageConstants.noVisualization,collapsed:e.instructions.collapsed,documentationUrl:e.pageConstants.documentationUrl,ttsLongInstructionsUrl:e.pageConstants.ttsLongInstructionsUrl,levelVideos:e.instructions.levelVideos,mapReference:e.instructions.mapReference,referenceLinks:e.instructions.referenceLinks,viewAs:e.viewAs,readOnlyWorkspace:e.pageConstants.isReadOnlyWorkspace,serverLevelId:e.pageConstants.serverLevelId,user:e.pageConstants.userId,noInstructionsWhenCollapsed:e.instructions.noInstructionsWhenCollapsed,teacherMarkdown:e.instructions.teacherMarkdown,hidden:e.pageConstants.isShareView,shortInstructions:e.instructions.shortInstructions,isRtl:e.isRtl,widgetMode:e.pageConstants.widgetMode}},function(t){return{toggleInstructionsCollapsed:function(){t((0,c.toggleInstructionsCollapsed)())},setInstructionsRenderedHeight:function(e){t((0,c.setInstructionsRenderedHeight)(e))},setInstructionsMaxHeightNeeded:function(e){t((0,c.setInstructionsMaxHeightNeeded)(e))}}},null,{withRef:!0})((0,i.default)(X));t.default=J},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=l(n(0)),i=l(n(1)),o=n(9),a=l(n(91)),s=l(n(6)),u=l(n(5)),c=n(70);function l(e){return e&&e.__esModule?e:{default:e}}var p={container:{margin:20,borderWidth:5,borderStyle:"solid",borderColor:s.default.cyan,backgroundColor:s.default.lightest_cyan,borderRadius:5},header:{color:s.default.white,backgroundColor:s.default.cyan,padding:5,fontSize:18,fontFamily:'"Gotham 7r", sans-serif'},content:{padding:10}},f=function(e){var t=e.content;return t?i.default.createElement("div",{style:p.container},i.default.createElement("div",{style:p.header},u.default.forTeachersOnly()),i.default.createElement("div",{style:p.content},i.default.createElement(a.default,{markdown:t}))):null};f.propTypes={content:r.default.string};var d=(0,o.connect)(function(e){return{content:e.viewAs===c.ViewType.Teacher?e.instructions.teacherMarkdown:""}})(f);t.default=d,e.exports=t.default},function(e,t,n){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.UnconnectedTeacherFeedback=t.TeacherFeedback=void 0;var p=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=l();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}n.default=e,t&&t.set(e,n);return n}(n(1)),r=n(9),f=c(n(5)),d=n(70),h=c(n(27)),v=c(n(33)),i=c(n(0)),o=c(n(90)),s=c(n(6)),u=c(n(10)),g=c(n(2188)),m=n(2192);function c(e){return e&&e.__esModule?e:{default:e}}function l(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return l=function(){return e},e}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w={tabAreaHidden:{display:"none"},tabAreaVisible:{display:"block"},button:{fontWeight:"bold"},errorIcon:{color:"red",margin:10},timeTeacher:{paddingTop:8,paddingLeft:8,fontStyle:"italic",fontSize:12,color:s.default.cyan},timeStudent:{fontStyle:"italic",fontSize:12,color:s.default.cyan},footer:{display:"flex",justifyContent:"flex-start"},h1:{color:s.default.charcoal,marginTop:8,marginBottom:8,fontSize:18,lineHeight:"18px",fontFamily:'"Gotham 5r", sans-serif',fontWeight:"normal"},performanceArea:{display:"flex",justifyContent:"flex-start",flexDirection:"row",margin:"0px 16px 8px 16px"},keyConceptArea:{marginRight:28,flexBasis:"40%"},keyConcepts:{fontSize:12,color:s.default.charcoal,margin:0},rubricArea:{flexBasis:"60%"},commentAndFooter:{margin:"8px 16px 8px 16px"},form:{margin:0}},S="NoError",_="Load",C="Save",E=function(r){function e(e){var n;b(y(n=r.call(this,e)||this),"componentDidMount",function(){window.addEventListener("beforeunload",function(e){n.feedbackIsUnchanged()||(e.preventDefault(),e.returnValue=f.default.feedbackNotSavedWarning())})}),b(y(n),"onCommentChange",function(e){n.setState({comment:e})}),b(y(n),"onRubricChange",function(e){e===n.state.performance?n.setState({performance:null}):n.setState({performance:e})}),b(y(n),"onSubmitFeedback",function(){n.setState({submitting:!0});var e={comment:n.state.comment,student_id:n.state.studentId,level_id:n.props.serverLevelId,script_level_id:n.props.serverScriptLevelId,teacher_id:n.props.teacher,performance:n.state.performance};u.default.ajax({url:"/api/v1/teacher_feedbacks",method:"POST",contentType:"application/json;charset=UTF-8",dataType:"json",data:JSON.stringify({teacher_feedback:e}),headers:{"X-CSRF-Token":n.props.token}}).done(function(e){n.setState({latestFeedback:[e],submitting:!1,errorState:S})}).fail(function(e,t){n.setState({errorState:C,submitting:!1})})}),b(y(n),"latestFeedback",function(){return 0<n.state.latestFeedback.length?n.state.latestFeedback[0]:null}),b(y(n),"feedbackIsUnchanged",function(){var e=n.latestFeedback();return e&&n.state.comment===e.comment&&n.state.performance===e.performance||!e&&0===n.state.comment.length&&null===n.state.performance});var t=o.default.parse(window.location.search).user_id;return n.onRubricChange=n.onRubricChange.bind(y(n)),n.state={comment:n.props.latestFeedback[0]&&n.props.latestFeedback[0].comment?n.props.latestFeedback[0].comment:"",performance:n.props.latestFeedback[0]&&n.props.latestFeedback[0].performance?n.props.latestFeedback[0].performance:null,studentId:t,latestFeedback:n.props.latestFeedback?n.props.latestFeedback:[],submitting:!1,errorState:S},n}!function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(e,r);var t=e.prototype;return t.componentWillUnmount=function(){window.removeEventListener("beforeunload")},t.render=function(){var t=this,e=this.latestFeedback(),n=this.feedbackIsUnchanged()||this.state.submitting||this.state.errorState===_||!this.props.verifiedTeacher,r=e?f.default.update():f.default.saveAndShare(),i=this.props.verifiedTeacher?f.default.feedbackPlaceholder():f.default.feedbackPlaceholderNonVerified(),o=e&&e.comment?e.comment:i,a=!this.state.comment&&this.props.viewAs===d.ViewType.Student,s=!(this.props.displayKeyConcept||!this.state.performance&&this.props.viewAs===d.ViewType.Student),u=this.props.visible?w.tabAreaVisible:w.tabAreaHidden,c=this.props.viewAs===d.ViewType.Student?w.timeStudent:w.timeTeacher,l=this.props.viewAs===d.ViewType.Student&&s&&null!==this.state.performance;return p.default.createElement("div",{style:u},this.state.errorState===_&&p.default.createElement("span",null,p.default.createElement("i",{className:"fa fa-warning",style:w.errorIcon}),f.default.feedbackLoadError()),this.props.rubric&&p.default.createElement("div",{style:w.performanceArea},p.default.createElement("div",{style:w.keyConceptArea},p.default.createElement("h1",{style:w.h1}," ",f.default.rubricKeyConceptHeader()," "),p.default.createElement("p",{style:w.keyConcepts},this.props.rubric.keyConcept)),p.default.createElement("div",{style:w.rubricArea},p.default.createElement("h1",{style:w.h1}," ",f.default.rubricHeader()," "),p.default.createElement("form",{style:w.form},["performanceLevel1","performanceLevel2","performanceLevel3","performanceLevel4"].map(function(e){return p.default.createElement(g.default,{key:e,showFeedbackInputAreas:s,expandByDefault:t.props.displayKeyConcept||l&&t.state.performance===e,rubricLevel:e,rubricValue:t.props.rubric[e],disabledMode:t.props.disabledMode,onChange:t.onRubricChange,currentlyChecked:t.state.performance===e})})))),!this.props.displayKeyConcept&&!a&&p.default.createElement("div",{style:w.commentAndFooter},p.default.createElement(m.CommentArea,{disabledMode:this.props.disabledMode,comment:this.state.comment,placeholderText:o,studentHasFeedback:this.props.viewAs===d.ViewType.Student&&0<this.state.latestFeedback.length,onCommentChange:this.onCommentChange}),p.default.createElement("div",{style:w.footer},this.props.viewAs===d.ViewType.Teacher&&p.default.createElement("div",{style:w.button},p.default.createElement(h.default,{__useDeprecatedTag:!0,id:"ui-test-submit-feedback",text:r,onClick:this.onSubmitFeedback,color:h.default.ButtonColor.blue,disabled:n}),this.state.errorState===C&&p.default.createElement("span",null,p.default.createElement("i",{className:"fa fa-warning",style:w.errorIcon}),f.default.feedbackSaveError())),0<this.state.latestFeedback.length&&p.default.createElement("div",{style:c,id:"ui-test-feedback-time"},f.default.lastUpdated({time:v.default.min((0,v.default)(),(0,v.default)(e.created_at)).fromNow()})))))},e}(p.Component);b(t.TeacherFeedback=E,"propTypes",{user:i.default.number,disabledMode:i.default.bool.isRequired,rubric:i.default.shape({keyConcept:i.default.string,performanceLevel1:i.default.string,performanceLevel2:i.default.string,performanceLevel3:i.default.string,performanceLevel4:i.default.string}),visible:i.default.bool.isRequired,viewAs:i.default.oneOf(["Teacher","Student"]).isRequired,serverLevelId:i.default.number,serverScriptLevelId:i.default.number,teacher:i.default.number,verifiedTeacher:i.default.bool,displayKeyConcept:i.default.bool,latestFeedback:i.default.array,token:i.default.string});var x=E;t.UnconnectedTeacherFeedback=x;var O=(0,r.connect)(function(e){return{viewAs:e.viewAs,serverLevelId:e.pageConstants.serverLevelId,serverScriptLevelId:e.pageConstants.serverScriptLevelId,teacher:e.pageConstants.userId,verifiedTeacher:e.pageConstants.verifiedTeacher}})(E);t.default=O},function(e,t,n){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.UnwrappedRubricField=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=d();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}n.default=e,t&&t.set(e,n);return n}(n(1)),i=f(n(0)),o=f(n(6)),s=f(n(15)),u=n(2189),c=f(n(131)),l=f(n(16)),p=f(n(5));function f(e){return e&&e.__esModule?e:{default:e}}function d(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return d=function(){return e},e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v={rubricLevelHeaders:{width:"100%"},detailsArea:{width:"100%",paddingTop:2},rubricHeader:{fontSize:12,marginLeft:10,color:o.default.black,fontFamily:'"Gotham 5r", sans-serif',outline:"none",background:"none"},performanceLevelHeader:{display:"flex",justifyContent:"flex-start",flexDirection:"row",margin:"0px 8px",padding:4,borderRadius:4,border:"solid 1px ".concat(o.default.white),":hover":{border:"solid 1px ".concat(o.default.light_cyan)}},performanceLevelHeaderSelected:{display:"flex",justifyContent:"flex-start",flexDirection:"row",margin:"0px 8px",padding:4,backgroundColor:o.default.lightest_cyan,borderRadius:4,border:"solid 1px ".concat(o.default.white),":hover":{border:"solid 1px ".concat(o.default.light_cyan)}},tooltip:{maxWidth:200,lineHeight:"20px",whiteSpace:"normal"},rubricDetails:{paddingLeft:23,paddingTop:5,fontSize:12,margin:0}},g={performanceLevel1:p.default.rubricLevelOneHeader(),performanceLevel2:p.default.rubricLevelTwoHeader(),performanceLevel3:p.default.rubricLevelThreeHeader(),performanceLevel4:p.default.rubricLevelFourHeader()},m=function(n){function e(e){var t;return h(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t=n.call(this,e)||this),"updateToggle",function(e){e.preventDefault(),t.setState({detailsOpen:!t.state.detailsOpen})}),t.state={detailsOpen:t.props.expandByDefault},t}return function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(e,n),e.prototype.render=function(){var e=this.props.currentlyChecked?v.performanceLevelHeaderSelected:v.performanceLevelHeader,t=l.default.uniqueId();return r.default.createElement("div",{style:v.rubricPerformanceHeaders},r.default.createElement("div",{style:e,"data-tip":!0,"data-for":t,"aria-describedby":t},this.props.showFeedbackInputAreas&&r.default.createElement(u.CheckedRadioButton,{id:"rubric-input-".concat(this.props.rubricLevel),value:this.props.rubricLevel,checked:this.props.currentlyChecked,onRadioButtonChange:this.props.onChange,disabledMode:this.props.disabledMode}),r.default.createElement("details",{id:"rubric-details-".concat(this.props.rubricLevel),style:v.detailsArea,open:this.state.detailsOpen,onClick:this.updateToggle},r.default.createElement("summary",{style:v.rubricHeader},g[this.props.rubricLevel]),r.default.createElement("p",{style:v.rubricDetails},this.props.rubricValue))),r.default.createElement(c.default,{id:t,role:"tooltip",wrapper:"div",effect:"solid",disable:this.state.detailsOpen},r.default.createElement("div",{style:v.tooltip},this.props.rubricValue)))},e}(r.Component);h(m,"propTypes",{showFeedbackInputAreas:i.default.bool,rubricLevel:i.default.oneOf(Object.keys(g)).isRequired,rubricValue:i.default.string.isRequired,disabledMode:i.default.bool,onChange:i.default.func.isRequired,currentlyChecked:i.default.bool,expandByDefault:i.default.bool});var y=m;t.UnwrappedRubricField=y;var b=(0,s.default)(m);t.default=b},function(e,t,n){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.CheckedRadioButton=void 0;var r,o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}n.default=e,t&&t.set(e,n);return n}(n(1)),i=(r=n(0))&&r.__esModule?r:{default:r};function s(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n(2190);var c=function(i){function e(){for(var t,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return u(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t=i.call.apply(i,[this].concat(n))||this),"handleChange",function(e){t.props.onRadioButtonChange(e.target.value)}),t}return function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(e,i),e.prototype.render=function(){return o.default.createElement("div",null,o.default.createElement("input",{type:"radio",className:"with-font",id:this.props.id,value:this.props.value,checked:this.props.checked,onChange:this.handleChange,disabled:this.props.disabledMode}),o.default.createElement("label",{htmlFor:this.props.id,className:"hidden-label-checked-radio-button"}))},e}(o.Component);u(t.CheckedRadioButton=c,"propTypes",{id:i.default.string,disabledMode:i.default.bool,checked:i.default.bool.isRequired,value:i.default.string.isRequired,onRadioButtonChange:i.default.func.isRequired})},function(e,t,n){var r=n(2191);"string"==typeof r&&(r=[[e.i,r,""]]);n(667)(r,{});r.locals&&(e.exports=r.locals)},function(e,t,n){(e.exports=n(666)()).push([e.i,'/*\nBasis for this CSS from:\nhttps://weblog.west-wind.com/posts/2015/Feb/26/Using-FontAwesome-Fonts-for-HTML-Radio-Buttons-and-Checkboxes\n*/\n\ninput[type=radio].with-font {\n    border: 0;\n    clip: rect(0 0 0 0);\n    width: 1px;\n    height: 1px;\n    margin: -1px;\n    overflow: hidden;\n    padding: 0;\n    position: absolute;\n}\ninput[type=radio].with-font ~ label:before {\n    font-family: FontAwesome;\n    display: inline-block;\n    content: "\\F1DB";  /* fa-circle-thin */\n    font-size: 18px;\n    color: color.black;\n    width: 15px;\n    height: 15px;\n    text-align: center;\n    vertical-align: bottom;\n}\ninput[type=radio].with-font:checked ~ label:before  {\n    font-family: FontAwesome;\n    display:inline-block;\n    content: "\\F058";  /* fa-check-circle */\n    font-size: 18px;\n    color: #0094ca;\n    width: 15px;\n    height: 15px;\n    line-height: 16px;\n    background-color: white;\n    text-align: center;\n    border-radius: 60%;\n}\n\nlabel.hidden-label-checked-radio-button {\n    margin: 0px;\n    width: 16px;\n    height: 16px;\n    line-height: 16px;\n}',""])},function(e,t,n){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.CommentArea=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=c();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}n.default=e,t&&t.set(e,n);return n}(n(1)),i=u(n(0)),o=u(n(6)),s=u(n(5));function u(e){return e&&e.__esModule?e:{default:e}}function c(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p={textInput:{marginTop:0,marginBottom:8,display:"block",width:"90%",fontSize:12},textInputStudent:{marginTop:0,marginBottom:8,display:"block",width:"90%",backgroundColor:o.default.lightest_cyan,fontSize:12},h1:{color:o.default.charcoal,marginTop:0,marginBottom:8,fontSize:18,lineHeight:"18px",fontFamily:'"Gotham 5r", sans-serif',fontWeight:"normal"}},f=function(i){function e(){for(var t,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return l(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t=i.call.apply(i,[this].concat(n))||this),"commentChanged",function(e){t.props.onCommentChange(e.target.value)}),t}return function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(e,i),e.prototype.render=function(){var e=this.props.disabledMode?p.textInputStudent:p.textInput;return r.default.createElement("div",null,r.default.createElement("h1",{style:p.h1}," ",s.default.feedbackCommentAreaHeader()," "),r.default.createElement("textarea",{id:"ui-test-feedback-input",style:e,onChange:this.commentChanged,placeholder:this.props.placeholderText,value:this.props.comment,readOnly:this.props.disabledMode}))},e}(r.Component);l(t.CommentArea=f,"propTypes",{disabledMode:i.default.bool,comment:i.default.string,placeholderText:i.default.string,onCommentChange:i.default.func.isRequired})},function(e,t,n){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=c(n(0)),i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=u();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}n.default=e,t&&t.set(e,n);return n}(n(1)),o=c(n(7)),s=c(n(201));function u(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return u=function(){return e},e}function c(e){return e&&e.__esModule?e:{default:e}}var l,p,f,d={main:{marginBottom:"10px"},hidden:{display:"none"}},h=function(e){function t(){return e.apply(this,arguments)||this}!function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=$(o.default.findDOMNode(this));$("#containedLevel0").appendTo(e)},n.render=function(){return i.default.createElement("div",{style:this.props.hidden?d.hidden:null},i.default.createElement(s.default,{style:d.main}))},t}(i.Component);l=h,p="propTypes",f={hidden:r.default.bool},p in l?Object.defineProperty(l,p,{value:f,enumerable:!0,configurable:!0,writable:!0}):l[p]=f;var v=h;t.default=v,e.exports=t.default},function(e,t,n){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=c(n(0)),i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=u();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}n.default=e,t&&t.set(e,n);return n}(n(1)),o=c(n(7)),s=c(n(201));function u(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return u=function(){return e},e}function c(e){return e&&e.__esModule?e:{default:e}}var l,p,f,d={hidden:{display:"none"}},h=function(e){function t(){return e.apply(this,arguments)||this}!function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=$(o.default.findDOMNode(this));$("#containedLevelAnswer0").appendTo(e)},n.render=function(){return i.default.createElement("div",{style:this.props.hidden?d.hidden:null},i.default.createElement(s.default,null))},t}(i.Component);l=h,p="propTypes",f={hidden:r.default.bool},p in l?Object.defineProperty(l,p,{value:f,enumerable:!0,configurable:!0,writable:!0}):l[p]=f;var v=h;t.default=v,e.exports=t.default},function(e,t,n){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=u(n(0)),i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}n.default=e,t&&t.set(e,n);return n}(n(1)),o=u(n(6));function s(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function u(e){return e&&e.__esModule?e:{default:e}}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l={text:{color:o.default.white},highlighted:{borderBottom:"2px solid "+o.default.white,color:o.default.white}},p={tab:{marginRight:5,paddingLeft:10,paddingRight:10,paddingBottom:6,fontWeight:"bold",cursor:"pointer"},tabRtl:{marginLeft:5,paddingLeft:10,paddingRight:10,paddingBottom:6,fontWeight:"bold",cursor:"pointer"},text:{color:o.default.charcoal},teacherText:{color:o.default.lightest_cyan},highlighted:{borderBottom:"2px solid "+o.default.default_text,color:o.default.default_text},teacherHighlighted:{borderBottom:"2px solid "+o.default.lightest_cyan,color:o.default.white}},f=function(e){function t(){return e.apply(this,arguments)||this}return function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(t,e),t.prototype.render=function(){var e=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(Object(n));"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(e){c(t,e,n[e])})}return t}({},this.props.isRtl?p.tabRtl:p.tab,this.props.style,this.props.selected?this.props.teacherOnly?p.teacherHighlighted:this.props.isMinecraft?l.highlighted:p.highlighted:this.props.teacherOnly?p.teacherText:this.props.isMinecraft?l.text:p.text);return i.default.createElement("a",{className:this.props.className,onClick:this.props.onClick,style:e},this.props.text)},t}(i.Component);c(t.default=f,"propTypes",{className:r.default.string,selected:r.default.bool,onClick:r.default.func.isRequired,style:r.default.object,text:r.default.string.isRequired,teacherOnly:r.default.bool,isMinecraft:r.default.bool,isRtl:r.default.bool}),e.exports=t.default},function(e,t,n){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=l(n(0)),i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=c();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}n.default=e,t&&t.set(e,n);return n}(n(1)),o=l(n(1341)),s=n(1113),u=l(n(2197));function c(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}function l(e){return e&&e.__esModule?e:{default:e}}var p,f,d,h={referenceArea:{marginTop:20}},v=function(e){function t(){return e.apply(this,arguments)||this}return function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(t,e),t.prototype.render=function(){return i.default.createElement("div",{style:h.referenceArea},this.props.videoData&&i.default.createElement(o.default,{video:this.props.videoData}),this.props.mapReference&&i.default.createElement(u.default,{highlight:!0,icon:"map",reference:this.props.mapReference}),this.props.referenceLinks&&this.props.referenceLinks.map(function(e,t){return i.default.createElement(u.default,{key:t,icon:"book",reference:e})}))},t}(i.Component);t.default=v,p=v,f="propTypes",d={videoData:s.videoDataShape,mapReference:r.default.string,referenceLinks:r.default.array},f in p?Object.defineProperty(p,f,{value:d,enumerable:!0,configurable:!0,writable:!0}):p[f]=d,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(0)),o=i(n(1)),a=i(n(2198)),s=n(263);function i(e){return e&&e.__esModule?e:{default:e}}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c=function(i){function e(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return u(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e=i.call.apply(i,[this].concat(n))||this),"state",{title:null}),e}!function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(e,i);var t=e.prototype;return t.componentDidMount=function(){var t=this;(0,s.metaTagDescription)(this.props.reference).then(function(e){return t.setState({title:e})})},t.render=function(){return o.default.createElement(a.default,{highlight:this.props.highlight,icon:this.props.icon,text:this.state.title?this.state.title:this.props.reference,reference:this.props.reference})},e}(o.default.Component);u(t.default=c,"propTypes",{highlight:r.default.bool,icon:r.default.string.isRequired,reference:r.default.string.isRequired}),e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=c(n(1)),r=c(n(0)),i=c(n(15)),o=c(n(6)),s=c(n(17)),u=c(n(627));function c(e){return e&&e.__esModule?e:{default:e}}function l(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(Object(n));"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(e){f(t,e,n[e])})}return t}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d={textLink:{display:"inline-block",margin:8,fontWeight:"bold",fontSize:16,lineHeight:"25px",cursor:"pointer",maxWidth:"90%"},mapThumbnail:{backgroundColor:o.default.teal},commonThumbnail:{borderRadius:5,paddingLeft:26,paddingRight:26,paddingTop:16,paddingBottom:9},commonIcon:{fontSize:22},mapIcon:{color:o.default.white},resourceIcon:{color:o.default.teal},resourceStyle:{margin:8}},h=function(i){function e(){for(var t,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return f(p(t=i.call.apply(i,[this].concat(n))||this),"state",{dialogSelected:!1}),f(p(t),"selectResource",function(e){e.shiftKey||e.metaKey||e.altKey||(e.preventDefault(),new u.default({body:$("<iframe>").addClass("instructions-container").width("100%").attr("src",t.props.reference),autoResizeScrollableElement:".instructions-container",id:"block-documentation-lightbox"}).show(),$(".instructions-container").load(function(){$(".instructions-container").contents().find("body").css({overflow:"auto"})}))}),t}return function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(e,i),e.prototype.render=function(){var e=this.props,t=e.icon,n=e.text,r=e.highlight,i=l({},d.commonIcon,r?d.mapIcon:d.resourceIcon),o=l({},d.commonThumbnail,r&&d.mapThumbnail);return a.default.createElement("div",null,a.default.createElement("div",{style:d.resourceStyle,onClick:this.selectResource},a.default.createElement("span",{style:o},a.default.createElement(s.default,{icon:t,style:i,title:n})),a.default.createElement("a",{href:this.props.reference,style:d.textLink},n)))},e}(a.default.Component);f(h,"propTypes",{highlight:r.default.bool,icon:r.default.string.isRequired,text:r.default.string.isRequired,reference:r.default.string.isRequired});var v=(0,i.default)(h);t.default=v,e.exports=t.default},function(e,t,n){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=l();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}n.default=e,t&&t.set(e,n);return n}(n(1)),i=c(n(0)),o=c(n(15)),s=c(n(6)),u=c(n(206));function c(e){return e&&e.__esModule?e:{default:e}}function l(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return l=function(){return e},e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f={showHideButton:{position:"absolute",top:0,left:8,margin:0,lineHeight:u.default["workspace-headers-height"]+"px",fontSize:18,":hover":{cursor:"pointer",color:s.default.white}},showHideButtonRtl:{position:"absolute",top:0,right:8,margin:0,lineHeight:u.default["workspace-headers-height"]+"px",fontSize:18,":hover":{cursor:"pointer",color:s.default.white}},teacherOnlyColor:{color:s.default.lightest_cyan,":hover":{cursor:"pointer",color:s.default.default_text}}},d=function(e){function t(){return e.apply(this,arguments)||this}return function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(t,e),t.prototype.render=function(){var e=this.props.collapsed?"fa-chevron-circle-down":"fa-chevron-circle-up",t=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(Object(n));"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(e){p(t,e,n[e])})}return t}({},this.props.isRtl?f.showHideButtonRtl:f.showHideButton,this.props.teacherOnly&&f.teacherOnlyColor);return r.default.createElement("i",{id:"ui-test-collapser",style:t,onClick:this.props.onClick,className:e+" fa"})},t}(r.Component);p(d,"propTypes",{onClick:i.default.func.isRequired,collapsed:i.default.bool.isRequired,teacherOnly:i.default.bool,isRtl:i.default.bool});var h=(0,o.default)(d);t.default=h,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=s(n(1)),i=s(n(0)),o=s(n(15)),a=s(n(6));function s(e){return e&&e.__esModule?e:{default:e}}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l=s(n(206)).default["resize-bar-width"],p={main:{position:"absolute",height:l,left:0,right:0},ellipsis:{width:"100%",color:a.default.lighter_gray,fontSize:24,textAlign:"center",cursor:"ns-resize",whiteSpace:"nowrap",lineHeight:l+"px",paddingTop:1}},f=function(i){function e(){for(var n,e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return c(u(n=i.call.apply(i,[this].concat(t))||this),"state",{dragging:!1,dragStart:0}),c(u(n),"onMouseDown",function(e){if(!e.button||0===e.button){e.stopPropagation(),e.cancelable&&e.preventDefault();var t=e.pageY||e.touches&&e.touches[0].pageY;n.setState({dragging:!0,dragStart:t})}}),c(u(n),"onMouseUp",function(e){e.stopPropagation(),e.cancelable&&e.preventDefault(),n.setState({dragging:!1})}),c(u(n),"onMouseMove",function(e){if(e.stopPropagation(),e.cancelable&&e.preventDefault(),n.state.dragging){var t=(e.pageY||e.touches&&e.touches[0].pageY)-n.props.resizeItemTop();n.props.onResize(t)}}),n}!function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(e,i);var t=e.prototype;return t.componentDidMount=function(){this.resizerRef.addEventListener("mousedown",this.onMouseDown),this.resizerRef.addEventListener("mouseup",this.onMouseUp),this.resizerRef.addEventListener("mousemove",this.onMouseMove),this.resizerRef.addEventListener("touchstart",this.onMouseDown),this.resizerRef.addEventListener("touchend",this.onMouseUp),this.resizerRef.addEventListener("touchmove",this.onMouseMove)},t.componentWillUnmount=function(){this.resizerRef.removeEventListener("mousedown",this.onMouseDown),this.resizerRef.removeEventListener("mouseup",this.onMouseUp),this.resizerRef.removeEventListener("mousemove",this.onMouseMove),this.resizerRef.removeEventListener("touchstart",this.onMouseDown),this.resizerRef.removeEventListener("touchend",this.onMouseUp),this.resizerRef.removeEventListener("touchmove",this.onMouseMove)},t.componentDidUpdate=function(e,t){!t.dragging&&this.state.dragging?(document.addEventListener("mousemove",this.onMouseMove),document.addEventListener("mouseup",this.onMouseUp)):t.dragging&&!this.state.dragging&&(document.removeEventListener("mousemove",this.onMouseMove),document.removeEventListener("mouseup",this.onMouseUp))},t.render=function(){var t=this,e=[p.main,{top:this.props.position-l},this.props.style];return r.default.createElement("div",{id:"ui-test-resizer",style:e,ref:function(e){return t.resizerRef=e}},r.default.createElement("div",{style:p.ellipsis,className:"fa fa-ellipsis-h"}))},e}(r.default.Component);c(f,"propTypes",{resizeItemTop:i.default.func.isRequired,position:i.default.number.isRequired,onResize:i.default.func.isRequired,style:i.default.object});var d=(0,o.default)(f);t.default=d,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var p=T(n(10)),o=T(n(1)),f=T(n(7)),r=T(n(0)),i=T(n(15)),a=T(n(2)),s=n(9),u=T(n(2202)),c=T(n(2203)),l=T(n(2204)),d=T(n(2205)),h=T(n(2206)),v=T(n(2207)),g=T(n(2209)),m=T(n(2210)),y=T(n(748)),b=T(n(671)),w=n(1863),S=T(n(5)),_=T(n(91)),C=n(495),E=n(12),x=T(n(6)),O=T(n(296)),k=T(n(1073)),P=T(n(206));function T(e){return e&&e.__esModule?e:{default:e}}function R(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var I=n(447),M=P.default["workspace-headers-height"],N=P.default["resize-bar-width"],D={body:{backgroundColor:"#646464"},collapserButton:{padding:5,marginBottom:0},scrollButtons:{left:38},scrollButtonsRtl:{right:38}},j={main:{position:"relative",top:0,right:0},withOverlay:{zIndex:w.Z_INDEX+1},noViz:{left:0,right:0,marginRight:0,marginLeft:0},body:{backgroundColor:"#ddd",width:"100%"},leftCol:{position:"absolute",bottom:M+N,left:0,marginLeft:0},leftColRtl:{position:"absolute",bottom:M+N,right:0,marginRight:0},collapserButton:{position:"absolute",right:0,marginTop:5,marginRight:5},scrollButtons:{position:"relative",top:50,left:25},scrollButtonsRtl:{position:"relative",top:50,right:25},noAuthoredHints:{cursor:"default",marginBottom:0},authoredHints:{marginBottom:0},instructions:{padding:"5px 0"},instructionsWithTips:{width:"calc(100% - 20px)",float:"right"},instructionsWithTipsRtl:{width:"calc(100% - 20px)",float:"left"}},L=function(i){function e(){for(var n,e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return A(R(n=i.call.apply(i,[this].concat(t))||this),"state",{rightColWidth:{collapsed:void 0,uncollapsed:void 0,empty:10},promptForHint:!1,displayScrollButtons:!0}),A(R(n),"updateRightColumnWidth",function(){if(n.shouldDisplayCollapserButton()&&void 0===n.getRightColWidth()){var e=(0,p.default)(f.default.findDOMNode(n.collapser)).outerWidth(!0),t=Object.assign({},n.state.rightColWidth);t[n.getCurrentRightColWidthProperty()]=e,n.setState({rightColWidth:t})}}),A(R(n),"getScrollTarget",function(){return n.instructions.parentElement}),A(R(n),"handleClickBubble",function(){n.props.hasAuthoredHints&&n.props.hasUnseenHint&&(n.setState({promptForHint:!0}),n.props.collapsed&&n.props.handleClickCollapser())}),A(R(n),"dismissHintPrompt",function(){n.setState({promptForHint:!1})}),A(R(n),"showHint",function(){n.dismissHintPrompt(),n.props.showNextHint(),n.props.clearFeedback()}),A(R(n),"legacyButtonClicked",function(){n.props.hideOverlay(),n.props.setInstructionsRenderedHeight(n.getMinHeight()),n.props.adjustMaxNeededHeight()}),n}!function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(e,i);var t=e.prototype;return t.componentDidMount=function(){this.props.teacherViewingStudentWork&&this.props.hideOverlay(),(0,p.default)(f.default.findDOMNode(this.icon)).load(function(){var e=this.getMinHeight();this.props.height<e&&this.props.setInstructionsRenderedHeight(e)}.bind(this)),this.updateRightColumnWidth()},t.componentWillReceiveProps=function(e){var t=this.getMinHeight(e.collapsed),n=Math.min(e.maxHeight,t);(e.collapsed?n!==this.props.height:e.height<t&&e.height<e.maxHeight)&&this.props.setInstructionsRenderedHeight(n)},t.componentWillUpdate=function(e,t){!this.props.feedback&&e.feedback&&(this.setState({promptForHint:!1}),e.collapsed&&this.props.handleClickCollapser())},t.componentDidUpdate=function(e,t){this.updateRightColumnWidth();var n=this.instructions.parentElement,r=n.scrollHeight>n.clientHeight;r!==this.state.displayScrollButtons&&this.setState({displayScrollButtons:r});var i=e.hints.length!==this.props.hints.length;if(i)for(var o,a=f.default.findDOMNode(this.instructions).getElementsByTagName("img"),s=0;o=a[s];s++)o.onload=o.onload||this.scrollInstructionsToBottom;(this.props.feedback||this.state.promptForHint||i)&&this.scrollInstructionsToBottom();var u=this.getMinHeight(),c=this.getMaxHeight();if(this.props.height<u||this.props.height>c){var l=Math.max(Math.min(this.props.height,c),u);this.props.setInstructionsRenderedHeight(l)}this.props.adjustMaxNeededHeight()},t.getMinHeight=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.props.collapsed,t=(0,C.getOuterHeight)(this.collapser,!0),n=!e&&this.scrollButtons?this.scrollButtons.getWrappedInstance().getMinHeight():0,r=this.icon?(0,C.getOuterHeight)(this.icon,!0):0,i=Math.min((0,C.getOuterHeight)(this.instructions,!0),this.props.maxHeight),o=this.props.collapsed||this.props.overlayVisible||this.props.isEmbedView?i:0,a=(0,p.default)(f.default.findDOMNode(this)),s=a.outerHeight(!0)-a.outerHeight(!1),u=r,c=o,l=t+n;return Math.max(u,c,l)+s+M+N},t.getMaxHeight=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.props.collapsed,t=(0,C.getOuterHeight)(this.collapser,!0),n=!e&&this.scrollButtons?this.scrollButtons.getWrappedInstance().getMinHeight():0,r=this.icon?(0,C.getOuterHeight)(this.icon,!0):0,i=(0,C.getOuterHeight)(this.instructions,!0),o=(0,p.default)(f.default.findDOMNode(this)),a=o.outerHeight(!0)-o.outerHeight(!1),s=r,u=i,c=t+n;return Math.max(s,u,c)+a+M+N},t.scrollInstructionsToBottom=function(){var e=this.instructions,t=e.parentElement;if(1<e.children.length){var n=e.children[e.children.length-1];(0,C.scrollTo)(t,n.offsetTop-10)}else scrollBy(t,t.scrollHeight)},t.shouldDisplayHintPrompt=function(){return this.state&&this.state.promptForHint&&!this.props.collapsed},t.shouldDisplayCollapserButton=function(){return!!(this.props.hints.length||this.shouldDisplayHintPrompt()||this.props.feedback)||this.props.longInstructions&&!this.shouldIgnoreShortInstructions()},t.shouldIgnoreShortInstructions=function(){return!this.props.shortInstructions||!!this.props.longInstructions&&(0,E.levenshtein)(this.props.longInstructions,this.props.shortInstructions)<=10},t.shouldDisplayShortInstructions=function(){return!this.shouldIgnoreShortInstructions()&&(this.props.collapsed||!this.props.longInstructions)},t.getAvatar=function(){return this.props.feedback&&this.props.feedback.isFailure?this.props.failureAvatar:this.props.smallStaticAvatar},t.getCurrentRightColWidthProperty=function(){return this.shouldDisplayCollapserButton()?this.props.collapsed?"collapsed":"uncollapsed":"empty"},t.getRightColWidth=function(){return this.state.rightColWidth[this.getCurrentRightColWidthProperty()]},t.render=function(){var t=this,e=[j.main,{height:this.props.height},this.props.noVisualization&&j.noViz,this.props.overlayVisible&&j.withOverlay],n=this.shouldDisplayShortInstructions()?this.props.shortInstructions:this.props.longInstructions,r=this.shouldDisplayShortInstructions()?this.props.ttsShortInstructionsUrl:this.props.ttsLongInstructionsUrl,i=(this.getAvatar()?60:10)+(this.props.hasAuthoredHints?30:0);return o.default.createElement("div",{style:e},o.default.createElement(l.default,{styles:{container:[j.body,this.props.isMinecraft&&D.body],left:this.props.isRtl?j.leftColRtl:j.leftCol},leftColWidth:i,rightColWidth:this.getRightColWidth()||0,height:this.props.height-M-N},o.default.createElement("div",{style:[O.default.bubble,this.props.hasAuthoredHints?j.authoredHints:j.noAuthoredHints]},o.default.createElement("div",{className:(0,a.default)({"prompt-icon-cell":!0,authored_hints:this.props.hasAuthoredHints}),onClick:this.handleClickBubble},this.props.hasAuthoredHints&&o.default.createElement(h.default,null),this.getAvatar()&&o.default.createElement(d.default,{src:this.getAvatar(),ref:function(e){t.icon=e}}))),o.default.createElement("div",{ref:function(e){t.instructions=e},className:"csf-top-instructions",style:[j.instructions,(0,C.shouldDisplayChatTips)(this.props.skinId)&&(this.props.isRtl?j.instructionsWithTipsRtl:j.instructionsWithTips)]},o.default.createElement(y.default,{ttsUrl:r},o.default.createElement(k.default,{ref:function(e){t.instructions=e},longInstructions:n,onResize:this.props.adjustMaxNeededHeight,inputOutputTable:this.props.collapsed?void 0:this.props.inputOutputTable,imgURL:this.props.aniGifURL,inTopPane:!0}),this.props.shortInstructions2&&o.default.createElement("div",{className:"secondary-instructions"},o.default.createElement(_.default,{markdown:this.props.shortInstructions2})),this.props.overlayVisible&&o.default.createElement("div",null,o.default.createElement("hr",null),o.default.createElement(b.default,{type:"primary",onClick:this.legacyButtonClicked},S.default.dialogOK()))),!this.props.collapsed&&this.props.hints&&this.props.hints.map(function(e){return o.default.createElement(m.default,{key:e.hintId,borderColor:x.default.yellow,markdown:e.markdown,ttsUrl:e.ttsUrl,ttsMessage:e.ttsMessage,block:e.block,video:e.hintVideo})}),this.props.feedback&&!this.props.collapsed&&o.default.createElement(g.default,{key:this.props.feedback.message,borderColor:this.props.isMinecraft?x.default.white:x.default.charcoal,message:this.props.feedback.message}),this.shouldDisplayHintPrompt()&&o.default.createElement(v.default,{borderColor:x.default.yellow,onConfirm:this.showHint,onDismiss:this.dismissHintPrompt})),o.default.createElement("div",null,o.default.createElement(u.default,{ref:function(e){t.collapser=e},style:[j.collapserButton,this.props.isMinecraft&&D.collapserButton,!this.shouldDisplayCollapserButton()&&O.default.hidden],collapsed:this.props.collapsed,onClick:this.props.handleClickCollapser}),!this.props.collapsed&&o.default.createElement(c.default,{style:[this.props.isRtl?j.scrollButtonsRtl:j.scrollButtons,this.props.isMinecraft&&(this.props.isRtl?D.scrollButtonsRtl:D.scrollButtons)],ref:function(e){t.scrollButtons=e},getScrollTarget:this.getScrollTarget,visible:this.state.displayScrollButtons,height:this.props.height-M-N-j.scrollButtons.top}))))},e}(o.default.Component);A(L,"propTypes",{teacherViewingStudentWork:r.default.bool,handleClickCollapser:r.default.func,adjustMaxNeededHeight:r.default.func,overlayVisible:r.default.bool,skinId:r.default.string,isMinecraft:r.default.bool.isRequired,inputOutputTable:r.default.arrayOf(r.default.arrayOf(r.default.number)),noVisualization:r.default.bool,hideOverlay:r.default.func.isRequired,aniGifURL:r.default.string,isRtl:r.default.bool.isRequired,isEmbedView:r.default.bool,hints:r.default.arrayOf(r.default.shape({hintId:r.default.string.isRequired,markdown:r.default.string.isRequired,block:r.default.object,video:r.default.string})).isRequired,hasUnseenHint:r.default.bool.isRequired,showNextHint:r.default.func.isRequired,hasAuthoredHints:r.default.bool.isRequired,collapsed:r.default.bool.isRequired,shortInstructions:r.default.string,shortInstructions2:r.default.string,longInstructions:r.default.string,clearFeedback:r.default.func.isRequired,feedback:r.default.shape({message:r.default.string.isRequired,isFailure:r.default.bool}),smallStaticAvatar:r.default.string,failureAvatar:r.default.string,ttsShortInstructionsUrl:r.default.string,ttsLongInstructionsUrl:r.default.string,height:r.default.number.isRequired,maxHeight:r.default.number.isRequired,setInstructionsRenderedHeight:r.default.func.isRequired}),A(L,"defaultProps",{noVisualization:!1});var B=(0,s.connect)(function(e){return{overlayVisible:e.instructions.overlayVisible,skinId:e.pageConstants.skinId,isMinecraft:!!e.pageConstants.isMinecraft,aniGifURL:e.pageConstants.aniGifURL,inputOutputTable:e.pageConstants.inputOutputTable,isRtl:e.isRtl,noVisualization:e.pageConstants.noVisualization,feedback:e.instructions.feedback,collapsed:e.instructions.collapsed,hints:e.authoredHints.seenHints,hasUnseenHint:0<e.authoredHints.unseenHints.length,hasAuthoredHints:e.instructions.hasAuthoredHints,showNextHint:e.pageConstants.showNextHint,height:e.instructions.renderedHeight,maxHeight:Math.min(e.instructions.maxAvailableHeight,e.instructions.maxNeededHeight),ttsShortInstructionsUrl:e.pageConstants.ttsShortInstructionsUrl,ttsLongInstructionsUrl:e.pageConstants.ttsLongInstructionsUrl,shortInstructions:e.instructions.shortInstructions,shortInstructions2:e.instructions.shortInstructions2,longInstructions:e.instructions.longInstructions,smallStaticAvatar:e.pageConstants.smallStaticAvatar,failureAvatar:e.pageConstants.failureAvatar}},function(t){return{hideOverlay:function(){t(I.hideOverlay())},setInstructionsRenderedHeight:function(e){t(I.setInstructionsRenderedHeight(e))},clearFeedback:function(e){t(I.setFeedback(null))}}},null,{withRef:!0})((0,i.default)(L));t.default=B,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=l(n(1)),i=l(n(0)),o=l(n(15)),a=l(n(6)),s=l(n(17)),u=l(n(5)),c=n(9);function l(e){return e&&e.__esModule?e:{default:e}}var p={collapseButton:{backgroundColor:a.default.cyan,color:a.default.white,whiteSpace:"nowrap"},collapseIcon:{marginRight:5},collapseIconRtl:{marginLeft:5}},f=function(e){return r.default.createElement("button",{type:"button",style:[p.collapseButton,e.style],id:"toggleButton",onClick:e.onClick},e.isMinecraft?r.default.createElement("img",{src:"/blockly/media/1x1.gif",className:[e.collapsed?"more-btn":"less-btn","toggle26"].join(" ")}):r.default.createElement(s.default,{icon:e.collapsed?"chevron-circle-down":"chevron-circle-up",style:e.isRtl?p.collapseIconRtl:p.collapseIcon}),e.collapsed?u.default.more():u.default.less())};f.propTypes={style:i.default.object,isRtl:i.default.bool.isRequired,onClick:i.default.func.isRequired,collapsed:i.default.bool.isRequired,isMinecraft:i.default.bool.isRequired};var d=(0,c.connect)(function(e){return{isRtl:e.isRtl,isMinecraft:!!e.pageConstants.isMinecraft}})((0,o.default)(f));t.default=d,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.UnconnectedScrollButtons=void 0;var r=l(n(0)),i=l(n(15)),o=l(n(1)),a=l(n(6)),s=n(140),u=n(9),c=n(495);function l(e){return e&&e.__esModule?e:{default:e}}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d=0,h=1,v={all:{position:"absolute",transition:"opacity 200ms",margin:0},arrow:{width:0,height:0,cursor:"pointer",borderStyle:"solid",borderColor:"transparent",borderRightWidth:20,borderLeftWidth:20,":hover":{filter:"drop-shadow(2px 2px 5px rgba(0,0,0,0.3))"}},arrowUp:{borderBottomWidth:20,borderBottomColor:a.default.purple},arrowDown:{borderTopWidth:20,borderTopColor:a.default.purple}},g=function(i){function e(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return f(p(e=i.call.apply(i,[this].concat(n))||this),"scrollStartUp",function(){e.scrollStart(d)}),f(p(e),"scrollStartDown",function(){e.scrollStart(h)}),f(p(e),"scrollStop",function(){e.unbindMouseUp(),clearTimeout(e.scrollTimeout),clearInterval(e.scrollInterval),e.unbindMouseUp=null,e.scrollTimeout=null,e.scrollInterval=null}),e}!function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(e,i);var t=e.prototype;return t.getMargin=function(){return this.props.isMinecraft?0:5},t.getMinHeight=function(){return(0,c.getOuterHeight)(this.scrollUp,!0)+(0,c.getOuterHeight)(this.scrollDown,!0)+2*this.getMargin()},t.scrollStart=function(t){var n=this.props.getScrollTarget(),e=100;t===d&&(e*=-1),(0,c.scrollBy)(n,e),this.scrollTimeout=setTimeout(function(){this.scrollInterval=setInterval(function(){var e=2;t===d&&(e*=-1),(0,c.scrollBy)(n,e,!1)}.bind(this),10)}.bind(this),500),this.unbindMouseUp=(0,s.addMouseUpTouchEvent)(document,this.scrollStop)},t.render=function(){var t=this,e={opacity:this.props.visible?1:0,top:this.getMargin()},n={opacity:this.props.visible?1:0,bottom:-(this.props.height-this.getMargin())},r=this.props.isMinecraft?o.default.createElement("button",{type:"button",className:"arrow",ref:function(e){t.scrollUp=e},key:"scrollUp",onMouseDown:this.scrollStartUp,style:[v.all,e]},o.default.createElement("img",{src:"/blockly/media/1x1.gif",className:"scroll-up-btn"})):o.default.createElement("div",{ref:function(e){t.scrollUp=e},key:"scrollUp",onMouseDown:this.scrollStartUp,style:[v.all,v.arrow,v.arrowUp,e]}),i=this.props.isMinecraft?o.default.createElement("button",{type:"button",className:"arrow",ref:function(e){t.scrollDown=e},key:"scrollDown",onMouseDown:this.scrollStartDown,style:[v.all,n]},o.default.createElement("img",{src:"/blockly/media/1x1.gif",className:"scroll-down-btn"})):o.default.createElement("div",{ref:function(e){t.scrollDown=e},key:"scrollDown",onMouseDown:this.scrollStartDown,style:[v.all,v.arrow,v.arrowDown,n]});return o.default.createElement("div",{style:this.props.style},r,i)},e}(o.default.Component);f(g,"propTypes",{style:r.default.object,visible:r.default.bool.isRequired,height:r.default.number.isRequired,getScrollTarget:r.default.func.isRequired,isMinecraft:r.default.bool.isRequired});var m=(0,i.default)(g);t.UnconnectedScrollButtons=m;var y=(0,u.connect)(function(e){return{isMinecraft:!!e.pageConstants.isMinecraft}},void 0,void 0,{withRef:!0})((0,i.default)(g));t.default=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u=a(n(1)),r=a(n(0)),i=a(n(15)),o=n(9);function a(e){return e&&e.__esModule?e:{default:e}}var s=function(e){var t=e.isRtl,n=e.styles,r=e.leftColWidth,i=e.rightColWidth,o=e.height,a=e.children,s={container:{paddingLeft:t?i:r,paddingRight:t?r:i,float:t?"right":"left",width:"100%",boxSizing:"border-box"},middle:{width:"100%",position:"relative",float:t?"right":"left",height:o,marginRight:t?void 0:-300,paddingRight:t?void 0:300,marginLeft:t?-300:void 0,paddingLeft:t?300:void 0,overflowY:"scroll"},left:{position:"relative",float:t?"right":"left",width:r,right:r,marginLeft:t?0:"-100%",marginRight:t?"-100%":0},right:{position:"relative",float:t?"right":"left",width:i,marginRight:t?0:-i,marginLeft:t?-i:0}};return u.default.createElement("div",{style:[s.container,n.container]},u.default.createElement("div",{style:[s.middle,n.middle]},a[1]),u.default.createElement("div",{style:[s.left,n.left]},a[0]),u.default.createElement("div",{style:[s.right,n.right]},a[2]))};s.propTypes={styles:r.default.object,leftColWidth:r.default.number,rightColWidth:r.default.number,height:r.default.number,isRtl:r.default.bool.isRequired,children:r.default.node,customProp:function(e){if(3!==e.children.length)throw new Error("ThreeColumns expects exactly 3 children, got "+e.children.length)}};var c=(0,o.connect)(function(e){return{isRtl:e.isRtl}})((0,i.default)(s));t.default=c,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(n(0)),i=o(n(1));function o(e){return e&&e.__esModule?e:{default:e}}var a,s,u,c={main:{maxWidth:50}},l=function(e){function t(){return e.apply(this,arguments)||this}return function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(t,e),t.prototype.render=function(){return i.default.createElement("img",{src:this.props.src,id:"prompt-icon",style:c.main})},t}(i.default.Component);t.default=l,a=l,s="propTypes",u={src:r.default.string.isRequired},s in a?Object.defineProperty(a,s,{value:u,enumerable:!0,configurable:!0,writable:!0}):a[s]=u,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=s(n(0)),o=s(n(1)),a=s(n(1320)),i=n(9);function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c=function(i){function e(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return u(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e=i.call.apply(i,[this].concat(n))||this),"state",{shouldAnimate:!1}),e}!function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(e,i);var t=e.prototype;return t.componentWillReceiveProps=function(e){var t=e.unseenHints.length>this.getCount();this.setState({shouldAnimate:t})},t.getCount=function(){return this.props.unseenHints.length},t.render=function(){return o.default.createElement("div",{id:"lightbulb"},o.default.createElement(a.default,{count:this.getCount(),isMinecraft:this.props.isMinecraft,lit:0<this.getCount(),shouldAnimate:this.state.shouldAnimate}))},e}(o.default.Component);u(c,"propTypes",{unseenHints:r.default.arrayOf(r.default.object),isMinecraft:r.default.bool});var l=(0,i.connect)(function(e){return{isMinecraft:!!e.pageConstants.isMinecraft,unseenHints:e.authoredHints.unseenHints}})(c);t.default=l,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=o(n(1)),r=o(n(0)),i=o(n(15)),s=o(n(6)),u=o(n(748)),c=o(n(5));function o(e){return e&&e.__esModule?e:{default:e}}var l=function(e){var t=e.onConfirm,n=e.onDismiss,r=e.borderColor,i={common:{color:"white",minWidth:100},yes:{backgroundColor:s.default.orange,borderColor:s.default.orange},no:{backgroundColor:s.default.green,borderColor:s.default.green}},o=c.default.hintPromptInline();return a.default.createElement(u.default,{borderColor:r,ttsMessage:o},a.default.createElement("p",null,o),a.default.createElement("button",{type:"button",onClick:t,style:[i.common,i.yes]},c.default.yes()),a.default.createElement("button",{type:"button",onClick:n,style:[i.common,i.no]},c.default.no()))};l.propTypes={borderColor:r.default.string,onConfirm:r.default.func.isRequired,onDismiss:r.default.func.isRequired};var p=(0,i.default)(l);t.default=p,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=s(n(1)),r=s(n(0)),i=s(n(15)),a=n(9);function s(e){return e&&e.__esModule?e:{default:e}}var u=function(e){var t=e.isRtl,n=e.color,r=e.background,i={svg:{position:"absolute",left:t?void 0:-24,right:t?-24:void 0,bottom:5},polyline:{stroke:n=n||"none",strokeWidth:1,fill:r=r||"white"}};return o.default.createElement("svg",{height:"30",width:"30",style:i.svg},o.default.createElement("polyline",{points:t?"5,25 25,25 5,5":"25,25 5,25 25,5",style:i.polyline,strokeDasharray:"3,3"}))};u.propTypes={color:r.default.string,background:r.default.string,isRtl:r.default.bool.isRequired};var c=(0,a.connect)(function(e){return{isRtl:e.isRtl}})((0,i.default)(u));t.default=c,e.exports=t.default},function(e,t,n){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=f();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}n.default=e,t&&t.set(e,n);return n}(n(1)),r=p(n(7)),i=p(n(0)),s=p(n(15)),u=p(n(748)),c=n(495),l=p(n(91));function p(e){return e&&e.__esModule?e:{default:e}}function f(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return f=function(){return e},e}var d,h,v,g=function(e){function t(){return e.apply(this,arguments)||this}!function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(t,e);var n=t.prototype;return n.componentDidMount=function(){(0,c.convertXmlToBlockly)(r.default.findDOMNode(this))},n.render=function(){var e=this.props,t=e.borderColor,n=e.extra,r=e.message,i=e.styles;return o.default.createElement(u.default,{borderColor:t,ttsMessage:r},o.default.createElement("div",{className:"uitest-topInstructions-inline-feedback"},o.default.createElement(l.default,{markdown:r})),n&&o.default.createElement("p",{style:i.message},n))},t}(o.Component);d=g,h="propTypes",v={borderColor:i.default.string,extra:i.default.string,message:i.default.string.isRequired,styles:i.default.object},h in d?Object.defineProperty(d,h,{value:v,enumerable:!0,configurable:!0,writable:!0}):d[h]=v;var m=(0,s.default)(g);t.default=m,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.StatelessInlineHint=void 0;var r=v(n(1)),o=v(n(7)),i=v(n(0)),a=v(n(15)),s=v(n(2211)),u=v(n(748)),c=v(n(62)),l=n(9),p=n(495),f=v(n(1341)),d=n(1113),h=v(n(91));function v(e){return e&&e.__esModule?e:{default:e}}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=function(i){function e(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return g(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e=i.call.apply(i,[this].concat(n))||this),"onVideoClick",function(){c.default.putRecord({study:"hint-videos",event:"click",data_string:e.props.video.key},{includeUserId:!0})}),e}!function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(e,i);var t=e.prototype;return t.componentDidMount=function(){this.props.isBlockly&&(0,p.convertXmlToBlockly)(o.default.findDOMNode(this))},t.render=function(){return r.default.createElement(u.default,{borderColor:this.props.borderColor,ttsUrl:this.props.ttsUrl,ttsMessage:this.props.ttsMessage},r.default.createElement(h.default,{markdown:this.props.markdown}),this.props.block&&r.default.createElement(s.default,{block:this.props.block}),this.props.video&&r.default.createElement(f.default,{onClick:this.onVideoClick,video:this.props.video}))},e}(r.default.Component);g(m,"propTypes",{block:i.default.object,borderColor:i.default.string,markdown:i.default.string.isRequired,video:d.videoDataShape,ttsUrl:i.default.string,ttsMessage:i.default.string,isBlockly:i.default.bool});var y=(0,a.default)(m);t.StatelessInlineHint=y;var b=(0,l.connect)(function(e){return{isBlockly:e.pageConstants.isBlockly}})((0,a.default)(m));t.default=b},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(0)),o=i(n(1));function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=function(i){function e(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return a(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e=i.call.apply(i,[this].concat(n))||this),"state",{height:100,blockSpace:void 0}),e}!function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(e,i);var t=e.prototype;return t.componentDidMount=function(){if(!document.body.contains(this.container))return new Error("ReadOnlyBlockSpace component MUST be rendered into a container that already exists in the DOM");var e=Blockly.BlockSpace.createReadOnlyBlockSpace(this.container,this.props.block,{noScrolling:!0}),t=e.getMetrics(),n=t.contentHeight+t.contentTop;this.setState({height:n,blockSpace:e})},t.componentDidUpdate=function(){this.state.blockSpace&&this.state.blockSpace.blockSpaceEditor.svgResize()},t.render=function(){var t=this,e={maxHeight:this.state.height,paddingBottom:10};return o.default.createElement("div",{className:"block-space",ref:function(e){t.container=e},style:e})},e}(o.default.Component);a(t.default=s,"propTypes",{block:r.default.object.isRequired}),e.exports=t.default},function(e,t,n){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=x(n(0)),f=x(n(1)),i=n(9),o=x(n(10)),d=x(n(5)),s=x(n(15)),u=x(n(140)),h=x(n(296)),c=x(n(206)),v=x(n(2213)),g=E(n(708)),m=x(n(1621)),y=x(n(17)),l=n(601),p=E(n(12)),b=n(551),w=x(n(2219)),S=x(n(2245)),_=n(619);function C(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return C=function(){return e},e}function E(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=C();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}function x(e){return e&&e.__esModule?e:{default:e}}function O(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var P={debugAreaHeader:{position:"absolute",top:c.default["resize-bar-width"],left:0,right:0,textAlign:"center",lineHeight:"30px"},noPadding:{padding:0},noUserSelect:{MozUserSelect:"none",WebkitUserSelect:"none",msUserSelect:"none",userSelect:"none"},showHideIcon:{position:"absolute",top:0,left:8,margin:0,lineHeight:c.default["workspace-headers-height"]+"px",fontSize:18,":hover":{cursor:"pointer",color:"white"}},showDebugWatchIcon:{position:"absolute",top:0,right:"6px",width:"18px",margin:0,lineHeight:c.default["workspace-headers-height"]+"px",fontSize:18,":hover":{cursor:"pointer",color:"white"}},hidden:{display:"none"}},T="height 0.4s",R=function(t){function e(e){var s;return k(O(s=t.call(this,e)||this),"handleResizeConsole",function(){var e=0;document.getElementById("debug-area-header")&&(e=document.getElementById("debug-area-header").offsetWidth);var t=0;document.getElementById("debug-commands-header")&&(t=document.getElementById("debug-commands-header").offsetWidth);var n=0;document.getElementById("debug-watch-header")&&(n=document.getElementById("debug-watch-header").offsetWidth);var r=e-t-n;s.setState({consoleWidth:r})}),k(O(s),"onMouseUpDebugResizeBar",function(){if(s.props.debugButtons&&s.setState({userInteracted:!0}),s._draggingDebugResizeBar){document.body.removeEventListener("mousemove",s.onMouseMoveDebugResizeBar);var e=u.default.getTouchEventName("mousemove");e&&document.body.removeEventListener(e,s.onMouseMoveDebugResizeBar),s._draggingDebugResizeBar=!1}}),k(O(s),"slideToggle",function(){s.props.isOpen?s.props.close():(s.props.debugButtons&&s.setState({userInteracted:!0}),s.props.open())}),k(O(s),"onTransitionEnd",function(){return s.setState({transitionType:null})}),k(O(s),"onMouseDownDebugResizeBar",function(e){if("debugResizeBar"===(e.srcElement||e.target).id){s._draggingDebugResizeBar=!0,document.body.addEventListener("mousemove",s.onMouseMoveDebugResizeBar);var t=u.default.getTouchEventName("mousemove");t&&document.body.addEventListener(t,s.onMouseMoveDebugResizeBar),e.preventDefault()}}),k(O(s),"setDebugHeight",function(e){s.props.isOpen?s.setState({openedHeight:e}):(s.props.open(),s.setState({open:!0,openedHeight:e}))}),k(O(s),"onMouseMoveDebugResizeBar",function(e){var t=document.getElementById("codeApp"),n=document.getElementById("codeTextbox");if(t&&n){var r=s._debugResizeBar.getBoundingClientRect(),i=(parseInt(window.getComputedStyle(t).bottom,10)||0)-r.height/2,o=Math.max(120,Math.min(400,window.innerHeight-e.pageY-i));s.setDebugHeight(o),n.style.bottom=o+"px",s.root.style.transition="none",s.root.style.height=o+"px",s.root.offsetHeight,s.root.style.transition=T,s.handleResizeConsole(),p.fireResizeEvent()}}),k(O(s),"onMouseDownWatchersResizeBar",function(e){if("watchersResizeBar"===(e.srcElement||e.target).id){s._draggingWatchersResizeBar=!0,document.body.addEventListener("mousemove",s.onMouseMoveWatchersResizeBar);var t=u.default.getTouchEventName("mousemove");t&&document.body.addEventListener(t,s.onMouseMoveWatchersResizeBar),e.preventDefault()}}),k(O(s),"onMouseUpWatchersResizeBar",function(){if(s._draggingWatchersResizeBar){document.body.removeEventListener("mousemove",s.onMouseMoveWatchersResizeBar);var e=u.default.getTouchEventName("mousemove");e&&document.body.removeEventListener(e,s.onMouseMoveWatchersResizeBar),s._draggingWatchersResizeBar=!1}}),k(O(s),"onMouseMoveWatchersResizeBar",function(e){var t=s._watchers.getWrappedInstance(),n=t.scrollableContainer.getBoundingClientRect(),r=n.left-e.clientX,i=n.width+r,o=Math.max(120,Math.min(400,i)),a=o-s._watchersResizeBar.getBoundingClientRect().width/2;t.scrollableContainer.style.width=o+"px",s._debugConsole.getWrappedInstance().root.style.right=o+"px",s._watchersResizeBar.style.right=a+"px";s._debugWatchHeader.root.style.width=o+1+"px",s.handleResizeConsole()}),k(O(s),"onClearDebugOutput",function(){return s.props.clearLog()}),k(O(s),"onToggleDebugSprites",function(){s.props.setIsDebuggingSprites(!s.props.isDebuggingSprites)}),s.state={watchersHidden:!1,open:e.isOpen,openedHeight:120,consoleWidth:0,userInteracted:!1},s}!function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(e,t);var n=e.prototype;return n.componentDidMount=function(){var t=this;window.addEventListener("resize",this.handleResizeConsole),this.props.setStepSpeed(this.props.stepSpeed),this.props.isOpen&&this.slideOpen();var e=u.default.getTouchEventName("mouseup");document.body.addEventListener("mouseup",this.onMouseUpDebugResizeBar),e&&document.body.addEventListener(e,this.onMouseUpDebugResizeBar),document.body.addEventListener("mouseup",this.onMouseUpWatchersResizeBar),e&&document.body.addEventListener(e,this.onMouseUpWatchersResizeBar);var n={};document.addEventListener("resetWatchersResizableElements",function(){var e=(n.watchersResizeBar=n.watchersResizeBar||document.getElementById("watchersResizeBar"),n.watchersDiv=n.watchersDiv||document.getElementById("debug-watch"),n.watchersHeaderDiv=n.watchersHeaderDiv||document.getElementById("debug-watch-header"),n.debugConsoleDiv=n.debugConsoleDiv||document.getElementById("debug-console"),n);e.watchersDiv.style.removeProperty("width"),e.debugConsoleDiv.style.removeProperty("right"),e.watchersResizeBar.style.removeProperty("right"),e.watchersHeaderDiv.style.removeProperty("width"),t.handleResizeConsole(),n={}})},n.componentWillUnmount=function(){this.onMouseUpWatchersResizeBar(),this.onMouseUpDebugResizeBar();var e=u.default.getTouchEventName("mouseup");document.body.removeEventListener("mouseup",this.onMouseUpWatchersResizeBar),e&&document.body.removeEventListener(e,this.onMouseUpWatchersResizeBar),document.body.removeEventListener("mouseup",this.onMouseUpDebugResizeBar),e&&document.body.removeEventListener(e,this.onMouseUpDebugResizeBar),window.removeEventListener("resize",this.handleResizeConsole)},n.slideShut=function(){var e=(0,o.default)(this.root).find("#debug-area-header").height()+(0,o.default)(this._debugResizeBar).height();this.setState({transitionType:"closing",open:!1,openedHeight:(0,o.default)(this.root).height(),closedHeight:e}),this.props.onSlideShut&&this.props.onSlideShut(e)},n.slideOpen=function(){this.setState({open:!0,transitionType:"opening"}),this.props.onSlideOpen&&this.props.onSlideOpen(this.state.openedHeight)},n.componentWillReceiveProps=function(e){this.props.isOpen&&!e.isOpen?this.slideShut():!this.props.isOpen&&e.isOpen&&this.slideOpen()},n.render=function(){var t=this,e=this.props,n=e.appType,r=e.isAttached,i=e.canRunNext,o=e.isRunning,a=this.props.isDebuggerPaused&&!this.props.isEditWhileRun,s="gamelab"===n,u={marginLeft:this.props.debugButtons?5:45,marginRight:5},c={};this.state.open||"closing"===this.state.transitionType||(c.display="none");var l=this.state.open?this.state.openedHeight:this.state.closedHeight;!l&&this.props.style&&(l=this.props.style.height);var p=this.props.debugWatch&&!this.state.watchersHidden;return f.default.createElement("div",{id:"debug-area",style:[{transition:T},this.props.style,{height:l}],onTransitionEnd:this.onTransitionEnd,ref:function(e){return t.root=e}},f.default.createElement("div",{id:"debugResizeBar",className:"fa fa-ellipsis-h",onMouseDown:this.onMouseDownDebugResizeBar,ref:function(e){return t._debugResizeBar=e}}),f.default.createElement(g.default,{id:"debug-area-header",hasFocus:a,style:P.debugAreaHeader},f.default.createElement("span",{style:[this.state.consoleWidth<=345&&P.hidden,P.noUserSelect],className:"header-text"},d.default.debugConsoleHeader()),f.default.createElement(y.default,{icon:this.state.open?"chevron-circle-down":"chevron-circle-up",style:P.showHideIcon,onClick:this.slideToggle}),this.props.debugButtons&&f.default.createElement(g.PaneSection,{id:"debug-commands-header"},f.default.createElement(y.default,{id:"running-spinner",style:!r||i?h.default.hidden:{},icon:"spinner",className:"fa-spin"}),f.default.createElement(y.default,{id:"paused-icon",style:r&&i?{}:h.default.hidden,icon:"pause"}),f.default.createElement("span",{style:P.noUserSelect,className:"header-text"},this.state.open?d.default.debugCommandsHeaderWhenOpen():d.default.debugCommandsHeaderWhenClosed())),this.props.debugWatch&&f.default.createElement(g.PaneSection,{id:"debug-watch-header",ref:function(e){return t._debugWatchHeader=e},onClick:function(){if(!t.state.watchersHidden){var e=document.createEvent("Event");e.initEvent("resetWatchersResizableElements",!0,!0),document.dispatchEvent(e)}t.setState({watchersHidden:!t.state.watchersHidden})},style:this.state.watchersHidden?{borderLeft:"none",textAlign:"right",marginRight:"30px"}:{}},f.default.createElement(y.default,{id:"hide-toolbox-icon",style:P.showDebugWatchIcon,icon:this.state.watchersHidden?"chevron-circle-left":"chevron-circle-right"}),f.default.createElement("span",{style:P.noUserSelect,className:"header-text"},this.state.watchersHidden?d.default.debugShowWatchHeader():d.default.debugWatchHeader())),f.default.createElement(g.PaneButton,{id:"clear-console-header",iconClass:"fa fa-eraser",label:"Clear",headerHasFocus:a,isRtl:!1,onClick:this.onClearDebugOutput}),o&&s&&f.default.createElement(g.PaneButton,{iconClass:"fa fa-bug",label:"Debug Sprites: Off",headerHasFocus:a,isRtl:!1,isPressed:this.props.isDebuggingSprites,pressedLabel:"Debug Sprites: On",onClick:this.onToggleDebugSprites}),this.props.debugSlider&&f.default.createElement(m.default,{style:u,hasFocus:a,value:this.props.stepSpeed,lineWidth:130,onChange:this.props.setStepSpeed})),this.props.debugButtons&&f.default.createElement(S.default,{style:c,userInteracted:this.state.userInteracted}),this.props.debugConsole&&f.default.createElement(w.default,{style:c,debugButtons:this.props.debugButtons,debugWatch:p,ref:function(e){return t._debugConsole=e}}),f.default.createElement("div",{style:{display:p?"initial":"none"}},f.default.createElement("div",{id:"watchersResizeBar",ref:function(e){return t._watchersResizeBar=e},onMouseDown:this.onMouseDownWatchersResizeBar})),p&&f.default.createElement(v.default,{style:c,ref:function(e){return t._watchers=e},debugButtons:this.props.debugButtons}))},e}(f.default.Component);k(R,"propTypes",{debugButtons:r.default.bool.isRequired,debugConsole:r.default.bool.isRequired,debugWatch:r.default.bool.isRequired,debugSlider:r.default.bool.isRequired,appType:r.default.string.isRequired,isDebuggerPaused:r.default.bool.isRequired,isDebuggingSprites:r.default.bool.isRequired,isRunning:r.default.bool.isRequired,isEditWhileRun:r.default.bool.isRequired,stepSpeed:r.default.number.isRequired,isOpen:r.default.bool.isRequired,isAttached:r.default.bool.isRequired,canRunNext:r.default.bool.isRequired,setStepSpeed:r.default.func.isRequired,setIsDebuggingSprites:r.default.func.isRequired,clearLog:r.default.func.isRequired,open:r.default.func.isRequired,close:r.default.func.isRequired,onSlideShut:r.default.func,onSlideOpen:r.default.func,style:r.default.object});var A=(0,i.connect)(function(e){return{debugButtons:!!e.pageConstants.showDebugButtons,debugConsole:!!e.pageConstants.showDebugConsole,debugWatch:!!e.pageConstants.showDebugWatch,debugSlider:!!e.pageConstants.showDebugSlider,appType:e.pageConstants.appType,isRunning:e.runState.isRunning,isEditWhileRun:e.runState.isEditWhileRun,isDebuggerPaused:e.runState.isDebuggerPaused,isDebuggingSprites:e.runState.isDebuggingSprites,stepSpeed:e.runState.stepSpeed,isOpen:(0,_.isOpen)(e),isAttached:(0,_.isAttached)(e),canRunNext:(0,_.canRunNext)(e),commandHistory:(0,_.getCommandHistory)(e)}},{setStepSpeed:l.setStepSpeed,setIsDebuggingSprites:l.setIsDebuggingSprites,addWatchExpression:b.add,removeWatchExpression:b.remove,clearLog:_.clearLog,open:_.open,close:_.close})((0,s.default)(R));t.default=A,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.UnconnectedWatchers=void 0;var r=p(n(0)),i=p(n(1)),o=p(n(125)),a=n(9),s=p(n(5)),u=n(551),c=p(n(2214)),l=p(n(2217));function p(e){return e&&e.__esModule?e:{default:e}}function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=["World.mouseX","World.mouseY","World.frameRate","World.frameCount","camera.x","camera.y","sprite.x","sprite.y","sprite.velocityX","sprite.velocityY","sprite.width","sprite.height"],g="28px",m="calc(100% - 41px)",y={autocompleteDropdown:{zIndex:2},watchContainer:{width:"100%",height:"100%"},watchRemoveButton:{fontSize:23,float:"right",cursor:"pointer",width:g,lineHeight:g,height:g,textAlign:"center",backgroundColor:"#be0712",color:"white",margin:0,padding:0},watchAddButton:{fontSize:20,width:g,lineHeight:g,height:g,textAlign:"center",float:"right",cursor:"pointer",backgroundColor:"#1e93cd",color:"white",margin:0,padding:0},watchItemDescription:{whiteSpace:"nowrap",minHeight:g,marginLeft:3,overflow:"hidden",width:m},watchValueArray:{whiteSpace:"normal"},watchValue:{display:"inline-flex",alignItems:"center",minHeight:"28px"},watchInputSection:{clear:"both"},watchInput:{width:m,marginTop:0,height:23}},b=function(t){function e(e){var o;return h(d(o=t.call(this,e)||this),"addButtonClick",function(){""===o.state.text?o.setState({autocompleteOpen:!0}):o.addFromInput()}),h(d(o),"closeAutocomplete",function(){o.setState({editing:!1,autocompleteSelecting:!1,autocompleteOpen:!1})}),h(d(o),"clearInput",function(){o.setState({editing:!1,text:""},function(){o.filterOptions(),o.setState({editing:!0})})}),h(d(o),"onKeyDown",function(e){if("Enter"===e.key&&(o.state.autocompleteOpen&&o.state.autocompleteSelecting?o.addFromInput(o.state.autocompleteOptions[o.state.autocompleteIndex]):o.addFromInput()),"Escape"===e.key&&o.closeAutocomplete(),"ArrowUp"===e.key&&(o.state.autocompleteOpen?o.autocompleteUp():0<o.state.history.length&&o.historyUp(),e.preventDefault()),"ArrowDown"===e.key){if(o.state.autocompleteOpen)o.autocompleteDown();else if(o.navigatingHistory()){0===o.state.historyIndex?o.setState({historyIndex:-1},o.clearInput):o.historyDown()}e.preventDefault()}}),h(d(o),"filterOptions",function(){var t=o.state.text,e=o.defaultAutocompleteOptions.filter(function(e){return e.match(new RegExp(t,"i"))}),n=1===e.length&&e[0]===t,r=o.navigatingHistory(),i=r&&o.state.history[o.state.historyIndex]!==t;o.setState({autocompleteIndex:o.state.autocompleteIndex>e.length?0:o.state.autocompleteIndex,autocompleteOptions:e,autocompleteOpen:t.length&&e.length&&!n&&(!r||i)})}),h(d(o),"onAutocompleteOptionClicked",function(e){o.addFromInput(e)}),h(d(o),"onChange",function(e){o.setState({text:e.target.value},o.filterOptions)}),o.defaultAutocompleteOptions="gamelab"===e.appType?v:[],o.state={text:"",history:[],editing:!1,autocompleteSelecting:!1,autocompleteOpen:!1,autocompleteIndex:0,autocompleteOptions:o.defaultAutocompleteOptions,historyIndex:-1},o}!function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(e,t);var n=e.prototype;return n.renderValue=function(e){if(!this.props.isRunning)return i.default.createElement("span",{style:y.watchValue},"undefined");var t=function(e){return{}.toString.call(e).split(" ")[1].slice(0,-1).toLowerCase()}(e);if(e instanceof Error)return i.default.createElement("span",{style:y.watchValue,className:"watch-unavailable"},s.default.debugWatchNotAvailable());switch(t){case"null":case"undefined":return i.default.createElement("span",{style:y.watchValue},t);case"regexp":return i.default.createElement("span",{style:y.watchValue},"[regexp]");case"array":return i.default.createElement("span",{style:y.watchValueArray},"[list (".concat(e.length,")]"),i.default.createElement("br",null),"[".concat(function(e){var r="";return e.forEach(function(e,t,n){null===e?r+="null":Array.isArray(e)?r+="list ("+e.length+")":"string"==typeof e?r+='"'+e+'"':"object"===f(e)?r+="object {}":r+=e,t!==n.length-1&&(r+=", ")}),r}(e),"]"));case"function":return i.default.createElement("span",{style:y.watchValue},"[".concat(e.toString().match(/(.*)\(/)[1],"]"));default:return i.default.createElement("span",{style:y.watchValue},e.toString())}},n.scrollToBottom=function(){this.scrollableContainer.scrollTop=this.scrollableContainer.scrollHeight},n.addFromInput=function(){var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.state.text;""!==t&&(this.props.add(t),this.setState({history:[t].concat(this.state.history),editing:!1,historyIndex:-1,text:""},function(){e.scrollToBottom(),e.filterOptions()}))},n.selectHistoryIndex=function(e){var t=this;this.setState({editing:!1,text:this.state.history[e],historyIndex:e,autocompleteSelecting:!1,autocompleteOpen:!1},function(){t.filterOptions(),t.setState({editing:!0})})},n.selectAutocompleteIndex=function(e){this.setState({autocompleteSelecting:!0,autocompleteIndex:e})},n.historyDown=function(){var e=_(this.state.historyIndex-1,this.state.history.length);this.selectHistoryIndex(e)},n.historyUp=function(){if(!(this.state.historyIndex===this.state.history.length-1)){var e=_(this.state.historyIndex+1,this.state.history.length);this.selectHistoryIndex(e)}},n.autocompleteDown=function(){this.selectAutocompleteIndex(_(this.state.autocompleteIndex+1,this.state.autocompleteOptions.length))},n.autocompleteUp=function(){this.selectAutocompleteIndex(_(this.state.autocompleteIndex-1,this.state.autocompleteOptions.length))},n.navigatingHistory=function(){return 0<=this.state.historyIndex},n.resetAutocomplete=function(){this.setState({autocompleteIndex:0,historyIndex:-1,autocompleteSelecting:!1})},n.componentDidUpdate=function(e,t){t.autocompleteOpen&&!this.state.autocompleteOpen&&this.resetAutocomplete()},n.render=function(){var r=this;return i.default.createElement("div",{id:"debugger-watch-container",style:y.watchContainer},i.default.createElement("div",{id:"debug-watch",ref:function(e){return r.scrollableContainer=e},className:"debug-watch",style:this.props.style},this.props.watchedExpressions.map(function(e){var t=e.get("expression"),n=e.get("lastValue");return i.default.createElement("div",{className:"debug-watch-item",key:e.get("uuid")},i.default.createElement("div",{style:y.watchRemoveButton,onClick:function(){return r.props.remove(e.get("expression"))}},"Ã—"),i.default.createElement("div",{style:y.watchItemDescription},i.default.createElement("span",{className:"watch-variable"},t),i.default.createElement("span",{className:"watch-separator"},": "),r.renderValue(n)))}),i.default.createElement("div",{style:y.watchInputSection},i.default.createElement("div",{style:y.watchAddButton,onClick:this.addButtonClick},"+"),i.default.createElement(c.default,{attachment:"bottom left",targetAttachment:"top left",constraints:[{to:"scrollParent",attachment:"together"}],style:y.autocompleteDropdown},i.default.createElement("input",{placeholder:"Variable / Property",ref:"debugInput",onKeyDown:this.onKeyDown,onChange:this.onChange,onClick:function(){return r.setState({autocompleteOpen:!0})},value:this.state.text,style:y.watchInput}),this.state.autocompleteOpen&&i.default.createElement(l.default,{options:this.state.autocompleteOptions,currentIndex:this.state.autocompleteSelecting?this.state.autocompleteIndex:-1,onOptionClicked:this.onAutocompleteOptionClicked,onOptionHovered:function(e){return r.setState({autocompleteSelecting:!0,autocompleteIndex:e})},onClickOutside:this.closeAutocomplete})))))},e}(i.default.Component);h(b,"propTypes",{debugButtons:r.default.bool.isRequired,isRunning:r.default.bool.isRequired,watchedExpressions:r.default.instanceOf(o.default.List).isRequired,add:r.default.func.isRequired,update:r.default.func.isRequired,remove:r.default.func.isRequired,style:r.default.object,appType:r.default.string.isRequired});var w=b;t.UnconnectedWatchers=w;var S=(0,a.connect)(function(e){return{watchedExpressions:e.watchedExpressions,isRunning:e.runState.isRunning,appType:e.pageConstants.appType}},{add:u.add,update:u.update,remove:u.remove},null,{withRef:!0})(b);function _(e,t){return(e+t)%t}t.default=S},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i.default}});var r,i=(r=n(2215))&&r.__esModule?r:{default:r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1),r=a(n(0)),i=a(n(7)),c=a(n(2216));function a(e){return e&&e.__esModule?e:{default:e}}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],0<=t.indexOf(n)||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}c.default||console.error("It looks like Tether has not been included. Please load this dependency first https://github.com/HubSpot/tether");var v=void 0!==i.default.createPortal,g=[r.default.string,r.default.shape({appendChild:r.default.func.isRequired})],m=["auto auto","top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],y=function(e){function n(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),h(d(d(t=function(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?d(e):t}(this,p(n).call(this,e)))),"_targetNode",null),h(d(d(t)),"_elementParentNode",null),h(d(d(t)),"_tether",null),h(d(d(t)),"_elementComponent",null),h(d(d(t)),"_targetComponent",null),t.updateChildrenComponents(t.props),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(n,o.Component),function(e,t,n){t&&u(e.prototype,t),n&&u(e,n)}(n,[{key:"updateChildrenComponents",value:function(e){var t=o.Children.toArray(e.children);this._targetComponent=t[0],this._elementComponent=t[1],this._targetComponent&&this._elementComponent&&this._createContainer()}},{key:"componentWillUpdate",value:function(e){this.updateChildrenComponents(e)}},{key:"componentDidMount",value:function(){this._update()}},{key:"componentDidUpdate",value:function(){this._update()}},{key:"componentWillUnmount",value:function(){this._destroy()}},{key:"getTetherInstance",value:function(){return this._tether}},{key:"disable",value:function(){this._tether.disable()}},{key:"enable",value:function(){this._tether.enable()}},{key:"on",value:function(e,t,n){this._tether.on(e,t,n)}},{key:"once",value:function(e,t,n){this._tether.once(e,t,n)}},{key:"off",value:function(e,t){this._tether.off(e,t)}},{key:"position",value:function(){this._tether.position()}},{key:"_registerEventListeners",value:function(){var r=this;this.on("update",function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.props.onUpdate&&r.props.onUpdate.apply(r,t)}),this.on("repositioned",function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.props.onRepositioned&&r.props.onRepositioned.apply(r,t)})}},{key:"_destroy",value:function(){this._elementParentNode&&(v||i.default.unmountComponentAtNode(this._elementParentNode),this._elementParentNode.parentNode.removeChild(this._elementParentNode)),this._tether&&this._tether.destroy(),this._elementParentNode=null,this._tether=null,this._targetNode=null,this._targetComponent=null,this._elementComponent=null}},{key:"_createContainer",value:function(){if(!this._elementParentNode){var e=this.props.renderElementTag;this._elementParentNode=document.createElement(e),this._renderNode.appendChild(this._elementParentNode)}}},{key:"_update",value:function(){var e=this,t=!this._elementComponent||!this._targetComponent;t||(this._targetNode=i.default.findDOMNode(this),t=!this._targetNode),t?this._destroy():v?this._updateTether():i.default.unstable_renderSubtreeIntoContainer(this,this._elementComponent,this._elementParentNode,function(){e._elementParentNode&&e._updateTether()})}},{key:"_updateTether",value:function(){var e=this.props,t=(e.children,e.renderElementTag,e.renderElementTo,e.id),n=e.className,r=e.style,i=l(e,["children","renderElementTag","renderElementTo","id","className","style"]),o=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(e){h(t,e,n[e])})}return t}({target:this._targetNode,element:this._elementParentNode},i),a=t||"";this._elementParentNode.id!==a&&(this._elementParentNode.id=a);var s=n||"";if(this._elementParentNode.className!==s&&(this._elementParentNode.className=s),r){var u=this._elementParentNode.style;Object.keys(r).forEach(function(e){u[e]!==r[e]&&(u[e]=r[e])})}this._tether?this._tether.setOptions(o):(this._tether=new c.default(o),this._registerEventListeners()),this._tether.position()}},{key:"render",value:function(){return this._targetComponent?v&&this._elementComponent?[this._targetComponent,i.default.createPortal(this._elementComponent,this._elementParentNode)]:this._targetComponent:null}},{key:"_renderNode",get:function(){var e=this.props.renderElementTo;return"string"==typeof e?document.querySelector(e):e||document.body}}]),n}();h(y,"propTypes",{renderElementTag:r.default.string,renderElementTo:r.default.oneOfType(g),attachment:r.default.oneOf(m).isRequired,targetAttachment:r.default.oneOf(m),offset:r.default.string,targetOffset:r.default.string,targetModifier:r.default.string,enabled:r.default.bool,classes:r.default.object,classPrefix:r.default.string,optimizations:r.default.object,constraints:r.default.array,id:r.default.string,className:r.default.string,style:r.default.object,onUpdate:r.default.func,onRepositioned:r.default.func,children:function(e,t,n){var r=e.children,i=o.Children.count(r);return i<=0?new Error("".concat(n," expects at least one child to use as the target element.")):2<i?new Error("Only a max of two children allowed in ".concat(n,".")):void 0}}),h(y,"defaultProps",{renderElementTag:"div",renderElementTo:null});var b=y;t.default=b},function(e,t,n){var r,i,o;/*! tether 1.4.6 */i=[],void 0===(o="function"==typeof(r=function(){"use strict";var t=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}();function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _=void 0;void 0===_&&(_={modules:[]});var n=null;function a(e){var t=e.getBoundingClientRect(),n={};for(var r in t)n[r]=t[r];if(e.ownerDocument!==document){var i=e.ownerDocument.defaultView.frameElement;if(i){var o=a(i);n.top+=o.top,n.bottom+=o.top,n.left+=o.left,n.right+=o.left}}return n}function s(e){var t=getComputedStyle(e)||{},n=t.position,r=[];if("fixed"===n)return[e];for(var i=e;(i=i.parentNode)&&i&&1===i.nodeType;){var o=void 0;try{o=getComputedStyle(i)}catch(e){}if(null==o)return r.push(i),r;var a=o,s=a.overflow,u=a.overflowX,c=a.overflowY;/(auto|scroll|overlay)/.test(s+c+u)&&("absolute"!==n||0<=["relative","absolute","fixed"].indexOf(o.position))&&r.push(i)}return r.push(e.ownerDocument.body),e.ownerDocument!==document&&r.push(e.ownerDocument.defaultView),r}var i=function(){var e=0;return function(){return++e}}(),o={},u=function(){var e=n;e&&document.body.contains(e)||((e=document.createElement("div")).setAttribute("data-tether-id",i()),O(e.style,{top:0,left:0,position:"absolute"}),document.body.appendChild(e),n=e);var t=e.getAttribute("data-tether-id");return void 0===o[t]&&(o[t]=a(e),P(function(){delete o[t]})),o[t]};function c(){n&&document.body.removeChild(n),n=null}function C(e){var t=void 0;e===document?(t=document,e=document.documentElement):t=e.ownerDocument;var n=t.documentElement,r=a(e),i=u();return r.top-=i.top,r.left-=i.left,void 0===r.width&&(r.width=document.body.scrollWidth-r.left-r.right),void 0===r.height&&(r.height=document.body.scrollHeight-r.top-r.bottom),r.top=r.top-n.clientTop,r.left=r.left-n.clientLeft,r.right=t.body.clientWidth-r.width-r.left,r.bottom=t.body.clientHeight-r.height-r.top,r}function E(e){return e.offsetParent||document.documentElement}var l=null;function x(){if(l)return l;var e=document.createElement("div");e.style.width="100%",e.style.height="200px";var t=document.createElement("div");O(t.style,{position:"absolute",top:0,left:0,pointerEvents:"none",visibility:"hidden",width:"200px",height:"150px",overflow:"hidden"}),t.appendChild(e),document.body.appendChild(t);var n=e.offsetWidth;t.style.overflow="scroll";var r=e.offsetWidth;n===r&&(r=t.clientWidth),document.body.removeChild(t);var i=n-r;return l={width:i,height:i}}function O(){var n=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],e=[];return Array.prototype.push.apply(e,arguments),e.slice(1).forEach(function(e){if(e)for(var t in e)({}).hasOwnProperty.call(e,t)&&(n[t]=e[t])}),n}function p(t,e){if(void 0!==t.classList)e.split(" ").forEach(function(e){e.trim()&&t.classList.remove(e)});else{var n=new RegExp("(^| )"+e.split(" ").join("|")+"( |$)","gi"),r=h(t).replace(n," ");v(t,r)}}function f(t,e){if(void 0!==t.classList)e.split(" ").forEach(function(e){e.trim()&&t.classList.add(e)});else{p(t,e);var n=h(t)+" "+e;v(t,n)}}function d(e,t){if(void 0!==e.classList)return e.classList.contains(t);var n=h(e);return new RegExp("(^| )"+t+"( |$)","gi").test(n)}function h(e){return e.className instanceof e.ownerDocument.defaultView.SVGAnimatedString?e.className.baseVal:e.className}function v(e,t){e.setAttribute("class",t)}function k(t,n,e){e.forEach(function(e){-1===n.indexOf(e)&&d(t,e)&&p(t,e)}),n.forEach(function(e){d(t,e)||f(t,e)})}var g=[],P=function(e){g.push(e)},T=function(){for(var e=void 0;e=g.pop();)e()},e=function(){function e(){r(this,e)}return t(e,[{key:"on",value:function(e,t,n){var r=!(arguments.length<=3||void 0===arguments[3])&&arguments[3];void 0===this.bindings&&(this.bindings={}),void 0===this.bindings[e]&&(this.bindings[e]=[]),this.bindings[e].push({handler:t,ctx:n,once:r})}},{key:"once",value:function(e,t,n){this.on(e,t,n,!0)}},{key:"off",value:function(e,t){if(void 0!==this.bindings&&void 0!==this.bindings[e])if(void 0===t)delete this.bindings[e];else for(var n=0;n<this.bindings[e].length;)this.bindings[e][n].handler===t?this.bindings[e].splice(n,1):++n}},{key:"trigger",value:function(e){if(void 0!==this.bindings&&this.bindings[e]){for(var t=0,n=arguments.length,r=Array(1<n?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(;t<this.bindings[e].length;){var o=this.bindings[e][t],a=o.handler,s=o.ctx,u=o.once,c=s;void 0===c&&(c=this),a.apply(c,r),u?this.bindings[e].splice(t,1):++t}}}}]),e}();_.Utils={getActualBoundingClientRect:a,getScrollParents:s,getBounds:C,getOffsetParent:E,extend:O,addClass:f,removeClass:p,hasClass:d,updateClasses:k,defer:P,flush:T,uniqueId:i,Evented:e,getScrollBarSize:x,removeUtilElements:c};var R=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},t=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}();function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}if(void 0===_)throw new Error("You must include the utils.js file before tether.js");var s=(H=_.Utils).getScrollParents,C=H.getBounds,E=H.getOffsetParent,O=H.extend,f=H.addClass,p=H.removeClass,k=H.updateClasses,P=H.defer,T=H.flush,x=H.getScrollBarSize,c=H.removeUtilElements;function y(e,t){var n=arguments.length<=2||void 0===arguments[2]?1:arguments[2];return t<=e+n&&e-n<=t}var b=function(){if("undefined"==typeof document)return"";for(var e=document.createElement("div"),t=["transform","WebkitTransform","OTransform","MozTransform","msTransform"],n=0;n<t.length;++n){var r=t[n];if(void 0!==e.style[r])return r}}(),m=[],w=function(){m.forEach(function(e){e.position(!1)}),T()};function S(){return"object"==typeof performance&&"function"==typeof performance.now?performance.now():+new Date}!function(){var t=null,n=null,r=null,i=function e(){if(void 0!==n&&16<n)return n=Math.min(n-16,250),void(r=setTimeout(e,250));void 0!==t&&S()-t<10||(null!=r&&(clearTimeout(r),r=null),t=S(),w(),n=S()-t)};"undefined"!=typeof window&&void 0!==window.addEventListener&&["resize","scroll","touchmove"].forEach(function(e){window.addEventListener(e,i)})}();var A={center:"center",left:"right",right:"left"},I={middle:"middle",top:"bottom",bottom:"top"},M={top:0,left:0,middle:"50%",center:"50%",bottom:"100%",right:"100%"},N=function(e){var t=e.left,n=e.top;return void 0!==M[e.left]&&(t=M[e.left]),void 0!==M[e.top]&&(n=M[e.top]),{left:t,top:n}};function D(){for(var r={top:0,left:0},e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.forEach(function(e){var t=e.top,n=e.left;"string"==typeof t&&(t=parseFloat(t,10)),"string"==typeof n&&(n=parseFloat(n,10)),r.top+=t,r.left+=n}),r}function j(e,t){return"string"==typeof e.left&&-1!==e.left.indexOf("%")&&(e.left=parseFloat(e.left,10)/100*t.width),"string"==typeof e.top&&-1!==e.top.indexOf("%")&&(e.top=parseFloat(e.top,10)/100*t.height),e}var L=function(e){var t=e.split(" "),n=R(t,2),r=n[0],i=n[1];return{top:r,left:i}},B=L,F=function(e){function n(e){var t=this;r(this,n),function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var c=Object.getPrototypeOf(i);if(null===c)return;e=c,t=o,n=a,r=!0,s=c=void 0}}(Object.getPrototypeOf(n.prototype),"constructor",this).call(this),this.position=this.position.bind(this),m.push(this),this.history=[],this.setOptions(e,!1),_.modules.forEach(function(e){void 0!==e.initialize&&e.initialize.call(t)}),this.position()}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,e),t(n,[{key:"getClass",value:function(){var e=arguments.length<=0||void 0===arguments[0]?"":arguments[0],t=this.options.classes;return void 0!==t&&t[e]?this.options.classes[e]:this.options.classPrefix?this.options.classPrefix+"-"+e:e}},{key:"setOptions",value:function(e){var t=this,n=arguments.length<=1||void 0===arguments[1]||arguments[1];this.options=O({offset:"0 0",targetOffset:"0 0",targetAttachment:"auto auto",classPrefix:"tether"},e);var r=this.options,i=r.element,o=r.target,a=r.targetModifier;if(this.element=i,this.target=o,this.targetModifier=a,"viewport"===this.target?(this.target=document.body,this.targetModifier="visible"):"scroll-handle"===this.target&&(this.target=document.body,this.targetModifier="scroll-handle"),["element","target"].forEach(function(e){if(void 0===t[e])throw new Error("Tether Error: Both element and target must be defined");void 0!==t[e].jquery?t[e]=t[e][0]:"string"==typeof t[e]&&(t[e]=document.querySelector(t[e]))}),f(this.element,this.getClass("element")),!1!==this.options.addTargetClasses&&f(this.target,this.getClass("target")),!this.options.attachment)throw new Error("Tether Error: You must provide an attachment");this.targetAttachment=B(this.options.targetAttachment),this.attachment=B(this.options.attachment),this.offset=L(this.options.offset),this.targetOffset=L(this.options.targetOffset),void 0!==this.scrollParents&&this.disable(),"scroll-handle"===this.targetModifier?this.scrollParents=[this.target]:this.scrollParents=s(this.target),!1!==this.options.enabled&&this.enable(n)}},{key:"getTargetBounds",value:function(){if(void 0===this.targetModifier)return C(this.target);if("visible"===this.targetModifier){if(this.target===document.body)return{top:pageYOffset,left:pageXOffset,height:innerHeight,width:innerWidth};var e=C(this.target),t={height:e.height,width:e.width,top:e.top,left:e.left};return t.height=Math.min(t.height,e.height-(pageYOffset-e.top)),t.height=Math.min(t.height,e.height-(e.top+e.height-(pageYOffset+innerHeight))),t.height=Math.min(innerHeight,t.height),t.height-=2,t.width=Math.min(t.width,e.width-(pageXOffset-e.left)),t.width=Math.min(t.width,e.width-(e.left+e.width-(pageXOffset+innerWidth))),t.width=Math.min(innerWidth,t.width),t.width-=2,t.top<pageYOffset&&(t.top=pageYOffset),t.left<pageXOffset&&(t.left=pageXOffset),t}if("scroll-handle"===this.targetModifier){var e=void 0,n=this.target;e=n===document.body?(n=document.documentElement,{left:pageXOffset,top:pageYOffset,height:innerHeight,width:innerWidth}):C(n);var r=getComputedStyle(n),i=n.scrollWidth>n.clientWidth||0<=[r.overflow,r.overflowX].indexOf("scroll")||this.target!==document.body,o=0;i&&(o=15);var a=e.height-parseFloat(r.borderTopWidth)-parseFloat(r.borderBottomWidth)-o,t={width:15,height:.975*a*(a/n.scrollHeight),left:e.left+e.width-parseFloat(r.borderLeftWidth)-15},s=0;a<408&&this.target===document.body&&(s=-11e-5*Math.pow(a,2)-.00727*a+22.58),this.target!==document.body&&(t.height=Math.max(t.height,24));var u=this.target.scrollTop/(n.scrollHeight-a);return t.top=u*(a-t.height-s)+e.top+parseFloat(r.borderTopWidth),this.target===document.body&&(t.height=Math.max(t.height,24)),t}}},{key:"clearCache",value:function(){this._cache={}}},{key:"cache",value:function(e,t){return void 0===this._cache&&(this._cache={}),void 0===this._cache[e]&&(this._cache[e]=t.call(this)),this._cache[e]}},{key:"enable",value:function(){var t=this,e=arguments.length<=0||void 0===arguments[0]||arguments[0];!1!==this.options.addTargetClasses&&f(this.target,this.getClass("enabled")),f(this.element,this.getClass("enabled")),this.enabled=!0,this.scrollParents.forEach(function(e){e!==t.target.ownerDocument&&e.addEventListener("scroll",t.position)}),e&&this.position()}},{key:"disable",value:function(){var t=this;p(this.target,this.getClass("enabled")),p(this.element,this.getClass("enabled")),this.enabled=!1,void 0!==this.scrollParents&&this.scrollParents.forEach(function(e){e.removeEventListener("scroll",t.position)})}},{key:"destroy",value:function(){var n=this;this.disable(),m.forEach(function(e,t){e===n&&m.splice(t,1)}),0===m.length&&c()}},{key:"updateAttachClasses",value:function(e,t){var n=this;e=e||this.attachment,t=t||this.targetAttachment,void 0!==this._addAttachClasses&&this._addAttachClasses.length&&this._addAttachClasses.splice(0,this._addAttachClasses.length),void 0===this._addAttachClasses&&(this._addAttachClasses=[]);var r=this._addAttachClasses;e.top&&r.push(this.getClass("element-attached")+"-"+e.top),e.left&&r.push(this.getClass("element-attached")+"-"+e.left),t.top&&r.push(this.getClass("target-attached")+"-"+t.top),t.left&&r.push(this.getClass("target-attached")+"-"+t.left);var i=[];["left","top","bottom","right","middle","center"].forEach(function(e){i.push(n.getClass("element-attached")+"-"+e),i.push(n.getClass("target-attached")+"-"+e)}),P(function(){void 0!==n._addAttachClasses&&(k(n.element,n._addAttachClasses,i),!1!==n.options.addTargetClasses&&k(n.target,n._addAttachClasses,i),delete n._addAttachClasses)})}},{key:"position",value:function(){var s=this,e=arguments.length<=0||void 0===arguments[0]||arguments[0];if(this.enabled){this.clearCache();var t=function(e,t){var n=e.left,r=e.top;return"auto"===n&&(n=A[t.left]),"auto"===r&&(r=I[t.top]),{left:n,top:r}}(this.targetAttachment,this.attachment);this.updateAttachClasses(this.attachment,t);var n=this.cache("element-bounds",function(){return C(s.element)}),r=n.width,i=n.height;if(0===r&&0===i&&void 0!==this.lastSize){var o=this.lastSize;r=o.width,i=o.height}else this.lastSize={width:r,height:i};var a=this.cache("target-bounds",function(){return s.getTargetBounds()}),u=a,c=j(N(this.attachment),{width:r,height:i}),l=j(N(t),u),p=j(this.offset,{width:r,height:i}),f=j(this.targetOffset,u);c=D(c,p),l=D(l,f);for(var d=a.left+l.left-c.left,h=a.top+l.top-c.top,v=0;v<_.modules.length;++v){var g=_.modules[v],m=g.position.call(this,{left:d,top:h,targetAttachment:t,targetPos:a,elementPos:n,offset:c,targetOffset:l,manualOffset:p,manualTargetOffset:f,scrollbarSize:S,attachment:this.attachment});if(!1===m)return!1;void 0!==m&&"object"==typeof m&&(h=m.top,d=m.left)}var y={page:{top:h,left:d},viewport:{top:h-pageYOffset,bottom:pageYOffset-h-i+innerHeight,left:d-pageXOffset,right:pageXOffset-d-r+innerWidth}},b=this.target.ownerDocument,w=b.defaultView,S=void 0;return w.innerHeight>b.documentElement.clientHeight&&(S=this.cache("scrollbar-size",x),y.viewport.bottom-=S.height),w.innerWidth>b.documentElement.clientWidth&&(S=this.cache("scrollbar-size",x),y.viewport.right-=S.width),-1!==["","static"].indexOf(b.body.style.position)&&-1!==["","static"].indexOf(b.body.parentElement.style.position)||(y.page.bottom=b.body.scrollHeight-h-i,y.page.right=b.body.scrollWidth-d-r),void 0!==this.options.optimizations&&!1!==this.options.optimizations.moveElement&&void 0===this.targetModifier&&function(){var e=s.cache("target-offsetparent",function(){return E(s.target)}),t=s.cache("target-offsetparent-bounds",function(){return C(e)}),n=getComputedStyle(e),r=t,i={};if(["Top","Left","Bottom","Right"].forEach(function(e){i[e.toLowerCase()]=parseFloat(n["border"+e+"Width"])}),t.right=b.body.scrollWidth-t.left-r.width+i.right,t.bottom=b.body.scrollHeight-t.top-r.height+i.bottom,y.page.top>=t.top+i.top&&y.page.bottom>=t.bottom&&y.page.left>=t.left+i.left&&y.page.right>=t.right){var o=e.scrollTop,a=e.scrollLeft;y.offset={top:y.page.top-t.top+o-i.top,left:y.page.left-t.left+a-i.left}}}(),this.move(y),this.history.unshift(y),3<this.history.length&&this.history.pop(),e&&T(),!0}}},{key:"move",value:function(t){var a=this;if(void 0!==this.element.parentNode){var n={};for(var e in t)for(var r in n[e]={},t[e]){for(var i=!1,o=0;o<this.history.length;++o){var s=this.history[o];if(void 0!==s[e]&&!y(s[e][r],t[e][r])){i=!0;break}}i||(n[e][r]=!0)}var u={top:"",left:"",right:"",bottom:""},c=function(e,t){var n=void 0!==a.options.optimizations,r=n?a.options.optimizations.gpu:null;if(!1!==r){var i=void 0,o=void 0;i=e.top?(u.top=0,t.top):(u.bottom=0,-t.bottom),o=e.left?(u.left=0,t.left):(u.right=0,-t.right),"number"==typeof window.devicePixelRatio&&devicePixelRatio%1==0&&(o=Math.round(o*devicePixelRatio)/devicePixelRatio,i=Math.round(i*devicePixelRatio)/devicePixelRatio),u[b]="translateX("+o+"px) translateY("+i+"px)","msTransform"!==b&&(u[b]+=" translateZ(0)")}else e.top?u.top=t.top+"px":u.bottom=t.bottom+"px",e.left?u.left=t.left+"px":u.right=t.right+"px"},l=!1;if((n.page.top||n.page.bottom)&&(n.page.left||n.page.right)?(u.position="absolute",c(n.page,t.page)):(n.viewport.top||n.viewport.bottom)&&(n.viewport.left||n.viewport.right)?(u.position="fixed",c(n.viewport,t.viewport)):void 0!==n.offset&&n.offset.top&&n.offset.left?function(){u.position="absolute";var e=a.cache("target-offsetparent",function(){return E(a.target)});E(a.element)!==e&&P(function(){a.element.parentNode.removeChild(a.element),e.appendChild(a.element)}),c(n.offset,t.offset),l=!0}():(u.position="absolute",c({top:!0,left:!0},t.page)),!l)if(this.options.bodyElement)this.element.parentNode!==this.options.bodyElement&&this.options.bodyElement.appendChild(this.element);else{for(var p=function(e){var t=e.ownerDocument,n=t.fullscreenElement||t.webkitFullscreenElement||t.mozFullScreenElement||t.msFullscreenElement;return n===e},f=!0,d=this.element.parentNode;d&&1===d.nodeType&&"BODY"!==d.tagName&&!p(d);){if("static"!==getComputedStyle(d).position){f=!1;break}d=d.parentNode}f||(this.element.parentNode.removeChild(this.element),this.element.ownerDocument.body.appendChild(this.element))}var h={},v=!1;for(var r in u){var g=u[r],m=this.element.style[r];m!==g&&(v=!0,h[r]=g)}v&&P(function(){O(a.element.style,h),a.trigger("repositioned")})}}}]),n}(e);F.modules=[],_.position=w;var z=O(F,_),R=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},C=(H=_.Utils).getBounds,O=H.extend,k=H.updateClasses,P=H.defer,U=["left","top","right","bottom"];_.modules.push({position:function(e){var p=this,f=e.top,d=e.left,h=e.targetAttachment;if(!this.options.constraints)return!0;var t=this.cache("element-bounds",function(){return C(p.element)}),v=t.height,g=t.width;if(0===g&&0===v&&void 0!==this.lastSize){var n=this.lastSize;g=n.width,v=n.height}var r=this.cache("target-bounds",function(){return p.getTargetBounds()}),m=r.height,y=r.width,i=[this.getClass("pinned"),this.getClass("out-of-bounds")];this.options.constraints.forEach(function(e){var t=e.outOfBoundsClass,n=e.pinnedClass;t&&i.push(t),n&&i.push(n)}),i.forEach(function(t){["left","top","right","bottom"].forEach(function(e){i.push(t+"-"+e)})});var b=[],w=O({},h),S=O({},this.attachment);return this.options.constraints.forEach(function(e){var t=e.to,n=e.attachment,r=e.pin;void 0===n&&(n="");var i=void 0,o=void 0;if(0<=n.indexOf(" ")){var a=n.split(" "),s=R(a,2);o=s[0],i=s[1]}else i=o=n;var u=function(e,o){return"scrollParent"===o?o=e.scrollParents[0]:"window"===o&&(o=[pageXOffset,pageYOffset,innerWidth+pageXOffset,innerHeight+pageYOffset]),o===document&&(o=o.documentElement),void 0!==o.nodeType&&function(){var e=o,t=C(o),n=t,r=getComputedStyle(o);if(o=[n.left,n.top,t.width+n.left,t.height+n.top],e.ownerDocument!==document){var i=e.ownerDocument.defaultView;o[0]+=i.pageXOffset,o[1]+=i.pageYOffset,o[2]+=i.pageXOffset,o[3]+=i.pageYOffset}U.forEach(function(e,t){"Top"===(e=e[0].toUpperCase()+e.substr(1))||"Left"===e?o[t]+=parseFloat(r["border"+e+"Width"]):o[t]-=parseFloat(r["border"+e+"Width"])})}(),o}(p,t);"target"!==o&&"both"!==o||(f<u[1]&&"top"===w.top&&(f+=m,w.top="bottom"),f+v>u[3]&&"bottom"===w.top&&(f-=m,w.top="top")),"together"===o&&("top"===w.top&&("bottom"===S.top&&f<u[1]?(f+=m,w.top="bottom",f+=v,S.top="top"):"top"===S.top&&f+v>u[3]&&f-(v-m)>=u[1]&&(f-=v-m,w.top="bottom",S.top="bottom")),"bottom"===w.top&&("top"===S.top&&f+v>u[3]?(f-=m,w.top="top",f-=v,S.top="bottom"):"bottom"===S.top&&f<u[1]&&f+(2*v-m)<=u[3]&&(f+=v-m,w.top="top",S.top="top")),"middle"===w.top&&(f+v>u[3]&&"top"===S.top?(f-=v,S.top="bottom"):f<u[1]&&"bottom"===S.top&&(f+=v,S.top="top"))),"target"!==i&&"both"!==i||(d<u[0]&&"left"===w.left&&(d+=y,w.left="right"),d+g>u[2]&&"right"===w.left&&(d-=y,w.left="left")),"together"===i&&(d<u[0]&&"left"===w.left?"right"===S.left?(d+=y,w.left="right",d+=g,S.left="left"):"left"===S.left&&(d+=y,w.left="right",d-=g,S.left="right"):d+g>u[2]&&"right"===w.left?"left"===S.left?(d-=y,w.left="left",d-=g,S.left="right"):"right"===S.left&&(d-=y,w.left="left",d+=g,S.left="left"):"center"===w.left&&(d+g>u[2]&&"left"===S.left?(d-=g,S.left="right"):d<u[0]&&"right"===S.left&&(d+=g,S.left="left"))),"element"!==o&&"both"!==o||(f<u[1]&&"bottom"===S.top&&(f+=v,S.top="top"),f+v>u[3]&&"top"===S.top&&(f-=v,S.top="bottom")),"element"!==i&&"both"!==i||(d<u[0]&&("right"===S.left?(d+=g,S.left="left"):"center"===S.left&&(d+=g/2,S.left="left")),d+g>u[2]&&("left"===S.left?(d-=g,S.left="right"):"center"===S.left&&(d-=g/2,S.left="right"))),"string"==typeof r?r=r.split(",").map(function(e){return e.trim()}):!0===r&&(r=["top","left","right","bottom"]),r=r||[];var c=[],l=[];f<u[1]&&(0<=r.indexOf("top")?(f=u[1],c.push("top")):l.push("top")),f+v>u[3]&&(0<=r.indexOf("bottom")?(f=u[3]-v,c.push("bottom")):l.push("bottom")),d<u[0]&&(0<=r.indexOf("left")?(d=u[0],c.push("left")):l.push("left")),d+g>u[2]&&(0<=r.indexOf("right")?(d=u[2]-g,c.push("right")):l.push("right")),c.length&&function(){var t=void 0;t=void 0!==p.options.pinnedClass?p.options.pinnedClass:p.getClass("pinned"),b.push(t),c.forEach(function(e){b.push(t+"-"+e)})}(),l.length&&function(){var t=void 0;t=void 0!==p.options.outOfBoundsClass?p.options.outOfBoundsClass:p.getClass("out-of-bounds"),b.push(t),l.forEach(function(e){b.push(t+"-"+e)})}(),(0<=c.indexOf("left")||0<=c.indexOf("right"))&&(S.left=w.left=!1),(0<=c.indexOf("top")||0<=c.indexOf("bottom"))&&(S.top=w.top=!1),w.top===h.top&&w.left===h.left&&S.top===p.attachment.top&&S.left===p.attachment.left||(p.updateAttachClasses(S,w),p.trigger("update",{attachment:S,targetAttachment:w}))}),P(function(){!1!==p.options.addTargetClasses&&k(p.target,b,i),k(p.element,b,i)}),{top:f,left:d}}});var H,C=(H=_.Utils).getBounds,k=H.updateClasses,P=H.defer;_.modules.push({position:function(e){var t=this,n=e.top,r=e.left,i=this.cache("element-bounds",function(){return C(t.element)}),o=i.height,a=i.width,s=this.getTargetBounds(),u=n+o,c=r+a,l=[];n<=s.bottom&&u>=s.top&&["left","right"].forEach(function(e){var t=s[e];t!==r&&t!==c||l.push(e)}),r<=s.right&&c>=s.left&&["top","bottom"].forEach(function(e){var t=s[e];t!==n&&t!==u||l.push(e)});var p=[],f=[];return p.push(this.getClass("abutted")),["left","top","right","bottom"].forEach(function(e){p.push(t.getClass("abutted")+"-"+e)}),l.length&&f.push(this.getClass("abutted")),l.forEach(function(e){f.push(t.getClass("abutted")+"-"+e)}),P(function(){!1!==t.options.addTargetClasses&&k(t.target,f,p),k(t.element,f,p)}),!0}});var R=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};return _.modules.push({position:function(e){var t=e.top,n=e.left;if(this.options.shift){var r=this.options.shift;"function"==typeof this.options.shift&&(r=this.options.shift.call(this,{top:t,left:n}));var i=void 0,o=void 0;if("string"==typeof r){(r=r.split(" "))[1]=r[1]||r[0];var a=R(r,2);i=a[0],o=a[1],i=parseFloat(i,10),o=parseFloat(o,10)}else i=r.top,o=r.left;return{top:t+=i,left:n+=o}}}}),z})?r.apply(t,i):r)||(e.exports=o)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i,o=u(n(2218)),a=u(n(0)),s=u(n(1));function u(e){return e&&e.__esModule?e:{default:e}}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l={autocompletePanel:{width:"100%",minWidth:163,height:"initial",background:"white",color:"#808080",border:"1px gray solid",padding:0,marginTop:-2,marginLeft:-1},autocompleteOption:{cursor:"pointer",margin:0,padding:4},selectedStyle:{backgroundColor:"#cad6fa",color:"black"}},p=(0,o.default)((i=r=function(e){function t(){return e.apply(this,arguments)||this}!function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(t,e);var n=t.prototype;return n.handleClickOutside=function(){this.props.onClickOutside()},n.render=function(){var r=this;return s.default.createElement("div",{id:"autocomplete-panel",className:"autocomplete-panel",style:l.autocompletePanel},this.props.options.map(function(t,e){var n=e===r.props.currentIndex;return s.default.createElement("div",{key:t,className:"autocomplete-option",onClick:function(e){r.props.onOptionClicked(t),e.preventDefault()},onMouseOver:function(){return r.props.onOptionHovered(e)},style:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(Object(n));"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(e){c(t,e,n[e])})}return t}({},l.autocompleteOption,n?l.selectedStyle:{})},t)}))},t}(s.default.Component),c(r,"propTypes",{currentIndex:a.default.number.isRequired,options:a.default.arrayOf(a.default.string).isRequired,onOptionClicked:a.default.func.isRequired,onOptionHovered:a.default.func.isRequired,onClickOutside:a.default.func.isRequired}),i));t.default=p,e.exports=t.default},function(e,t,n){var r,i,o,a,c,l,p,f;c=[],l=[],p=["mousedown","touchstart"],f=function(n,e,r,i,o,a,s){return function(e){a&&e.preventDefault(),s&&e.stopPropagation();var t=e.target;o&&function(e){return document.documentElement.clientWidth<=e.clientX||document.documentElement.clientHeight<=e.clientY}(e)||function(e,t,n){if(e===t)return!0;for(;e.parentNode;){if(i=n,(r=e)===t||(r.correspondingElement?r.correspondingElement.classList.contains(i):r.classList.contains(i)))return!0;e=e.parentNode}var r,i;return e}(t,n,i)!==document||r(e)}},o=this,a=function(e,a,s,u){return function(e,o){var t,n,r,i=u({statics:{getClass:function(){return e.getClass?e.getClass():e}},getInstance:function(){return e.prototype.isReactComponent?this.refs.instance:this},__outsideClickHandler:function(){},getDefaultProps:function(){return{excludeScrollbar:o&&o.excludeScrollbar}},componentDidMount:function(){if("undefined"!=typeof document&&document.createElement){var e,t=this.getInstance();if(o&&"function"==typeof o.handleClickOutside){if("function"!=typeof(e=o.handleClickOutside(t)))throw new Error("Component lacks a function for processing outside click events specified by the handleClickOutside config option.")}else if("function"==typeof t.handleClickOutside)e=a.Component.prototype.isPrototypeOf(t)?t.handleClickOutside.bind(t):t.handleClickOutside;else{if("function"!=typeof t.props.handleClickOutside)throw new Error("Component lacks a handleClickOutside(event) function for processing outside click events.");e=t.props.handleClickOutside}var n=s.findDOMNode(t);null===n&&(console.warn("Antipattern warning: there was no DOM node associated with the component that is being wrapped by outsideClick."),console.warn(["This is typically caused by having a component that starts life with a render function that","returns `null` (due to a state or props value), so that the component 'exist' in the React","chain of components, but not in the DOM.\n\nInstead, you need to refactor your code so that the","decision of whether or not to show your component is handled by the parent, in their render()","function.\n\nIn code, rather than:\n\n  A{render(){return check? <.../> : null;}\n  B{render(){<A check=... />}\n\nmake sure that you","use:\n\n  A{render(){return <.../>}\n  B{render(){return <...>{ check ? <A/> : null }<...>}}\n\nThat is:","the parent is always responsible for deciding whether or not to render any of its children.","It is not the child's responsibility to decide whether a render instruction from above should","get ignored or not by returning `null`.\n\nWhen any component gets its render() function called,","that is the signal that it should be rendering its part of the UI. It may in turn decide not to","render all of *its* children, but it should never return `null` for itself. It is not responsible","for that decision."].join(" ")));var r=this.__outsideClickHandler=f(n,0,e,this.props.outsideClickIgnoreClass||"ignore-react-onclickoutside",this.props.excludeScrollbar,this.props.preventDefault||!1,this.props.stopPropagation||!1),i=c.length;c.push(this),l[i]=r,this.props.disableOnClickOutside||this.enableOnClickOutside()}},componentWillReceiveProps:function(e){this.props.disableOnClickOutside&&!e.disableOnClickOutside?this.enableOnClickOutside():!this.props.disableOnClickOutside&&e.disableOnClickOutside&&this.disableOnClickOutside()},componentWillUnmount:function(){this.disableOnClickOutside(),this.__outsideClickHandler=!1;var e=c.indexOf(this);-1<e&&(l[e]&&l.splice(e,1),c.splice(e,1))},enableOnClickOutside:function(){var t=this.__outsideClickHandler;if("undefined"!=typeof document){var e=this.props.eventTypes||p;e.forEach||(e=[e]),e.forEach(function(e){document.addEventListener(e,t)})}},disableOnClickOutside:function(){var t=this.__outsideClickHandler;if("undefined"!=typeof document){var e=this.props.eventTypes||p;e.forEach||(e=[e]),e.forEach(function(e){document.removeEventListener(e,t)})}},render:function(){var t=this.props,n={};return Object.keys(this.props).forEach(function(e){"excludeScrollbar"!==e&&(n[e]=t[e])}),e.prototype.isReactComponent&&(n.ref="instance"),n.disableOnClickOutside=this.disableOnClickOutside,n.enableOnClickOutside=this.enableOnClickOutside,a.createElement(e,n)}});return n=i,r=(t=e).displayName||t.name||"Component",n.displayName="OnClickOutside("+r+")",i}},r=[n(1),n(7),n(552)],void 0===(i=function(e,t,n){return n||(n=e.createClass),a(o,e,t,n)}.apply(t,r))||(e.exports=i)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i,o=h(n(0)),a=h(n(1)),s=n(9),u=n(43),c=n(551),l=h(n(1339)),p=n(619),f=h(n(6)),d=h(n(2220));function h(e){return e&&e.__esModule?e:{default:e}}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(Object(n));"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(e){m(t,e,n[e])})}return t}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y={borderWidth:0,padding:0,outline:0,userSelect:"text"},b={debugOutput:g({},y,{paddingLeft:3,overflow:"auto",lineHeight:"normal",cursor:"text",whiteSpace:"pre-wrap",flexGrow:1}),debugOutputBackgroundError:{backgroundColor:f.default.lightest_red},debugOutputBackgroundWarning:{backgroundColor:f.default.lightest_yellow},debugInputWrapper:{flexGrow:0,flexShrink:0,display:"flex"},debugInputPrompt:{height:16,display:"block",paddingLeft:3,width:15,cursor:"text",flexGrow:0},debugInput:g({},y,{maxHeight:16,height:16,lineHeight:"16px",flexGrow:1,marginBottom:0,boxShadow:"none"}),inspector:{display:"inline-flex"}},w=new Set([!1,null,0,"",NaN]);function S(e){var t=document.createRange();if(0!==e.childNodes.length){t.setStart(e.lastChild,e.lastChild.nodeValue.length),t.collapse(!0);var n=window.getSelection();n.removeAllRanges(),n.addRange(t)}}var _=(0,s.connect)(function(e){return{commandHistory:p.selectors.getCommandHistory(e),jsInterpreter:p.selectors.getJSInterpreter(e),logOutput:p.selectors.getLogOutput(e),maxLogLevel:p.selectors.getMaxLogLevel(e),isAttached:p.selectors.isAttached(e)}},{addWatchExpression:c.add,removeWatchExpression:c.remove,evalInCurrentScope:p.actions.evalInCurrentScope,appendLog:p.actions.appendLog},null,{withRef:!0})((i=r=function(i){function e(){for(var r,e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return m(v(r=i.call.apply(i,[this].concat(t))||this),"onInputKeyDown",function(e){var t=e.target.value;if(e.keyCode===u.KeyCodes.ENTER)if(e.preventDefault(),r.props.commandHistory.push(t),e.target.value="",r.appendLog({input:t}),0===t.indexOf("$watch "))r.props.addWatchExpression(t.substring("$watch ".length));else if(0===t.indexOf("$unwatch "))r.props.removeWatchExpression(t.substring("$unwatch ".length));else if(r.props.isAttached)try{var n=r.props.evalInCurrentScope("{"===t[0]&&"}"===t[t.length-1]?"(".concat(t,")"):t);n=r.props.jsInterpreter.interpreter.marshalInterpreterToNative(n),r.appendLog({output:n,undefinedInput:"undefined"===t})}catch(e){r.appendLog({output:String(e)})}else r.appendLog({output:"(not running)"});else e.keyCode===u.KeyCodes.UP?(e.target.value=r.props.commandHistory.goBack(t),S(e.target),e.preventDefault()):e.keyCode===u.KeyCodes.DOWN&&(e.target.value=r.props.commandHistory.goForward(t),S(e.target),e.preventDefault())}),m(v(r),"onDebugOutputMouseUp",function(e){"DIV"===e.target.tagName&&0===window.getSelection().toString().length&&r.focus()}),m(v(r),"focus",function(){return r._debugInput.focus()}),r}!function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(e,i);var t=e.prototype;return t.appendLog=function(e){this.props.appendLog(e)},t.componentDidUpdate=function(){this._debugOutput.scrollTop=this._debugOutput.scrollHeight},t.clearDebugInput=function(){this._debugInput&&(this._debugInput.value="")},t.getDebugOutputBackgroundStyle=function(){switch(this.props.maxLogLevel){case"error":return b.debugOutputBackgroundError;case"warning":return b.debugOutputBackgroundWarning}},t.isValidOutput=function(e){return!!e.output||(!!w.has(e.output)||!(void 0!==e.output||!e.fromConsoleLog&&!e.undefinedInput))},t.displayOutputToConsole=function(){var n=this;if(0<this.props.logOutput.size)return this.props.logOutput.map(function(e,t){return"function"==typeof e.toJS&&(e=e.toJS()),e.input?a.default.createElement("div",{key:t},"> ",e.input):e.skipInspector?e.output:n.isValidOutput(e)?e.fromConsoleLog?a.default.createElement(d.default,{key:t,data:e.output}):a.default.createElement("div",{key:t},"<"," ",a.default.createElement("div",{style:b.inspector},a.default.createElement(d.default,{data:e.output}))):void 0})},t.render=function(){var t=this,e="debug-console";return this.props.debugButtons||(e+=" no-commands"),this.props.debugWatch||(e+=" no-watch"),a.default.createElement("div",{id:"debug-console",className:e,style:g({display:"flex",flexDirection:"column"},this.props.style),ref:function(e){return t.root=e}},a.default.createElement("div",{id:"debug-output",onMouseUp:this.onDebugOutputMouseUp,ref:function(e){return t._debugOutput=e},style:g({},b.debugOutput,this.getDebugOutputBackgroundStyle())},this.displayOutputToConsole()),a.default.createElement("div",{style:b.debugInputWrapper},a.default.createElement("span",{style:b.debugInputPrompt,onClick:this.focus},">"),a.default.createElement("input",{type:"text",spellCheck:"false",id:"debug-input",style:b.debugInput,ref:function(e){return t._debugInput=e},onKeyDown:this.onInputKeyDown})))},e}(a.default.Component),m(r,"propTypes",{commandHistory:o.default.instanceOf(l.default),logOutput:o.default.oneOfType([o.default.array,o.default.object,o.default.string]).isRequired,maxLogLevel:o.default.string.isRequired,isAttached:o.default.bool.isRequired,addWatchExpression:o.default.func.isRequired,removeWatchExpression:o.default.func.isRequired,evalInCurrentScope:o.default.func.isRequired,appendLog:o.default.func.isRequired,jsInterpreter:o.default.object,debugButtons:o.default.bool,debugWatch:o.default.bool,style:o.default.object}),i));t.default=_,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Inspector=t.ObjectName=t.ObjectValue=t.ObjectRootLabel=t.ObjectLabel=t.DOMInspector=t.TableInspector=t.ObjectInspector=t.chromeDark=t.chromeLight=void 0;var o=g(n(134)),a=g(n(604)),r=n(1342);Object.defineProperty(t,"chromeLight",{enumerable:!0,get:function(){return r.chromeLight}}),Object.defineProperty(t,"chromeDark",{enumerable:!0,get:function(){return r.chromeDark}});var s=g(n(2223)),u=g(n(2232)),c=g(n(2242)),i=g(n(1346)),l=g(n(1345)),p=g(n(750)),f=g(n(749)),d=g(n(1)),h=g(n(0)),v=g(n(2244));function g(e){return e&&e.__esModule?e:{default:e}}t.ObjectInspector=s.default,t.TableInspector=u.default,t.DOMInspector=c.default,t.ObjectLabel=i.default,t.ObjectRootLabel=l.default,t.ObjectValue=p.default,t.ObjectName=f.default;var m=function(e){var t=e.table,n=void 0!==t&&t,r=e.data,i=(0,a.default)(e,["table","data"]);return n?d.default.createElement(u.default,(0,o.default)({data:r},i)):(0,v.default)(r)?d.default.createElement(c.default,(0,o.default)({data:r},i)):d.default.createElement(s.default,(0,o.default)({data:r},i))};m.propTypes={data:h.default.any,name:h.default.string,table:h.default.bool},t.Inspector=m,t.default=m},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={BASE_FONT_FAMILY:"Menlo, monospace",BASE_FONT_SIZE:"11px",BASE_LINE_HEIGHT:"14px",BASE_BACKGROUND_COLOR:"rgb(36, 36, 36)",BASE_COLOR:"rgb(213, 213, 213)",OBJECT_NAME_COLOR:"rgb(227, 110, 236)",OBJECT_VALUE_NULL_COLOR:"rgb(127, 127, 127)",OBJECT_VALUE_UNDEFINED_COLOR:"rgb(127, 127, 127)",OBJECT_VALUE_REGEXP_COLOR:"rgb(233, 63, 59)",OBJECT_VALUE_STRING_COLOR:"rgb(233, 63, 59)",OBJECT_VALUE_SYMBOL_COLOR:"rgb(233, 63, 59)",OBJECT_VALUE_NUMBER_COLOR:"hsl(252, 100%, 75%)",OBJECT_VALUE_BOOLEAN_COLOR:"hsl(252, 100%, 75%)",OBJECT_VALUE_FUNCTION_KEYWORD_COLOR:"rgb(242, 85, 217)",HTML_TAG_COLOR:"rgb(93, 176, 215)",HTML_TAGNAME_COLOR:"rgb(93, 176, 215)",HTML_TAGNAME_TEXT_TRANSFORM:"lowercase",HTML_ATTRIBUTE_NAME_COLOR:"rgb(155, 187, 220)",HTML_ATTRIBUTE_VALUE_COLOR:"rgb(242, 151, 102)",HTML_COMMENT_COLOR:"rgb(137, 137, 137)",HTML_DOCTYPE_COLOR:"rgb(192, 192, 192)",ARROW_COLOR:"rgb(145, 145, 145)",ARROW_MARGIN_RIGHT:3,ARROW_FONT_SIZE:12,TREENODE_FONT_FAMILY:"Menlo, monospace",TREENODE_FONT_SIZE:"11px",TREENODE_LINE_HEIGHT:"14px",TREENODE_PADDING_LEFT:12,TABLE_BORDER_COLOR:"rgb(85, 85, 85)",TABLE_TH_BACKGROUND_COLOR:"rgb(44, 44, 44)",TABLE_TH_HOVER_COLOR:"rgb(48, 48, 48)",TABLE_SORT_ICON_COLOR:"black",TABLE_DATA_BACKGROUND_IMAGE:"linear-gradient(rgba(255, 255, 255, 0), rgba(255, 255, 255, 0) 50%, rgba(51, 139, 255, 0.0980392) 50%, rgba(51, 139, 255, 0.0980392))",TABLE_DATA_BACKGROUND_SIZE:"128px 32px"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={BASE_FONT_FAMILY:"Menlo, monospace",BASE_FONT_SIZE:"11px",BASE_LINE_HEIGHT:"14px",BASE_BACKGROUND_COLOR:"white",BASE_COLOR:"black",OBJECT_NAME_COLOR:"rgb(136, 19, 145)",OBJECT_VALUE_NULL_COLOR:"rgb(128, 128, 128)",OBJECT_VALUE_UNDEFINED_COLOR:"rgb(128, 128, 128)",OBJECT_VALUE_REGEXP_COLOR:"rgb(196, 26, 22)",OBJECT_VALUE_STRING_COLOR:"rgb(196, 26, 22)",OBJECT_VALUE_SYMBOL_COLOR:"rgb(196, 26, 22)",OBJECT_VALUE_NUMBER_COLOR:"rgb(28, 0, 207)",OBJECT_VALUE_BOOLEAN_COLOR:"rgb(28, 0, 207)",OBJECT_VALUE_FUNCTION_KEYWORD_COLOR:"rgb(170, 13, 145)",HTML_TAG_COLOR:"rgb(168, 148, 166)",HTML_TAGNAME_COLOR:"rgb(136, 18, 128)",HTML_TAGNAME_TEXT_TRANSFORM:"lowercase",HTML_ATTRIBUTE_NAME_COLOR:"rgb(153, 69, 0)",HTML_ATTRIBUTE_VALUE_COLOR:"rgb(26, 26, 166)",HTML_COMMENT_COLOR:"rgb(35, 110, 37)",HTML_DOCTYPE_COLOR:"rgb(192, 192, 192)",ARROW_COLOR:"#6e6e6e",ARROW_MARGIN_RIGHT:3,ARROW_FONT_SIZE:12,TREENODE_FONT_FAMILY:"Menlo, monospace",TREENODE_FONT_SIZE:"11px",TREENODE_LINE_HEIGHT:"14px",TREENODE_PADDING_LEFT:12,TABLE_BORDER_COLOR:"#aaa",TABLE_TH_BACKGROUND_COLOR:"#eee",TABLE_TH_HOVER_COLOR:"hsla(0, 0%, 90%, 1)",TABLE_SORT_ICON_COLOR:"#6e6e6e",TABLE_DATA_BACKGROUND_IMAGE:"linear-gradient(to bottom, white, white 50%, rgb(234, 243, 255) 50%, rgb(234, 243, 255))",TABLE_DATA_BACKGROUND_SIZE:"128px 32px"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=g(n(134)),u=g(n(604)),r=g(n(188)),i=g(n(196)),o=g(n(221)),a=g(n(234)),E=g(n(1343)),x=g(n(1715)),O=g(n(303)),c=n(1),l=g(c),p=g(n(0)),f=g(n(1344)),d=g(n(1345)),h=g(n(1346)),v=g(n(1114));function g(e){return e&&e.__esModule?e:{default:e}}var m=function(e){var t=e.depth,n=e.name,r=e.data,i=e.isNonenumerable;return 0===t?l.default.createElement(d.default,{name:n,data:r}):l.default.createElement(h.default,{name:n,data:r,isNonenumerable:i})},y=function(e){function t(){return(0,r.default)(this,t),(0,o.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,a.default)(t,e),(0,i.default)(t,[{key:"render",value:function(){var e=this.props,t=e.showNonenumerable,n=e.sortObjectKeys,r=e.nodeRenderer,i=(0,u.default)(e,["showNonenumerable","sortObjectKeys","nodeRenderer"]),o=function(_,C){return E.default.mark(function e(t){var n,r,i,o,a,s,u,c,l,p,f,d,h,v,g,m,y,b,w,S;return E.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("object"===(void 0===t?"undefined":(0,O.default)(t))&&null!==t||"function"==typeof t){e.next=3;break}return e.abrupt("return");case 3:if((n=Array.isArray(t))||!t[Symbol.iterator]){e.next=41;break}o=!(i=!(r=0)),a=void 0,e.prev=9,s=t[Symbol.iterator]();case 11:if(i=(u=s.next()).done){e.next=25;break}if(c=u.value,Array.isArray(c)&&2===c.length)return l=(0,x.default)(c,2),p=l[0],f=l[1],e.next=17,{name:p,data:f};e.next=19;break;case 17:e.next=21;break;case 19:return e.next=21,{name:r.toString(),data:c};case 21:r++;case 22:i=!0,e.next=11;break;case 25:e.next=31;break;case 27:e.prev=27,e.t0=e.catch(9),o=!0,a=e.t0;case 31:e.prev=31,e.prev=32,!i&&s.return&&s.return();case 34:if(e.prev=34,o)throw a;e.next=37;break;case 37:return e.finish(34);case 38:return e.finish(31);case 39:e.next=82;break;case 41:d=Object.getOwnPropertyNames(t),!0!==C||n?"function"==typeof C&&d.sort(C):d.sort(),v=!(h=!0),g=void 0,e.prev=46,m=d[Symbol.iterator]();case 48:if(h=(y=m.next()).done){e.next=65;break}if(b=y.value,t.propertyIsEnumerable(b))return w=t[b],e.next=54,{name:b||'""',data:w};e.next=56;break;case 54:e.next=62;break;case 56:if(!_){e.next=62;break}S=void 0;try{S=t[b]}catch(e){}if(void 0!==S)return e.next=62,{name:b,data:S,isNonenumerable:!0};e.next=62;break;case 62:h=!0,e.next=48;break;case 65:e.next=71;break;case 67:e.prev=67,e.t1=e.catch(46),v=!0,g=e.t1;case 71:e.prev=71,e.prev=72,!h&&m.return&&m.return();case 74:if(e.prev=74,v)throw g;e.next=77;break;case 77:return e.finish(74);case 78:return e.finish(71);case 79:if(_&&t!==Object.prototype)return e.next=82,{name:"__proto__",data:Object.getPrototypeOf(t),isNonenumerable:!0};e.next=82;break;case 82:case"end":return e.stop()}},e,this,[[9,27,31,39],[32,,34,38],[46,67,71,79],[72,,74,78]])})}(t,n),a=r||m;return l.default.createElement(v.default,{theme:this.props.theme},l.default.createElement(f.default,(0,s.default)({nodeRenderer:a,dataIterator:o},i)))}}]),t}(c.Component);y.defaultProps={showNonenumerable:!1,theme:"chromeLight"},y.propTypes={expandLevel:p.default.number,expandPaths:p.default.oneOfType([p.default.string,p.default.array]),name:p.default.string,data:p.default.any,theme:p.default.oneOfType([p.default.string,p.default.object]),showNonenumerable:p.default.bool,sortObjectKeys:p.default.oneOfType([p.default.bool,p.default.func]),nodeRenderer:p.default.func},t.default=y},function(e,t,n){var r=function(){return this}()||Function("return this")(),i=r.regeneratorRuntime&&0<=Object.getOwnPropertyNames(r).indexOf("regeneratorRuntime"),o=i&&r.regeneratorRuntime;if(r.regeneratorRuntime=void 0,e.exports=n(2225),i)r.regeneratorRuntime=o;else try{delete r.regeneratorRuntime}catch(e){r.regeneratorRuntime=void 0}},function(I,e){!function(e){"use strict";var u,t=Object.prototype,c=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},i=n.iterator||"@@iterator",r=n.asyncIterator||"@@asyncIterator",o=n.toStringTag||"@@toStringTag",a="object"==typeof I,s=e.regeneratorRuntime;if(s)a&&(I.exports=s);else{(s=e.regeneratorRuntime=a?I.exports:{}).wrap=b;var l="suspendedStart",p="suspendedYield",f="executing",d="completed",h={},v={};v[i]=function(){return this};var g=Object.getPrototypeOf,m=g&&g(g(R([])));m&&m!==t&&c.call(m,i)&&(v=m);var y=C.prototype=S.prototype=Object.create(v);_.prototype=y.constructor=C,C.constructor=_,C[o]=_.displayName="GeneratorFunction",s.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===_||"GeneratorFunction"===(t.displayName||t.name))},s.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,C):(e.__proto__=C,o in e||(e[o]="GeneratorFunction")),e.prototype=Object.create(y),e},s.awrap=function(e){return{__await:e}},E(x.prototype),x.prototype[r]=function(){return this},s.AsyncIterator=x,s.async=function(e,t,n,r){var i=new x(b(e,t,n,r));return s.isGeneratorFunction(t)?i:i.next().then(function(e){return e.done?e.value:i.next()})},E(y),y[o]="Generator",y[i]=function(){return this},y.toString=function(){return"[object Generator]"},s.keys=function(n){var r=[];for(var e in n)r.push(e);return r.reverse(),function e(){for(;r.length;){var t=r.pop();if(t in n)return e.value=t,e.done=!1,e}return e.done=!0,e}},s.values=R,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=u,this.done=!1,this.delegate=null,this.method="next",this.arg=u,this.tryEntries.forEach(P),!e)for(var t in this)"t"===t.charAt(0)&&c.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=u)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var r=this;function e(e,t){return o.type="throw",o.arg=n,r.next=e,t&&(r.method="next",r.arg=u),!!t}for(var t=this.tryEntries.length-1;0<=t;--t){var i=this.tryEntries[t],o=i.completion;if("root"===i.tryLoc)return e("end");if(i.tryLoc<=this.prev){var a=c.call(i,"catchLoc"),s=c.call(i,"finallyLoc");if(a&&s){if(this.prev<i.catchLoc)return e(i.catchLoc,!0);if(this.prev<i.finallyLoc)return e(i.finallyLoc)}else if(a){if(this.prev<i.catchLoc)return e(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return e(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;0<=n;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&c.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),P(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;P(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:R(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=u),h}}}function b(e,t,n,r){var i=t&&t.prototype instanceof S?t:S,o=Object.create(i.prototype),a=new T(r||[]);return o._invoke=function(o,a,s){var u=l;return function(e,t){if(u===f)throw new Error("Generator is already running");if(u===d){if("throw"===e)throw t;return A()}for(s.method=e,s.arg=t;;){var n=s.delegate;if(n){var r=O(n,s);if(r){if(r===h)continue;return r}}if("next"===s.method)s.sent=s._sent=s.arg;else if("throw"===s.method){if(u===l)throw u=d,s.arg;s.dispatchException(s.arg)}else"return"===s.method&&s.abrupt("return",s.arg);u=f;var i=w(o,a,s);if("normal"===i.type){if(u=s.done?d:p,i.arg===h)continue;return{value:i.arg,done:s.done}}"throw"===i.type&&(u=d,s.method="throw",s.arg=i.arg)}}}(e,n,a),o}function w(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}function S(){}function _(){}function C(){}function E(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function x(u){var t;this._invoke=function(n,r){function e(){return new Promise(function(e,t){!function t(e,n,r,i){var o=w(u[e],u,n);if("throw"!==o.type){var a=o.arg,s=a.value;return s&&"object"==typeof s&&c.call(s,"__await")?Promise.resolve(s.__await).then(function(e){t("next",e,r,i)},function(e){t("throw",e,r,i)}):Promise.resolve(s).then(function(e){a.value=e,r(a)},i)}i(o.arg)}(n,r,e,t)})}return t=t?t.then(e,e):e()}}function O(e,t){var n=e.iterator[t.method];if(n===u){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=u,O(e,t),"throw"===t.method))return h;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var r=w(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,h;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=u),t.delegate=null,h):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function R(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,r=function e(){for(;++n<t.length;)if(c.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=u,e.done=!0,e};return r.next=r}}return{next:A}}function A(){return{value:u,done:!0}}}(function(){return this}()||Function("return this")())},function(e,t,n){"use strict";t.__esModule=!0;var r,i=n(1260),o=(r=i)&&r.__esModule?r:{default:r};t.default=function(e,t,n){return t in e?(0,o.default)(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=c(n(188)),i=c(n(196)),o=c(n(221)),a=c(n(234)),s=c(n(134)),f=n(1),d=c(f),u=c(n(0)),h=c(n(356));function c(e){return e&&e.__esModule?e:{default:e}}var v=function(e){var t=e.expanded,n=e.styles;return d.default.createElement("span",{style:(0,s.default)({},n.base,t?n.expanded:n.collapsed)},"â–¶")},l=function(e){function t(){return(0,r.default)(this,t),(0,o.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,a.default)(t,e),(0,i.default)(t,[{key:"render",value:function(){var e=this.props,t=e.expanded,n=e.onClick,r=e.children,i=e.nodeRenderer,o=e.title,a=e.shouldShowArrow,s=e.shouldShowPlaceholder,u=this.context.theme,c=(0,h.default)("TreeNode",u),l=(0,f.createElement)(i,this.props),p=t?r:void 0;return d.default.createElement("li",{"aria-expanded":t,role:"treeitem",style:c.treeNodeBase,title:o},d.default.createElement("div",{style:c.treeNodePreviewContainer,onClick:n},a||0<f.Children.count(r)?d.default.createElement(v,{expanded:t,styles:c.treeNodeArrow}):s&&d.default.createElement("span",{style:c.treeNodePlaceholder},"Â "),l),d.default.createElement("ol",{role:"group",style:c.treeNodeChildNodesContainer},p))}}]),t}(f.Component);l.propTypes={name:u.default.string,data:u.default.any,expanded:u.default.bool,shouldShowArrow:u.default.bool,shouldShowPlaceholder:u.default.bool,nodeRenderer:u.default.func,onClick:u.default.func},l.defaultProps={name:void 0,data:void 0,expanded:!0,nodeRenderer:function(e){var t=e.name;return d.default.createElement("span",null,t)},onClick:function(){},shouldShowArrow:!1,shouldShowPlaceholder:!0},l.contextTypes={theme:u.default.oneOfType([u.default.string,u.default.object]).isRequired},t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(134)),i=o(n(2229));function o(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){return{DOMNodePreview:{htmlOpenTag:{base:{color:e.HTML_TAG_COLOR},tagName:{color:e.HTML_TAGNAME_COLOR,textTransform:e.HTML_TAGNAME_TEXT_TRANSFORM},htmlAttributeName:{color:e.HTML_ATTRIBUTE_NAME_COLOR},htmlAttributeValue:{color:e.HTML_ATTRIBUTE_VALUE_COLOR}},htmlCloseTag:{base:{color:e.HTML_TAG_COLOR},offsetLeft:{marginLeft:-e.TREENODE_PADDING_LEFT},tagName:{color:e.HTML_TAGNAME_COLOR,textTransform:e.HTML_TAGNAME_TEXT_TRANSFORM}},htmlComment:{color:e.HTML_COMMENT_COLOR},htmlDoctype:{color:e.HTML_DOCTYPE_COLOR}},ObjectName:{base:{color:e.OBJECT_NAME_COLOR},dimmed:{opacity:.6}},ObjectValue:{objectValueNull:{color:e.OBJECT_VALUE_NULL_COLOR},objectValueUndefined:{color:e.OBJECT_VALUE_UNDEFINED_COLOR},objectValueRegExp:{color:e.OBJECT_VALUE_REGEXP_COLOR},objectValueString:{color:e.OBJECT_VALUE_STRING_COLOR},objectValueSymbol:{color:e.OBJECT_VALUE_SYMBOL_COLOR},objectValueNumber:{color:e.OBJECT_VALUE_NUMBER_COLOR},objectValueBoolean:{color:e.OBJECT_VALUE_BOOLEAN_COLOR},objectValueFunctionKeyword:{color:e.OBJECT_VALUE_FUNCTION_KEYWORD_COLOR,fontStyle:"italic"},objectValueFunctionName:{fontStyle:"italic"}},TreeNode:{treeNodeBase:{color:e.BASE_COLOR,backgroundColor:e.BASE_BACKGROUND_COLOR,lineHeight:e.TREENODE_LINE_HEIGHT,cursor:"default",boxSizing:"border-box",listStyle:"none",fontFamily:e.TREENODE_FONT_FAMILY,fontSize:e.TREENODE_FONT_SIZE},treeNodePreviewContainer:{},treeNodePlaceholder:(0,r.default)({whiteSpace:"pre",fontSize:e.ARROW_FONT_SIZE,marginRight:e.ARROW_MARGIN_RIGHT},i.default),treeNodeArrow:{base:(0,r.default)({color:e.ARROW_COLOR,display:"inline-block",fontSize:e.ARROW_FONT_SIZE,marginRight:e.ARROW_MARGIN_RIGHT},i.default),expanded:{WebkitTransform:"rotateZ(90deg)",MozTransform:"rotateZ(90deg)",transform:"rotateZ(90deg)"},collapsed:{WebkitTransform:"rotateZ(0deg)",MozTransform:"rotateZ(0deg)",transform:"rotateZ(0deg)"}},treeNodeChildNodesContainer:{margin:0,paddingLeft:e.TREENODE_PADDING_LEFT}},TableInspector:{base:{color:e.BASE_COLOR,position:"relative",border:"1px solid "+e.TABLE_BORDER_COLOR,fontFamily:e.BASE_FONT_FAMILY,fontSize:e.BASE_FONT_SIZE,lineHeight:"120%",boxSizing:"border-box",cursor:"default"}},TableInspectorHeaderContainer:{base:{top:0,height:"17px",left:0,right:0,overflowX:"hidden"},table:{tableLayout:"fixed",borderSpacing:0,borderCollapse:"separate",height:"100%",width:"100%",margin:0}},TableInspectorDataContainer:{tr:{display:"table-row"},td:{boxSizing:"border-box",border:"none",height:"16px",verticalAlign:"top",padding:"1px 4px",WebkitUserSelect:"text",whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden",lineHeight:"14px"},div:{position:"static",top:"17px",bottom:0,overflowY:"overlay",transform:"translateZ(0)",left:0,right:0,overflowX:"hidden"},table:{positon:"static",left:0,top:0,right:0,bottom:0,borderTop:"0 none transparent",margin:0,backgroundImage:e.TABLE_DATA_BACKGROUND_IMAGE,backgroundSize:e.TABLE_DATA_BACKGROUND_SIZE,tableLayout:"fixed",borderSpacing:0,borderCollapse:"separate",width:"100%",fontSize:e.BASE_FONT_SIZE,lineHeight:"120%"}},TableInspectorTH:{base:{position:"relative",height:"auto",textAlign:"left",backgroundColor:e.TABLE_TH_BACKGROUND_COLOR,borderBottom:"1px solid "+e.TABLE_BORDER_COLOR,fontWeight:"normal",verticalAlign:"middle",padding:"0 4px",whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden",lineHeight:"14px",":hover":{backgroundColor:e.TABLE_TH_HOVER_COLOR}},div:{whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden",fontSize:e.BASE_FONT_SIZE,lineHeight:"120%"}},TableInspectorLeftBorder:{none:{borderLeft:"none"},solid:{borderLeft:"1px solid "+e.TABLE_BORDER_COLOR}},TableInspectorSortIcon:(0,r.default)({display:"block",marginRight:3,width:8,height:7,marginTop:-7,color:e.TABLE_SORT_ICON_COLOR,fontSize:12},i.default)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={WebkitTouchCallout:"none",WebkitUserSelect:"none",KhtmlUserSelect:"none",MozUserSelect:"none",msUserSelect:"none",OUserSelect:"none",userSelect:"none"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hasChildNodes=y;var m=t.DEFAULT_ROOT_PATH="$";function y(e,t){return!t(e).next().done}var o=t.wildcardPathsFromLevel=function(e){return Array.from({length:e},function(e,t){return[m].concat(Array.from({length:t},function(){return"*"})).join(".")})};t.getExpandedPaths=function(t,v,e,n){var r=4<arguments.length&&void 0!==arguments[4]?arguments[4]:{},i=[].concat(o(n)).concat(e).filter(function(e){return"string"==typeof e}),g=[];return i.forEach(function(e){var h=e.split(".");!function e(t,n,r){if(r!==h.length){var i=h[r];if(0===r)!y(t,v)||i!==m&&"*"!==i||e(t,m,r+1);else if("*"===i){var o=!0,a=!1,s=void 0;try{for(var u,c=v(t)[Symbol.iterator]();!(o=(u=c.next()).done);o=!0){var l=u.value,p=l.name,f=l.data;y(f,v)&&e(f,n+"."+p,r+1)}}catch(e){a=!0,s=e}finally{try{!o&&c.return&&c.return()}finally{if(a)throw s}}}else{var d=t[i];y(d,v)&&e(d,n+"."+i,r+1)}}else g.push(n)}(t,"",0)}),g.reduce(function(e,t){return e[t]=!0,e},r)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u=i(n(303)),c=i(n(1)),r=i(n(0)),l=i(n(750)),p=i(n(749));function i(e){return e&&e.__esModule?e:{default:e}}var f={preview:{fontStyle:"italic"}};function d(e,n){return 0===e.length?[]:e.slice(1).reduce(function(e,t){return e.concat([n,t])},[e[0]])}var o=function(e){var t=e.data,n=e.maxProperties,r=t;if("object"!==(void 0===r?"undefined":(0,u.default)(r))||null===r||r instanceof Date||r instanceof RegExp)return c.default.createElement(l.default,{object:r});if(Array.isArray(r))return c.default.createElement("span",{style:f.preview},"[",d(r.map(function(e,t){return c.default.createElement(l.default,{key:t,object:e})}),", "),"]");var i=[];for(var o in r){var a=r[o];if(r.hasOwnProperty(o)){var s=void 0;if(i.length===n-1&&Object.keys(r).length>n&&(s=c.default.createElement("span",{key:"ellipsis"},"â€¦")),i.push(c.default.createElement("span",{key:o},c.default.createElement(p.default,{name:o||'""'}),":Â ",c.default.createElement(l.default,{object:a}),s)),s)break}}return c.default.createElement("span",{style:f.preview},r.constructor.name+" {",d(i,", "),"}")};o.propTypes={maxProperties:r.default.number},o.defaultProps={maxProperties:5},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var v=c(n(303)),r=c(n(188)),i=c(n(196)),o=c(n(221)),a=c(n(234)),s=n(1),g=c(s),u=c(n(0)),m=c(n(1114)),y=c(n(356)),b=c(n(2233)),w=c(n(2239)),S=c(n(2240));function c(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function n(e){(0,r.default)(this,n);var t=(0,o.default)(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.state={sorted:!1,sortIndexColumn:!1,sortColumn:void 0,sortAscending:!1},t}return(0,a.default)(n,e),(0,i.default)(n,[{key:"handleIndexTHClick",value:function(){this.setState(function(e){var t=e.sortIndexColumn,n=e.sortAscending;return{sorted:!0,sortIndexColumn:!0,sortColumn:void 0,sortAscending:!t||!n}})}},{key:"handleTHClick",value:function(r){this.setState(function(e){var t=e.sortColumn,n=e.sortAscending;return{sorted:!0,sortIndexColumn:!1,sortColumn:r,sortAscending:r!==t||!n}})}},{key:"render",value:function(){var t=this.props.data,e=this.props.columns,n=this.props.theme,r=(0,y.default)("TableInspector",n);if("object"!==(void 0===t?"undefined":(0,v.default)(t))||null===t)return g.default.createElement("div",null);var i=(0,b.default)(t),o=i.rowHeaders,a=i.colHeaders;void 0!==e&&(a=e);var c,l,s=o.map(function(e){return t[e]}),u=this.state.sortIndexColumn,p=this.state.sortColumn,f=this.state.sortAscending,d=void 0;if(void 0!==p?d=s.map(function(e,t){return"object"!==(void 0===e?"undefined":(0,v.default)(e))||null===e?[void 0,t]:[e[p],t]}):u&&(d=o.map(function(e,t){return[o[t],t]})),void 0!==d){var h=d.sort((c=function(e){return e[0]},l=f,function(e,t){var n=c(e),r=c(t),i=void 0===n?"undefined":(0,v.default)(n),o=void 0===r?"undefined":(0,v.default)(r),a=function(e,t){return e<t?-1:t<e?1:0},s=void 0;if(i===o)s=a(n,r);else{var u={string:0,number:1,object:2,symbol:3,boolean:4,undefined:5,function:6};s=a(u[i],u[o])}return l||(s=-s),s})).map(function(e){return e[1]});o=h.map(function(e){return o[e]}),s=h.map(function(e){return s[e]})}return g.default.createElement(m.default,{theme:this.props.theme},g.default.createElement("div",{style:r.base},g.default.createElement(S.default,{columns:a,sorted:this.state.sorted,sortIndexColumn:this.state.sortIndexColumn,sortColumn:this.state.sortColumn,sortAscending:this.state.sortAscending,onTHClick:this.handleTHClick.bind(this),onIndexTHClick:this.handleIndexTHClick.bind(this)}),g.default.createElement(w.default,{rows:o,columns:a,rowsData:s})))}}]),n}(s.Component);(t.default=l).propTypes={data:u.default.oneOfType([u.default.array,u.default.object]),columns:u.default.array},l.defaultProps={data:void 0,columns:void 0,theme:"chromeLight"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(2234)),o=i(n(303));function i(e){return e&&e.__esModule?e:{default:e}}t.default=function(i){if("object"!==(void 0===i?"undefined":(0,o.default)(i)))return;var e=void 0;if(Array.isArray(i)){var t=i.length;e=[].concat((0,r.default)(Array(t).keys()))}else null!==i&&(e=Object.keys(i));var n=e.reduce(function(e,t){var n=i[t];if("object"===(void 0===n?"undefined":(0,o.default)(n))&&null!==n){var r=Object.keys(n);r.reduce(function(e,t){return e.includes(t)||e.push(t),e},e)}return e},[]);return{rowHeaders:e,colHeaders:n}},Array.prototype.includes||(Array.prototype.includes=function(e){var t=Object(this),n=parseInt(t.length)||0;if(0===n)return!1;var r,i,o=parseInt(arguments[1])||0;for(0<=o?r=o:(r=n+o)<0&&(r=0);r<n;){if(e===(i=t[r])||e!=e&&i!=i)return!0;r++}return!1})},function(e,t,n){"use strict";t.__esModule=!0;var r,i=n(2235),o=(r=i)&&r.__esModule?r:{default:r};t.default=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return(0,o.default)(e)}},function(e,t,n){e.exports={default:n(2236),__esModule:!0}},function(e,t,n){n(712),n(2237),e.exports=n(182).Array.from},function(e,t,n){"use strict";var f=n(853),r=n(337),d=n(806),h=n(2045),v=n(2046),g=n(1259),m=n(2238),y=n(1261);r(r.S+r.F*!n(2047)(function(e){Array.from(e)}),"Array",{from:function(e){var t,n,r,i,o=d(e),a="function"==typeof this?this:Array,s=arguments.length,u=1<s?arguments[1]:void 0,c=void 0!==u,l=0,p=y(o);if(c&&(u=f(u,2<s?arguments[2]:void 0,2)),null==p||a==Array&&v(p))for(n=new a(t=g(o.length));l<t;l++)m(n,l,c?u(o[l],l):o[l]);else for(i=p.call(o),n=new a;!(r=i.next()).done;l++)m(n,l,c?h(i,u,[r.value,l],!0):r.value);return n.length=l,n}})},function(e,t,n){"use strict";var r=n(307),i=n(598);e.exports=function(e,t,n){t in e?r.f(e,t,i(0,n)):e[t]=n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u=i(n(303)),c=i(n(134)),l=i(n(1)),r=i(n(0)),p=i(n(356)),f=i(n(750));function i(e){return e&&e.__esModule?e:{default:e}}var o=function(e,t){var n=e.rows,r=e.columns,i=e.rowsData,o=t.theme,a=(0,p.default)("TableInspectorDataContainer",o),s=(0,p.default)("TableInspectorLeftBorder",o);return l.default.createElement("div",{style:a.div},l.default.createElement("table",{style:a.table},l.default.createElement("colgroup",null),l.default.createElement("tbody",null,n.map(function(e,n){return l.default.createElement("tr",{key:e,style:a.tr},l.default.createElement("td",{style:(0,c.default)({},a.td,s.none)},e),r.map(function(e){var t=i[n];return"object"===(void 0===t?"undefined":(0,u.default)(t))&&null!==t&&t.hasOwnProperty(e)?l.default.createElement("td",{key:e,style:(0,c.default)({},a.td,s.solid)},l.default.createElement(f.default,{object:t[e]})):l.default.createElement("td",{key:e,style:(0,c.default)({},a.td,s.solid)})}))}))))};o.contextTypes={theme:r.default.oneOfType([r.default.string,r.default.object]).isRequired},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var d=i(n(1)),r=i(n(0)),h=i(n(356)),v=i(n(2241));function i(e){return e&&e.__esModule?e:{default:e}}var o=function(e,t){var n=e.indexColumnText,r=e.columns,i=e.sorted,o=e.sortIndexColumn,a=e.sortColumn,s=e.sortAscending,u=e.onTHClick,c=e.onIndexTHClick,l=t.theme,p=(0,h.default)("TableInspectorHeaderContainer",l),f=(0,h.default)("TableInspectorLeftBorder",l);return d.default.createElement("div",{style:p.base},d.default.createElement("table",{style:p.table},d.default.createElement("tbody",null,d.default.createElement("tr",null,d.default.createElement(v.default,{borderStyle:f.none,sorted:i&&o,sortAscending:s,onClick:c},n),r.map(function(e){return d.default.createElement(v.default,{borderStyle:f.solid,key:e,sorted:i&&a===e,sortAscending:s,onClick:u.bind(void 0,e)},e)})))))};o.defaultProps={indexColumnText:"(index)",columns:[]},o.contextTypes={theme:r.default.oneOfType([r.default.string,r.default.object]).isRequired},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var c=s(n(134)),l=s(n(604)),u=s(n(188)),r=s(n(196)),p=s(n(221)),i=s(n(234)),o=n(1),f=s(o),a=s(n(0)),d=s(n(356));function s(e){return e&&e.__esModule?e:{default:e}}var h=function(e){return f.default.createElement("div",{style:{position:"absolute",top:1,right:0,bottom:1,display:"flex",alignItems:"center"}},e.children)},v=function(e,t){var n=e.sortAscending,r=t.theme,i=n?"â–²":"â–¼",o=(0,d.default)("TableInspectorSortIcon",r);return f.default.createElement("div",{style:o},i)};v.contextTypes={theme:a.default.oneOfType([a.default.string,a.default.object]).isRequired};var g=function(e){function s(){var e,t,n,r;(0,u.default)(this,s);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return(t=n=(0,p.default)(this,(e=s.__proto__||Object.getPrototypeOf(s)).call.apply(e,[this].concat(o)))).state={hovered:!1},r=t,(0,p.default)(n,r)}return(0,i.default)(s,e),(0,r.default)(s,[{key:"toggleHovered",value:function(e){this.setState({hovered:e})}},{key:"render",value:function(){var e=this.props,t=e.borderStyle,n=e.children,r=e.onClick,i=e.sortAscending,o=e.sorted,a=(0,l.default)(e,["borderStyle","children","onClick","sortAscending","sorted"]),s=this.context.theme,u=(0,d.default)("TableInspectorTH",s);return f.default.createElement("th",(0,c.default)({},a,{style:(0,c.default)({},u.base,t,this.state.hovered?u.base[":hover"]:{}),onMouseEnter:this.toggleHovered.bind(this,!0),onMouseLeave:this.toggleHovered.bind(this,!1),onClick:r}),f.default.createElement("div",{style:u.div},n),o&&f.default.createElement(h,null,f.default.createElement(v,{sortAscending:i})))}}]),s}(o.Component);g.contextTypes={theme:a.default.oneOfType([a.default.string,a.default.object]).isRequired},g.defaultProps={sortAscending:!1,sorted:!1,onClick:void 0},t.default=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=g(n(134)),i=g(n(188)),o=g(n(196)),a=g(n(221)),s=g(n(234)),u=g(n(1343)),c=n(1),l=g(c),p=g(n(0)),f=g(n(2243)),d=g(n(1344)),h=g(n(1347)),v=g(n(1114));function g(e){return e&&e.__esModule?e:{default:e}}var m=u.default.mark(function e(t){var n,r;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t||!t.childNodes){e.next=17;break}if((0,h.default)(t))return e.abrupt("return");e.next=4;break;case 4:n=0;case 5:if(!(n<t.childNodes.length)){e.next=14;break}if((r=t.childNodes[n]).nodeType===Node.TEXT_NODE&&0===r.textContent.trim().length)return e.abrupt("continue",11);e.next=9;break;case 9:return e.next=11,{name:r.tagName+"["+n+"]",data:r};case 11:n++,e.next=5;break;case 14:if(t.tagName)return e.next=17,{name:"CLOSE_TAG",data:{tagName:t.tagName},isCloseTag:!0};e.next=17;break;case 17:case"end":return e.stop()}},e,this)}),y=function(e){function t(){return(0,i.default)(this,t),(0,a.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,s.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=f.default;return l.default.createElement(v.default,{theme:this.props.theme},l.default.createElement(d.default,(0,r.default)({nodeRenderer:e,dataIterator:m},this.props)))}}]),t}(c.Component);y.propTypes={data:p.default.object.isRequired},y.defaultProps={theme:"chromeLight"},t.default=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i(n(1)),r=i(n(0)),u=i(n(356)),c=i(n(1347));function i(e){return e&&e.__esModule?e:{default:e}}var l=function(e){var t=e.tagName,r=e.attributes,i=e.styles;return s.default.createElement("span",{style:i.base},"<",s.default.createElement("span",{style:i.tagName},t),function(){if(r){for(var e=[],t=0;t<r.length;t++){var n=r[t];e.push(s.default.createElement("span",{key:t}," ",s.default.createElement("span",{style:i.htmlAttributeName},n.name),'="',s.default.createElement("span",{style:i.htmlAttributeValue},n.value),'"'))}return e}}(),">")},p=function(e){var t=e.tagName,n=e.isChildNode,r=void 0!==n&&n,i=e.styles;return s.default.createElement("span",{style:Object.assign({},i.base,r&&i.offsetLeft)},"</",s.default.createElement("span",{style:i.tagName},t),">")},f={1:"ELEMENT_NODE",3:"TEXT_NODE",7:"PROCESSING_INSTRUCTION_NODE",8:"COMMENT_NODE",9:"DOCUMENT_NODE",10:"DOCUMENT_TYPE_NODE",11:"DOCUMENT_FRAGMENT_NODE"},o=function(e,t){var n=e.isCloseTag,r=e.data,i=e.expanded,o=t.theme,a=(0,u.default)("DOMNodePreview",o);if(n)return s.default.createElement(p,{styles:a.htmlCloseTag,isChildNode:!0,tagName:r.tagName});switch(r.nodeType){case Node.ELEMENT_NODE:return s.default.createElement("span",null,s.default.createElement(l,{tagName:r.tagName,attributes:r.attributes,styles:a.htmlOpenTag}),(0,c.default)(r)?r.textContent:!i&&"â€¦",!i&&s.default.createElement(p,{tagName:r.tagName,styles:a.htmlCloseTag}));case Node.TEXT_NODE:return s.default.createElement("span",null,r.textContent);case Node.CDATA_SECTION_NODE:return s.default.createElement("span",null,"<![CDATA["+r.textContent+"]]>");case Node.COMMENT_NODE:return s.default.createElement("span",{style:a.htmlComment},"\x3c!--",r.textContent,"--\x3e");case Node.PROCESSING_INSTRUCTION_NODE:return s.default.createElement("span",null,r.nodeName);case Node.DOCUMENT_TYPE_NODE:return s.default.createElement("span",{style:a.htmlDoctype},"<!DOCTYPE ",r.name,r.publicId?' PUBLIC "'+r.publicId+'"':"",!r.publicId&&r.systemId?" SYSTEM":"",r.systemId?' "'+r.systemId+'"':"",">");case Node.DOCUMENT_NODE:case Node.DOCUMENT_FRAGMENT_NODE:return s.default.createElement("span",null,r.nodeName);default:return s.default.createElement("span",null,f[r.nodeType])}};o.propTypes={isCloseTag:r.default.bool,name:r.default.string,data:r.default.object.isRequired,expanded:r.default.bool.isRequired},o.contextTypes={theme:r.default.oneOfType([r.default.string,r.default.object]).isRequired},t.default=o},function(e,t){e.exports=function(e){return!(!e||"object"!=typeof e)&&("object"==typeof window&&"object"==typeof window.Node?e instanceof window.Node:"number"==typeof e.nodeType&&"string"==typeof e.nodeName)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i,o=p(n(0)),a=p(n(1)),s=n(9),u=p(n(5)),c=n(619),l=p(n(94));function p(e){return e&&e.__esModule?e:{default:e}}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h=(0,s.connect)(function(e){return{isAttached:c.selectors.isAttached(e),isPaused:c.selectors.isPaused(e),isEditWhileRun:c.selectors.isEditWhileRun(e),canRunNext:c.selectors.canRunNext(e)}},{stepIn:c.actions.stepIn,stepOver:c.actions.stepOver,stepOut:c.actions.stepOut,togglePause:c.actions.togglePause})((i=r=function(i){function e(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return d(f(e=i.call.apply(i,[this].concat(n))||this),"togglePause",function(){(0,l.default)("debug_commands","debug_button_press",e.props.userInteracted),e.props.togglePause()}),d(f(e),"stepIn",function(){(0,l.default)("debug_commands","debug_button_press",e.props.userInteracted),e.props.stepIn()}),d(f(e),"stepOut",function(){(0,l.default)("debug_commands","debug_button_press",e.props.userInteracted),e.props.stepOut()}),d(f(e),"stepOver",function(){(0,l.default)("debug_commands","debug_button_press",e.props.userInteracted),e.props.stepOver()}),e}return function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(e,i),e.prototype.render=function(){var e=this.props,t=e.isAttached,n=e.isPaused,r=e.canRunNext,i=e.isEditWhileRun;return a.default.createElement("div",{id:"debug-commands",className:"debug-commands",style:this.props.style},a.default.createElement("div",{id:"debug-buttons"}," ",a.default.createElement("button",{type:"button",id:"pauseButton",className:"debugger_button",onClick:this.togglePause,style:{display:r?"none":"inline-block"},disabled:!t},a.default.createElement("img",{src:"/blockly/media/1x1.gif",className:"pause-btn icon21"}),u.default.pause())," ",a.default.createElement("button",{type:"button",id:"continueButton",className:"debugger_button",onClick:this.togglePause,style:{display:r?"inline-block":"none"}},a.default.createElement("img",{src:"/blockly/media/1x1.gif",className:"continue-btn icon21"}),u.default.continue())," ",a.default.createElement("button",{type:"button",id:"stepOverButton",className:"debugger_button",onClick:this.stepOver,disabled:!n||!t||i,title:i?u.default.editDuringRunMessage():void 0},a.default.createElement("img",{src:"/blockly/media/1x1.gif",className:"step-over-btn icon21"}),u.default.stepOver()),a.default.createElement("button",{type:"button",id:"stepOutButton",className:"debugger_button",onClick:this.stepOut,disabled:!n||!t||i,title:i?u.default.editDuringRunMessage():void 0},a.default.createElement("img",{src:"/blockly/media/1x1.gif",className:"step-out-btn icon21"}),u.default.stepOut())," ",a.default.createElement("button",{type:"button",id:"stepInButton",className:"debugger_button",onClick:this.stepIn,disabled:!n&&t||i,title:i?u.default.editDuringRunMessage():void 0},a.default.createElement("img",{src:"/blockly/media/1x1.gif",className:"step-in-btn icon21"}),u.default.stepIn())))},e}(a.default.Component),d(r,"propTypes",{style:o.default.object,userInteracted:o.default.bool,stepIn:o.default.func.isRequired,stepOut:o.default.func.isRequired,stepOver:o.default.func.isRequired,togglePause:o.default.func.isRequired,isPaused:o.default.bool.isRequired,isEditWhileRun:o.default.bool.isRequired,isAttached:o.default.bool.isRequired,canRunNext:o.default.bool.isRequired}),i));t.default=h,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.shouldUseRunModeIndicators=function(e){return!e.pageConstants.isMinecraft}},function(e,t,n){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=h(n(0)),o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=d();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}n.default=e,t&&t.set(e,n);return n}(n(1)),s=h(n(591)),i=h(n(94)),u=n(238),c=n(708),l=h(n(5)),p=h(n(2248)),f=h(n(132));function d(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return d=function(){return e},e}function h(e){return e&&e.__esModule?e:{default:e}}function v(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(Object(n));"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(e){y(t,e,n[e])})}return t}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b={blocksGlyph:{display:"none",height:18,lineHeight:"24px",verticalAlign:"text-bottom",paddingRight:8},blocksGlyphRtl:{paddingRight:0,paddingLeft:8,transform:"scale(-1, 1)",MozTransform:"scale(-1, 1)",WebkitTransform:"scale(-1, 1)",OTransform:"scale(-1, 1)",msTransform:"scale(-1, 1)"}},w={hasFocus:r.default.bool,isRtl:r.default.bool,isMinecraft:r.default.bool},S=function(e){function t(){return e.apply(this,arguments)||this}m(t,e);var n=t.prototype;return n.onClick=function(){(0,i.default)("showCode","click","header"),this.props.onClick()},n.render=function(){var e=o.default.createElement("img",{src:this.props.hasFocus?"data:image/gif;base64,R0lGODlhEAAQAIAAAP///////yH+GkNyZWF0ZWQgd2l0aCBHSU1QIG9uIGEgTWFjACH5BAEKAAEALAAAAAAQABAAAAIdjI+py40AowRp2molznBzB3LTIWpGGZEoda7gCxYAOw==":"data:image/gif;base64,R0lGODlhEAAQAIAAAE1XX01XXyH+GkNyZWF0ZWQgd2l0aCBHSU1QIG9uIGEgTWFjACH5BAEKAAEALAAAAAAQABAAAAIdjI+py40AowRp2molznBzB3LTIWpGGZEoda7gCxYAOw==",style:[b.blocksGlyph,this.props.isRtl&&b.blocksGlyphRtl,this.props.showingBlocks?{display:"none"}:{display:"inline-block"}]});return o.default.createElement(c.PaneButton,{id:"show-code-header",hiddenImage:e,iconClass:this.props.showingBlocks?"fa fa-code":"",label:this.props.showingBlocks?this.props.showCodeLabel:this.props.showBlocksLabel,isRtl:!!this.props.isRtl,isMinecraft:!!this.props.isMinecraft,headerHasFocus:!!this.props.hasFocus,onClick:this.onClick.bind(this),style:this.props.hidden?{display:"none"}:{display:"inline-block"}})},t}(o.Component);y(S,"propTypes",v({},w,{onClick:r.default.func,hidden:r.default.bool,showingBlocks:r.default.bool,showCodeLabel:r.default.string,showBlocksLabel:r.default.string})),y(S,"defaultProps",{showBlocksLabel:l.default.showBlocksHeader(),showCodeLabel:l.default.showCodeHeader()});var _=function(i){function e(){for(var n,e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return y(g(n=i.call.apply(i,[this].concat(t))||this),"afterInit",function(){n.forceUpdate()}),y(g(n),"toggle",function(){var t,e=(0,u.singleton)().currentlyUsingBlocks();try{t=(0,u.singleton)().editor.toggleBlocks()}catch(e){t={error:e,nonDropletError:!0}}t&&t.error?(s.default.addPageAction(s.default.PageAction.DropletTransitionError,{dropletError:!t.nonDropletError,fromBlocks:e}),(0,u.singleton)().showToggleBlocksError()):((0,u.singleton)().onDropletToggle(),n.forceUpdate(),n.props.onToggle((0,u.singleton)().currentlyUsingBlocks()))}),y(g(n),"onClick",function(){n.toggle(),(new p.default).setUsingTextMode(!(0,u.singleton)().currentlyUsingBlocks(),{project_id:f.default.getCurrentId(),level_id:(0,u.singleton)().config.level.id})}),n}m(e,i);var t=e.prototype;return t.componentWillMount=function(){(0,u.singleton)().on("afterInit",this.afterInit)},t.componentWillUnmount=function(){(0,u.singleton)().removeListener("afterInit",this.afterInit)},t.render=function(){return o.default.createElement(S,{hasFocus:this.props.hasFocus,isRtl:this.props.isRtl,isMinecraft:this.props.isMinecraft,onClick:this.onClick,hidden:!(0,u.singleton)().enableShowCode,showingBlocks:(0,u.singleton)().currentlyUsingBlocks(),showCodeLabel:l.default.showTextHeader()})},e}(o.Component);y(_,"propTypes",v({},w,{onToggle:r.default.func.isRequired}));var C=function(i){function e(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return y(g(e=i.call.apply(i,[this].concat(n))||this),"onClick",function(){(0,u.singleton)().showGeneratedCode(),e.props.onToggle(!0)}),e}return m(e,i),e.prototype.render=function(){return o.default.createElement(S,{hasFocus:this.props.hasFocus,isRtl:this.props.isRtl,isMinecraft:this.props.isMinecraft,onClick:this.onClick,hidden:!(0,u.singleton)().enableShowCode,showingBlocks:!0})},e}(o.Component);y(C,"propTypes",v({},w,{onToggle:r.default.func.isRequired}));var E=function(i){function e(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return y(g(e=i.call.apply(i,[this].concat(n))||this),"afterInit",function(){e.forceUpdate()}),e}m(e,i);var t=e.prototype;return t.componentWillMount=function(){(0,u.singleton)().on("afterInit",this.afterInit)},t.render=function(){return(0,u.singleton)().editCode?o.default.createElement(_,this.props):o.default.createElement(C,this.props)},e}(o.Component);y(t.default=E,"propTypes",v({},w,{onToggle:r.default.func.isRequired})),e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n(10))&&r.__esModule?r:{default:r};var o=function(e){function t(){return e.apply(this,arguments)||this}!function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(t,e);var n=t.prototype;return n.setUsingTextMode=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return i.default.post("/api/v1/users/".concat(this.userId,"/using_text_mode"),function(i){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{},t=Object.keys(Object(o));"function"==typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(o).filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable}))),t.forEach(function(e){var t,n,r;t=i,r=o[n=e],n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r})}return i}({},t,{using_text_mode:e}))},n.getUsingTextMode=function(){return i.default.getJSON("/api/v1/users/".concat(this.userId,"/using_text_mode")).then(function(e){return e.using_text_mode})},t}((0,n(125).Record)({userId:"me"}));t.default=o,e.exports=t.default},function(t,n){!function(e){if("object"==typeof n&&void 0!==t)t.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).html2canvas=e()}}(function(){return function o(a,s,u){function c(n,e){if(!s[n]){if(!a[n]){var t="function"==typeof require&&require;if(!e&&t)return t(n,!0);if(l)return l(n,!0);var r=new Error("Cannot find module '"+n+"'");throw r.code="MODULE_NOT_FOUND",r}var i=s[n]={exports:{}};a[n][0].call(i.exports,function(e){var t=a[n][1][e];return c(t||e)},i,i.exports,o,a,s,u)}return s[n].exports}for(var l="function"==typeof require&&require,e=0;e<u.length;e++)c(u[e]);return c}({1:[function(e,I,M){(function(A){!function(e){var t="object"==typeof M&&M&&!M.nodeType&&M,n="object"==typeof I&&I&&!I.nodeType&&I,r="object"==typeof A&&A;r.global!==r&&r.window!==r&&r.self!==r||(e=r);var i,o,m=2147483647,y=36,b=1,w=26,a=38,s=700,S=72,_=128,C="-",u=/^xn--/,c=/[^\x20-\x7E]/,l=/[\x2E\u3002\uFF0E\uFF61]/g,p={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},f=y-b,E=Math.floor,x=String.fromCharCode;function O(e){throw new RangeError(p[e])}function d(e,t){for(var n=e.length,r=[];n--;)r[n]=t(e[n]);return r}function h(e,t){var n=e.split("@"),r="";return 1<n.length&&(r=n[0]+"@",e=n[1]),r+d((e=e.replace(l,".")).split("."),t).join(".")}function k(e){for(var t,n,r=[],i=0,o=e.length;i<o;)55296<=(t=e.charCodeAt(i++))&&t<=56319&&i<o?56320==(64512&(n=e.charCodeAt(i++)))?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),i--):r.push(t);return r}function P(e){return d(e,function(e){var t="";return 65535<e&&(t+=x((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=x(e)}).join("")}function T(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function R(e,t,n){var r=0;for(e=n?E(e/s):e>>1,e+=E(e/t);f*w>>1<e;r+=y)e=E(e/f);return E(r+(f+1)*e/(e+a))}function v(e){var t,n,r,i,o,a,s,u,c,l,p,f=[],d=e.length,h=0,v=_,g=S;for((n=e.lastIndexOf(C))<0&&(n=0),r=0;r<n;++r)128<=e.charCodeAt(r)&&O("not-basic"),f.push(e.charCodeAt(r));for(i=0<n?n+1:0;i<d;){for(o=h,a=1,s=y;d<=i&&O("invalid-input"),p=e.charCodeAt(i++),(y<=(u=p-48<10?p-22:p-65<26?p-65:p-97<26?p-97:y)||u>E((m-h)/a))&&O("overflow"),h+=u*a,!(u<(c=s<=g?b:g+w<=s?w:s-g));s+=y)a>E(m/(l=y-c))&&O("overflow"),a*=l;g=R(h-o,t=f.length+1,0==o),E(h/t)>m-v&&O("overflow"),v+=E(h/t),h%=t,f.splice(h++,0,v)}return P(f)}function g(e){var t,n,r,i,o,a,s,u,c,l,p,f,d,h,v,g=[];for(f=(e=k(e)).length,t=_,o=S,a=n=0;a<f;++a)(p=e[a])<128&&g.push(x(p));for(r=i=g.length,i&&g.push(C);r<f;){for(s=m,a=0;a<f;++a)t<=(p=e[a])&&p<s&&(s=p);for(s-t>E((m-n)/(d=r+1))&&O("overflow"),n+=(s-t)*d,t=s,a=0;a<f;++a)if((p=e[a])<t&&++n>m&&O("overflow"),p==t){for(u=n,c=y;!(u<(l=c<=o?b:o+w<=c?w:c-o));c+=y)v=u-l,h=y-l,g.push(x(T(l+v%h,0))),u=E(v/h);g.push(x(T(u,0))),o=R(n,d,r==i),n=0,++r}++n,++t}return g.join("")}if(i={version:"1.3.2",ucs2:{decode:k,encode:P},decode:v,encode:g,toASCII:function(e){return h(e,function(e){return c.test(e)?"xn--"+g(e):e})},toUnicode:function(e){return h(e,function(e){return u.test(e)?v(e.slice(4).toLowerCase()):e})}},t&&n)if(I.exports==t)n.exports=i;else for(o in i)i.hasOwnProperty(o)&&(t[o]=i[o]);else e.punycode=i}(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(e,t,n){var i=e("./log");function c(e,t){for(var n=3===e.nodeType?document.createTextNode(e.nodeValue):e.cloneNode(!1),r=e.firstChild;r;)!0!==t&&1===r.nodeType&&"SCRIPT"===r.nodeName||n.appendChild(c(r,t)),r=r.nextSibling;return 1===e.nodeType&&(n._scrollTop=e.scrollTop,n._scrollLeft=e.scrollLeft,"CANVAS"===e.nodeName?function(t,e){try{e&&(e.width=t.width,e.height=t.height,e.getContext("2d").putImageData(t.getContext("2d").getImageData(0,0,t.width,t.height),0,0))}catch(e){i("Unable to copy canvas content from",t,e)}}(e,n):"TEXTAREA"!==e.nodeName&&"SELECT"!==e.nodeName||(n.value=e.value)),n}t.exports=function(e,t,n,r,i,o,a){var s=c(e.documentElement,i.javascriptEnabled),u=t.createElement("iframe");return u.className="html2canvas-container",u.style.visibility="hidden",u.style.position="fixed",u.style.left="-10000px",u.style.top="0px",u.style.border="0",u.width=n,u.height=r,u.scrolling="no",t.body.appendChild(u),new Promise(function(t){var n=u.contentWindow.document;u.contentWindow.onload=u.onload=function(){var e=setInterval(function(){0<n.body.childNodes.length&&(!function e(t){if(1===t.nodeType){t.scrollTop=t._scrollTop,t.scrollLeft=t._scrollLeft;for(var n=t.firstChild;n;)e(n),n=n.nextSibling}}(n.documentElement),clearInterval(e),"view"===i.type&&(u.contentWindow.scrollTo(o,a),!/(iPad|iPhone|iPod)/g.test(navigator.userAgent)||u.contentWindow.scrollY===a&&u.contentWindow.scrollX===o||(n.documentElement.style.top=-a+"px",n.documentElement.style.left=-o+"px",n.documentElement.style.position="absolute")),t(u))},50)},n.open(),n.write("<!DOCTYPE html><html></html>"),function(e,t,n){!e.defaultView||t===e.defaultView.pageXOffset&&n===e.defaultView.pageYOffset||e.defaultView.scrollTo(t,n)}(e,o,a),n.replaceChild(n.adoptNode(s),n.documentElement),n.close()})}},{"./log":13}],3:[function(e,t,n){function r(e){this.r=0,this.g=0,this.b=0,this.a=null;this.fromArray(e)||this.namedColor(e)||this.rgb(e)||this.rgba(e)||this.hex6(e)||this.hex3(e)}r.prototype.darken=function(e){var t=1-e;return new r([Math.round(this.r*t),Math.round(this.g*t),Math.round(this.b*t),this.a])},r.prototype.isTransparent=function(){return 0===this.a},r.prototype.isBlack=function(){return 0===this.r&&0===this.g&&0===this.b},r.prototype.fromArray=function(e){return Array.isArray(e)&&(this.r=Math.min(e[0],255),this.g=Math.min(e[1],255),this.b=Math.min(e[2],255),3<e.length&&(this.a=e[3])),Array.isArray(e)};var i=/^#([a-f0-9]{3})$/i;r.prototype.hex3=function(e){var t;return null!==(t=e.match(i))&&(this.r=parseInt(t[1][0]+t[1][0],16),this.g=parseInt(t[1][1]+t[1][1],16),this.b=parseInt(t[1][2]+t[1][2],16)),null!==t};var o=/^#([a-f0-9]{6})$/i;r.prototype.hex6=function(e){var t=null;return null!==(t=e.match(o))&&(this.r=parseInt(t[1].substring(0,2),16),this.g=parseInt(t[1].substring(2,4),16),this.b=parseInt(t[1].substring(4,6),16)),null!==t};var a=/^rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)$/;r.prototype.rgb=function(e){var t;return null!==(t=e.match(a))&&(this.r=Number(t[1]),this.g=Number(t[2]),this.b=Number(t[3])),null!==t};var s=/^rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d?\.?\d+)\s*\)$/;r.prototype.rgba=function(e){var t;return null!==(t=e.match(s))&&(this.r=Number(t[1]),this.g=Number(t[2]),this.b=Number(t[3]),this.a=Number(t[4])),null!==t},r.prototype.toString=function(){return null!==this.a&&1!==this.a?"rgba("+[this.r,this.g,this.b,this.a].join(",")+")":"rgb("+[this.r,this.g,this.b].join(",")+")"},r.prototype.namedColor=function(e){e=e.toLowerCase();var t=u[e];if(t)this.r=t[0],this.g=t[1],this.b=t[2];else if("transparent"===e)return this.r=this.g=this.b=this.a=0,!0;return!!t},r.prototype.isColor=!0;var u={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};t.exports=r},{}],4:[function(e,t,n){var f=e("./support"),a=e("./renderers/canvas"),d=e("./imageloader"),h=e("./nodeparser"),r=e("./nodecontainer"),v=e("./log"),i=e("./utils"),p=e("./clone"),s=e("./proxy").loadUrlDocument,g=i.getBounds,m="data-html2canvas-node",u=0;function o(e,t){var n=u++;if((t=t||{}).logging&&(v.options.logging=!0,v.options.start=Date.now()),t.async=void 0===t.async||t.async,t.allowTaint=void 0!==t.allowTaint&&t.allowTaint,t.removeContainer=void 0===t.removeContainer||t.removeContainer,t.javascriptEnabled=void 0!==t.javascriptEnabled&&t.javascriptEnabled,t.imageTimeout=void 0===t.imageTimeout?1e4:t.imageTimeout,t.renderer="function"==typeof t.renderer?t.renderer:a,t.strict=!!t.strict,"string"==typeof e){if("string"!=typeof t.proxy)return Promise.reject("Proxy must be used when rendering url");var r=null!=t.width?t.width:window.innerWidth,i=null!=t.height?t.height:window.innerHeight;return s(function(e){var t=document.createElement("a");return t.href=e,t.href=t.href,t}(e),t.proxy,document,r,i,t).then(function(e){return y(e.contentWindow.document.documentElement,e,t,r,i)})}var o=(void 0===e?[document.documentElement]:e.length?e:[e])[0];return o.setAttribute(m+n,n),function(a,s,u,c,l){return p(a,a,u,c,s,a.defaultView.pageXOffset,a.defaultView.pageYOffset).then(function(e){v("Document cloned");var t=m+l,n="["+t+"='"+l+"']";a.querySelector(n).removeAttribute(t);var r=e.contentWindow,i=r.document.querySelector(n),o="function"==typeof s.onclone?Promise.resolve(s.onclone(r.document)):Promise.resolve(!0);return o.then(function(){return y(i,e,s,u,c)})})}(o.ownerDocument,t,o.ownerDocument.defaultView.innerWidth,o.ownerDocument.defaultView.innerHeight,n).then(function(e){return"function"==typeof t.onrendered&&(v("options.onrendered is deprecated, html2canvas returns a Promise containing the canvas"),t.onrendered(e)),e})}o.CanvasRenderer=a,o.NodeContainer=r,o.log=v,o.utils=i;var c="undefined"==typeof document||"function"!=typeof Object.create||"function"!=typeof document.createElement("canvas").getContext?function(){return Promise.reject("No canvas support")}:o;function y(t,n,r,e,i){var o=n.contentWindow,a=new f(o.document),s=new d(r,a),u=g(t),c="view"===r.type?e:function(e){return Math.max(Math.max(e.body.scrollWidth,e.documentElement.scrollWidth),Math.max(e.body.offsetWidth,e.documentElement.offsetWidth),Math.max(e.body.clientWidth,e.documentElement.clientWidth))}(o.document),l="view"===r.type?i:function(e){return Math.max(Math.max(e.body.scrollHeight,e.documentElement.scrollHeight),Math.max(e.body.offsetHeight,e.documentElement.offsetHeight),Math.max(e.body.clientHeight,e.documentElement.clientHeight))}(o.document),p=new r.renderer(c,l,s,r,document);return new h(t,p,a,s,r).ready.then(function(){var e;return v("Finished rendering"),e="view"===r.type?b(p.canvas,{width:p.canvas.width,height:p.canvas.height,top:0,left:0,x:0,y:0}):t===o.document.body||t===o.document.documentElement||null!=r.canvas?p.canvas:b(p.canvas,{width:null!=r.width?r.width:u.width,height:null!=r.height?r.height:u.height,top:u.top,left:u.left,x:0,y:0}),function(e,t){t.removeContainer&&(e.parentNode.removeChild(e),v("Cleaned up container"))}(n,r),e})}function b(e,t){var n=document.createElement("canvas"),r=Math.min(e.width-1,Math.max(0,t.left)),i=Math.min(e.width,Math.max(1,t.left+t.width)),o=Math.min(e.height-1,Math.max(0,t.top)),a=Math.min(e.height,Math.max(1,t.top+t.height));n.width=t.width,n.height=t.height;var s=i-r,u=a-o;return v("Cropping canvas at:","left:",t.left,"top:",t.top,"width:",s,"height:",u),v("Resulting crop with width",t.width,"and height",t.height,"with x",r,"and y",o),n.getContext("2d").drawImage(e,r,o,s,u,t.x,t.y,s,u),n}t.exports=c},{"./clone":2,"./imageloader":11,"./log":13,"./nodecontainer":14,"./nodeparser":15,"./proxy":16,"./renderers/canvas":20,"./support":22,"./utils":26}],5:[function(e,t,n){var r=e("./log"),i=e("./utils").smallImage;t.exports=function e(t){if(this.src=t,r("DummyImageContainer for",t),!this.promise||!this.image){r("Initiating DummyImageContainer"),e.prototype.image=new Image;var n=this.image;e.prototype.promise=new Promise(function(e,t){n.onload=e,n.onerror=t,n.src=i(),!0===n.complete&&e(n)})}}},{"./log":13,"./utils":26}],6:[function(e,t,n){var u=e("./utils").smallImage;t.exports=function(e,t){var n,r,i=document.createElement("div"),o=document.createElement("img"),a=document.createElement("span"),s="Hidden Text";i.style.visibility="hidden",i.style.fontFamily=e,i.style.fontSize=t,i.style.margin=0,i.style.padding=0,document.body.appendChild(i),o.src=u(),o.width=1,o.height=1,o.style.margin=0,o.style.padding=0,o.style.verticalAlign="baseline",a.style.fontFamily=e,a.style.fontSize=t,a.style.margin=0,a.style.padding=0,a.appendChild(document.createTextNode(s)),i.appendChild(a),i.appendChild(o),n=o.offsetTop-a.offsetTop+1,i.removeChild(a),i.appendChild(document.createTextNode(s)),i.style.lineHeight="normal",o.style.verticalAlign="super",r=o.offsetTop-i.offsetTop+1,document.body.removeChild(i),this.baseline=n,this.lineWidth=1,this.middle=r}},{"./utils":26}],7:[function(e,t,n){var r=e("./font");function i(){this.data={}}i.prototype.getMetrics=function(e,t){return void 0===this.data[e+"-"+t]&&(this.data[e+"-"+t]=new r(e,t)),this.data[e+"-"+t]},t.exports=i},{"./font":6}],8:[function(o,e,t){var a=o("./utils").getBounds,i=o("./proxy").loadUrlDocument;function n(t,e,n){this.image=null,this.src=t;var r=this,i=a(t);this.promise=(e?new Promise(function(e){"about:blank"===t.contentWindow.document.URL||null==t.contentWindow.document.documentElement?t.contentWindow.onload=t.onload=function(){e(t)}:e(t)}):this.proxyLoad(n.proxy,i,n)).then(function(e){return o("./core")(e.contentWindow.document.documentElement,{type:"view",width:e.width,height:e.height,proxy:n.proxy,javascriptEnabled:n.javascriptEnabled,removeContainer:n.removeContainer,allowTaint:n.allowTaint,imageTimeout:n.imageTimeout/2})}).then(function(e){return r.image=e})}n.prototype.proxyLoad=function(e,t,n){var r=this.src;return i(r.src,e,r.ownerDocument,t.width,t.height,n)},e.exports=n},{"./core":4,"./proxy":16,"./utils":26}],9:[function(e,t,n){function r(e){this.src=e.value,this.colorStops=[],this.type=null,this.x0=.5,this.y0=.5,this.x1=.5,this.y1=.5,this.promise=Promise.resolve(!0)}r.TYPES={LINEAR:1,RADIAL:2},r.REGEXP_COLORSTOP=/^\s*(rgba?\(\s*\d{1,3},\s*\d{1,3},\s*\d{1,3}(?:,\s*[0-9\.]+)?\s*\)|[a-z]{3,20}|#[a-f0-9]{3,6})(?:\s+(\d{1,3}(?:\.\d+)?)(%|px)?)?(?:\s|$)/i,t.exports=r},{}],10:[function(e,t,n){t.exports=function(n,r){this.src=n,this.image=new Image;var i=this;this.tainted=null,this.promise=new Promise(function(e,t){i.image.onload=e,i.image.onerror=t,r&&(i.image.crossOrigin="anonymous"),i.image.src=n,!0===i.image.complete&&e(i.image)})}},{}],11:[function(e,t,n){var o=e("./log"),r=e("./imagecontainer"),i=e("./dummyimagecontainer"),a=e("./proxyimagecontainer"),s=e("./framecontainer"),u=e("./svgcontainer"),c=e("./svgnodecontainer"),l=e("./lineargradientcontainer"),p=e("./webkitgradientcontainer"),f=e("./utils").bind;function d(e,t){this.link=null,this.options=e,this.support=t,this.origin=this.getOrigin(window.location.href)}d.prototype.findImages=function(e){var t=[];return e.reduce(function(e,t){switch(t.node.nodeName){case"IMG":return e.concat([{args:[t.node.src],method:"url"}]);case"svg":case"IFRAME":return e.concat([{args:[t.node],method:t.node.nodeName}])}return e},[]).forEach(this.addImage(t,this.loadImage),this),t},d.prototype.findBackgroundImage=function(e,t){return t.parseBackgroundImages().filter(this.hasImageBackground).forEach(this.addImage(e,this.loadImage),this),e},d.prototype.addImage=function(n,r){return function(t){t.args.forEach(function(e){this.imageExists(n,e)||(n.splice(0,0,r.call(this,t)),o("Added image #"+n.length,"string"==typeof e?e.substring(0,100):e))},this)}},d.prototype.hasImageBackground=function(e){return"none"!==e.method},d.prototype.loadImage=function(e){if("url"!==e.method)return"linear-gradient"===e.method?new l(e):"gradient"===e.method?new p(e):"svg"===e.method?new c(e.args[0],this.support.svg):"IFRAME"===e.method?new s(e.args[0],this.isSameOrigin(e.args[0].src),this.options):new i(e);var t=e.args[0];return!this.isSVG(t)||this.support.svg||this.options.allowTaint?t.match(/data:image\/.*;base64,/i)?new r(t.replace(/url\(['"]{0,}|['"]{0,}\)$/gi,""),!1):this.isSameOrigin(t)||!0===this.options.allowTaint||this.isSVG(t)?new r(t,!1):this.support.cors&&!this.options.allowTaint&&this.options.useCORS?new r(t,!0):this.options.proxy?new a(t,this.options.proxy):new i(t):new u(t)},d.prototype.isSVG=function(e){return"svg"===e.substring(e.length-3).toLowerCase()||u.prototype.isInline(e)},d.prototype.imageExists=function(e,t){return e.some(function(e){return e.src===t})},d.prototype.isSameOrigin=function(e){return this.getOrigin(e)===this.origin},d.prototype.getOrigin=function(e){var t=this.link||(this.link=document.createElement("a"));return t.href=e,t.href=t.href,t.protocol+t.hostname+t.port},d.prototype.getPromise=function(t){return this.timeout(t,this.options.imageTimeout).catch(function(){return new i(t.src).promise.then(function(e){t.image=e})})},d.prototype.get=function(t){var n=null;return this.images.some(function(e){return(n=e).src===t})?n:null},d.prototype.fetch=function(e){return this.images=e.reduce(f(this.findBackgroundImage,this),this.findImages(e)),this.images.forEach(function(t,n){t.promise.then(function(){o("Succesfully loaded image #"+(n+1),t)},function(e){o("Failed loading image #"+(n+1),t,e)})}),this.ready=Promise.all(this.images.map(this.getPromise,this)),o("Finished searching images"),this},d.prototype.timeout=function(n,r){var i,e=Promise.race([n.promise,new Promise(function(e,t){i=setTimeout(function(){o("Timed out loading image",n),t(n)},r)})]).then(function(e){return clearTimeout(i),e});return e.catch(function(){clearTimeout(i)}),e},t.exports=d},{"./dummyimagecontainer":5,"./framecontainer":8,"./imagecontainer":10,"./lineargradientcontainer":12,"./log":13,"./proxyimagecontainer":17,"./svgcontainer":23,"./svgnodecontainer":24,"./utils":26,"./webkitgradientcontainer":27}],12:[function(e,t,n){var i=e("./gradientcontainer"),o=e("./color");function r(e){i.apply(this,arguments),this.type=i.TYPES.LINEAR;var t=r.REGEXP_DIRECTION.test(e.args[0])||!i.REGEXP_COLORSTOP.test(e.args[0]);t?e.args[0].split(/\s+/).reverse().forEach(function(e,t){switch(e){case"left":this.x0=0,this.x1=1;break;case"top":this.y0=0,this.y1=1;break;case"right":this.x0=1,this.x1=0;break;case"bottom":this.y0=1,this.y1=0;break;case"to":var n=this.y0,r=this.x0;this.y0=this.y1,this.x0=this.x1,this.x1=r,this.y1=n;break;case"center":break;default:var i=.01*parseFloat(e,10);if(isNaN(i))break;0===t?(this.y0=i,this.y1=1-this.y0):(this.x0=i,this.x1=1-this.x0)}},this):(this.y0=0,this.y1=1),this.colorStops=e.args.slice(t?1:0).map(function(e){var t=e.match(i.REGEXP_COLORSTOP),n=+t[2],r=0==n?"%":t[3];return{color:new o(t[1]),stop:"%"===r?n/100:null}}),null===this.colorStops[0].stop&&(this.colorStops[0].stop=0),null===this.colorStops[this.colorStops.length-1].stop&&(this.colorStops[this.colorStops.length-1].stop=1),this.colorStops.forEach(function(n,r){null===n.stop&&this.colorStops.slice(r).some(function(e,t){return null!==e.stop&&(n.stop=(e.stop-this.colorStops[r-1].stop)/(t+1)+this.colorStops[r-1].stop,!0)},this)},this)}r.prototype=Object.create(i.prototype),r.REGEXP_DIRECTION=/^\s*(?:to|left|right|top|bottom|center|\d{1,3}(?:\.\d+)?%?)(?:\s|$)/i,t.exports=r},{"./color":3,"./gradientcontainer":9}],13:[function(e,t,n){var r=function(){r.options.logging&&window.console&&window.console.log&&Function.prototype.bind.call(window.console.log,window.console).apply(window.console,[Date.now()-r.options.start+"ms","html2canvas:"].concat([].slice.call(arguments,0)))};r.options={logging:!1},t.exports=r},{}],14:[function(e,t,n){var o=e("./color"),r=e("./utils"),i=r.getBounds,a=r.parseBackgrounds,s=r.offsetBounds;function u(e,t){this.node=e,this.parent=t,this.stack=null,this.bounds=null,this.borders=null,this.clip=[],this.backgroundClip=[],this.offsetBounds=null,this.visible=null,this.computedStyles=null,this.colors={},this.styles={},this.backgroundImages=null,this.transformData=null,this.transformMatrix=null,this.isPseudoElement=!1,this.opacity=null}function c(e){return-1!==e.toString().indexOf("%")}function l(e){return e.replace("px","")}function p(e){return parseFloat(e)}u.prototype.cloneTo=function(e){e.visible=this.visible,e.borders=this.borders,e.bounds=this.bounds,e.clip=this.clip,e.backgroundClip=this.backgroundClip,e.computedStyles=this.computedStyles,e.styles=this.styles,e.backgroundImages=this.backgroundImages,e.opacity=this.opacity},u.prototype.getOpacity=function(){return null===this.opacity?this.opacity=this.cssFloat("opacity"):this.opacity},u.prototype.assignStack=function(e){(this.stack=e).children.push(this)},u.prototype.isElementVisible=function(){return this.node.nodeType===Node.TEXT_NODE?this.parent.visible:"none"!==this.css("display")&&"hidden"!==this.css("visibility")&&!this.node.hasAttribute("data-html2canvas-ignore")&&("INPUT"!==this.node.nodeName||"hidden"!==this.node.getAttribute("type"))},u.prototype.css=function(e){return this.computedStyles||(this.computedStyles=this.isPseudoElement?this.parent.computedStyle(this.before?":before":":after"):this.computedStyle(null)),this.styles[e]||(this.styles[e]=this.computedStyles[e])},u.prototype.prefixedCss=function(t){var n=this.css(t);return void 0===n&&["webkit","moz","ms","o"].some(function(e){return void 0!==(n=this.css(e+t.substr(0,1).toUpperCase()+t.substr(1)))},this),void 0===n?null:n},u.prototype.computedStyle=function(e){return this.node.ownerDocument.defaultView.getComputedStyle(this.node,e)},u.prototype.cssInt=function(e){var t=parseInt(this.css(e),10);return isNaN(t)?0:t},u.prototype.color=function(e){return this.colors[e]||(this.colors[e]=new o(this.css(e)))},u.prototype.cssFloat=function(e){var t=parseFloat(this.css(e));return isNaN(t)?0:t},u.prototype.fontWeight=function(){var e=this.css("fontWeight");switch(parseInt(e,10)){case 401:e="bold";break;case 400:e="normal"}return e},u.prototype.parseClip=function(){var e=this.css("clip").match(this.CLIP);return e?{top:parseInt(e[1],10),right:parseInt(e[2],10),bottom:parseInt(e[3],10),left:parseInt(e[4],10)}:null},u.prototype.parseBackgroundImages=function(){return this.backgroundImages||(this.backgroundImages=a(this.css("backgroundImage")))},u.prototype.cssList=function(e,t){var n=(this.css(e)||"").split(",");return 1===(n=(n=n[t||0]||n[0]||"auto").trim().split(" ")).length&&(n=[n[0],c(n[0])?"auto":n[0]]),n},u.prototype.parseBackgroundSize=function(e,t,n){var r,i,o=this.cssList("backgroundSize",n);if(c(o[0]))r=e.width*parseFloat(o[0])/100;else{if(/contain|cover/.test(o[0])){var a=e.width/e.height,s=t.width/t.height;return a<s^"contain"===o[0]?{width:e.height*s,height:e.height}:{width:e.width,height:e.width/s}}r=parseInt(o[0],10)}return i="auto"===o[0]&&"auto"===o[1]?t.height:"auto"===o[1]?r/t.width*t.height:c(o[1])?e.height*parseFloat(o[1])/100:parseInt(o[1],10),"auto"===o[0]&&(r=i/t.height*t.width),{width:r,height:i}},u.prototype.parseBackgroundPosition=function(e,t,n,r){var i,o,a=this.cssList("backgroundPosition",n);return i=c(a[0])?(e.width-(r||t).width)*(parseFloat(a[0])/100):parseInt(a[0],10),o="auto"===a[1]?i/t.width*t.height:c(a[1])?(e.height-(r||t).height)*parseFloat(a[1])/100:parseInt(a[1],10),"auto"===a[0]&&(i=o/t.height*t.width),{left:i,top:o}},u.prototype.parseBackgroundRepeat=function(e){return this.cssList("backgroundRepeat",e)[0]},u.prototype.parseTextShadows=function(){var e=this.css("textShadow"),t=[];if(e&&"none"!==e)for(var n=e.match(this.TEXT_SHADOW_PROPERTY),r=0;n&&r<n.length;r++){var i=n[r].match(this.TEXT_SHADOW_VALUES);t.push({color:new o(i[0]),offsetX:i[1]?parseFloat(i[1].replace("px","")):0,offsetY:i[2]?parseFloat(i[2].replace("px","")):0,blur:i[3]?i[3].replace("px",""):0})}return t},u.prototype.parseTransform=function(){if(!this.transformData)if(this.hasTransform()){var e=this.parseBounds(),t=this.prefixedCss("transformOrigin").split(" ").map(l).map(p);t[0]+=e.left,t[1]+=e.top,this.transformData={origin:t,matrix:this.parseTransformMatrix()}}else this.transformData={origin:[0,0],matrix:[1,0,0,1,0,0]};return this.transformData},u.prototype.parseTransformMatrix=function(){if(!this.transformMatrix){var e=this.prefixedCss("transform"),t=e?function(e){{if(e&&"matrix"===e[1])return e[2].split(",").map(function(e){return parseFloat(e.trim())});if(e&&"matrix3d"===e[1]){var t=e[2].split(",").map(function(e){return parseFloat(e.trim())});return[t[0],t[1],t[4],t[5],t[12],t[13]]}}}(e.match(this.MATRIX_PROPERTY)):null;this.transformMatrix=t||[1,0,0,1,0,0]}return this.transformMatrix},u.prototype.parseBounds=function(){return this.bounds||(this.bounds=this.hasTransform()?s(this.node):i(this.node))},u.prototype.hasTransform=function(){return"1,0,0,1,0,0"!==this.parseTransformMatrix().join(",")||this.parent&&this.parent.hasTransform()},u.prototype.getValue=function(){var e=this.node.value||"";return"SELECT"===this.node.tagName?e=function(e){var t=e.options[e.selectedIndex||0];return t&&t.text||""}(this.node):"password"===this.node.type&&(e=Array(e.length+1).join("â€¢")),0===e.length?this.node.placeholder||"":e},u.prototype.MATRIX_PROPERTY=/(matrix|matrix3d)\((.+)\)/,u.prototype.TEXT_SHADOW_PROPERTY=/((rgba|rgb)\([^\)]+\)(\s-?\d+px){0,})/g,u.prototype.TEXT_SHADOW_VALUES=/(-?\d+px)|(#.+)|(rgb\(.+\))|(rgba\(.+\))/g,u.prototype.CLIP=/^rect\((\d+)px,? (\d+)px,? (\d+)px,? (\d+)px\)$/,t.exports=u},{"./color":3,"./utils":26}],15:[function(e,t,n){var s=e("./log"),u=e("punycode"),c=e("./nodecontainer"),l=e("./textcontainer"),p=e("./pseudoelementcontainer"),f=e("./fontmetrics"),d=e("./color"),h=e("./stackingcontext"),r=e("./utils"),v=r.bind,a=r.getBounds,g=r.parseBackgrounds,m=r.offsetBounds;function i(e,t,n,r,i){s("Starting NodeParser"),this.renderer=t,this.options=i,this.range=null,this.support=n,this.renderQueue=[],this.stack=new h(!0,1,e.ownerDocument,null);var o=new c(e,null);if(i.background&&t.rectangle(0,0,t.width,t.height,new d(i.background)),e===e.ownerDocument.documentElement){var a=new c(o.color("backgroundColor").isTransparent()?e.ownerDocument.body:e.ownerDocument.documentElement,null);t.rectangle(0,0,t.width,t.height,a.color("backgroundColor"))}o.visibile=o.isElementVisible(),this.createPseudoHideStyles(e.ownerDocument),this.disableAnimations(e.ownerDocument),this.nodes=H([o].concat(this.getChildren(o)).filter(function(e){return e.visible=e.isElementVisible()}).map(this.getPseudoElements,this)),this.fontMetrics=new f,s("Fetched nodes, total:",this.nodes.length),s("Calculate overflow clips"),this.calculateOverflowClips(),s("Start fetching images"),this.images=r.fetch(this.nodes.filter(j)),this.ready=this.images.ready.then(v(function(){return s("Images loaded, starting parsing"),s("Creating stacking contexts"),this.createStackingContexts(),s("Sorting stacking contexts"),this.sortStackingContexts(this.stack),this.parse(this.stack),s("Render queue created with "+this.renderQueue.length+" items"),new Promise(v(function(e){i.async?"function"==typeof i.async?i.async.call(this,this.renderQueue,e):0<this.renderQueue.length?(this.renderIndex=0,this.asyncRenderer(this.renderQueue,e)):e():(this.renderQueue.forEach(this.paint,this),e())},this))},this))}function o(e){return e.parent&&e.parent.clip.length}function y(){}i.prototype.calculateOverflowClips=function(){this.nodes.forEach(function(e){if(j(e)){L(e)&&e.appendToDOM(),e.borders=this.parseBorders(e);var t="hidden"===e.css("overflow")?[e.borders.clip]:[],n=e.parseClip();n&&-1!==["absolute","fixed"].indexOf(e.css("position"))&&t.push([["rect",e.bounds.left+n.left,e.bounds.top+n.top,n.right-n.left,n.bottom-n.top]]),e.clip=o(e)?e.parent.clip.concat(t):t,e.backgroundClip="hidden"!==e.css("overflow")?e.clip.concat([e.borders.clip]):e.clip,L(e)&&e.cleanDOM()}else B(e)&&(e.clip=o(e)?e.parent.clip:[]);L(e)||(e.bounds=null)},this)},i.prototype.asyncRenderer=function(e,t,n){n=n||Date.now(),this.paint(e[this.renderIndex++]),e.length===this.renderIndex?t():n+20>Date.now()?this.asyncRenderer(e,t,n):setTimeout(v(function(){this.asyncRenderer(e,t)},this),0)},i.prototype.createPseudoHideStyles=function(e){this.createStyles(e,"."+p.prototype.PSEUDO_HIDE_ELEMENT_CLASS_BEFORE+':before { content: "" !important; display: none !important; }.'+p.prototype.PSEUDO_HIDE_ELEMENT_CLASS_AFTER+':after { content: "" !important; display: none !important; }')},i.prototype.disableAnimations=function(e){this.createStyles(e,"* { -webkit-animation: none !important; -moz-animation: none !important; -o-animation: none !important; animation: none !important; -webkit-transition: none !important; -moz-transition: none !important; -o-transition: none !important; transition: none !important;}")},i.prototype.createStyles=function(e,t){var n=e.createElement("style");n.innerHTML=t,e.body.appendChild(n)},i.prototype.getPseudoElements=function(e){var t=[[e]];if(e.node.nodeType===Node.ELEMENT_NODE){var n=this.getPseudoElement(e,":before"),r=this.getPseudoElement(e,":after");n&&t.push(n),r&&t.push(r)}return H(t)},i.prototype.getPseudoElement=function(e,t){var n=e.computedStyle(t);if(!n||!n.content||"none"===n.content||"-moz-alt-content"===n.content||"none"===n.display)return null;for(var r=function(e){var t=e.substr(0,1);return t===e.substr(e.length-1)&&t.match(/'|"/)?e.substr(1,e.length-2):e}(n.content),i="url"===r.substr(0,3),o=document.createElement(i?"img":"html2canvaspseudoelement"),a=new p(o,e,t),s=n.length-1;0<=s;s--){var u=n.item(s).replace(/(\-[a-z])/g,function(e){return e.toUpperCase().replace("-","")});o.style[u]=n[u]}if(o.className=p.prototype.PSEUDO_HIDE_ELEMENT_CLASS_BEFORE+" "+p.prototype.PSEUDO_HIDE_ELEMENT_CLASS_AFTER,i)return o.src=g(r)[0].args[0],[a];var c=document.createTextNode(r);return o.appendChild(c),[a,new l(c,a)]},i.prototype.getChildren=function(n){return H([].filter.call(n.node.childNodes,I).map(function(e){var t=[e.nodeType===Node.TEXT_NODE?new l(e,n):new c(e,n)].filter(U);return e.nodeType===Node.ELEMENT_NODE&&t.length&&"TEXTAREA"!==e.tagName?t[0].isElementVisible()?t.concat(this.getChildren(t[0])):[]:t},this))},i.prototype.newStackingContext=function(e,t){var n=new h(t,e.getOpacity(),e.node,e.parent);e.cloneTo(n),(t?n.getParentStack(this):n.parent.stack).contexts.push(n),e.stack=n},i.prototype.createStackingContexts=function(){this.nodes.forEach(function(e){j(e)&&(this.isRootElement(e)||function(e){return e.getOpacity()<1}(e)||function(e){var t=e.css("position");return"auto"!==(-1!==["absolute","relative","fixed"].indexOf(t)?e.css("zIndex"):"auto")}(e)||this.isBodyWithTransparentRoot(e)||e.hasTransform())?this.newStackingContext(e,!0):j(e)&&(M(e)&&P(e)||function(e){return-1!==["inline-block","inline-table"].indexOf(e.css("display"))}(e)||N(e))?this.newStackingContext(e,!1):e.assignStack(e.parent.stack)},this)},i.prototype.isBodyWithTransparentRoot=function(e){return"BODY"===e.node.nodeName&&e.parent.color("backgroundColor").isTransparent()},i.prototype.isRootElement=function(e){return null===e.parent},i.prototype.sortStackingContexts=function(e){e.contexts.sort(function(n){return function(e,t){return e.cssInt("zIndex")+n.indexOf(e)/n.length-(t.cssInt("zIndex")+n.indexOf(t)/n.length)}}(e.contexts.slice(0))),e.contexts.forEach(this.sortStackingContexts,this)},i.prototype.parseTextBounds=function(a){return function(e,t,n){if("none"!==a.parent.css("textDecoration").substr(0,4)||0!==e.trim().length){if(this.support.rangeBounds&&!a.parent.hasTransform()){var r=n.slice(0,t).join("").length;return this.getRangeBounds(a.node,r,e.length)}if(a.node&&"string"==typeof a.node.data){var i=a.node.splitText(e.length),o=this.getWrapperBounds(a.node,a.parent.hasTransform());return a.node=i,o}}else this.support.rangeBounds&&!a.parent.hasTransform()||(a.node=a.node.splitText(e.length));return{}}},i.prototype.getWrapperBounds=function(e,t){var n=e.ownerDocument.createElement("html2canvaswrapper"),r=e.parentNode,i=e.cloneNode(!0);n.appendChild(e.cloneNode(!0)),r.replaceChild(n,e);var o=t?m(n):a(n);return r.replaceChild(i,n),o},i.prototype.getRangeBounds=function(e,t,n){var r=this.range||(this.range=e.ownerDocument.createRange());return r.setStart(e,t),r.setEnd(e,t+n),r.getBoundingClientRect()},i.prototype.parse=function(e){var t=e.contexts.filter(O),n=e.children.filter(j),r=n.filter(D(N)),i=r.filter(D(M)).filter(D(T)),o=n.filter(D(M)).filter(N),a=r.filter(D(M)).filter(T),s=e.contexts.concat(r.filter(M)).filter(P),u=e.children.filter(B).filter(A),c=e.contexts.filter(k);t.concat(i).concat(o).concat(a).concat(s).concat(u).concat(c).forEach(function(e){this.renderQueue.push(e),R(e)&&(this.parse(e),this.renderQueue.push(new y))},this)},i.prototype.paint=function(e){try{e instanceof y?this.renderer.ctx.restore():B(e)?(L(e.parent)&&e.parent.appendToDOM(),this.paintText(e),L(e.parent)&&e.parent.cleanDOM()):this.paintNode(e)}catch(e){if(s(e),this.options.strict)throw e}},i.prototype.paintNode=function(e){R(e)&&(this.renderer.setOpacity(e.opacity),this.renderer.ctx.save(),e.hasTransform()&&this.renderer.setTransform(e.parseTransform())),"INPUT"===e.node.nodeName&&"checkbox"===e.node.type?this.paintCheckbox(e):"INPUT"===e.node.nodeName&&"radio"===e.node.type?this.paintRadio(e):this.paintElement(e)},i.prototype.paintElement=function(n){var r=n.parseBounds();this.renderer.clip(n.backgroundClip,function(){this.renderer.renderBackground(n,r,n.borders.borders.map(z))},this),this.renderer.clip(n.clip,function(){this.renderer.renderBorders(n.borders.borders)},this),this.renderer.clip(n.backgroundClip,function(){switch(n.node.nodeName){case"svg":case"IFRAME":var e=this.images.get(n.node);e?this.renderer.renderImage(n,r,n.borders,e):s("Error loading <"+n.node.nodeName+">",n.node);break;case"IMG":var t=this.images.get(n.node.src);t?this.renderer.renderImage(n,r,n.borders,t):s("Error loading <img>",n.node.src);break;case"CANVAS":this.renderer.renderImage(n,r,n.borders,{image:n.node});break;case"SELECT":case"INPUT":case"TEXTAREA":this.paintFormValue(n)}},this)},i.prototype.paintCheckbox=function(e){var t=e.parseBounds(),n=Math.min(t.width,t.height),r={width:n-1,height:n-1,top:t.top,left:t.left},i=[3,3],o=[i,i,i,i],a=[1,1,1,1].map(function(e){return{color:new d("#A5A5A5"),width:e}}),s=_(r,o,a);this.renderer.clip(e.backgroundClip,function(){this.renderer.rectangle(r.left+1,r.top+1,r.width-2,r.height-2,new d("#DEDEDE")),this.renderer.renderBorders(w(a,r,s,o)),e.node.checked&&(this.renderer.font(new d("#424242"),"normal","normal","bold",n-3+"px","arial"),this.renderer.text("âœ”",r.left+n/6,r.top+n-1))},this)},i.prototype.paintRadio=function(e){var t=e.parseBounds(),n=Math.min(t.width,t.height)-2;this.renderer.clip(e.backgroundClip,function(){this.renderer.circleStroke(t.left+1,t.top+1,n,new d("#DEDEDE"),1,new d("#A5A5A5")),e.node.checked&&this.renderer.circle(Math.ceil(t.left+n/4)+1,Math.ceil(t.top+n/4)+1,Math.floor(n/2),new d("#424242"))},this)},i.prototype.paintFormValue=function(t){var e=t.getValue();if(0<e.length){var n=t.node.ownerDocument,r=n.createElement("html2canvaswrapper");["lineHeight","textAlign","fontFamily","fontWeight","fontSize","color","paddingLeft","paddingTop","paddingRight","paddingBottom","width","height","borderLeftStyle","borderTopStyle","borderLeftWidth","borderTopWidth","boxSizing","whiteSpace","wordWrap"].forEach(function(e){try{r.style[e]=t.css(e)}catch(e){s("html2canvas: Parse: Exception caught in renderFormValue: "+e.message)}});var i=t.parseBounds();r.style.position="fixed",r.style.left=i.left+"px",r.style.top=i.top+"px",r.textContent=e,n.body.appendChild(r),this.paintText(new l(r.firstChild,t)),n.body.removeChild(r)}},i.prototype.paintText=function(n){n.applyTextTransform();var e=u.ucs2.decode(n.node.data),r=this.options.letterRendering&&!function(e){return/^(normal|none|0px)$/.test(e.parent.css("letterSpacing"))}(n)||function(e){return/[^\u0000-\u00ff]/.test(e)}(n.node.data)?e.map(function(e){return u.ucs2.encode([e])}):function(e){var t,n=[],r=0,i=!1;for(;e.length;)o=e[r],-1!==[32,13,10,9,45].indexOf(o)===i?((t=e.splice(0,r)).length&&n.push(u.ucs2.encode(t)),i=!i,r=0):r++,r>=e.length&&(t=e.splice(0,r)).length&&n.push(u.ucs2.encode(t));var o;return n}(e),t=n.parent.fontWeight(),i=n.parent.css("fontSize"),o=n.parent.css("fontFamily"),a=n.parent.parseTextShadows();this.renderer.font(n.parent.color("color"),n.parent.css("fontStyle"),n.parent.css("fontVariant"),t,i,o),a.length?this.renderer.fontShadow(a[0].color,a[0].offsetX,a[0].offsetY,a[0].blur):this.renderer.clearShadow(),this.renderer.clip(n.parent.clip,function(){r.map(this.parseTextBounds(n),this).forEach(function(e,t){e&&(this.renderer.text(r[t],e.left,e.bottom),this.renderTextDecoration(n.parent,e,this.fontMetrics.getMetrics(o,i)))},this)},this)},i.prototype.renderTextDecoration=function(e,t,n){switch(e.css("textDecoration").split(" ")[0]){case"underline":this.renderer.rectangle(t.left,Math.round(t.top+n.baseline+n.lineWidth),t.width,1,e.color("color"));break;case"overline":this.renderer.rectangle(t.left,Math.round(t.top),t.width,1,e.color("color"));break;case"line-through":this.renderer.rectangle(t.left,Math.ceil(t.top+n.middle+n.lineWidth),t.width,1,e.color("color"))}};var b={inset:[["darken",.6],["darken",.1],["darken",.1],["darken",.6]]};function w(a,s,u,c){return a.map(function(e,t){if(0<e.width){var n=s.left,r=s.top,i=s.width,o=s.height-a[2].width;switch(t){case 0:o=a[0].width,e.args=E({c1:[n,r],c2:[n+i,r],c3:[n+i-a[1].width,r+o],c4:[n+a[3].width,r+o]},c[0],c[1],u.topLeftOuter,u.topLeftInner,u.topRightOuter,u.topRightInner);break;case 1:n=s.left+s.width-a[1].width,i=a[1].width,e.args=E({c1:[n+i,r],c2:[n+i,r+o+a[2].width],c3:[n,r+o],c4:[n,r+a[0].width]},c[1],c[2],u.topRightOuter,u.topRightInner,u.bottomRightOuter,u.bottomRightInner);break;case 2:r=r+s.height-a[2].width,o=a[2].width,e.args=E({c1:[n+i,r+o],c2:[n,r+o],c3:[n+a[3].width,r],c4:[n+i-a[3].width,r]},c[2],c[3],u.bottomRightOuter,u.bottomRightInner,u.bottomLeftOuter,u.bottomLeftInner);break;case 3:i=a[3].width,e.args=E({c1:[n,r+o+a[2].width],c2:[n,r],c3:[n+i,r+a[0].width],c4:[n+i,r+o]},c[3],c[0],u.bottomLeftOuter,u.bottomLeftInner,u.topLeftOuter,u.topLeftInner)}}return e})}function S(e,t,n,r){var i=(Math.sqrt(2)-1)/3*4,o=n*i,a=r*i,s=e+n,u=t+r;return{topLeft:C({x:e,y:u},{x:e,y:u-a},{x:s-o,y:t},{x:s,y:t}),topRight:C({x:e,y:t},{x:e+o,y:t},{x:s,y:u-a},{x:s,y:u}),bottomRight:C({x:s,y:t},{x:s,y:t+a},{x:e+o,y:u},{x:e,y:u}),bottomLeft:C({x:s,y:u},{x:s-o,y:u},{x:e,y:t+a},{x:e,y:t})}}function _(e,t,n){var r=e.left,i=e.top,o=e.width,a=e.height,s=t[0][0]<o/2?t[0][0]:o/2,u=t[0][1]<a/2?t[0][1]:a/2,c=t[1][0]<o/2?t[1][0]:o/2,l=t[1][1]<a/2?t[1][1]:a/2,p=t[2][0]<o/2?t[2][0]:o/2,f=t[2][1]<a/2?t[2][1]:a/2,d=t[3][0]<o/2?t[3][0]:o/2,h=t[3][1]<a/2?t[3][1]:a/2,v=o-c,g=a-f,m=o-p,y=a-h;return{topLeftOuter:S(r,i,s,u).topLeft.subdivide(.5),topLeftInner:S(r+n[3].width,i+n[0].width,Math.max(0,s-n[3].width),Math.max(0,u-n[0].width)).topLeft.subdivide(.5),topRightOuter:S(r+v,i,c,l).topRight.subdivide(.5),topRightInner:S(r+Math.min(v,o+n[3].width),i+n[0].width,v>o+n[3].width?0:c-n[3].width,l-n[0].width).topRight.subdivide(.5),bottomRightOuter:S(r+m,i+g,p,f).bottomRight.subdivide(.5),bottomRightInner:S(r+Math.min(m,o-n[3].width),i+Math.min(g,a+n[0].width),Math.max(0,p-n[1].width),f-n[2].width).bottomRight.subdivide(.5),bottomLeftOuter:S(r,i+y,d,h).bottomLeft.subdivide(.5),bottomLeftInner:S(r+n[3].width,i+y,Math.max(0,d-n[3].width),h-n[2].width).bottomLeft.subdivide(.5)}}function C(s,u,c,l){var p=function(e,t,n){return{x:e.x+(t.x-e.x)*n,y:e.y+(t.y-e.y)*n}};return{start:s,startControl:u,endControl:c,end:l,subdivide:function(e){var t=p(s,u,e),n=p(u,c,e),r=p(c,l,e),i=p(t,n,e),o=p(n,r,e),a=p(i,o,e);return[C(s,t,i,a),C(a,o,r,l)]},curveTo:function(e){e.push(["bezierCurve",u.x,u.y,c.x,c.y,l.x,l.y])},curveToReversed:function(e){e.push(["bezierCurve",c.x,c.y,u.x,u.y,s.x,s.y])}}}function E(e,t,n,r,i,o,a){var s=[];return 0<t[0]||0<t[1]?(s.push(["line",r[1].start.x,r[1].start.y]),r[1].curveTo(s)):s.push(["line",e.c1[0],e.c1[1]]),0<n[0]||0<n[1]?(s.push(["line",o[0].start.x,o[0].start.y]),o[0].curveTo(s),s.push(["line",a[0].end.x,a[0].end.y]),a[0].curveToReversed(s)):(s.push(["line",e.c2[0],e.c2[1]]),s.push(["line",e.c3[0],e.c3[1]])),0<t[0]||0<t[1]?(s.push(["line",i[1].end.x,i[1].end.y]),i[1].curveToReversed(s)):s.push(["line",e.c4[0],e.c4[1]]),s}function x(e,t,n,r,i,o,a){0<t[0]||0<t[1]?(e.push(["line",r[0].start.x,r[0].start.y]),r[0].curveTo(e),r[1].curveTo(e)):e.push(["line",o,a]),(0<n[0]||0<n[1])&&e.push(["line",i[0].start.x,i[0].start.y])}function O(e){return e.cssInt("zIndex")<0}function k(e){return 0<e.cssInt("zIndex")}function P(e){return 0===e.cssInt("zIndex")}function T(e){return-1!==["inline","inline-block","inline-table"].indexOf(e.css("display"))}function R(e){return e instanceof h}function A(e){return 0<e.node.data.trim().length}function I(e){return e.nodeType===Node.TEXT_NODE||e.nodeType===Node.ELEMENT_NODE}function M(e){return"static"!==e.css("position")}function N(e){return"none"!==e.css("float")}function D(e){var t=this;return function(){return!e.apply(t,arguments)}}function j(e){return e.node.nodeType===Node.ELEMENT_NODE}function L(e){return!0===e.isPseudoElement}function B(e){return e.node.nodeType===Node.TEXT_NODE}function F(e){return parseInt(e,10)}function z(e){return e.width}function U(e){return e.node.nodeType!==Node.ELEMENT_NODE||-1===["SCRIPT","HEAD","TITLE","OBJECT","BR","OPTION"].indexOf(e.node.nodeName)}function H(e){return[].concat.apply([],e)}i.prototype.parseBorders=function(o){var e=o.parseBounds(),t=function(r){return["TopLeft","TopRight","BottomRight","BottomLeft"].map(function(e){var t=r.css("border"+e+"Radius"),n=t.split(" ");return n.length<=1&&(n[1]=n[0]),n.map(F)})}(o),n=["Top","Right","Bottom","Left"].map(function(e,t){var n=o.css("border"+e+"Style"),r=o.color("border"+e+"Color");"inset"===n&&r.isBlack()&&(r=new d([255,255,255,r.a]));var i=b[n]?b[n][t]:null;return{width:o.cssInt("border"+e+"Width"),color:i?r[i[0]](i[1]):r,args:null}}),r=_(e,t,n);return{clip:this.parseBackgroundClip(o,r,n,t,e),borders:w(n,e,r,t)}},i.prototype.parseBackgroundClip=function(e,t,n,r,i){var o=[];switch(e.css("backgroundClip")){case"content-box":case"padding-box":x(o,r[0],r[1],t.topLeftInner,t.topRightInner,i.left+n[3].width,i.top+n[0].width),x(o,r[1],r[2],t.topRightInner,t.bottomRightInner,i.left+i.width-n[1].width,i.top+n[0].width),x(o,r[2],r[3],t.bottomRightInner,t.bottomLeftInner,i.left+i.width-n[1].width,i.top+i.height-n[2].width),x(o,r[3],r[0],t.bottomLeftInner,t.topLeftInner,i.left+n[3].width,i.top+i.height-n[2].width);break;default:x(o,r[0],r[1],t.topLeftOuter,t.topRightOuter,i.left,i.top),x(o,r[1],r[2],t.topRightOuter,t.bottomRightOuter,i.left+i.width,i.top),x(o,r[2],r[3],t.bottomRightOuter,t.bottomLeftOuter,i.left+i.width,i.top+i.height),x(o,r[3],r[0],t.bottomLeftOuter,t.topLeftOuter,i.left,i.top+i.height)}return o},t.exports=i},{"./color":3,"./fontmetrics":7,"./log":13,"./nodecontainer":14,"./pseudoelementcontainer":18,"./stackingcontext":21,"./textcontainer":25,"./utils":26,punycode:1}],16:[function(e,t,n){var a=e("./xhr"),r=e("./utils"),s=e("./log"),u=e("./clone"),c=r.decode64;function l(e,t,n){var r="withCredentials"in new XMLHttpRequest;if(!t)return Promise.reject("No proxy configured");var i=f(r),o=d(t,e,i);return r?a(o):p(n,o,i).then(function(e){return c(e.content)})}var i=0;function p(i,o,a){return new Promise(function(t,n){var e=i.createElement("script"),r=function(){delete window.html2canvas.proxy[a],i.body.removeChild(e)};window.html2canvas.proxy[a]=function(e){r(),t(e)},e.src=o,e.onerror=function(e){r(),n(e)},i.body.appendChild(e)})}function f(e){return e?"":"html2canvas_"+Date.now()+"_"+ ++i+"_"+Math.round(1e5*Math.random())}function d(e,t,n){return e+"?url="+encodeURIComponent(t)+(n.length?"&callback=html2canvas.proxy."+n:"")}n.Proxy=l,n.ProxyURL=function(e,t,n){var r="crossOrigin"in new Image,i=f(r),o=d(t,e,i);return r?Promise.resolve(o):p(n,o,i).then(function(e){return"data:"+e.type+";base64,"+e.content})},n.loadUrlDocument=function(e,t,n,r,i,o){return new l(e,t,window.document).then(function(o){return function(t){var n,e=new DOMParser;try{n=e.parseFromString(t,"text/html")}catch(e){s("DOMParser not supported, falling back to createHTMLDocument"),n=document.implementation.createHTMLDocument("");try{n.open(),n.write(t),n.close()}catch(e){s("createHTMLDocument write not supported, falling back to document.body.innerHTML"),n.body.innerHTML=t}}var r=n.querySelector("base");if(!r||!r.href.host){var i=n.createElement("base");i.href=o,n.head.insertBefore(i,n.head.firstChild)}return n}}(e)).then(function(e){return u(e,n,r,i,o,0,0)})}},{"./clone":2,"./log":13,"./utils":26,"./xhr":28}],17:[function(e,t,n){var o=e("./proxy").ProxyURL;t.exports=function(n,r){var e=document.createElement("a");e.href=n,n=e.href,this.src=n,this.image=new Image;var i=this;this.promise=new Promise(function(e,t){i.image.crossOrigin="Anonymous",i.image.onload=e,i.image.onerror=t,new o(n,r,document).then(function(e){i.image.src=e}).catch(t)})}},{"./proxy":16}],18:[function(e,t,n){var r=e("./nodecontainer");function i(e,t,n){r.call(this,e,t),this.isPseudoElement=!0,this.before=":before"===n}i.prototype.cloneTo=function(e){i.prototype.cloneTo.call(this,e),e.isPseudoElement=!0,e.before=this.before},(i.prototype=Object.create(r.prototype)).appendToDOM=function(){this.before?this.parent.node.insertBefore(this.node,this.parent.node.firstChild):this.parent.node.appendChild(this.node),this.parent.node.className+=" "+this.getHideClass()},i.prototype.cleanDOM=function(){this.node.parentNode.removeChild(this.node),this.parent.node.className=this.parent.node.className.replace(this.getHideClass(),"")},i.prototype.getHideClass=function(){return this["PSEUDO_HIDE_ELEMENT_CLASS_"+(this.before?"BEFORE":"AFTER")]},i.prototype.PSEUDO_HIDE_ELEMENT_CLASS_BEFORE="___html2canvas___pseudoelement_before",i.prototype.PSEUDO_HIDE_ELEMENT_CLASS_AFTER="___html2canvas___pseudoelement_after",t.exports=i},{"./nodecontainer":14}],19:[function(e,t,n){var u=e("./log");function r(e,t,n,r,i){this.width=e,this.height=t,this.images=n,this.options=r,this.document=i}r.prototype.renderImage=function(e,t,n,r){var i=e.cssInt("paddingLeft"),o=e.cssInt("paddingTop"),a=e.cssInt("paddingRight"),s=e.cssInt("paddingBottom"),u=n.borders,c=t.width-(u[1].width+u[3].width+i+a),l=t.height-(u[0].width+u[2].width+o+s);this.drawImage(r,0,0,r.image.width||c,r.image.height||l,t.left+i+u[3].width,t.top+o+u[0].width,c,l)},r.prototype.renderBackground=function(e,t,n){0<t.height&&0<t.width&&(this.renderBackgroundColor(e,t),this.renderBackgroundImage(e,t,n))},r.prototype.renderBackgroundColor=function(e,t){var n=e.color("backgroundColor");n.isTransparent()||this.rectangle(t.left,t.top,t.width,t.height,n)},r.prototype.renderBorders=function(e){e.forEach(this.renderBorder,this)},r.prototype.renderBorder=function(e){e.color.isTransparent()||null===e.args||this.drawShape(e.args,e.color)},r.prototype.renderBackgroundImage=function(o,a,s){o.parseBackgroundImages().reverse().forEach(function(e,t,n){switch(e.method){case"url":var r=this.images.get(e.args[0]);r?this.renderBackgroundRepeating(o,a,r,n.length-(t+1),s):u("Error loading background-image",e.args[0]);break;case"linear-gradient":case"gradient":var i=this.images.get(e.value);i?this.renderBackgroundGradient(i,a,s):u("Error loading background-image",e.args[0]);break;case"none":break;default:u("Unknown background-image type",e.args[0])}},this)},r.prototype.renderBackgroundRepeating=function(e,t,n,r,i){var o=e.parseBackgroundSize(t,n.image,r),a=e.parseBackgroundPosition(t,n.image,r,o);switch(e.parseBackgroundRepeat(r)){case"repeat-x":case"repeat no-repeat":this.backgroundRepeatShape(n,a,o,t,t.left+i[3],t.top+a.top+i[0],99999,o.height,i);break;case"repeat-y":case"no-repeat repeat":this.backgroundRepeatShape(n,a,o,t,t.left+a.left+i[3],t.top+i[0],o.width,99999,i);break;case"no-repeat":this.backgroundRepeatShape(n,a,o,t,t.left+a.left+i[3],t.top+a.top+i[0],o.width,o.height,i);break;default:this.renderBackgroundRepeat(n,a,o,{top:t.top,left:t.left},i[3],i[0])}},t.exports=r},{"./log":13}],20:[function(e,t,n){var r=e("../renderer"),i=e("../lineargradientcontainer"),o=e("../log");function a(e,t){r.apply(this,arguments),this.canvas=this.options.canvas||this.document.createElement("canvas"),this.options.canvas||(this.canvas.width=e,this.canvas.height=t),this.ctx=this.canvas.getContext("2d"),this.taintCtx=this.document.createElement("canvas").getContext("2d"),this.ctx.textBaseline="bottom",this.variables={},o("Initialized CanvasRenderer with size",e,"x",t)}function s(e){return 0<e.length}(a.prototype=Object.create(r.prototype)).setFillStyle=function(e){return this.ctx.fillStyle="object"==typeof e&&e.isColor?e.toString():e,this.ctx},a.prototype.rectangle=function(e,t,n,r,i){this.setFillStyle(i).fillRect(e,t,n,r)},a.prototype.circle=function(e,t,n,r){this.setFillStyle(r),this.ctx.beginPath(),this.ctx.arc(e+n/2,t+n/2,n/2,0,2*Math.PI,!0),this.ctx.closePath(),this.ctx.fill()},a.prototype.circleStroke=function(e,t,n,r,i,o){this.circle(e,t,n,r),this.ctx.strokeStyle=o.toString(),this.ctx.stroke()},a.prototype.drawShape=function(e,t){this.shape(e),this.setFillStyle(t).fill()},a.prototype.taints=function(t){if(null===t.tainted){this.taintCtx.drawImage(t.image,0,0);try{this.taintCtx.getImageData(0,0,1,1),t.tainted=!1}catch(e){this.taintCtx=document.createElement("canvas").getContext("2d"),t.tainted=!0}}return t.tainted},a.prototype.drawImage=function(e,t,n,r,i,o,a,s,u){this.taints(e)&&!this.options.allowTaint||this.ctx.drawImage(e.image,t,n,r,i,o,a,s,u)},a.prototype.clip=function(e,t,n){this.ctx.save(),e.filter(s).forEach(function(e){this.shape(e).clip()},this),t.call(n),this.ctx.restore()},a.prototype.shape=function(e){return this.ctx.beginPath(),e.forEach(function(e,t){"rect"===e[0]?this.ctx.rect.apply(this.ctx,e.slice(1)):this.ctx[0===t?"moveTo":e[0]+"To"].apply(this.ctx,e.slice(1))},this),this.ctx.closePath(),this.ctx},a.prototype.font=function(e,t,n,r,i,o){this.setFillStyle(e).font=[t,n,r,i,o].join(" ").split(",")[0]},a.prototype.fontShadow=function(e,t,n,r){this.setVariable("shadowColor",e.toString()).setVariable("shadowOffsetY",t).setVariable("shadowOffsetX",n).setVariable("shadowBlur",r)},a.prototype.clearShadow=function(){this.setVariable("shadowColor","rgba(0,0,0,0)")},a.prototype.setOpacity=function(e){this.ctx.globalAlpha=e},a.prototype.setTransform=function(e){this.ctx.translate(e.origin[0],e.origin[1]),this.ctx.transform.apply(this.ctx,e.matrix),this.ctx.translate(-e.origin[0],-e.origin[1])},a.prototype.setVariable=function(e,t){return this.variables[e]!==t&&(this.variables[e]=this.ctx[e]=t),this},a.prototype.text=function(e,t,n){this.ctx.fillText(e,t,n)},a.prototype.backgroundRepeatShape=function(e,t,n,r,i,o,a,s,u){var c=[["line",Math.round(i),Math.round(o)],["line",Math.round(i+a),Math.round(o)],["line",Math.round(i+a),Math.round(s+o)],["line",Math.round(i),Math.round(s+o)]];this.clip([c],function(){this.renderBackgroundRepeat(e,t,n,r,u[3],u[0])},this)},a.prototype.renderBackgroundRepeat=function(e,t,n,r,i,o){var a=Math.round(r.left+t.left+i),s=Math.round(r.top+t.top+o);this.setFillStyle(this.ctx.createPattern(this.resizeImage(e,n),"repeat")),this.ctx.translate(a,s),this.ctx.fill(),this.ctx.translate(-a,-s)},a.prototype.renderBackgroundGradient=function(e,t){if(e instanceof i){var n=this.ctx.createLinearGradient(t.left+t.width*e.x0,t.top+t.height*e.y0,t.left+t.width*e.x1,t.top+t.height*e.y1);e.colorStops.forEach(function(e){n.addColorStop(e.stop,e.color.toString())}),this.rectangle(t.left,t.top,t.width,t.height,n)}},a.prototype.resizeImage=function(e,t){var n=e.image;if(n.width===t.width&&n.height===t.height)return n;var r=document.createElement("canvas");return r.width=t.width,r.height=t.height,r.getContext("2d").drawImage(n,0,0,n.width,n.height,0,0,t.width,t.height),r},t.exports=a},{"../lineargradientcontainer":12,"../log":13,"../renderer":19}],21:[function(e,t,n){var i=e("./nodecontainer");function r(e,t,n,r){i.call(this,n,r),this.ownStacking=e,this.contexts=[],this.children=[],this.opacity=(this.parent?this.parent.stack.opacity:1)*t}(r.prototype=Object.create(i.prototype)).getParentStack=function(e){var t=this.parent?this.parent.stack:null;return t?t.ownStacking?t:t.getParentStack(e):e.stack},t.exports=r},{"./nodecontainer":14}],22:[function(e,t,n){function r(e){this.rangeBounds=this.testRangeBounds(e),this.cors=this.testCORS(),this.svg=this.testSVG()}r.prototype.testRangeBounds=function(e){var t,n,r=!1;return e.createRange&&(t=e.createRange()).getBoundingClientRect&&((n=e.createElement("boundtest")).style.height="123px",n.style.display="block",e.body.appendChild(n),t.selectNode(n),123===t.getBoundingClientRect().height&&(r=!0),e.body.removeChild(n)),r},r.prototype.testCORS=function(){return void 0!==(new Image).crossOrigin},r.prototype.testSVG=function(){var e=new Image,t=document.createElement("canvas"),n=t.getContext("2d");e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{n.drawImage(e,0,0),t.toDataURL()}catch(e){return!1}return!0},t.exports=r},{}],23:[function(e,t,n){var r=e("./xhr"),i=e("./utils").decode64;function o(e){this.src=e,this.image=null;var n=this;this.promise=this.hasFabric().then(function(){return n.isInline(e)?Promise.resolve(n.inlineFormatting(e)):r(e)}).then(function(t){return new Promise(function(e){window.html2canvas.svg.fabric.loadSVGFromString(t,n.createCanvas.call(n,e))})})}o.prototype.hasFabric=function(){return window.html2canvas.svg&&window.html2canvas.svg.fabric?Promise.resolve():Promise.reject(new Error("html2canvas.svg.js is not loaded, cannot render svg"))},o.prototype.inlineFormatting=function(e){return/^data:image\/svg\+xml;base64,/.test(e)?this.decode64(this.removeContentType(e)):this.removeContentType(e)},o.prototype.removeContentType=function(e){return e.replace(/^data:image\/svg\+xml(;base64)?,/,"")},o.prototype.isInline=function(e){return/^data:image\/svg\+xml/i.test(e)},o.prototype.createCanvas=function(r){var i=this;return function(e,t){var n=new window.html2canvas.svg.fabric.StaticCanvas("c");i.image=n.lowerCanvasEl,n.setWidth(t.width).setHeight(t.height).add(window.html2canvas.svg.fabric.util.groupSVGElements(e,t)).renderAll(),r(n.lowerCanvasEl)}},o.prototype.decode64=function(e){return"function"==typeof window.atob?window.atob(e):i(e)},t.exports=o},{"./utils":26,"./xhr":28}],24:[function(e,t,n){var r=e("./svgcontainer");function i(n,e){this.src=n,this.image=null;var r=this;this.promise=e?new Promise(function(e,t){r.image=new Image,r.image.onload=e,r.image.onerror=t,r.image.src="data:image/svg+xml,"+(new XMLSerializer).serializeToString(n),!0===r.image.complete&&e(r.image)}):this.hasFabric().then(function(){return new Promise(function(e){window.html2canvas.svg.fabric.parseSVGDocument(n,r.createCanvas.call(r,e))})})}i.prototype=Object.create(r.prototype),t.exports=i},{"./svgcontainer":23}],25:[function(e,t,n){var r=e("./nodecontainer");function i(e,t){r.call(this,e,t)}function o(e,t,n){if(0<e.length)return t+n.toUpperCase()}(i.prototype=Object.create(r.prototype)).applyTextTransform=function(){this.node.data=this.transform(this.parent.css("textTransform"))},i.prototype.transform=function(e){var t=this.node.data;switch(e){case"lowercase":return t.toLowerCase();case"capitalize":return t.replace(/(^|\s|:|-|\(|\))([a-z])/g,o);case"uppercase":return t.toUpperCase();default:return t}},t.exports=i},{"./nodecontainer":14}],26:[function(e,t,n){n.smallImage=function(){return"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"},n.bind=function(e,t){return function(){return e.apply(t,arguments)}},n.decode64=function(e){var t,n,r,i,o,a,s,u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",c=e.length,l="";for(t=0;t<c;t+=4)o=u.indexOf(e[t])<<2|(n=u.indexOf(e[t+1]))>>4,a=(15&n)<<4|(r=u.indexOf(e[t+2]))>>2,s=(3&r)<<6|(i=u.indexOf(e[t+3])),l+=64===r?String.fromCharCode(o):64===i||-1===i?String.fromCharCode(o,a):String.fromCharCode(o,a,s);return l},n.getBounds=function(e){if(e.getBoundingClientRect){var t=e.getBoundingClientRect(),n=null==e.offsetWidth?t.width:e.offsetWidth;return{top:t.top,bottom:t.bottom||t.top+t.height,right:t.left+n,left:t.left,width:n,height:null==e.offsetHeight?t.height:e.offsetHeight}}return{}},n.offsetBounds=function(e){var t=e.offsetParent?n.offsetBounds(e.offsetParent):{top:0,left:0};return{top:e.offsetTop+t.top,bottom:e.offsetTop+e.offsetHeight+t.top,right:e.offsetLeft+t.left+e.offsetWidth,left:e.offsetLeft+t.left,width:e.offsetWidth,height:e.offsetHeight}},n.parseBackgrounds=function(e){var t,n,r,i,o,a,s,u=[],c=0,l=0,p=function(){t&&('"'===n.substr(0,1)&&(n=n.substr(1,n.length-2)),n&&s.push(n),"-"===t.substr(0,1)&&0<(i=t.indexOf("-",1)+1)&&(r=t.substr(0,i),t=t.substr(i)),u.push({prefix:r,method:t.toLowerCase(),value:o,args:s,image:null})),s=[],t=r=n=o=""};return s=[],t=r=n=o="",e.split("").forEach(function(e){if(!(0===c&&-1<" \r\n\t".indexOf(e))){switch(e){case'"':a?a===e&&(a=null):a=e;break;case"(":if(a)break;if(0===c)return c=1,void(o+=e);l++;break;case")":if(a)break;if(1===c){if(0===l)return c=0,o+=e,void p();l--}break;case",":if(a)break;if(0===c)return void p();if(1===c&&0===l&&!t.match(/^url$/i))return s.push(n),n="",void(o+=e)}o+=e,0===c?t+=e:n+=e}}),p(),u}},{}],27:[function(e,t,n){var r=e("./gradientcontainer");function i(e){r.apply(this,arguments),this.type="linear"===e.args[0]?r.TYPES.LINEAR:r.TYPES.RADIAL}i.prototype=Object.create(r.prototype),t.exports=i},{"./gradientcontainer":9}],28:[function(e,t,n){t.exports=function(r){return new Promise(function(e,t){var n=new XMLHttpRequest;n.open("GET",r),n.onload=function(){200===n.status?e(n.responseText):t(new Error(n.statusText))},n.onerror=function(){t(new Error("Network Error"))},n.send()})}},{}]},{},[4])(4)})},function(e,t,n){!function(e){var g={not_string:/[^s]/,number:/[diefg]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijosuxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[\+\-]/};function m(){var e=arguments[0],t=m.cache;return t[e]&&t.hasOwnProperty(e)||(t[e]=m.parse(e)),m.format.call(null,t[e],arguments)}m.format=function(e,t){var n,r,i,o,a,s,u,c,l=1,p=e.length,f="",d=[],h=!0,v="";for(r=0;r<p;r++)if("string"===(f=y(e[r])))d[d.length]=e[r];else if("array"===f){if((o=e[r])[2])for(n=t[l],i=0;i<o[2].length;i++){if(!n.hasOwnProperty(o[2][i]))throw new Error(m("[sprintf] property '%s' does not exist",o[2][i]));n=n[o[2][i]]}else n=o[1]?t[o[1]]:t[l++];if("function"==y(n)&&(n=n()),g.not_string.test(o[8])&&g.not_json.test(o[8])&&"number"!=y(n)&&isNaN(n))throw new TypeError(m("[sprintf] expecting number but found %s",y(n)));switch(g.number.test(o[8])&&(h=0<=n),o[8]){case"b":n=n.toString(2);break;case"c":n=String.fromCharCode(n);break;case"d":case"i":n=parseInt(n,10);break;case"j":n=JSON.stringify(n,null,o[6]?parseInt(o[6]):0);break;case"e":n=o[7]?n.toExponential(o[7]):n.toExponential();break;case"f":n=o[7]?parseFloat(n).toFixed(o[7]):parseFloat(n);break;case"g":n=o[7]?parseFloat(n).toPrecision(o[7]):parseFloat(n);break;case"o":n=n.toString(8);break;case"s":n=(n=String(n))&&o[7]?n.substring(0,o[7]):n;break;case"u":n>>>=0;break;case"x":n=n.toString(16);break;case"X":n=n.toString(16).toUpperCase()}g.json.test(o[8])?d[d.length]=n:(!g.number.test(o[8])||h&&!o[3]?v="":(v=h?"+":"-",n=n.toString().replace(g.sign,"")),s=o[4]?"0"===o[4]?"0":o[4].charAt(1):" ",u=o[6]-(v+n).length,a=o[6]&&0<u?(c=s,Array(u+1).join(c)):"",d[d.length]=o[5]?v+n+a:"0"===s?v+a+n:a+v+n)}return d.join("")},m.cache={},m.parse=function(e){for(var t=e,n=[],r=[],i=0;t;){if(null!==(n=g.text.exec(t)))r[r.length]=n[0];else if(null!==(n=g.modulo.exec(t)))r[r.length]="%";else{if(null===(n=g.placeholder.exec(t)))throw new SyntaxError("[sprintf] unexpected placeholder");if(n[2]){i|=1;var o=[],a=n[2],s=[];if(null===(s=g.key.exec(a)))throw new SyntaxError("[sprintf] failed to parse named argument key");for(o[o.length]=s[1];""!==(a=a.substring(s[0].length));)if(null!==(s=g.key_access.exec(a)))o[o.length]=s[1];else{if(null===(s=g.index_access.exec(a)))throw new SyntaxError("[sprintf] failed to parse named argument key");o[o.length]=s[1]}n[2]=o}else i|=2;if(3===i)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");r[r.length]=n}t=t.substring(n[0].length)}return r};function y(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}t.sprintf=m,t.vsprintf=function(e,t,n){return(n=(t||[]).slice(0)).splice(0,0,e),m.apply(null,n)}}("undefined"==typeof window||window)},function(e,t,n){"use strict";var i=n(581),u=n(96),c=n(219),o=n(1353),l=n(1354),p=n(1115),f=n(2260),a=n(2261),d=n(751),h=n(2273),s=function(e,t,n){var r,i=u.getTypeOf(t);(n=u.extend(n||{},l)).date=n.date||new Date,null!==n.compression&&(n.compression=n.compression.toUpperCase()),"string"==typeof n.unixPermissions&&(n.unixPermissions=parseInt(n.unixPermissions,8)),n.unixPermissions&&16384&n.unixPermissions&&(n.dir=!0),n.dosPermissions&&16&n.dosPermissions&&(n.dir=!0),n.dir&&(e=g(e)),n.createFolders&&(r=v(e))&&m.call(this,r,!0);var o="string"===i&&!1===n.binary&&!1===n.base64;n.binary=!o,(t instanceof p&&0===t.uncompressedSize||n.dir||!t||0===t.length)&&(n.base64=!1,n.binary=!0,t="",n.compression="STORE",i="string");var a=null;a=t instanceof p||t instanceof c?t:d.isNode&&d.isStream(t)?new h(e,t):u.prepareContent(e,t,n.binary,n.optimizedBinaryString,n.base64);var s=new f(e,a,n);this.files[e]=s},v=function(e){"/"===e.slice(-1)&&(e=e.substring(0,e.length-1));var t=e.lastIndexOf("/");return 0<t?e.substring(0,t):""},g=function(e){return"/"!==e.slice(-1)&&(e+="/"),e},m=function(e,t){return t=void 0!==t?t:l.createFolders,e=g(e),this.files[e]||s.call(this,e,null,{dir:!0,createFolders:t}),this.files[e]};function y(e){return"[object RegExp]"===Object.prototype.toString.call(e)}var r={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(e){var t,n,r;for(t in this.files)this.files.hasOwnProperty(t)&&(r=this.files[t],(n=t.slice(this.root.length,t.length))&&t.slice(0,this.root.length)===this.root&&e(n,r))},filter:function(n){var r=[];return this.forEach(function(e,t){n(e,t)&&r.push(t)}),r},file:function(e,t,n){if(1!==arguments.length)return e=this.root+e,s.call(this,e,t,n),this;if(y(e)){var r=e;return this.filter(function(e,t){return!t.dir&&r.test(e)})}var i=this.files[this.root+e];return i&&!i.dir?i:null},folder:function(n){if(!n)return this;if(y(n))return this.filter(function(e,t){return t.dir&&n.test(e)});var e=this.root+n,t=m.call(this,e),r=this.clone();return r.root=t.name,r},remove:function(n){n=this.root+n;var e=this.files[n];if(e||("/"!==n.slice(-1)&&(n+="/"),e=this.files[n]),e&&!e.dir)delete this.files[n];else for(var t=this.filter(function(e,t){return t.name.slice(0,n.length)===n}),r=0;r<t.length;r++)delete this.files[t[r].name];return this},generate:function(e){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(e){var t,n={};try{if((n=u.extend(e||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:i.utf8encode})).type=n.type.toLowerCase(),n.compression=n.compression.toUpperCase(),"binarystring"===n.type&&(n.type="string"),!n.type)throw new Error("No output type specified.");u.checkSupport(n.type),"darwin"!==e.platform&&"freebsd"!==e.platform&&"linux"!==e.platform&&"sunos"!==e.platform||(e.platform="UNIX"),"win32"===e.platform&&(e.platform="DOS");var r=n.comment||this.comment||"";t=a.generateWorker(this,n,r)}catch(e){(t=new c("error")).error(e)}return new o(t,n.type||"string",n.mimeType)},generateAsync:function(e,t){return this.generateInternalStream(e).accumulate(t)},generateNodeStream:function(e,t){return(e=e||{}).type||(e.type="nodebuffer"),this.generateInternalStream(e).toNodejsStream(t)}};e.exports=r},function(e,t,n){var r=function(){try{return n(331)}catch(e){}}();(t=e.exports=n(1349)).Stream=r||t,(t.Readable=t).Writable=n(1350),t.Duplex=n(582),t.Transform=n(1351),t.PassThrough=n(2254)},function(e,t){},function(e,t,n){"use strict";e.exports=o;var r=n(1351),i=n(262);function o(e){if(!(this instanceof o))return new o(e);r.call(this,e)}i.inherits=n(115),i.inherits(o,r),o.prototype._transform=function(e,t,n){n(null,e)}},function(e,t,n){"use strict";var r=n(2256),i=[],o=[],a=r.makeRequestCallFromTimer(function(){if(o.length)throw o.shift()});function s(e){var t;(t=i.length?i.pop():new u).task=e,r(t)}function u(){this.task=null}e.exports=s,u.prototype.call=function(){try{this.task.call()}catch(e){s.onerror?s.onerror(e):(o.push(e),a())}finally{this.task=null,i[i.length]=this}}},function(f,e,t){"use strict";(function(e){function t(e){r.length||(n(),!0),r[r.length]=e}f.exports=t;var n,r=[],i=0;function o(){for(;i<r.length;){var e=i;if(i+=1,r[e].call(),1024<i){for(var t=0,n=r.length-i;t<n;t++)r[t]=r[t+i];r.length-=i,i=0}}r.length=0,i=0,!1}var a,s,u,c=void 0!==e?e:self,l=c.MutationObserver||c.WebKitMutationObserver;function p(r){return function(){var e=setTimeout(n,0),t=setInterval(n,50);function n(){clearTimeout(e),clearInterval(t),r()}}}n="function"==typeof l?(a=1,s=new l(o),u=document.createTextNode(""),s.observe(u,{characterData:!0}),function(){a=-a,u.data=a}):p(o),t.requestFlush=n,t.makeRequestCallFromTimer=p}).call(this,t(30))},function(K,X,Y){(function(V,q){var G;
/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/jakearchibald/es6-promise/master/LICENSE
 * @version   3.0.2
 */
(function(){"use strict";function c(e){return"function"==typeof e}var t,n,a=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},r=0,s=function(e,t){m[r]=e,m[r+1]=t,2===(r+=2)&&(n?n(y):f())};var e="undefined"!=typeof window?window:void 0,i=e||{},o=i.MutationObserver||i.WebKitMutationObserver,u=void 0!==V&&"[object process]"==={}.toString.call(V),l="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function p(){return function(){setTimeout(y,1)}}var f,d,h,v,g,m=new Array(1e3);function y(){for(var e=0;e<r;e+=2){(0,m[e])(m[e+1]),m[e]=void 0,m[e+1]=void 0}r=0}function b(){}f=u?function(){V.nextTick(y)}:o?(h=0,v=new o(y),g=document.createTextNode(""),v.observe(g,{characterData:!0}),function(){g.data=h=++h%2}):l?((d=new MessageChannel).port1.onmessage=y,function(){d.port2.postMessage(0)}):void 0===e?function(){try{var e=Y(2258);return t=e.runOnLoop||e.runOnContext,function(){t(y)}}catch(e){return p()}}():p();var w=void 0,S=1,_=2,C=new A;function E(e,t){if(t.constructor===e.constructor)!function(t,e){e._state===S?k(t,e._result):e._state===_?P(t,e._result):T(e,void 0,function(e){x(t,e)},function(e){P(t,e)})}(e,t);else{var n=function(e){try{return e.then}catch(e){return C.error=e,C}}(t);n===C?P(e,C.error):void 0===n?k(e,t):c(n)?function(e,r,i){s(function(t){var n=!1,e=function(e,t,n,r){try{e.call(t,n,r)}catch(e){return e}}(i,r,function(e){n||(n=!0,r!==e?x(t,e):k(t,e))},function(e){n||(n=!0,P(t,e))},t._label);!n&&e&&(n=!0,P(t,e))},e)}(e,t,n):k(e,t)}}function x(e,t){e===t?P(e,new TypeError("You cannot resolve a promise with itself")):!function(e){return"function"==typeof e||"object"==typeof e&&null!==e}(t)?k(e,t):E(e,t)}function O(e){e._onerror&&e._onerror(e._result),R(e)}function k(e,t){e._state===w&&(e._result=t,e._state=S,0!==e._subscribers.length&&s(R,e))}function P(e,t){e._state===w&&(e._state=_,e._result=t,s(O,e))}function T(e,t,n,r){var i=e._subscribers,o=i.length;e._onerror=null,i[o]=t,i[o+S]=n,i[o+_]=r,0===o&&e._state&&s(R,e)}function R(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var r,i,o=e._result,a=0;a<t.length;a+=3)r=t[a],i=t[a+n],r?M(n,r,i,o):i(o);e._subscribers.length=0}}function A(){this.error=null}var I=new A;function M(e,t,n,r){var i,o,a,s,u=c(n);if(u){if((i=function(e,t){try{return e(t)}catch(e){return I.error=e,I}}(n,r))===I?(s=!0,o=i.error,i=null):a=!0,t===i)return void P(t,new TypeError("A promises callback cannot return that same promise."))}else i=r,a=!0;t._state!==w||(u&&a?x(t,i):s?P(t,o):e===S?k(t,i):e===_&&P(t,i))}function N(e,t){var n=this;n._instanceConstructor=e,n.promise=new e(b),n._validateInput(t)?(n._input=t,n.length=t.length,n._remaining=t.length,n._init(),0===n.length?k(n.promise,n._result):(n.length=n.length||0,n._enumerate(),0===n._remaining&&k(n.promise,n._result))):P(n.promise,n._validationError())}N.prototype._validateInput=function(e){return a(e)},N.prototype._validationError=function(){return new Error("Array Methods must be provided an Array")},N.prototype._init=function(){this._result=new Array(this.length)};var D=N;N.prototype._enumerate=function(){for(var e=this.length,t=this.promise,n=this._input,r=0;t._state===w&&r<e;r++)this._eachEntry(n[r],r)},N.prototype._eachEntry=function(e,t){var n=this._instanceConstructor;!function(e){return"object"==typeof e&&null!==e}(e)?(this._remaining--,this._result[t]=e):e.constructor===n&&e._state!==w?(e._onerror=null,this._settledAt(e._state,t,e._result)):this._willSettleAt(n.resolve(e),t)},N.prototype._settledAt=function(e,t,n){var r=this.promise;r._state===w&&(this._remaining--,e===_?P(r,n):this._result[t]=n),0===this._remaining&&k(r,this._result)},N.prototype._willSettleAt=function(e,t){var n=this;T(e,void 0,function(e){n._settledAt(S,t,e)},function(e){n._settledAt(_,t,e)})};var j=function(e){var t=new this(b);if(!a(e))return P(t,new TypeError("You must pass an array to race.")),t;var n=e.length;function r(e){x(t,e)}function i(e){P(t,e)}for(var o=0;t._state===w&&o<n;o++)T(this.resolve(e[o]),void 0,r,i);return t};var L=function(e){if(e&&"object"==typeof e&&e.constructor===this)return e;var t=new this(b);return x(t,e),t};var B=function(e){var t=new this(b);return P(t,e),t},F=0;var z=U;function U(e){this._id=F++,this._state=void 0,this._result=void 0,this._subscribers=[],b!==e&&(c(e)||function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof U||function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}(),function(t,e){try{e(function(e){x(t,e)},function(e){P(t,e)})}catch(e){P(t,e)}}(this,e))}U.all=function(e){return new D(this,e).promise},U.race=j,U.resolve=L,U.reject=B,U._setScheduler=function(e){n=e},U._setAsap=function(e){s=e},U._asap=s,U.prototype={constructor:U,then:function(e,t){var n=this._state;if(n===S&&!e||n===_&&!t)return this;var r=new this.constructor(b),i=this._result;if(n){var o=arguments[n-1];s(function(){M(n,r,o,i)})}else T(this,r,e,t);return r},catch:function(e){return this.then(null,e)}};var H=function(){var e;if(void 0!==q)e=q;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;t&&"[object Promise]"===Object.prototype.toString.call(t.resolve())&&!t.cast||(e.Promise=z)},W={Promise:z,polyfill:H};void 0===(G=function(){return W}.call(X,Y,X,K))||(K.exports=G),H()}).call(this)}).call(this,Y(29),Y(30))},function(e,t){},function(e,t,n){"use strict";var r=n(219),i=n(96);function o(e){r.call(this,"ConvertWorker to "+e),this.destType=e}i.inherits(o,r),o.prototype.processChunk=function(e){this.push({data:i.transformTo(this.destType,e.data),meta:e.meta})},e.exports=o},function(e,t,n){"use strict";var o=n(1353),r=n(1355),a=n(581),i=n(1115),s=n(219),u=function(e,t,n){this.name=e,this.dir=n.dir,this.date=n.date,this.comment=n.comment,this.unixPermissions=n.unixPermissions,this.dosPermissions=n.dosPermissions,this._data=t,this._dataBinary=n.binary,this.options={compression:n.compression,compressionOptions:n.compressionOptions}};u.prototype={internalStream:function(e){var t=e.toLowerCase(),n="string"===t||"text"===t;"binarystring"!==t&&"text"!==t||(t="string");var r=this._decompressWorker(),i=!this._dataBinary;return i&&!n&&(r=r.pipe(new a.Utf8EncodeWorker)),!i&&n&&(r=r.pipe(new a.Utf8DecodeWorker)),new o(r,t,"")},async:function(e,t){return this.internalStream(e).accumulate(t)},nodeStream:function(e,t){return this.internalStream(e||"nodebuffer").toNodejsStream(t)},_compressWorker:function(e,t){if(this._data instanceof i&&this._data.compression.magic===e.magic)return this._data.getCompressedWorker();var n=this._decompressWorker();return this._dataBinary||(n=n.pipe(new a.Utf8EncodeWorker)),i.createWorkerFrom(n,e,t)},_decompressWorker:function(){return this._data instanceof i?this._data.getContentWorker():this._data instanceof s?this._data:new r(this._data)}};for(var c=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],l=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},p=0;p<c.length;p++)u.prototype[c[p]]=l;e.exports=u},function(e,t,n){"use strict";var c=n(1358),r=n(2272);t.generateWorker=function(e,a,t){var s=new r(a.streamFiles,t,a.platform,a.encodeFileName),u=0;try{e.forEach(function(e,t){u++;var n=function(e,t){var n=e||t,r=c[n];if(!r)throw new Error(n+" is not a valid compression method !");return r}(t.options.compression,a.compression),r=t.options.compressionOptions||a.compressionOptions||{},i=t.dir,o=t.date;t._compressWorker(n,r).withStreamInfo("file",{name:e,dir:i,date:o,comment:t.comment||"",unixPermissions:t.unixPermissions,dosPermissions:t.dosPermissions}).pipe(s)}),s.entriesCount=u}catch(e){s.error(e)}return s}},function(e,t,n){"use strict";var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,i=n(2263),o=n(96),a=n(219),s=r?"uint8array":"array";function u(e,t){a.call(this,"FlateWorker/"+e),this._pako=new i[e]({raw:!0,level:t.level||-1}),this.meta={};var n=this;this._pako.onData=function(e){n.push({data:e,meta:n.meta})}}t.magic="\b\0",o.inherits(u,a),u.prototype.processChunk=function(e){this.meta=e.meta,this._pako.push(o.transformTo(s,e.data),!1)},u.prototype.flush=function(){a.prototype.flush.call(this),this._pako.push([],!0)},u.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this._pako=null},t.compressWorker=function(e){return new u("Deflate",e)},t.uncompressWorker=function(){return new u("Inflate",{})}},function(e,t,n){"use strict";var r={};(0,n(357).assign)(r,n(2264),n(2267),n(1363)),e.exports=r},function(e,t,n){"use strict";var a=n(2265),s=n(357),u=n(1361),i=n(1117),o=n(1362),c=Object.prototype.toString,l=0,p=-1,f=0,d=8;function h(e){if(!(this instanceof h))return new h(e);this.options=s.assign({level:p,method:d,chunkSize:16384,windowBits:15,memLevel:8,strategy:f,to:""},e||{});var t=this.options;t.raw&&0<t.windowBits?t.windowBits=-t.windowBits:t.gzip&&0<t.windowBits&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new o,this.strm.avail_out=0;var n=a.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==l)throw new Error(i[n]);if(t.header&&a.deflateSetHeader(this.strm,t.header),t.dictionary){var r;if(r="string"==typeof t.dictionary?u.string2buf(t.dictionary):"[object ArrayBuffer]"===c.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,(n=a.deflateSetDictionary(this.strm,r))!==l)throw new Error(i[n]);this._dict_set=!0}}function r(e,t){var n=new h(t);if(n.push(e,!0),n.err)throw n.msg;return n.result}h.prototype.push=function(e,t){var n,r,i=this.strm,o=this.options.chunkSize;if(this.ended)return!1;r=t===~~t?t:!0===t?4:0,"string"==typeof e?i.input=u.string2buf(e):"[object ArrayBuffer]"===c.call(e)?i.input=new Uint8Array(e):i.input=e,i.next_in=0,i.avail_in=i.input.length;do{if(0===i.avail_out&&(i.output=new s.Buf8(o),i.next_out=0,i.avail_out=o),1!==(n=a.deflate(i,r))&&n!==l)return this.onEnd(n),!(this.ended=!0);0!==i.avail_out&&(0!==i.avail_in||4!==r&&2!==r)||("string"===this.options.to?this.onData(u.buf2binstring(s.shrinkBuf(i.output,i.next_out))):this.onData(s.shrinkBuf(i.output,i.next_out)))}while((0<i.avail_in||0===i.avail_out)&&1!==n);return 4===r?(n=a.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===l):2!==r||(this.onEnd(l),!(i.avail_out=0))},h.prototype.onData=function(e){this.chunks.push(e)},h.prototype.onEnd=function(e){e===l&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},t.Deflate=h,t.deflate=r,t.deflateRaw=function(e,t){return(t=t||{}).raw=!0,r(e,t)},t.gzip=function(e,t){return(t=t||{}).gzip=!0,r(e,t)}},function(e,t,n){"use strict";var u,f=n(357),c=n(2266),d=n(1359),h=n(1360),r=n(1117),l=0,p=4,v=0,g=-2,m=-1,y=4,i=2,b=8,w=9,o=286,a=30,s=19,S=2*o+1,_=15,C=3,E=258,x=E+C+1,O=42,k=113,P=1,T=2,R=3,A=4;function I(e,t){return e.msg=r[t],t}function M(e){return(e<<1)-(4<e?9:0)}function N(e){for(var t=e.length;0<=--t;)e[t]=0}function D(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(f.arraySet(e.output,t.pending_buf,t.pending_out,n,e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))}function j(e,t){c._tr_flush_block(e,0<=e.block_start?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,D(e.strm)}function L(e,t){e.pending_buf[e.pending++]=t}function B(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function F(e,t){var n,r,i=e.max_chain_length,o=e.strstart,a=e.prev_length,s=e.nice_match,u=e.strstart>e.w_size-x?e.strstart-(e.w_size-x):0,c=e.window,l=e.w_mask,p=e.prev,f=e.strstart+E,d=c[o+a-1],h=c[o+a];e.prev_length>=e.good_match&&(i>>=2),s>e.lookahead&&(s=e.lookahead);do{if(c[(n=t)+a]===h&&c[n+a-1]===d&&c[n]===c[o]&&c[++n]===c[o+1]){o+=2,n++;do{}while(c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&o<f);if(r=E-(f-o),o=f-E,a<r){if(e.match_start=t,s<=(a=r))break;d=c[o+a-1],h=c[o+a]}}}while((t=p[t&l])>u&&0!=--i);return a<=e.lookahead?a:e.lookahead}function z(e){var t,n,r,i,o,a,s,u,c,l,p=e.w_size;do{if(i=e.window_size-e.lookahead-e.strstart,e.strstart>=p+(p-x)){for(f.arraySet(e.window,e.window,p,p,0),e.match_start-=p,e.strstart-=p,e.block_start-=p,t=n=e.hash_size;r=e.head[--t],e.head[t]=p<=r?r-p:0,--n;);for(t=n=p;r=e.prev[--t],e.prev[t]=p<=r?r-p:0,--n;);i+=p}if(0===e.strm.avail_in)break;if(a=e.strm,s=e.window,u=e.strstart+e.lookahead,c=i,l=void 0,l=a.avail_in,c<l&&(l=c),n=0===l?0:(a.avail_in-=l,f.arraySet(s,a.input,a.next_in,l,u),1===a.state.wrap?a.adler=d(a.adler,s,l,u):2===a.state.wrap&&(a.adler=h(a.adler,s,l,u)),a.next_in+=l,a.total_in+=l,l),e.lookahead+=n,e.lookahead+e.insert>=C)for(o=e.strstart-e.insert,e.ins_h=e.window[o],e.ins_h=(e.ins_h<<e.hash_shift^e.window[o+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[o+C-1])&e.hash_mask,e.prev[o&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=o,o++,e.insert--,!(e.lookahead+e.insert<C)););}while(e.lookahead<x&&0!==e.strm.avail_in)}function U(e,t){for(var n,r;;){if(e.lookahead<x){if(z(e),e.lookahead<x&&t===l)return P;if(0===e.lookahead)break}if(n=0,e.lookahead>=C&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+C-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-x&&(e.match_length=F(e,n)),e.match_length>=C)if(r=c._tr_tally(e,e.strstart-e.match_start,e.match_length-C),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=C){for(e.match_length--;e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+C-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart,0!=--e.match_length;);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else r=c._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(j(e,!1),0===e.strm.avail_out))return P}return e.insert=e.strstart<C-1?e.strstart:C-1,t===p?(j(e,!0),0===e.strm.avail_out?R:A):e.last_lit&&(j(e,!1),0===e.strm.avail_out)?P:T}function H(e,t){for(var n,r,i;;){if(e.lookahead<x){if(z(e),e.lookahead<x&&t===l)return P;if(0===e.lookahead)break}if(n=0,e.lookahead>=C&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+C-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=C-1,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-x&&(e.match_length=F(e,n),e.match_length<=5&&(1===e.strategy||e.match_length===C&&4096<e.strstart-e.match_start)&&(e.match_length=C-1)),e.prev_length>=C&&e.match_length<=e.prev_length){for(i=e.strstart+e.lookahead-C,r=c._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-C),e.lookahead-=e.prev_length-1,e.prev_length-=2;++e.strstart<=i&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+C-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!=--e.prev_length;);if(e.match_available=0,e.match_length=C-1,e.strstart++,r&&(j(e,!1),0===e.strm.avail_out))return P}else if(e.match_available){if((r=c._tr_tally(e,0,e.window[e.strstart-1]))&&j(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return P}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=c._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<C-1?e.strstart:C-1,t===p?(j(e,!0),0===e.strm.avail_out?R:A):e.last_lit&&(j(e,!1),0===e.strm.avail_out)?P:T}function W(e,t,n,r,i){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=i}function V(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=b,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new f.Buf16(2*S),this.dyn_dtree=new f.Buf16(2*(2*a+1)),this.bl_tree=new f.Buf16(2*(2*s+1)),N(this.dyn_ltree),N(this.dyn_dtree),N(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new f.Buf16(_+1),this.heap=new f.Buf16(2*o+1),N(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new f.Buf16(2*o+1),N(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function q(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=i,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?O:k,e.adler=2===t.wrap?0:1,t.last_flush=l,c._tr_init(t),v):I(e,g)}function G(e){var t=q(e);return t===v&&function(e){e.window_size=2*e.w_size,N(e.head),e.max_lazy_match=u[e.level].max_lazy,e.good_match=u[e.level].good_length,e.nice_match=u[e.level].nice_length,e.max_chain_length=u[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=C-1,e.match_available=0,e.ins_h=0}(e.state),t}function K(e,t,n,r,i,o){if(!e)return g;var a=1;if(t===m&&(t=6),r<0?(a=0,r=-r):15<r&&(a=2,r-=16),i<1||w<i||n!==b||r<8||15<r||t<0||9<t||o<0||y<o)return I(e,g);8===r&&(r=9);var s=new V;return(e.state=s).strm=e,s.wrap=a,s.gzhead=null,s.w_bits=r,s.w_size=1<<s.w_bits,s.w_mask=s.w_size-1,s.hash_bits=i+7,s.hash_size=1<<s.hash_bits,s.hash_mask=s.hash_size-1,s.hash_shift=~~((s.hash_bits+C-1)/C),s.window=new f.Buf8(2*s.w_size),s.head=new f.Buf16(s.hash_size),s.prev=new f.Buf16(s.w_size),s.lit_bufsize=1<<i+6,s.pending_buf_size=4*s.lit_bufsize,s.pending_buf=new f.Buf8(s.pending_buf_size),s.d_buf=1*s.lit_bufsize,s.l_buf=3*s.lit_bufsize,s.level=t,s.strategy=o,s.method=n,G(e)}u=[new W(0,0,0,0,function(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(z(e),0===e.lookahead&&t===l)return P;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var r=e.block_start+n;if((0===e.strstart||e.strstart>=r)&&(e.lookahead=e.strstart-r,e.strstart=r,j(e,!1),0===e.strm.avail_out))return P;if(e.strstart-e.block_start>=e.w_size-x&&(j(e,!1),0===e.strm.avail_out))return P}return e.insert=0,t===p?(j(e,!0),0===e.strm.avail_out?R:A):(e.strstart>e.block_start&&(j(e,!1),e.strm.avail_out),P)}),new W(4,4,8,4,U),new W(4,5,16,8,U),new W(4,6,32,32,U),new W(4,4,16,16,H),new W(8,16,32,32,H),new W(8,16,128,128,H),new W(8,32,128,256,H),new W(32,128,258,1024,H),new W(32,258,258,4096,H)],t.deflateInit=function(e,t){return K(e,t,b,15,8,0)},t.deflateInit2=K,t.deflateReset=G,t.deflateResetKeep=q,t.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?g:(e.state.gzhead=t,v):g},t.deflate=function(e,t){var n,r,i,o;if(!e||!e.state||5<t||t<0)return e?I(e,g):g;if(r=e.state,!e.output||!e.input&&0!==e.avail_in||666===r.status&&t!==p)return I(e,0===e.avail_out?-5:g);if(r.strm=e,n=r.last_flush,r.last_flush=t,r.status===O)if(2===r.wrap)e.adler=0,L(r,31),L(r,139),L(r,8),r.gzhead?(L(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),L(r,255&r.gzhead.time),L(r,r.gzhead.time>>8&255),L(r,r.gzhead.time>>16&255),L(r,r.gzhead.time>>24&255),L(r,9===r.level?2:2<=r.strategy||r.level<2?4:0),L(r,255&r.gzhead.os),r.gzhead.extra&&r.gzhead.extra.length&&(L(r,255&r.gzhead.extra.length),L(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(e.adler=h(e.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=69):(L(r,0),L(r,0),L(r,0),L(r,0),L(r,0),L(r,9===r.level?2:2<=r.strategy||r.level<2?4:0),L(r,3),r.status=k);else{var a=b+(r.w_bits-8<<4)<<8;a|=(2<=r.strategy||r.level<2?0:r.level<6?1:6===r.level?2:3)<<6,0!==r.strstart&&(a|=32),a+=31-a%31,r.status=k,B(r,a),0!==r.strstart&&(B(r,e.adler>>>16),B(r,65535&e.adler)),e.adler=1}if(69===r.status)if(r.gzhead.extra){for(i=r.pending;r.gzindex<(65535&r.gzhead.extra.length)&&(r.pending!==r.pending_buf_size||(r.gzhead.hcrc&&r.pending>i&&(e.adler=h(e.adler,r.pending_buf,r.pending-i,i)),D(e),i=r.pending,r.pending!==r.pending_buf_size));)L(r,255&r.gzhead.extra[r.gzindex]),r.gzindex++;r.gzhead.hcrc&&r.pending>i&&(e.adler=h(e.adler,r.pending_buf,r.pending-i,i)),r.gzindex===r.gzhead.extra.length&&(r.gzindex=0,r.status=73)}else r.status=73;if(73===r.status)if(r.gzhead.name){i=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>i&&(e.adler=h(e.adler,r.pending_buf,r.pending-i,i)),D(e),i=r.pending,r.pending===r.pending_buf_size)){o=1;break}o=r.gzindex<r.gzhead.name.length?255&r.gzhead.name.charCodeAt(r.gzindex++):0,L(r,o)}while(0!==o);r.gzhead.hcrc&&r.pending>i&&(e.adler=h(e.adler,r.pending_buf,r.pending-i,i)),0===o&&(r.gzindex=0,r.status=91)}else r.status=91;if(91===r.status)if(r.gzhead.comment){i=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>i&&(e.adler=h(e.adler,r.pending_buf,r.pending-i,i)),D(e),i=r.pending,r.pending===r.pending_buf_size)){o=1;break}o=r.gzindex<r.gzhead.comment.length?255&r.gzhead.comment.charCodeAt(r.gzindex++):0,L(r,o)}while(0!==o);r.gzhead.hcrc&&r.pending>i&&(e.adler=h(e.adler,r.pending_buf,r.pending-i,i)),0===o&&(r.status=103)}else r.status=103;if(103===r.status&&(r.gzhead.hcrc?(r.pending+2>r.pending_buf_size&&D(e),r.pending+2<=r.pending_buf_size&&(L(r,255&e.adler),L(r,e.adler>>8&255),e.adler=0,r.status=k)):r.status=k),0!==r.pending){if(D(e),0===e.avail_out)return r.last_flush=-1,v}else if(0===e.avail_in&&M(t)<=M(n)&&t!==p)return I(e,-5);if(666===r.status&&0!==e.avail_in)return I(e,-5);if(0!==e.avail_in||0!==r.lookahead||t!==l&&666!==r.status){var s=2===r.strategy?function(e,t){for(var n;;){if(0===e.lookahead&&(z(e),0===e.lookahead)){if(t===l)return P;break}if(e.match_length=0,n=c._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(j(e,!1),0===e.strm.avail_out))return P}return e.insert=0,t===p?(j(e,!0),0===e.strm.avail_out?R:A):e.last_lit&&(j(e,!1),0===e.strm.avail_out)?P:T}(r,t):3===r.strategy?function(e,t){for(var n,r,i,o,a=e.window;;){if(e.lookahead<=E){if(z(e),e.lookahead<=E&&t===l)return P;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=C&&0<e.strstart&&(r=a[i=e.strstart-1])===a[++i]&&r===a[++i]&&r===a[++i]){o=e.strstart+E;do{}while(r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&i<o);e.match_length=E-(o-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=C?(n=c._tr_tally(e,1,e.match_length-C),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=c._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(j(e,!1),0===e.strm.avail_out))return P}return e.insert=0,t===p?(j(e,!0),0===e.strm.avail_out?R:A):e.last_lit&&(j(e,!1),0===e.strm.avail_out)?P:T}(r,t):u[r.level].func(r,t);if(s!==R&&s!==A||(r.status=666),s===P||s===R)return 0===e.avail_out&&(r.last_flush=-1),v;if(s===T&&(1===t?c._tr_align(r):5!==t&&(c._tr_stored_block(r,0,0,!1),3===t&&(N(r.head),0===r.lookahead&&(r.strstart=0,r.block_start=0,r.insert=0))),D(e),0===e.avail_out))return r.last_flush=-1,v}return t!==p?v:r.wrap<=0?1:(2===r.wrap?(L(r,255&e.adler),L(r,e.adler>>8&255),L(r,e.adler>>16&255),L(r,e.adler>>24&255),L(r,255&e.total_in),L(r,e.total_in>>8&255),L(r,e.total_in>>16&255),L(r,e.total_in>>24&255)):(B(r,e.adler>>>16),B(r,65535&e.adler)),D(e),0<r.wrap&&(r.wrap=-r.wrap),0!==r.pending?v:1)},t.deflateEnd=function(e){var t;return e&&e.state?(t=e.state.status)!==O&&69!==t&&73!==t&&91!==t&&103!==t&&t!==k&&666!==t?I(e,g):(e.state=null,t===k?I(e,-3):v):g},t.deflateSetDictionary=function(e,t){var n,r,i,o,a,s,u,c,l=t.length;if(!e||!e.state)return g;if(2===(o=(n=e.state).wrap)||1===o&&n.status!==O||n.lookahead)return g;for(1===o&&(e.adler=d(e.adler,t,l,0)),n.wrap=0,l>=n.w_size&&(0===o&&(N(n.head),n.strstart=0,n.block_start=0,n.insert=0),c=new f.Buf8(n.w_size),f.arraySet(c,t,l-n.w_size,n.w_size,0),t=c,l=n.w_size),a=e.avail_in,s=e.next_in,u=e.input,e.avail_in=l,e.next_in=0,e.input=t,z(n);n.lookahead>=C;){for(r=n.strstart,i=n.lookahead-(C-1);n.ins_h=(n.ins_h<<n.hash_shift^n.window[r+C-1])&n.hash_mask,n.prev[r&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=r,r++,--i;);n.strstart=r,n.lookahead=C-1,z(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=C-1,n.match_available=0,e.next_in=s,e.input=u,e.avail_in=a,n.wrap=o,v},t.deflateInfo="pako deflate (from Nodeca project)"},function(e,t,n){"use strict";var i=n(357),s=0,u=1;function r(e){for(var t=e.length;0<=--t;)e[t]=0}var o=0,a=29,c=256,l=c+1+a,p=30,f=19,g=2*l+1,m=15,d=16,h=7,v=256,y=16,b=17,w=18,S=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],_=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],C=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],E=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],x=new Array(2*(l+2));r(x);var O=new Array(2*p);r(O);var k=new Array(512);r(k);var P=new Array(256);r(P);var T=new Array(a);r(T);var R,A,I,M=new Array(p);function N(e,t,n,r,i){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=e&&e.length}function D(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function j(e){return e<256?k[e]:k[256+(e>>>7)]}function L(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function B(e,t,n){e.bi_valid>d-n?(e.bi_buf|=t<<e.bi_valid&65535,L(e,e.bi_buf),e.bi_buf=t>>d-e.bi_valid,e.bi_valid+=n-d):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)}function F(e,t,n){B(e,n[2*t],n[2*t+1])}function z(e,t){for(var n=0;n|=1&e,e>>>=1,n<<=1,0<--t;);return n>>>1}function U(e,t,n){var r,i,o=new Array(m+1),a=0;for(r=1;r<=m;r++)o[r]=a=a+n[r-1]<<1;for(i=0;i<=t;i++){var s=e[2*i+1];0!==s&&(e[2*i]=z(o[s]++,s))}}function H(e){var t;for(t=0;t<l;t++)e.dyn_ltree[2*t]=0;for(t=0;t<p;t++)e.dyn_dtree[2*t]=0;for(t=0;t<f;t++)e.bl_tree[2*t]=0;e.dyn_ltree[2*v]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function W(e){8<e.bi_valid?L(e,e.bi_buf):0<e.bi_valid&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function V(e,t,n,r){var i=2*t,o=2*n;return e[i]<e[o]||e[i]===e[o]&&r[t]<=r[n]}function q(e,t,n){for(var r=e.heap[n],i=n<<1;i<=e.heap_len&&(i<e.heap_len&&V(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!V(t,r,e.heap[i],e.depth));)e.heap[n]=e.heap[i],n=i,i<<=1;e.heap[n]=r}function G(e,t,n){var r,i,o,a,s=0;if(0!==e.last_lit)for(;r=e.pending_buf[e.d_buf+2*s]<<8|e.pending_buf[e.d_buf+2*s+1],i=e.pending_buf[e.l_buf+s],s++,0===r?F(e,i,t):(F(e,(o=P[i])+c+1,t),0!==(a=S[o])&&B(e,i-=T[o],a),F(e,o=j(--r),n),0!==(a=_[o])&&B(e,r-=M[o],a)),s<e.last_lit;);F(e,v,t)}function K(e,t){var n,r,i,o=t.dyn_tree,a=t.stat_desc.static_tree,s=t.stat_desc.has_stree,u=t.stat_desc.elems,c=-1;for(e.heap_len=0,e.heap_max=g,n=0;n<u;n++)0!==o[2*n]?(e.heap[++e.heap_len]=c=n,e.depth[n]=0):o[2*n+1]=0;for(;e.heap_len<2;)o[2*(i=e.heap[++e.heap_len]=c<2?++c:0)]=1,e.depth[i]=0,e.opt_len--,s&&(e.static_len-=a[2*i+1]);for(t.max_code=c,n=e.heap_len>>1;1<=n;n--)q(e,o,n);for(i=u;n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],q(e,o,1),r=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=r,o[2*i]=o[2*n]+o[2*r],e.depth[i]=(e.depth[n]>=e.depth[r]?e.depth[n]:e.depth[r])+1,o[2*n+1]=o[2*r+1]=i,e.heap[1]=i++,q(e,o,1),2<=e.heap_len;);e.heap[--e.heap_max]=e.heap[1],function(e,t){var n,r,i,o,a,s,u=t.dyn_tree,c=t.max_code,l=t.stat_desc.static_tree,p=t.stat_desc.has_stree,f=t.stat_desc.extra_bits,d=t.stat_desc.extra_base,h=t.stat_desc.max_length,v=0;for(o=0;o<=m;o++)e.bl_count[o]=0;for(u[2*e.heap[e.heap_max]+1]=0,n=e.heap_max+1;n<g;n++)h<(o=u[2*u[2*(r=e.heap[n])+1]+1]+1)&&(o=h,v++),u[2*r+1]=o,c<r||(e.bl_count[o]++,a=0,d<=r&&(a=f[r-d]),s=u[2*r],e.opt_len+=s*(o+a),p&&(e.static_len+=s*(l[2*r+1]+a)));if(0!==v){do{for(o=h-1;0===e.bl_count[o];)o--;e.bl_count[o]--,e.bl_count[o+1]+=2,e.bl_count[h]--,v-=2}while(0<v);for(o=h;0!==o;o--)for(r=e.bl_count[o];0!==r;)c<(i=e.heap[--n])||(u[2*i+1]!==o&&(e.opt_len+=(o-u[2*i+1])*u[2*i],u[2*i+1]=o),r--)}}(e,t),U(o,c,e.bl_count)}function X(e,t,n){var r,i,o=-1,a=t[1],s=0,u=7,c=4;for(0===a&&(u=138,c=3),t[2*(n+1)+1]=65535,r=0;r<=n;r++)i=a,a=t[2*(r+1)+1],++s<u&&i===a||(s<c?e.bl_tree[2*i]+=s:0!==i?(i!==o&&e.bl_tree[2*i]++,e.bl_tree[2*y]++):s<=10?e.bl_tree[2*b]++:e.bl_tree[2*w]++,o=i,c=(s=0)===a?(u=138,3):i===a?(u=6,3):(u=7,4))}function Y(e,t,n){var r,i,o=-1,a=t[1],s=0,u=7,c=4;for(0===a&&(u=138,c=3),r=0;r<=n;r++)if(i=a,a=t[2*(r+1)+1],!(++s<u&&i===a)){if(s<c)for(;F(e,i,e.bl_tree),0!=--s;);else 0!==i?(i!==o&&(F(e,i,e.bl_tree),s--),F(e,y,e.bl_tree),B(e,s-3,2)):s<=10?(F(e,b,e.bl_tree),B(e,s-3,3)):(F(e,w,e.bl_tree),B(e,s-11,7));o=i,c=(s=0)===a?(u=138,3):i===a?(u=6,3):(u=7,4)}}r(M);var J=!1;function $(e,t,n,r){B(e,(o<<1)+(r?1:0),3),function(e,t,n,r){W(e),r&&(L(e,n),L(e,~n)),i.arraySet(e.pending_buf,e.window,t,n,e.pending),e.pending+=n}(e,t,n,!0)}t._tr_init=function(e){J||(function(){var e,t,n,r,i,o=new Array(m+1);for(r=n=0;r<a-1;r++)for(T[r]=n,e=0;e<1<<S[r];e++)P[n++]=r;for(P[n-1]=r,r=i=0;r<16;r++)for(M[r]=i,e=0;e<1<<_[r];e++)k[i++]=r;for(i>>=7;r<p;r++)for(M[r]=i<<7,e=0;e<1<<_[r]-7;e++)k[256+i++]=r;for(t=0;t<=m;t++)o[t]=0;for(e=0;e<=143;)x[2*e+1]=8,e++,o[8]++;for(;e<=255;)x[2*e+1]=9,e++,o[9]++;for(;e<=279;)x[2*e+1]=7,e++,o[7]++;for(;e<=287;)x[2*e+1]=8,e++,o[8]++;for(U(x,l+1,o),e=0;e<p;e++)O[2*e+1]=5,O[2*e]=z(e,5);R=new N(x,S,c+1,l,m),A=new N(O,_,0,p,m),I=new N(new Array(0),C,0,f,h)}(),J=!0),e.l_desc=new D(e.dyn_ltree,R),e.d_desc=new D(e.dyn_dtree,A),e.bl_desc=new D(e.bl_tree,I),e.bi_buf=0,e.bi_valid=0,H(e)},t._tr_stored_block=$,t._tr_flush_block=function(e,t,n,r){var i,o,a=0;0<e.level?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return s;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return u;for(t=32;t<c;t++)if(0!==e.dyn_ltree[2*t])return u;return s}(e)),K(e,e.l_desc),K(e,e.d_desc),a=function(e){var t;for(X(e,e.dyn_ltree,e.l_desc.max_code),X(e,e.dyn_dtree,e.d_desc.max_code),K(e,e.bl_desc),t=f-1;3<=t&&0===e.bl_tree[2*E[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),i=e.opt_len+3+7>>>3,(o=e.static_len+3+7>>>3)<=i&&(i=o)):i=o=n+5,n+4<=i&&-1!==t?$(e,t,n,r):4===e.strategy||o===i?(B(e,2+(r?1:0),3),G(e,x,O)):(B(e,4+(r?1:0),3),function(e,t,n,r){var i;for(B(e,t-257,5),B(e,n-1,5),B(e,r-4,4),i=0;i<r;i++)B(e,e.bl_tree[2*E[i]+1],3);Y(e,e.dyn_ltree,t-1),Y(e,e.dyn_dtree,n-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,a+1),G(e,e.dyn_ltree,e.dyn_dtree)),H(e),r&&W(e)},t._tr_tally=function(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(P[n]+c+1)]++,e.dyn_dtree[2*j(t)]++),e.last_lit===e.lit_bufsize-1},t._tr_align=function(e){B(e,2,3),F(e,v,x),function(e){16===e.bi_valid?(L(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):8<=e.bi_valid&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}},function(e,t,n){"use strict";var f=n(2268),d=n(357),h=n(1361),v=n(1363),r=n(1117),i=n(1362),o=n(2271),g=Object.prototype.toString;function a(e){if(!(this instanceof a))return new a(e);this.options=d.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&0<=t.windowBits&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(0<=t.windowBits&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),15<t.windowBits&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new i,this.strm.avail_out=0;var n=f.inflateInit2(this.strm,t.windowBits);if(n!==v.Z_OK)throw new Error(r[n]);this.header=new o,f.inflateGetHeader(this.strm,this.header)}function s(e,t){var n=new a(t);if(n.push(e,!0),n.err)throw n.msg;return n.result}a.prototype.push=function(e,t){var n,r,i,o,a,s,u=this.strm,c=this.options.chunkSize,l=this.options.dictionary,p=!1;if(this.ended)return!1;r=t===~~t?t:!0===t?v.Z_FINISH:v.Z_NO_FLUSH,"string"==typeof e?u.input=h.binstring2buf(e):"[object ArrayBuffer]"===g.call(e)?u.input=new Uint8Array(e):u.input=e,u.next_in=0,u.avail_in=u.input.length;do{if(0===u.avail_out&&(u.output=new d.Buf8(c),u.next_out=0,u.avail_out=c),(n=f.inflate(u,v.Z_NO_FLUSH))===v.Z_NEED_DICT&&l&&(s="string"==typeof l?h.string2buf(l):"[object ArrayBuffer]"===g.call(l)?new Uint8Array(l):l,n=f.inflateSetDictionary(this.strm,s)),n===v.Z_BUF_ERROR&&!0===p&&(n=v.Z_OK,p=!1),n!==v.Z_STREAM_END&&n!==v.Z_OK)return this.onEnd(n),!(this.ended=!0);u.next_out&&(0!==u.avail_out&&n!==v.Z_STREAM_END&&(0!==u.avail_in||r!==v.Z_FINISH&&r!==v.Z_SYNC_FLUSH)||("string"===this.options.to?(i=h.utf8border(u.output,u.next_out),o=u.next_out-i,a=h.buf2string(u.output,i),u.next_out=o,u.avail_out=c-o,o&&d.arraySet(u.output,u.output,i,o,0),this.onData(a)):this.onData(d.shrinkBuf(u.output,u.next_out)))),0===u.avail_in&&0===u.avail_out&&(p=!0)}while((0<u.avail_in||0===u.avail_out)&&n!==v.Z_STREAM_END);return n===v.Z_STREAM_END&&(r=v.Z_FINISH),r===v.Z_FINISH?(n=f.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===v.Z_OK):r!==v.Z_SYNC_FLUSH||(this.onEnd(v.Z_OK),!(u.avail_out=0))},a.prototype.onData=function(e){this.chunks.push(e)},a.prototype.onEnd=function(e){e===v.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=d.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},t.Inflate=a,t.inflate=s,t.inflateRaw=function(e,t){return(t=t||{}).raw=!0,s(e,t)},t.ungzip=s},function(e,t,n){"use strict";var T=n(357),R=n(1359),A=n(1360),I=n(2269),M=n(2270),N=1,D=2,j=0,L=-2,B=1,r=852,i=592;function F(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function o(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new T.Buf16(320),this.work=new T.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function a(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=B,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new T.Buf32(r),t.distcode=t.distdyn=new T.Buf32(i),t.sane=1,t.back=-1,j):L}function s(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,a(e)):L}function u(e,t){var n,r;return e&&e.state?(r=e.state,t<0?(n=0,t=-t):(n=1+(t>>4),t<48&&(t&=15)),t&&(t<8||15<t)?L:(null!==r.window&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,s(e))):L}function c(e,t){var n,r;return e?(r=new o,(e.state=r).window=null,(n=u(e,t))!==j&&(e.state=null),n):L}var l,p,f=!0;function z(e){if(f){var t;for(l=new T.Buf32(512),p=new T.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(M(N,e.lens,0,288,l,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;M(D,e.lens,0,32,p,0,e.work,{bits:5}),f=!1}e.lencode=l,e.lenbits=9,e.distcode=p,e.distbits=5}function U(e,t,n,r){var i,o=e.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new T.Buf8(o.wsize)),r>=o.wsize?(T.arraySet(o.window,t,n-o.wsize,o.wsize,0),o.wnext=0,o.whave=o.wsize):(r<(i=o.wsize-o.wnext)&&(i=r),T.arraySet(o.window,t,n-r,i,o.wnext),(r-=i)?(T.arraySet(o.window,t,n-r,r,0),o.wnext=r,o.whave=o.wsize):(o.wnext+=i,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=i))),0}t.inflateReset=s,t.inflateReset2=u,t.inflateResetKeep=a,t.inflateInit=function(e){return c(e,15)},t.inflateInit2=c,t.inflate=function(e,t){var n,r,i,o,a,s,u,c,l,p,f,d,h,v,g,m,y,b,w,S,_,C,E,x,O=0,k=new T.Buf8(4),P=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return L;12===(n=e.state).mode&&(n.mode=13),a=e.next_out,i=e.output,u=e.avail_out,o=e.next_in,r=e.input,s=e.avail_in,c=n.hold,l=n.bits,p=s,f=u,C=j;e:for(;;)switch(n.mode){case B:if(0===n.wrap){n.mode=13;break}for(;l<16;){if(0===s)break e;s--,c+=r[o++]<<l,l+=8}if(2&n.wrap&&35615===c){k[n.check=0]=255&c,k[1]=c>>>8&255,n.check=A(n.check,k,2,0),l=c=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&c)<<8)+(c>>8))%31){e.msg="incorrect header check",n.mode=30;break}if(8!=(15&c)){e.msg="unknown compression method",n.mode=30;break}if(l-=4,_=8+(15&(c>>>=4)),0===n.wbits)n.wbits=_;else if(_>n.wbits){e.msg="invalid window size",n.mode=30;break}n.dmax=1<<_,e.adler=n.check=1,n.mode=512&c?10:12,l=c=0;break;case 2:for(;l<16;){if(0===s)break e;s--,c+=r[o++]<<l,l+=8}if(n.flags=c,8!=(255&n.flags)){e.msg="unknown compression method",n.mode=30;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=30;break}n.head&&(n.head.text=c>>8&1),512&n.flags&&(k[0]=255&c,k[1]=c>>>8&255,n.check=A(n.check,k,2,0)),l=c=0,n.mode=3;case 3:for(;l<32;){if(0===s)break e;s--,c+=r[o++]<<l,l+=8}n.head&&(n.head.time=c),512&n.flags&&(k[0]=255&c,k[1]=c>>>8&255,k[2]=c>>>16&255,k[3]=c>>>24&255,n.check=A(n.check,k,4,0)),l=c=0,n.mode=4;case 4:for(;l<16;){if(0===s)break e;s--,c+=r[o++]<<l,l+=8}n.head&&(n.head.xflags=255&c,n.head.os=c>>8),512&n.flags&&(k[0]=255&c,k[1]=c>>>8&255,n.check=A(n.check,k,2,0)),l=c=0,n.mode=5;case 5:if(1024&n.flags){for(;l<16;){if(0===s)break e;s--,c+=r[o++]<<l,l+=8}n.length=c,n.head&&(n.head.extra_len=c),512&n.flags&&(k[0]=255&c,k[1]=c>>>8&255,n.check=A(n.check,k,2,0)),l=c=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&(s<(d=n.length)&&(d=s),d&&(n.head&&(_=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),T.arraySet(n.head.extra,r,o,d,_)),512&n.flags&&(n.check=A(n.check,r,d,o)),s-=d,o+=d,n.length-=d),n.length))break e;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===s)break e;for(d=0;_=r[o+d++],n.head&&_&&n.length<65536&&(n.head.name+=String.fromCharCode(_)),_&&d<s;);if(512&n.flags&&(n.check=A(n.check,r,d,o)),s-=d,o+=d,_)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===s)break e;for(d=0;_=r[o+d++],n.head&&_&&n.length<65536&&(n.head.comment+=String.fromCharCode(_)),_&&d<s;);if(512&n.flags&&(n.check=A(n.check,r,d,o)),s-=d,o+=d,_)break e}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;l<16;){if(0===s)break e;s--,c+=r[o++]<<l,l+=8}if(c!==(65535&n.check)){e.msg="header crc mismatch",n.mode=30;break}l=c=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=12;break;case 10:for(;l<32;){if(0===s)break e;s--,c+=r[o++]<<l,l+=8}e.adler=n.check=F(c),l=c=0,n.mode=11;case 11:if(0===n.havedict)return e.next_out=a,e.avail_out=u,e.next_in=o,e.avail_in=s,n.hold=c,n.bits=l,2;e.adler=n.check=1,n.mode=12;case 12:if(5===t||6===t)break e;case 13:if(n.last){c>>>=7&l,l-=7&l,n.mode=27;break}for(;l<3;){if(0===s)break e;s--,c+=r[o++]<<l,l+=8}switch(n.last=1&c,l-=1,3&(c>>>=1)){case 0:n.mode=14;break;case 1:if(z(n),n.mode=20,6!==t)break;c>>>=2,l-=2;break e;case 2:n.mode=17;break;case 3:e.msg="invalid block type",n.mode=30}c>>>=2,l-=2;break;case 14:for(c>>>=7&l,l-=7&l;l<32;){if(0===s)break e;s--,c+=r[o++]<<l,l+=8}if((65535&c)!=(c>>>16^65535)){e.msg="invalid stored block lengths",n.mode=30;break}if(n.length=65535&c,l=c=0,n.mode=15,6===t)break e;case 15:n.mode=16;case 16:if(d=n.length){if(s<d&&(d=s),u<d&&(d=u),0===d)break e;T.arraySet(i,r,o,d,a),s-=d,o+=d,u-=d,a+=d,n.length-=d;break}n.mode=12;break;case 17:for(;l<14;){if(0===s)break e;s--,c+=r[o++]<<l,l+=8}if(n.nlen=257+(31&c),c>>>=5,l-=5,n.ndist=1+(31&c),c>>>=5,l-=5,n.ncode=4+(15&c),c>>>=4,l-=4,286<n.nlen||30<n.ndist){e.msg="too many length or distance symbols",n.mode=30;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;l<3;){if(0===s)break e;s--,c+=r[o++]<<l,l+=8}n.lens[P[n.have++]]=7&c,c>>>=3,l-=3}for(;n.have<19;)n.lens[P[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,E={bits:n.lenbits},C=M(0,n.lens,0,19,n.lencode,0,n.work,E),n.lenbits=E.bits,C){e.msg="invalid code lengths set",n.mode=30;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;m=(O=n.lencode[c&(1<<n.lenbits)-1])>>>16&255,y=65535&O,!((g=O>>>24)<=l);){if(0===s)break e;s--,c+=r[o++]<<l,l+=8}if(y<16)c>>>=g,l-=g,n.lens[n.have++]=y;else{if(16===y){for(x=g+2;l<x;){if(0===s)break e;s--,c+=r[o++]<<l,l+=8}if(c>>>=g,l-=g,0===n.have){e.msg="invalid bit length repeat",n.mode=30;break}_=n.lens[n.have-1],d=3+(3&c),c>>>=2,l-=2}else if(17===y){for(x=g+3;l<x;){if(0===s)break e;s--,c+=r[o++]<<l,l+=8}l-=g,_=0,d=3+(7&(c>>>=g)),c>>>=3,l-=3}else{for(x=g+7;l<x;){if(0===s)break e;s--,c+=r[o++]<<l,l+=8}l-=g,_=0,d=11+(127&(c>>>=g)),c>>>=7,l-=7}if(n.have+d>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=30;break}for(;d--;)n.lens[n.have++]=_}}if(30===n.mode)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=30;break}if(n.lenbits=9,E={bits:n.lenbits},C=M(N,n.lens,0,n.nlen,n.lencode,0,n.work,E),n.lenbits=E.bits,C){e.msg="invalid literal/lengths set",n.mode=30;break}if(n.distbits=6,n.distcode=n.distdyn,E={bits:n.distbits},C=M(D,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,E),n.distbits=E.bits,C){e.msg="invalid distances set",n.mode=30;break}if(n.mode=20,6===t)break e;case 20:n.mode=21;case 21:if(6<=s&&258<=u){e.next_out=a,e.avail_out=u,e.next_in=o,e.avail_in=s,n.hold=c,n.bits=l,I(e,f),a=e.next_out,i=e.output,u=e.avail_out,o=e.next_in,r=e.input,s=e.avail_in,c=n.hold,l=n.bits,12===n.mode&&(n.back=-1);break}for(n.back=0;m=(O=n.lencode[c&(1<<n.lenbits)-1])>>>16&255,y=65535&O,!((g=O>>>24)<=l);){if(0===s)break e;s--,c+=r[o++]<<l,l+=8}if(m&&0==(240&m)){for(b=g,w=m,S=y;m=(O=n.lencode[S+((c&(1<<b+w)-1)>>b)])>>>16&255,y=65535&O,!(b+(g=O>>>24)<=l);){if(0===s)break e;s--,c+=r[o++]<<l,l+=8}c>>>=b,l-=b,n.back+=b}if(c>>>=g,l-=g,n.back+=g,n.length=y,0===m){n.mode=26;break}if(32&m){n.back=-1,n.mode=12;break}if(64&m){e.msg="invalid literal/length code",n.mode=30;break}n.extra=15&m,n.mode=22;case 22:if(n.extra){for(x=n.extra;l<x;){if(0===s)break e;s--,c+=r[o++]<<l,l+=8}n.length+=c&(1<<n.extra)-1,c>>>=n.extra,l-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;m=(O=n.distcode[c&(1<<n.distbits)-1])>>>16&255,y=65535&O,!((g=O>>>24)<=l);){if(0===s)break e;s--,c+=r[o++]<<l,l+=8}if(0==(240&m)){for(b=g,w=m,S=y;m=(O=n.distcode[S+((c&(1<<b+w)-1)>>b)])>>>16&255,y=65535&O,!(b+(g=O>>>24)<=l);){if(0===s)break e;s--,c+=r[o++]<<l,l+=8}c>>>=b,l-=b,n.back+=b}if(c>>>=g,l-=g,n.back+=g,64&m){e.msg="invalid distance code",n.mode=30;break}n.offset=y,n.extra=15&m,n.mode=24;case 24:if(n.extra){for(x=n.extra;l<x;){if(0===s)break e;s--,c+=r[o++]<<l,l+=8}n.offset+=c&(1<<n.extra)-1,c>>>=n.extra,l-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=30;break}n.mode=25;case 25:if(0===u)break e;if(d=f-u,n.offset>d){if((d=n.offset-d)>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=30;break}h=d>n.wnext?(d-=n.wnext,n.wsize-d):n.wnext-d,d>n.length&&(d=n.length),v=n.window}else v=i,h=a-n.offset,d=n.length;for(u<d&&(d=u),u-=d,n.length-=d;i[a++]=v[h++],--d;);0===n.length&&(n.mode=21);break;case 26:if(0===u)break e;i[a++]=n.length,u--,n.mode=21;break;case 27:if(n.wrap){for(;l<32;){if(0===s)break e;s--,c|=r[o++]<<l,l+=8}if(f-=u,e.total_out+=f,n.total+=f,f&&(e.adler=n.check=n.flags?A(n.check,i,f,a-f):R(n.check,i,f,a-f)),f=u,(n.flags?c:F(c))!==n.check){e.msg="incorrect data check",n.mode=30;break}l=c=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;l<32;){if(0===s)break e;s--,c+=r[o++]<<l,l+=8}if(c!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=30;break}l=c=0}n.mode=29;case 29:C=1;break e;case 30:C=-3;break e;case 31:return-4;case 32:default:return L}return e.next_out=a,e.avail_out=u,e.next_in=o,e.avail_in=s,n.hold=c,n.bits=l,(n.wsize||f!==e.avail_out&&n.mode<30&&(n.mode<27||4!==t))&&U(e,e.output,e.next_out,f-e.avail_out)?(n.mode=31,-4):(p-=e.avail_in,f-=e.avail_out,e.total_in+=p,e.total_out+=f,n.total+=f,n.wrap&&f&&(e.adler=n.check=n.flags?A(n.check,i,f,e.next_out-f):R(n.check,i,f,e.next_out-f)),e.data_type=n.bits+(n.last?64:0)+(12===n.mode?128:0)+(20===n.mode||15===n.mode?256:0),(0==p&&0===f||4===t)&&C===j&&(C=-5),C)},t.inflateEnd=function(e){if(!e||!e.state)return L;var t=e.state;return t.window&&(t.window=null),e.state=null,j},t.inflateGetHeader=function(e,t){var n;return e&&e.state?0==(2&(n=e.state).wrap)?L:((n.head=t).done=!1,j):L},t.inflateSetDictionary=function(e,t){var n,r=t.length;return e&&e.state?0!==(n=e.state).wrap&&11!==n.mode?L:11===n.mode&&R(1,t,r,0)!==n.check?-3:U(e,t,r,r)?(n.mode=31,-4):(n.havedict=1,j):L},t.inflateInfo="pako inflate (from Nodeca project)"},function(e,t,n){"use strict";e.exports=function(e,t){var n,r,i,o,a,s,u,c,l,p,f,d,h,v,g,m,y,b,w,S,_,C,E,x,O;n=e.state,r=e.next_in,x=e.input,i=r+(e.avail_in-5),o=e.next_out,O=e.output,a=o-(t-e.avail_out),s=o+(e.avail_out-257),u=n.dmax,c=n.wsize,l=n.whave,p=n.wnext,f=n.window,d=n.hold,h=n.bits,v=n.lencode,g=n.distcode,m=(1<<n.lenbits)-1,y=(1<<n.distbits)-1;e:do{h<15&&(d+=x[r++]<<h,h+=8,d+=x[r++]<<h,h+=8),b=v[d&m];t:for(;;){if(d>>>=w=b>>>24,h-=w,0===(w=b>>>16&255))O[o++]=65535&b;else{if(!(16&w)){if(0==(64&w)){b=v[(65535&b)+(d&(1<<w)-1)];continue t}if(32&w){n.mode=12;break e}e.msg="invalid literal/length code",n.mode=30;break e}S=65535&b,(w&=15)&&(h<w&&(d+=x[r++]<<h,h+=8),S+=d&(1<<w)-1,d>>>=w,h-=w),h<15&&(d+=x[r++]<<h,h+=8,d+=x[r++]<<h,h+=8),b=g[d&y];n:for(;;){if(d>>>=w=b>>>24,h-=w,!(16&(w=b>>>16&255))){if(0==(64&w)){b=g[(65535&b)+(d&(1<<w)-1)];continue n}e.msg="invalid distance code",n.mode=30;break e}if(_=65535&b,h<(w&=15)&&(d+=x[r++]<<h,(h+=8)<w&&(d+=x[r++]<<h,h+=8)),u<(_+=d&(1<<w)-1)){e.msg="invalid distance too far back",n.mode=30;break e}if(d>>>=w,h-=w,(w=o-a)<_){if(l<(w=_-w)&&n.sane){e.msg="invalid distance too far back",n.mode=30;break e}if(E=f,(C=0)===p){if(C+=c-w,w<S){for(S-=w;O[o++]=f[C++],--w;);C=o-_,E=O}}else if(p<w){if(C+=c+p-w,(w-=p)<S){for(S-=w;O[o++]=f[C++],--w;);if(C=0,p<S){for(S-=w=p;O[o++]=f[C++],--w;);C=o-_,E=O}}}else if(C+=p-w,w<S){for(S-=w;O[o++]=f[C++],--w;);C=o-_,E=O}for(;2<S;)O[o++]=E[C++],O[o++]=E[C++],O[o++]=E[C++],S-=3;S&&(O[o++]=E[C++],1<S&&(O[o++]=E[C++]))}else{for(C=o-_;O[o++]=O[C++],O[o++]=O[C++],O[o++]=O[C++],2<(S-=3););S&&(O[o++]=O[C++],1<S&&(O[o++]=O[C++]))}break}}break}}while(r<i&&o<s);r-=S=h>>3,d&=(1<<(h-=S<<3))-1,e.next_in=r,e.next_out=o,e.avail_in=r<i?i-r+5:5-(r-i),e.avail_out=o<s?s-o+257:257-(o-s),n.hold=d,n.bits=h}},function(e,t,n){"use strict";var N=n(357),D=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],j=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],L=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],B=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(e,t,n,r,i,o,a,s){var u,c,l,p,f,d,h,v,g,m=s.bits,y=0,b=0,w=0,S=0,_=0,C=0,E=0,x=0,O=0,k=0,P=null,T=0,R=new N.Buf16(16),A=new N.Buf16(16),I=null,M=0;for(y=0;y<=15;y++)R[y]=0;for(b=0;b<r;b++)R[t[n+b]]++;for(_=m,S=15;1<=S&&0===R[S];S--);if(S<_&&(_=S),0===S)return i[o++]=20971520,i[o++]=20971520,s.bits=1,0;for(w=1;w<S&&0===R[w];w++);for(_<w&&(_=w),y=x=1;y<=15;y++)if(x<<=1,(x-=R[y])<0)return-1;if(0<x&&(0===e||1!==S))return-1;for(A[1]=0,y=1;y<15;y++)A[y+1]=A[y]+R[y];for(b=0;b<r;b++)0!==t[n+b]&&(a[A[t[n+b]]++]=b);if(d=0===e?(P=I=a,19):1===e?(P=D,T-=257,I=j,M-=257,256):(P=L,I=B,-1),y=w,f=o,l=-1,p=(O=1<<(C=_))-1,1===e&&852<O||2===e&&592<O)return 1;for(E=b=k=0;;){for(0,h=y-E,g=a[b]<d?(v=0,a[b]):a[b]>d?(v=I[M+a[b]],P[T+a[b]]):(v=96,0),u=1<<y-E,w=c=1<<C;i[f+(k>>E)+(c-=u)]=h<<24|v<<16|g|0,0!==c;);for(u=1<<y-1;k&u;)u>>=1;if(0!==u?(k&=u-1,k+=u):k=0,b++,0==--R[y]){if(y===S)break;y=t[n+a[b]]}if(_<y&&(k&p)!==l){for(0===E&&(E=_),f+=w,x=1<<(C=y-E);C+E<S&&!((x-=R[C+E])<=0);)C++,x<<=1;if(O+=1<<C,1===e&&852<O||2===e&&592<O)return 1;i[l=k&p]=_<<24|C<<16|f-o|0}}return 0!==k&&(i[f+k]=y-E<<24|64<<16|0),s.bits=_,0}},function(e,t,n){"use strict";e.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},function(e,t,n){"use strict";var P=n(96),i=n(219),T=n(581),R=n(1116),A=n(1364),I=function(e,t){var n,r="";for(n=0;n<t;n++)r+=String.fromCharCode(255&e),e>>>=8;return r},r=function(e,t,n,r,i,o){var a,s,u=e.file,c=e.compression,l=o!==T.utf8encode,p=P.transformTo("string",o(u.name)),f=P.transformTo("string",T.utf8encode(u.name)),d=u.comment,h=P.transformTo("string",o(d)),v=P.transformTo("string",T.utf8encode(d)),g=f.length!==u.name.length,m=v.length!==d.length,y="",b="",w="",S=u.dir,_=u.date,C={crc32:0,compressedSize:0,uncompressedSize:0};t&&!n||(C.crc32=e.crc32,C.compressedSize=e.compressedSize,C.uncompressedSize=e.uncompressedSize);var E=0;t&&(E|=8),l||!g&&!m||(E|=2048);var x=0,O=0;S&&(x|=16),"UNIX"===i?(O=798,x|=function(e,t){var n=e;return e||(n=t?16893:33204),(65535&n)<<16}(u.unixPermissions,S)):(O=20,x|=function(e,t){return 63&(e||0)}(u.dosPermissions)),a=_.getUTCHours(),a<<=6,a|=_.getUTCMinutes(),a<<=5,a|=_.getUTCSeconds()/2,s=_.getUTCFullYear()-1980,s<<=4,s|=_.getUTCMonth()+1,s<<=5,s|=_.getUTCDate(),g&&(b=I(1,1)+I(R(p),4)+f,y+="up"+I(b.length,2)+b),m&&(w=I(1,1)+I(R(h),4)+v,y+="uc"+I(w.length,2)+w);var k="";return k+="\n\0",k+=I(E,2),k+=c.magic,k+=I(a,2),k+=I(s,2),k+=I(C.crc32,4),k+=I(C.compressedSize,4),k+=I(C.uncompressedSize,4),k+=I(p.length,2),k+=I(y.length,2),{fileRecord:A.LOCAL_FILE_HEADER+k+p+y,dirRecord:A.CENTRAL_FILE_HEADER+I(O,2)+k+I(h.length,2)+"\0\0\0\0"+I(x,4)+I(r,4)+p+y+h}};function o(e,t,n,r){i.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=t,this.zipPlatform=n,this.encodeFileName=r,this.streamFiles=e,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}P.inherits(o,i),o.prototype.push=function(e){var t=e.meta.percent||0,n=this.entriesCount,r=this._sources.length;this.accumulate?this.contentBuffer.push(e):(this.bytesWritten+=e.data.length,i.prototype.push.call(this,{data:e.data,meta:{currentFile:this.currentFile,percent:n?(t+100*(n-r-1))/n:100}}))},o.prototype.openedSource=function(e){if(this.currentSourceOffset=this.bytesWritten,this.currentFile=e.file.name,this.streamFiles&&!e.file.dir){var t=r(e,this.streamFiles,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:t.fileRecord,meta:{percent:0}})}else this.accumulate=!0},o.prototype.closedSource=function(e){this.accumulate=!1;var t=r(e,this.streamFiles,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(t.dirRecord),this.streamFiles&&!e.file.dir)this.push({data:function(e){return A.DATA_DESCRIPTOR+I(e.crc32,4)+I(e.compressedSize,4)+I(e.uncompressedSize,4)}(e),meta:{percent:100}});else for(this.push({data:t.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},o.prototype.flush=function(){for(var e=this.bytesWritten,t=0;t<this.dirRecords.length;t++)this.push({data:this.dirRecords[t],meta:{percent:100}});var n=this.bytesWritten-e,r=function(e,t,n,r,i){var o=P.transformTo("string",i(r));return A.CENTRAL_DIRECTORY_END+"\0\0\0\0"+I(e,2)+I(e,2)+I(t,4)+I(n,4)+I(o.length,2)+o}(this.dirRecords.length,n,e,this.zipComment,this.encodeFileName);this.push({data:r,meta:{percent:100}})},o.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},o.prototype.registerPrevious=function(e){this._sources.push(e);var t=this;return e.on("data",function(e){t.processChunk(e)}),e.on("end",function(){t.closedSource(t.previous.streamInfo),t._sources.length?t.prepareNextSource():t.end()}),e.on("error",function(e){t.error(e)}),this},o.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},o.prototype.error=function(e){var t=this._sources;if(!i.prototype.error.call(this,e))return!1;for(var n=0;n<t.length;n++)try{t[n].error(e)}catch(e){}return!0},o.prototype.lock=function(){i.prototype.lock.call(this);for(var e=this._sources,t=0;t<e.length;t++)e[t].lock()},e.exports=o},function(e,t,n){"use strict";var r=n(96),i=n(219);function o(e,t){i.call(this,"Nodejs stream input adapter for "+e),this._upstreamEnded=!1,this._bindStream(t)}r.inherits(o,i),o.prototype._bindStream=function(e){var t=this;(this._stream=e).pause(),e.on("data",function(e){t.push({data:e,meta:{percent:0}})}).on("error",function(e){t.isPaused?this.generatedError=e:t.error(e)}).on("end",function(){t.isPaused?t._upstreamEnded=!0:t.end()})},o.prototype.pause=function(){return!!i.prototype.pause.call(this)&&(this._stream.pause(),!0)},o.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},e.exports=o},function(e,t,n){"use strict";var r=n(96),i=n(646),s=n(581),u=(r=n(96),n(2275)),o=n(1357),c=n(751);function l(r){return new i.Promise(function(e,t){var n=r.decompressed.getContentWorker().pipe(new o);n.on("error",function(e){t(e)}).on("end",function(){n.streamInfo.crc32!==r.decompressed.crc32?t(new Error("Corrupted zip : CRC32 mismatch")):e()}).resume()})}e.exports=function(e,o){var a=this;return o=r.extend(o||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:s.utf8decode}),c.isNode&&c.isStream(e)?i.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):r.prepareContent("the loaded zip file",e,!0,o.optimizedBinaryString,o.base64).then(function(e){var t=new u(o);return t.load(e),t}).then(function(e){var t=[i.Promise.resolve(e)],n=e.files;if(o.checkCRC32)for(var r=0;r<n.length;r++)t.push(l(n[r]));return i.Promise.all(t)}).then(function(e){for(var t=e.shift(),n=t.files,r=0;r<n.length;r++){var i=n[r];a.file(i.fileNameStr,i.decompressed,{binary:!0,optimizedBinaryString:!0,date:i.date,dir:i.dir,comment:i.fileCommentStr.length?i.fileCommentStr:null,unixPermissions:i.unixPermissions,dosPermissions:i.dosPermissions,createFolders:o.createFolders})}return t.zipComment.length&&(a.comment=t.zipComment),a})}},function(e,t,n){"use strict";var r=n(1365),i=n(96),o=n(1364),a=n(2278),s=(n(581),n(496));function u(e){this.files=[],this.loadOptions=e}u.prototype={checkSignature:function(e){if(!this.reader.readAndCheckSignature(e)){this.reader.index-=4;var t=this.reader.readString(4);throw new Error("Corrupted zip or bug : unexpected signature ("+i.pretty(t)+", expected "+i.pretty(e)+")")}},isSignature:function(e,t){var n=this.reader.index;this.reader.setIndex(e);var r=this.reader.readString(4)===t;return this.reader.setIndex(n),r},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var e=this.reader.readData(this.zipCommentLength),t=s.uint8array?"uint8array":"array",n=i.transformTo(t,e);this.zipComment=this.loadOptions.decodeFileName(n)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var e,t,n,r=this.zip64EndOfCentralSize-44;0<r;)e=this.reader.readInt(2),t=this.reader.readInt(4),n=this.reader.readData(t),this.zip64ExtensibleData[e]={id:e,length:t,value:n}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var e,t;for(e=0;e<this.files.length;e++)t=this.files[e],this.reader.setIndex(t.localHeaderOffset),this.checkSignature(o.LOCAL_FILE_HEADER),t.readLocalPart(this.reader),t.handleUTF8(),t.processAttributes()},readCentralDir:function(){var e;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(o.CENTRAL_FILE_HEADER);)(e=new a({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(e);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var e=this.reader.lastIndexOfSignature(o.CENTRAL_DIRECTORY_END);if(e<0)throw!this.isSignature(0,o.LOCAL_FILE_HEADER)?new Error("Can't find end of central directory : is this a zip file ? If it is, see http://stuk.github.io/jszip/documentation/howto/read_zip.html"):new Error("Corrupted zip : can't find end of central directory");this.reader.setIndex(e);var t=e;if(this.checkSignature(o.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===i.MAX_VALUE_16BITS||this.diskWithCentralDirStart===i.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===i.MAX_VALUE_16BITS||this.centralDirRecords===i.MAX_VALUE_16BITS||this.centralDirSize===i.MAX_VALUE_32BITS||this.centralDirOffset===i.MAX_VALUE_32BITS){if(this.zip64=!0,(e=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip : can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(e),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,o.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip : can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var n=this.centralDirOffset+this.centralDirSize;this.zip64&&(n+=20,n+=12+this.zip64EndOfCentralSize);var r=t-n;if(0<r)this.isSignature(t,o.CENTRAL_FILE_HEADER)||(this.reader.zero=r);else if(r<0)throw new Error("Corrupted zip: missing "+Math.abs(r)+" bytes.")},prepareReader:function(e){this.reader=r(e)},load:function(e){this.prepareReader(e),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},e.exports=u},function(e,t,n){"use strict";var r=n(1367);function i(e){r.call(this,e)}n(96).inherits(i,r),i.prototype.byteAt=function(e){return this.data.charCodeAt(this.zero+e)},i.prototype.lastIndexOfSignature=function(e){return this.data.lastIndexOf(e)-this.zero},i.prototype.readAndCheckSignature=function(e){return e===this.readData(4)},i.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},e.exports=i},function(e,t,n){"use strict";var r=n(1368);function i(e){r.call(this,e)}n(96).inherits(i,r),i.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},e.exports=i},function(e,t,n){"use strict";var r=n(1365),o=n(96),i=n(1115),a=n(1116),s=n(581),u=n(1358),c=n(496);function l(e,t){this.options=e,this.loadOptions=t}l.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},readLocalPart:function(e){var t,n;if(e.skip(22),this.fileNameLength=e.readInt(2),n=e.readInt(2),this.fileName=e.readData(this.fileNameLength),e.skip(n),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough informations from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(t=function(e){for(var t in u)if(u.hasOwnProperty(t)&&u[t].magic===e)return u[t];return null}(this.compressionMethod)))throw new Error("Corrupted zip : compression "+o.pretty(this.compressionMethod)+" unknown (inner file : "+o.transformTo("string",this.fileName)+")");this.decompressed=new i(this.compressedSize,this.uncompressedSize,this.crc32,t,e.readData(this.compressedSize))},readCentralPart:function(e){this.versionMadeBy=e.readInt(2),e.skip(2),this.bitFlag=e.readInt(2),this.compressionMethod=e.readString(2),this.date=e.readDate(),this.crc32=e.readInt(4),this.compressedSize=e.readInt(4),this.uncompressedSize=e.readInt(4);var t=e.readInt(2);if(this.extraFieldsLength=e.readInt(2),this.fileCommentLength=e.readInt(2),this.diskNumberStart=e.readInt(2),this.internalFileAttributes=e.readInt(2),this.externalFileAttributes=e.readInt(4),this.localHeaderOffset=e.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");e.skip(t),this.readExtraFields(e),this.parseZIP64ExtraField(e),this.fileComment=e.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var e=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0==e&&(this.dosPermissions=63&this.externalFileAttributes),3==e&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(e){if(this.extraFields[1]){var t=r(this.extraFields[1].value);this.uncompressedSize===o.MAX_VALUE_32BITS&&(this.uncompressedSize=t.readInt(8)),this.compressedSize===o.MAX_VALUE_32BITS&&(this.compressedSize=t.readInt(8)),this.localHeaderOffset===o.MAX_VALUE_32BITS&&(this.localHeaderOffset=t.readInt(8)),this.diskNumberStart===o.MAX_VALUE_32BITS&&(this.diskNumberStart=t.readInt(4))}},readExtraFields:function(e){var t,n,r,i=e.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});e.index<i;)t=e.readInt(2),n=e.readInt(2),r=e.readData(n),this.extraFields[t]={id:t,length:n,value:r}},handleUTF8:function(){var e=c.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=s.utf8decode(this.fileName),this.fileCommentStr=s.utf8decode(this.fileComment);else{var t=this.findExtraFieldUnicodePath();if(null!==t)this.fileNameStr=t;else{var n=o.transformTo(e,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(n)}var r=this.findExtraFieldUnicodeComment();if(null!==r)this.fileCommentStr=r;else{var i=o.transformTo(e,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(i)}}},findExtraFieldUnicodePath:function(){var e=this.extraFields[28789];if(e){var t=r(e.value);return 1!==t.readInt(1)?null:a(this.fileName)!==t.readInt(4)?null:s.utf8decode(t.readData(e.length-5))}return null},findExtraFieldUnicodeComment:function(){var e=this.extraFields[25461];if(e){var t=r(e.value);return 1!==t.readInt(1)?null:a(this.fileComment)!==t.readInt(4)?null:s.utf8decode(t.readData(e.length-5))}return null}},e.exports=l},function(e,t,n){"use strict";n.r(t);var r=n(502);n.d(t,"SDKVersions",function(){return r});var i=n(503);n.d(t,"preloadedModules",function(){return i});var o=n(799);n.d(t,"dependencyUtils",function(){return o});var a=n(1432);n.d(t,"SnackSession",function(){return a.a});var s=n(661);n.d(t,"isModulePreloaded",function(){return s.a});var u=n(1410);for(var c in u)["SDKVersions","preloadedModules","dependencyUtils","SnackSession","isModulePreloaded","default"].indexOf(c)<0&&function(e){n.d(t,e,function(){return u[e]})}(c)},function(e,t,n){e.exports={default:n(2281),__esModule:!0}},function(e,t,n){n(2282);var r=n(167).Object;e.exports=function(e,t,n){return r.defineProperty(e,t,n)}},function(e,t,n){var r=n(358);r(r.S+r.F*!n(360),"Object",{defineProperty:n(359).f})},function(e,t,n){n(2284),e.exports=n(167).Object.keys},function(e,t,n){var r=n(1120),i=n(647);n(2287)("keys",function(){return function(e){return i(r(e))}})},function(e,t,n){var u=n(584),c=n(1372),l=n(2286);e.exports=function(s){return function(e,t,n){var r,i=u(e),o=c(i.length),a=l(n,o);if(s&&t!=t){for(;a<o;)if((r=i[a++])!=r)return!0}else for(;a<o;a++)if((s||a in i)&&i[a]===t)return s||a||0;return!s&&-1}}},function(e,t,n){var r=n(1122),i=Math.max,o=Math.min;e.exports=function(e,t){return(e=r(e))<0?i(e+t,0):o(e,t)}},function(e,t,n){var i=n(358),o=n(167),a=n(583);e.exports=function(e,t){var n=(o.Object||{})[e]||Object[e],r={};r[e]=t(n),i(i.S+i.F*a(function(){n(1)}),"Object",r)}},function(e,t,n){var r=n(1374),i=n(2291),o=n(324),a=n(1376),s=/^\[object .+?Constructor\]$/,u=Function.prototype,c=Object.prototype,l=u.toString,p=c.hasOwnProperty,f=RegExp("^"+l.call(p).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!o(e)||i(e))&&(r(e)?f:s).test(a(e))}},function(e,t,n){var r=n(585),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=o.call(e,s),n=e[s];try{var r=!(e[s]=void 0)}catch(e){}var i=a.call(e);return r&&(t?e[s]=n:delete e[s]),i}},function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},function(e,t,n){var r,i=n(2292),o=(r=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";e.exports=function(e){return!!o&&o in e}},function(e,t,n){var r=n(259)["__core-js_shared__"];e.exports=r},function(e,t){e.exports=function(e,t){return null==e?void 0:e[t]}},function(e,t,n){var r=n(2295),i=n(651);e.exports=function(e,t){return e&&r(e,t,i)}},function(e,t,n){var r=n(2296)();e.exports=r},function(e,t){e.exports=function(u){return function(e,t,n){for(var r=-1,i=Object(e),o=n(e),a=o.length;a--;){var s=o[u?a:++r];if(!1===t(i[s],s,i))break}return e}}},function(e,t){e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},function(e,t,n){var r=n(650),i=n(361);e.exports=function(e){return i(e)&&"[object Arguments]"==r(e)}},function(e,t){e.exports=function(){return!1}},function(e,t,n){var r=n(650),i=n(1130),o=n(361),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=function(e){return o(e)&&i(e.length)&&!!a[r(e)]}},function(e,t,n){var r=n(1132),i=n(2302),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=[];for(var n in Object(e))o.call(e,n)&&"constructor"!=n&&t.push(n);return t}},function(e,t,n){var r=n(1379)(Object.keys,Object);e.exports=r},function(e,t,n){var r=n(2304),i=n(2340),o=n(1389);e.exports=function(t){var n=i(t);return 1==n.length&&n[0][2]?o(n[0][0],n[0][1]):function(e){return e===t||r(e,t,n)}}},function(e,t,n){var d=n(1134),h=n(1138);e.exports=function(e,t,n,r){var i=n.length,o=i,a=!r;if(null==e)return!o;for(e=Object(e);i--;){var s=n[i];if(a&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<o;){var u=(s=n[i])[0],c=e[u],l=s[1];if(a&&s[2]){if(void 0===c&&!(u in e))return!1}else{var p=new d;if(r)var f=r(c,l,u,e,t,p);if(!(void 0===f?h(l,c,3,r,p):f))return!1}}return!0}},function(e,t){e.exports=function(){this.__data__=[],this.size=0}},function(e,t,n){var r=n(757),i=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0||(n==t.length-1?t.pop():i.call(t,n,1),--this.size,0))}},function(e,t,n){var r=n(757);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},function(e,t,n){var r=n(757);e.exports=function(e){return-1<r(this.__data__,e)}},function(e,t,n){var i=n(757);e.exports=function(e,t){var n=this.__data__,r=i(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}},function(e,t,n){var r=n(756);e.exports=function(){this.__data__=new r,this.size=0}},function(e,t){e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},function(e,t){e.exports=function(e){return this.__data__.get(e)}},function(e,t){e.exports=function(e){return this.__data__.has(e)}},function(e,t,n){var i=n(756),o=n(1136),a=n(1137);e.exports=function(e,t){var n=this.__data__;if(n instanceof i){var r=n.__data__;if(!o||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new a(r)}return n.set(e,t),this.size=n.size,this}},function(e,t,n){var r=n(2316),i=n(756),o=n(1136);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||i),string:new r}}},function(e,t,n){var r=n(2317),i=n(2318),o=n(2319),a=n(2320),s=n(2321);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,e.exports=u},function(e,t,n){var r=n(758);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},function(e,t){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},function(e,t,n){var r=n(758),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return i.call(t,e)?t[e]:void 0}},function(e,t,n){var r=n(758),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:i.call(t,e)}},function(e,t,n){var r=n(758);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},function(e,t,n){var r=n(759);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},function(e,t){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},function(e,t,n){var r=n(759);e.exports=function(e){return r(this,e).get(e)}},function(e,t,n){var r=n(759);e.exports=function(e){return r(this,e).has(e)}},function(e,t,n){var i=n(759);e.exports=function(e,t){var n=i(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}},function(e,t,n){var m=n(1134),y=n(1381),b=n(2331),w=n(2334),S=n(760),_=n(297),C=n(1128),E=n(1378),x="[object Arguments]",O="[object Array]",k="[object Object]",P=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,r,i,o){var a=_(e),s=_(t),u=a?O:S(e),c=s?O:S(t),l=(u=u==x?k:u)==k,p=(c=c==x?k:c)==k,f=u==c;if(f&&C(e)){if(!C(t))return!1;l=!(a=!0)}if(f&&!l)return o||(o=new m),a||E(e)?y(e,t,n,r,i,o):b(e,t,u,n,r,i,o);if(!(1&n)){var d=l&&P.call(e,"__wrapped__"),h=p&&P.call(t,"__wrapped__");if(d||h){var v=d?e.value():e,g=h?t.value():t;return o||(o=new m),i(v,g,n,r,o)}}return f&&(o||(o=new m),w(e,t,n,r,i,o))}},function(e,t){e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},function(e,t){e.exports=function(e){return this.__data__.has(e)}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},function(e,t,n){var r=n(585),p=n(1384),f=n(1135),d=n(1381),h=n(2332),v=n(2333),i=r?r.prototype:void 0,g=i?i.valueOf:void 0;e.exports=function(e,t,n,r,i,o,a){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!o(new p(e),new p(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return f(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var s=h;case"[object Set]":var u=1&r;if(s||(s=v),e.size!=t.size&&!u)return!1;var c=a.get(e);if(c)return c==t;r|=2,a.set(e,t);var l=d(s(e),s(t),r,i,o,a);return a.delete(e),l;case"[object Symbol]":if(g)return g.call(e)==g.call(t)}return!1}},function(e,t){e.exports=function(e){var n=-1,r=Array(e.size);return e.forEach(function(e,t){r[++n]=[t,e]}),r}},function(e,t){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}},function(e,t,n){var b=n(1385),w=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,r,i,o){var a=1&n,s=b(e),u=s.length;if(u!=b(t).length&&!a)return!1;for(var c=u;c--;){var l=s[c];if(!(a?l in t:w.call(t,l)))return!1}var p=o.get(e);if(p&&o.get(t))return p==t;var f=!0;o.set(e,t),o.set(t,e);for(var d=a;++c<u;){var h=e[l=s[c]],v=t[l];if(r)var g=a?r(v,h,l,t,e,o):r(h,v,l,e,t,o);if(!(void 0===g?h===v||i(h,v,n,r,o):g)){f=!1;break}d||(d="constructor"==l)}if(f&&!d){var m=e.constructor,y=t.constructor;m!=y&&"constructor"in e&&"constructor"in t&&!("function"==typeof m&&m instanceof m&&"function"==typeof y&&y instanceof y)&&(f=!1)}return o.delete(e),o.delete(t),f}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}},function(e,t,n){var r=n(500)(n(259),"DataView");e.exports=r},function(e,t,n){var r=n(500)(n(259),"Promise");e.exports=r},function(e,t,n){var r=n(500)(n(259),"Set");e.exports=r},function(e,t,n){var r=n(500)(n(259),"WeakMap");e.exports=r},function(e,t,n){var o=n(1388),a=n(651);e.exports=function(e){for(var t=a(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,o(i)]}return t}},function(e,t,n){var i=n(1138),o=n(2342),a=n(2348),s=n(1142),u=n(1388),c=n(1389),l=n(653);e.exports=function(n,r){return s(n)&&u(r)?c(l(n),r):function(e){var t=o(e,n);return void 0===t&&t===r?a(e,n):i(r,t,3)}}},function(e,t,n){var i=n(1141);e.exports=function(e,t,n){var r=null==e?void 0:i(e,t);return void 0===r?n:r}},function(e,t,n){var r=n(2344),o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,a=/\\(\\)?/g,i=r(function(e){var i=[];return 46===e.charCodeAt(0)&&i.push(""),e.replace(o,function(e,t,n,r){i.push(n?r.replace(a,"$1"):t||e)}),i});e.exports=i},function(e,t,n){var r=n(2345);e.exports=function(e){var t=r(e,function(e){return 500===n.size&&n.clear(),e}),n=t.cache;return t}},function(e,t,n){var r=n(1137),s="Expected a function";function u(i,o){if("function"!=typeof i||null!=o&&"function"!=typeof o)throw new TypeError(s);var a=function(){var e=arguments,t=o?o.apply(this,e):e[0],n=a.cache;if(n.has(t))return n.get(t);var r=i.apply(this,e);return a.cache=n.set(t,r)||n,r};return a.cache=new(u.Cache||r),a}u.Cache=r,e.exports=u},function(e,t,n){var r=n(2347);e.exports=function(e){return null==e?"":r(e)}},function(e,t,n){var r=n(585),i=n(763),o=n(297),a=n(762),s=1/0,u=r?r.prototype:void 0,c=u?u.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(o(t))return i(t,e)+"";if(a(t))return c?c.call(t):"";var n=t+"";return"0"==n&&1/t==-s?"-0":n}},function(e,t,n){var r=n(2349),i=n(2350);e.exports=function(e,t){return null!=e&&i(e,t,r)}},function(e,t){e.exports=function(e,t){return null!=e&&t in Object(e)}},function(e,t,n){var s=n(761),u=n(1127),c=n(297),l=n(1129),p=n(1130),f=n(653);e.exports=function(e,t,n){for(var r=-1,i=(t=s(t,e)).length,o=!1;++r<i;){var a=f(t[r]);if(!(o=null!=e&&n(e,a)))break;e=e[a]}return o||++r!=i?o:!!(i=null==e?0:e.length)&&p(i)&&l(a,i)&&(c(e)||u(e))}},function(e,t,n){var r=n(2352),i=n(2353),o=n(1142),a=n(653);e.exports=function(e){return o(e)?r(a(e)):i(e)}},function(e,t){e.exports=function(t){return function(e){return null==e?void 0:e[t]}}},function(e,t,n){var r=n(1141);e.exports=function(t){return function(e){return r(e,t)}}},function(e,t,n){n(1144),n(1145),e.exports=n(2362)},function(e,t,n){"use strict";var r=n(2356),i=n(2357),o=n(654),a=n(584);e.exports=n(1390)(Array,"Array",function(e,t){this._t=a(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,i(1)):i(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])},"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},function(e,t){e.exports=function(){}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,n){"use strict";var r=n(1392),i=n(754),o=n(764),a={};n(497)(a,n(199)("iterator"),function(){return this}),e.exports=function(e,t,n){e.prototype=r(a,{next:i(1,n)}),o(e,t+" Iterator")}},function(e,t,n){var a=n(359),s=n(323),u=n(647);e.exports=n(360)?Object.defineProperties:function(e,t){s(e);for(var n,r=u(t),i=r.length,o=0;o<i;)a.f(e,n=r[o++],t[n]);return e}},function(e,t,n){var r=n(499),i=n(1120),o=n(1123)("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=i(e),r(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},function(e,t,n){var u=n(1122),c=n(1121);e.exports=function(s){return function(e,t){var n,r,i=String(c(e)),o=u(t),a=i.length;return o<0||a<=o?s?"":void 0:(n=i.charCodeAt(o))<55296||56319<n||o+1===a||(r=i.charCodeAt(o+1))<56320||57343<r?s?i.charAt(o):n:s?i.slice(o,o+2):r-56320+(n-55296<<10)+65536}}},function(e,t,n){var r=n(323),i=n(1394);e.exports=n(167).getIterator=function(e){var t=i(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return r(t.call(e))}},function(e,t,n){var r=n(167),i=r.JSON||(r.JSON={stringify:JSON.stringify});e.exports=function(e){return i.stringify.apply(i,arguments)}},function(e,t,n){e.exports={default:n(2365),__esModule:!0}},function(e,t,n){n(1145),n(1144),e.exports=n(1146).f("iterator")},function(e,t,n){e.exports={default:n(2367),__esModule:!0}},function(e,t,n){n(2368),n(1397),n(2374),n(2375),e.exports=n(167).Symbol},function(e,t,n){"use strict";var r=n(183),a=n(499),i=n(360),o=n(358),s=n(1391),u=n(2369).KEY,c=n(583),l=n(1124),p=n(764),f=n(755),d=n(199),h=n(1146),v=n(1147),g=n(2370),m=n(2371),y=n(323),b=n(498),w=n(584),S=n(1119),_=n(754),C=n(1392),E=n(2372),x=n(2373),O=n(359),k=n(647),P=x.f,T=O.f,R=E.f,A=r.Symbol,I=r.JSON,M=I&&I.stringify,N="prototype",D=d("_hidden"),j=d("toPrimitive"),L={}.propertyIsEnumerable,B=l("symbol-registry"),F=l("symbols"),z=l("op-symbols"),U=Object[N],H="function"==typeof A,W=r.QObject,V=!W||!W[N]||!W[N].findChild,q=i&&c(function(){return 7!=C(T({},"a",{get:function(){return T(this,"a",{value:7}).a}})).a})?function(e,t,n){var r=P(U,t);r&&delete U[t],T(e,t,n),r&&e!==U&&T(U,t,r)}:T,G=function(e){var t=F[e]=C(A[N]);return t._k=e,t},K=H&&"symbol"==typeof A.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof A},X=function(e,t,n){return e===U&&X(z,t,n),y(e),t=S(t,!0),y(n),a(F,t)?(n.enumerable?(a(e,D)&&e[D][t]&&(e[D][t]=!1),n=C(n,{enumerable:_(0,!1)})):(a(e,D)||T(e,D,_(1,{})),e[D][t]=!0),q(e,t,n)):T(e,t,n)},Y=function(e,t){y(e);for(var n,r=g(t=w(t)),i=0,o=r.length;i<o;)X(e,n=r[i++],t[n]);return e},J=function(e){var t=L.call(this,e=S(e,!0));return!(this===U&&a(F,e)&&!a(z,e))&&(!(t||!a(this,e)||!a(F,e)||a(this,D)&&this[D][e])||t)},$=function(e,t){if(e=w(e),t=S(t,!0),e!==U||!a(F,t)||a(z,t)){var n=P(e,t);return!n||!a(F,t)||a(e,D)&&e[D][t]||(n.enumerable=!0),n}},Q=function(e){for(var t,n=R(w(e)),r=[],i=0;n.length>i;)a(F,t=n[i++])||t==D||t==u||r.push(t);return r},Z=function(e){for(var t,n=e===U,r=R(n?z:w(e)),i=[],o=0;r.length>o;)!a(F,t=r[o++])||n&&!a(U,t)||i.push(F[t]);return i};H||(s((A=function(){if(this instanceof A)throw TypeError("Symbol is not a constructor!");var t=f(0<arguments.length?arguments[0]:void 0),n=function(e){this===U&&n.call(z,e),a(this,D)&&a(this[D],t)&&(this[D][t]=!1),q(this,t,_(1,e))};return i&&V&&q(U,t,{configurable:!0,set:n}),G(t)})[N],"toString",function(){return this._k}),x.f=$,O.f=X,n(1396).f=E.f=Q,n(765).f=J,n(1148).f=Z,i&&!n(649)&&s(U,"propertyIsEnumerable",J,!0),h.f=function(e){return G(d(e))}),o(o.G+o.W+o.F*!H,{Symbol:A});for(var ee="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),te=0;ee.length>te;)d(ee[te++]);for(var ne=k(d.store),re=0;ne.length>re;)v(ne[re++]);o(o.S+o.F*!H,"Symbol",{for:function(e){return a(B,e+="")?B[e]:B[e]=A(e)},keyFor:function(e){if(!K(e))throw TypeError(e+" is not a symbol!");for(var t in B)if(B[t]===e)return t},useSetter:function(){V=!0},useSimple:function(){V=!1}}),o(o.S+o.F*!H,"Object",{create:function(e,t){return void 0===t?C(e):Y(C(e),t)},defineProperty:X,defineProperties:Y,getOwnPropertyDescriptor:$,getOwnPropertyNames:Q,getOwnPropertySymbols:Z}),I&&o(o.S+o.F*(!H||c(function(){var e=A();return"[null]"!=M([e])||"{}"!=M({a:e})||"{}"!=M(Object(e))})),"JSON",{stringify:function(e){for(var t,n,r=[e],i=1;arguments.length>i;)r.push(arguments[i++]);if(n=t=r[1],(b(t)||void 0!==e)&&!K(e))return m(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!K(t))return t}),r[1]=t,M.apply(I,r)}}),A[N][j]||n(497)(A[N],j,A[N].valueOf),p(A,"Symbol"),p(Math,"Math",!0),p(r.JSON,"JSON",!0)},function(e,t,n){var r=n(755)("meta"),i=n(498),o=n(499),a=n(359).f,s=0,u=Object.isExtensible||function(){return!0},c=!n(583)(function(){return u(Object.preventExtensions({}))}),l=function(e){a(e,r,{value:{i:"O"+ ++s,w:{}}})},p=e.exports={KEY:r,NEED:!1,fastKey:function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,r)){if(!u(e))return"F";if(!t)return"E";l(e)}return e[r].i},getWeak:function(e,t){if(!o(e,r)){if(!u(e))return!0;if(!t)return!1;l(e)}return e[r].w},onFreeze:function(e){return c&&p.NEED&&u(e)&&!o(e,r)&&l(e),e}}},function(e,t,n){var s=n(647),u=n(1148),c=n(765);e.exports=function(e){var t=s(e),n=u.f;if(n)for(var r,i=n(e),o=c.f,a=0;i.length>a;)o.call(e,r=i[a++])&&t.push(r);return t}},function(e,t,n){var r=n(648);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,n){var r=n(584),i=n(1396).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return a&&"[object Window]"==o.call(e)?function(e){try{return i(e)}catch(e){return a.slice()}}(e):i(r(e))}},function(e,t,n){var r=n(765),i=n(754),o=n(584),a=n(1119),s=n(499),u=n(1369),c=Object.getOwnPropertyDescriptor;t.f=n(360)?c:function(e,t){if(e=o(e),t=a(t,!0),u)try{return c(e,t)}catch(e){}if(s(e,t))return i(!r.f.call(e,t),e[t])}},function(e,t,n){n(1147)("asyncIterator")},function(e,t,n){n(1147)("observable")},function(e,t,n){n(1397),n(1145),n(1144),n(2377),n(2388),n(2389),e.exports=n(167).Promise},function(e,t,n){"use strict";var r,i,o,a,s=n(649),u=n(183),c=n(752),l=n(1395),p=n(358),f=n(498),d=n(753),h=n(2378),v=n(2379),g=n(1398),m=n(1399).set,y=n(2383)(),b=n(1149),w=n(1400),S=n(2384),_=n(1401),C="Promise",E=u.TypeError,x=u.process,O=x&&x.versions,k=O&&O.v8||"",P=u[C],T="process"==l(x),R=function(){},A=i=b.f,I=!!function(){try{var e=P.resolve(1),t=(e.constructor={})[n(199)("species")]=function(e){e(R,R)};return(T||"function"==typeof PromiseRejectionEvent)&&e.then(R)instanceof t&&0!==k.indexOf("6.6")&&-1===S.indexOf("Chrome/66")}catch(e){}}(),M=function(e){var t;return!(!f(e)||"function"!=typeof(t=e.then))&&t},N=function(l,n){if(!l._n){l._n=!0;var r=l._c;y(function(){for(var u=l._v,c=1==l._s,e=0,t=function(e){var t,n,r,i=c?e.ok:e.fail,o=e.resolve,a=e.reject,s=e.domain;try{i?(c||(2==l._h&&L(l),l._h=1),!0===i?t=u:(s&&s.enter(),t=i(u),s&&(s.exit(),r=!0)),t===e.promise?a(E("Promise-chain cycle")):(n=M(t))?n.call(t,o,a):o(t)):a(u)}catch(e){s&&!r&&s.exit(),a(e)}};r.length>e;)t(r[e++]);l._c=[],l._n=!1,n&&!l._h&&D(l)})}},D=function(o){m.call(u,function(){var e,t,n,r=o._v,i=j(o);if(i&&(e=w(function(){T?x.emit("unhandledRejection",r,o):(t=u.onunhandledrejection)?t({promise:o,reason:r}):(n=u.console)&&n.error&&n.error("Unhandled promise rejection",r)}),o._h=T||j(o)?2:1),o._a=void 0,i&&e.e)throw e.v})},j=function(e){return 1!==e._h&&0===(e._a||e._c).length},L=function(t){m.call(u,function(){var e;T?x.emit("rejectionHandled",t):(e=u.onrejectionhandled)&&e({promise:t,reason:t._v})})},B=function(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),N(t,!0))},F=function(e){var n,r=this;if(!r._d){r._d=!0,r=r._w||r;try{if(r===e)throw E("Promise can't be resolved itself");(n=M(e))?y(function(){var t={_w:r,_d:!1};try{n.call(e,c(F,t,1),c(B,t,1))}catch(e){B.call(t,e)}}):(r._v=e,r._s=1,N(r,!1))}catch(e){B.call({_w:r,_d:!1},e)}}};I||(P=function(e){h(this,P,C,"_h"),d(e),r.call(this);try{e(c(F,this,1),c(B,this,1))}catch(e){B.call(this,e)}},(r=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(2385)(P.prototype,{then:function(e,t){var n=A(g(this,P));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=T?x.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&N(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),o=function(){var e=new r;this.promise=e,this.resolve=c(F,e,1),this.reject=c(B,e,1)},b.f=A=function(e){return e===P||e===a?new o(e):i(e)}),p(p.G+p.W+p.F*!I,{Promise:P}),n(764)(P,C),n(2386)(C),a=n(167)[C],p(p.S+p.F*!I,C,{reject:function(e){var t=A(this);return(0,t.reject)(e),t.promise}}),p(p.S+p.F*(s||!I),C,{resolve:function(e){return _(s&&this===a?P:this,e)}}),p(p.S+p.F*!(I&&n(2387)(function(e){P.all(e).catch(R)})),C,{all:function(e){var a=this,t=A(a),s=t.resolve,u=t.reject,n=w(function(){var r=[],i=0,o=1;v(e,!1,function(e){var t=i++,n=!1;r.push(void 0),o++,a.resolve(e).then(function(e){n||(n=!0,r[t]=e,--o||s(r))},u)}),--o||s(r)});return n.e&&u(n.v),t.promise},race:function(e){var t=this,n=A(t),r=n.reject,i=w(function(){v(e,!1,function(e){t.resolve(e).then(n.resolve,r)})});return i.e&&r(i.v),n.promise}})},function(e,t){e.exports=function(e,t,n,r){if(!(e instanceof t)||void 0!==r&&r in e)throw TypeError(n+": incorrect invocation!");return e}},function(e,t,n){var f=n(752),d=n(2380),h=n(2381),v=n(323),g=n(1372),m=n(1394),y={},b={};(t=e.exports=function(e,t,n,r,i){var o,a,s,u,c=i?function(){return e}:m(e),l=f(n,r,t?2:1),p=0;if("function"!=typeof c)throw TypeError(e+" is not iterable!");if(h(c)){for(o=g(e.length);p<o;p++)if((u=t?l(v(a=e[p])[0],a[1]):l(e[p]))===y||u===b)return u}else for(s=c.call(e);!(a=s.next()).done;)if((u=d(s,l,a.value,t))===y||u===b)return u}).BREAK=y,t.RETURN=b},function(e,t,n){var o=n(323);e.exports=function(t,e,n,r){try{return r?e(o(n)[0],n[1]):e(n)}catch(e){var i=t.return;throw void 0!==i&&o(i.call(t)),e}}},function(e,t,n){var r=n(654),i=n(199)("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||o[i]===e)}},function(e,t){e.exports=function(e,t,n){var r=void 0===n;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},function(e,t,n){var s=n(183),u=n(1399).set,c=s.MutationObserver||s.WebKitMutationObserver,l=s.process,p=s.Promise,f="process"==n(648)(l);e.exports=function(){var n,r,i,e=function(){var e,t;for(f&&(e=l.domain)&&e.exit();n;){t=n.fn,n=n.next;try{t()}catch(e){throw n?i():r=void 0,e}}r=void 0,e&&e.enter()};if(f)i=function(){l.nextTick(e)};else if(!c||s.navigator&&s.navigator.standalone)if(p&&p.resolve){var t=p.resolve(void 0);i=function(){t.then(e)}}else i=function(){u.call(s,e)};else{var o=!0,a=document.createTextNode("");new c(e).observe(a,{characterData:!0}),i=function(){a.data=o=!o}}return function(e){var t={fn:e,next:void 0};r&&(r.next=t),n||(n=t,i()),r=t}}},function(e,t,n){var r=n(183).navigator;e.exports=r&&r.userAgent||""},function(e,t,n){var i=n(497);e.exports=function(e,t,n){for(var r in t)n&&e[r]?e[r]=t[r]:i(e,r,t[r]);return e}},function(e,t,n){"use strict";var r=n(183),i=n(167),o=n(359),a=n(360),s=n(199)("species");e.exports=function(e){var t="function"==typeof i[e]?i[e]:r[e];a&&t&&!t[s]&&o.f(t,s,{configurable:!0,get:function(){return this}})}},function(e,t,n){var o=n(199)("iterator"),a=!1;try{var r=[7][o]();r.return=function(){a=!0},Array.from(r,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!a)return!1;var n=!1;try{var r=[7],i=r[o]();i.next=function(){return{done:n=!0}},r[o]=function(){return i},e(r)}catch(e){}return n}},function(e,t,n){"use strict";var r=n(358),i=n(167),o=n(183),a=n(1398),s=n(1401);r(r.P+r.R,"Promise",{finally:function(t){var n=a(this,i.Promise||o.Promise),e="function"==typeof t;return this.then(e?function(e){return s(n,t()).then(function(){return e})}:t,e?function(e){return s(n,t()).then(function(){throw e})}:t)}})},function(e,t,n){"use strict";var r=n(358),i=n(1149),o=n(1400);r(r.S,"Promise",{try:function(e){var t=i.f(this),n=o(e);return(n.e?t.reject:t.resolve)(n.v),t.promise}})},function(i,e,o){(function(e){var t="object"==typeof e?e:"object"==typeof window?window:"object"==typeof self?self:this,n=t.regeneratorRuntime&&0<=Object.getOwnPropertyNames(t).indexOf("regeneratorRuntime"),r=n&&t.regeneratorRuntime;if(t.regeneratorRuntime=void 0,i.exports=o(2391),n)t.regeneratorRuntime=r;else try{delete t.regeneratorRuntime}catch(e){t.regeneratorRuntime=void 0}}).call(this,o(30))},function(I,e,t){(function(e,A){!function(e){"use strict";var u,t=Object.prototype,c=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},i=n.iterator||"@@iterator",r=n.toStringTag||"@@toStringTag",o="object"==typeof I,a=e.regeneratorRuntime;if(a)o&&(I.exports=a);else{(a=e.regeneratorRuntime=o?I.exports:{}).wrap=y;var l="suspendedStart",p="suspendedYield",f="executing",d="completed",h={},s={};s[i]=function(){return this};var v=Object.getPrototypeOf,g=v&&v(v(T([])));g&&g!==t&&c.call(g,i)&&(s=g);var m=_.prototype=w.prototype=Object.create(s);S.prototype=m.constructor=_,_.constructor=S,_[r]=S.displayName="GeneratorFunction",a.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===S||"GeneratorFunction"===(t.displayName||t.name))},a.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,_):(e.__proto__=_,r in e||(e[r]="GeneratorFunction")),e.prototype=Object.create(m),e},a.awrap=function(e){return{__await:e}},C(E.prototype),a.AsyncIterator=E,a.async=function(e,t,n,r){var i=new E(y(e,t,n,r));return a.isGeneratorFunction(t)?i:i.next().then(function(e){return e.done?e.value:i.next()})},C(m),m[r]="Generator",m.toString=function(){return"[object Generator]"},a.keys=function(n){var r=[];for(var e in n)r.push(e);return r.reverse(),function e(){for(;r.length;){var t=r.pop();if(t in n)return e.value=t,e.done=!1,e}return e.done=!0,e}},a.values=T,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=u,this.done=!1,this.delegate=null,this.method="next",this.arg=u,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&c.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=u)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var r=this;function e(e,t){return o.type="throw",o.arg=n,r.next=e,t&&(r.method="next",r.arg=u),!!t}for(var t=this.tryEntries.length-1;0<=t;--t){var i=this.tryEntries[t],o=i.completion;if("root"===i.tryLoc)return e("end");if(i.tryLoc<=this.prev){var a=c.call(i,"catchLoc"),s=c.call(i,"finallyLoc");if(a&&s){if(this.prev<i.catchLoc)return e(i.catchLoc,!0);if(this.prev<i.finallyLoc)return e(i.finallyLoc)}else if(a){if(this.prev<i.catchLoc)return e(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return e(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;0<=n;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&c.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),k(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;k(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=u),h}}}function y(e,t,n,r){var i=t&&t.prototype instanceof w?t:w,o=Object.create(i.prototype),a=new P(r||[]);return o._invoke=function(o,a,s){var u=l;return function(e,t){if(u===f)throw new Error("Generator is already running");if(u===d){if("throw"===e)throw t;return R()}for(s.method=e,s.arg=t;;){var n=s.delegate;if(n){var r=x(n,s);if(r){if(r===h)continue;return r}}if("next"===s.method)s.sent=s._sent=s.arg;else if("throw"===s.method){if(u===l)throw u=d,s.arg;s.dispatchException(s.arg)}else"return"===s.method&&s.abrupt("return",s.arg);u=f;var i=b(o,a,s);if("normal"===i.type){if(u=s.done?d:p,i.arg===h)continue;return{value:i.arg,done:s.done}}"throw"===i.type&&(u=d,s.method="throw",s.arg=i.arg)}}}(e,n,a),o}function b(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}function w(){}function S(){}function _(){}function C(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function E(s){function u(e,t,n,r){var i=b(s[e],s,t);if("throw"!==i.type){var o=i.arg,a=o.value;return a&&"object"==typeof a&&c.call(a,"__await")?Promise.resolve(a.__await).then(function(e){u("next",e,n,r)},function(e){u("throw",e,n,r)}):Promise.resolve(a).then(function(e){o.value=e,n(o)},r)}r(i.arg)}var t;"object"==typeof A&&A.domain&&(u=A.domain.bind(u)),this._invoke=function(n,r){function e(){return new Promise(function(e,t){u(n,r,e,t)})}return t=t?t.then(e,e):e()}}function x(e,t){var n=e.iterator[t.method];if(n===u){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=u,x(e,t),"throw"===t.method))return h;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var r=b(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,h;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=u),t.delegate=null,h):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function T(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,r=function e(){for(;++n<t.length;)if(c.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=u,e.done=!0,e};return r.next=r}}return{next:R}}function R(){return{value:u,done:!0}}}("object"==typeof e?e:"object"==typeof window?window:"object"==typeof self?self:this)}).call(this,t(30),t(29))},function(e,t,n){e.exports={default:n(2393),__esModule:!0}},function(e,t,n){n(2394),e.exports=n(167).Object.assign},function(e,t,n){var r=n(358);r(r.S+r.F,"Object",{assign:n(2395)})},function(e,t,n){"use strict";var f=n(647),d=n(1148),h=n(765),v=n(1120),g=n(1371),i=Object.assign;e.exports=!i||n(583)(function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach(function(e){t[e]=e}),7!=i({},e)[n]||Object.keys(i({},t)).join("")!=r})?function(e,t){for(var n=v(e),r=arguments.length,i=1,o=d.f,a=h.f;i<r;)for(var s,u=g(arguments[i++]),c=o?f(u).concat(o(u)):f(u),l=c.length,p=0;p<l;)a.call(u,s=c[p++])&&(n[s]=u[s]);return n}:i},function(t,e,n){"use strict";var r=n(766),i=(n(1402),n(2399)),o=n(2400),a=n(2401),s=n(2402)||0;function u(){return o(s)}t.exports=u,t.exports.generate=u,t.exports.seed=function(e){return r.seed(e),t.exports},t.exports.worker=function(e){return s=e,t.exports},t.exports.characters=function(e){return void 0!==e&&r.characters(e),r.shuffled()},t.exports.decode=i,t.exports.isValid=a},function(e,t,n){"use strict";var r=1;e.exports={nextValue:function(){return(r=(9301*r+49297)%233280)/233280},seed:function(e){r=e}}},function(e,t,n){"use strict";var r="object"==typeof window&&(window.crypto||window.msCrypto);e.exports=function(){if(!r||!r.getRandomValues)return 48&Math.floor(256*Math.random());var e=new Uint8Array(1);return r.getRandomValues(e),48&e[0]}},function(e,t,n){"use strict";var r=n(766);e.exports=function(e){var t=r.shuffled();return{version:15&t.indexOf(e.substr(0,1)),worker:15&t.indexOf(e.substr(1,1))}}},function(e,t,n){"use strict";var r,i,o=n(1402),a=n(766);e.exports=function(e){var t="",n=Math.floor(.001*(Date.now()-1459707606518));return n===i?r++:(r=0,i=n),t+=o(a.lookup,6),t+=o(a.lookup,e),0<r&&(t+=o(a.lookup,r)),t+=o(a.lookup,n)}},function(e,t,n){"use strict";var i=n(766);e.exports=function(e){if(!e||"string"!=typeof e||e.length<6)return!1;for(var t=i.characters(),n=e.length,r=0;r<n;r++)if(-1===t.indexOf(e[r]))return!1;return!0}},function(e,t,n){"use strict";e.exports=0},function(e,t,n){var r=n(259);e.exports=function(){return r.Date.now()}},function(e,t,n){var r=n(324),i=n(762),o=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,u=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(i(e))return NaN;if(r(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=r(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(o,"");var n=s.test(e);return n||u.test(e)?c(e.slice(2),n?2:8):a.test(e)?NaN:+e}},function(e,t,n){var u=n(2406),c=Math.max;e.exports=function(o,a,s){return a=c(void 0===a?o.length-1:a,0),function(){for(var e=arguments,t=-1,n=c(e.length-a,0),r=Array(n);++t<n;)r[t]=e[a+t];t=-1;for(var i=Array(a+1);++t<a;)i[t]=e[t];return i[a]=s(r),u(o,this,i)}}},function(e,t){e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},function(e,t,n){var r=n(2408),i=n(2410)(r);e.exports=i},function(e,t,n){var r=n(2409),i=n(1373),o=n(1143),a=i?function(e,t){return i(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:o;e.exports=a},function(e,t){e.exports=function(e){return function(){return e}}},function(e,t){var o=Date.now;e.exports=function(n){var r=0,i=0;return function(){var e=o(),t=16-(e-i);if(i=e,0<t){if(800<=++r)return arguments[0]}else r=0;return n.apply(void 0,arguments)}}},function(e,t,n){var r=n(2412);e.exports=function(e,t){return e&&e.length&&t&&t.length?r(e,t):e}},function(e,t,n){var p=n(763),f=n(1404),d=n(2416),h=n(652),v=n(1405),g=Array.prototype.splice;e.exports=function(e,t,n,r){var i=r?d:f,o=-1,a=t.length,s=e;for(e===t&&(t=v(t)),n&&(s=p(e,h(n)));++o<a;)for(var u=0,c=t[o],l=n?n(c):c;-1<(u=i(s,l,u,r));)s!==e&&g.call(s,u,1),g.call(e,u,1);return e}},function(e,t){e.exports=function(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}},function(e,t){e.exports=function(e){return e!=e}},function(e,t){e.exports=function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}},function(e,t){e.exports=function(e,t,n,r){for(var i=n-1,o=e.length;++i<o;)if(r(e[i],t))return i;return-1}},function(e,t,n){var u=n(1141),c=n(2418),l=n(761);e.exports=function(e,t,n){for(var r=-1,i=t.length,o={};++r<i;){var a=t[r],s=u(e,a);n(s,a)&&c(o,l(a,e),s)}return o}},function(e,t,n){var p=n(1150),f=n(761),d=n(1129),h=n(324),v=n(653);e.exports=function(e,t,n,r){if(!h(e))return e;for(var i=-1,o=(t=f(t,e)).length,a=o-1,s=e;null!=s&&++i<o;){var u=v(t[i]),c=n;if(i!=a){var l=s[u];void 0===(c=r?r(l,u,s):void 0)&&(c=h(l)?l:d(t[i+1])?[]:{})}p(s,u,c),s=s[u]}return e}},function(e,t,n){var i=n(324),o=n(1132),a=n(2420),s=Object.prototype.hasOwnProperty;e.exports=function(e){if(!i(e))return a(e);var t=o(e),n=[];for(var r in e)("constructor"!=r||!t&&s.call(e,r))&&n.push(r);return n}},function(e,t){e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},function(e,t,n){var m=n(1134),y=n(2422),b=n(1150),w=n(2423),S=n(2424),_=n(2425),C=n(1405),E=n(2426),x=n(2427),O=n(1385),k=n(1406),P=n(760),T=n(2428),R=n(2429),A=n(2434),I=n(297),M=n(1128),N=n(2436),D=n(324),j=n(2438),L=n(651),B=1,F=2,z=4,U="[object Arguments]",H="[object Function]",W="[object GeneratorFunction]",V="[object Object]",q={};q[U]=q["[object Array]"]=q["[object ArrayBuffer]"]=q["[object DataView]"]=q["[object Boolean]"]=q["[object Date]"]=q["[object Float32Array]"]=q["[object Float64Array]"]=q["[object Int8Array]"]=q["[object Int16Array]"]=q["[object Int32Array]"]=q["[object Map]"]=q["[object Number]"]=q[V]=q["[object RegExp]"]=q["[object Set]"]=q["[object String]"]=q["[object Symbol]"]=q["[object Uint8Array]"]=q["[object Uint8ClampedArray]"]=q["[object Uint16Array]"]=q["[object Uint32Array]"]=!0,q["[object Error]"]=q[H]=q["[object WeakMap]"]=!1,e.exports=function n(r,i,o,e,t,a){var s,u=i&B,c=i&F,l=i&z;if(o&&(s=t?o(r,e,t,a):o(r)),void 0!==s)return s;if(!D(r))return r;var p=I(r);if(p){if(s=T(r),!u)return C(r,s)}else{var f=P(r),d=f==H||f==W;if(M(r))return _(r,u);if(f==V||f==U||d&&!t){if(s=c||d?{}:A(r),!u)return c?x(r,S(s,r)):E(r,w(s,r))}else{if(!q[f])return t?r:{};s=R(r,f,u)}}a||(a=new m);var h=a.get(r);if(h)return h;a.set(r,s),j(r)?r.forEach(function(e){s.add(n(e,i,o,e,r,a))}):N(r)&&r.forEach(function(e,t){s.set(t,n(e,i,o,t,r,a))});var v=l?c?k:O:c?keysIn:L,g=p?void 0:v(r);return y(g||r,function(e,t){g&&(e=r[t=e]),b(s,t,n(e,i,o,t,r,a))}),s}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}},function(e,t,n){var r=n(767),i=n(651);e.exports=function(e,t){return e&&r(t,i(t),e)}},function(e,t,n){var r=n(767),i=n(1409);e.exports=function(e,t){return e&&r(t,i(t),e)}},function(e,a,s){(function(e){var t=s(259),n=a&&!a.nodeType&&a,r=n&&"object"==typeof e&&e&&!e.nodeType&&e,i=r&&r.exports===n?t.Buffer:void 0,o=i?i.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=o?o(n):new e.constructor(n);return e.copy(r),r}}).call(this,s(89)(e))},function(e,t,n){var r=n(767),i=n(1140);e.exports=function(e,t){return r(e,i(e),t)}},function(e,t,n){var r=n(767),i=n(1407);e.exports=function(e,t){return r(e,i(e),t)}},function(e,t){var r=Object.prototype.hasOwnProperty;e.exports=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&r.call(e,"index")&&(n.index=e.index,n.input=e.input),n}},function(e,t,n){var i=n(1151),o=n(2430),a=n(2431),s=n(2432),u=n(2433);e.exports=function(e,t,n){var r=e.constructor;switch(t){case"[object ArrayBuffer]":return i(e);case"[object Boolean]":case"[object Date]":return new r(+e);case"[object DataView]":return o(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return u(e,n);case"[object Map]":return new r;case"[object Number]":case"[object String]":return new r(e);case"[object RegExp]":return a(e);case"[object Set]":return new r;case"[object Symbol]":return s(e)}}},function(e,t,n){var r=n(1151);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}},function(e,t){var n=/\w*$/;e.exports=function(e){var t=new e.constructor(e.source,n.exec(e));return t.lastIndex=e.lastIndex,t}},function(e,t,n){var r=n(585),i=r?r.prototype:void 0,o=i?i.valueOf:void 0;e.exports=function(e){return o?Object(o.call(e)):{}}},function(e,t,n){var r=n(1151);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},function(e,t,n){var r=n(2435),i=n(1408),o=n(1132);e.exports=function(e){return"function"!=typeof e.constructor||o(e)?{}:r(i(e))}},function(e,t,n){var r=n(324),i=Object.create,o=function(){function n(){}return function(e){if(!r(e))return{};if(i)return i(e);n.prototype=e;var t=new n;return n.prototype=void 0,t}}();e.exports=o},function(e,t,n){var r=n(2437),i=n(652),o=n(1131),a=o&&o.isMap,s=a?i(a):r;e.exports=s},function(e,t,n){var r=n(760),i=n(361);e.exports=function(e){return i(e)&&"[object Map]"==r(e)}},function(e,t,n){var r=n(2439),i=n(652),o=n(1131),a=o&&o.isSet,s=a?i(a):r;e.exports=s},function(e,t,n){var r=n(760),i=n(361);e.exports=function(e){return i(e)&&"[object Set]"==r(e)}},function(e,t,n){var r=n(2441),i=n(2444),o=n(1403),a=n(2446),s=o(function(e,t){return a(e)?r(e,i(t,1,a,!0)):[]});e.exports=s},function(e,t,n){var d=n(1382),h=n(2442),v=n(2443),g=n(763),m=n(652),y=n(1383);e.exports=function(e,t,n,r){var i=-1,o=h,a=!0,s=e.length,u=[],c=t.length;if(!s)return u;n&&(t=g(t,m(n))),r?(o=v,a=!1):200<=t.length&&(o=y,a=!1,t=new d(t));e:for(;++i<s;){var l=e[i],p=null==n?l:n(l);if(l=r||0!==l?l:0,a&&p==p){for(var f=c;f--;)if(t[f]===p)continue e;u.push(l)}else o(t,p,r)||u.push(l)}return u}},function(e,t,n){var r=n(1404);e.exports=function(e,t){return!(null==e||!e.length)&&-1<r(e,t,0)}},function(e,t){e.exports=function(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}},function(e,t,n){var c=n(1139),l=n(2445);e.exports=function e(t,n,r,i,o){var a=-1,s=t.length;for(r||(r=l),o||(o=[]);++a<s;){var u=t[a];0<n&&r(u)?1<n?e(u,n-1,r,i,o):c(o,u):i||(o[o.length]=u)}return o}},function(e,t,n){var r=n(585),i=n(1127),o=n(297),a=r?r.isConcatSpreadable:void 0;e.exports=function(e){return o(e)||i(e)||!!(a&&e&&e[a])}},function(e,t,n){var r=n(1133),i=n(361);e.exports=function(e){return i(e)&&r(e)}},function(e,t){e.exports=function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var o=e[t];o&&(i[r++]=o)}return i}},function(e){e.exports=["assert","buffer","child_process","cluster","console","constants","crypto","dgram","dns","domain","events","fs","http","https","module","net","os","path","process","punycode","querystring","readline","repl","stream","string_decoder","timers","tls","tty","url","util","v8","vm","zlib"]},function(e,t,n){
/*!

 diff v3.5.0

Software License Agreement (BSD License)

Copyright (c) 2009-2015, Kevin Decker <kpdecker@gmail.com>

All rights reserved.

Redistribution and use of this software in source and binary forms, with or without modification,
are permitted provided that the following conditions are met:

* Redistributions of source code must retain the above
  copyright notice, this list of conditions and the
  following disclaimer.

* Redistributions in binary form must reproduce the above
  copyright notice, this list of conditions and the
  following disclaimer in the documentation and/or other
  materials provided with the distribution.

* Neither the name of Kevin Decker nor the names of its
  contributors may be used to endorse or promote products
  derived from this software without specific prior
  written permission.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR
IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND
FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR
CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER
IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT
OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
@license
*/
var r;r=function(){return function(n){var r={};function i(e){if(r[e])return r[e].exports;var t=r[e]={exports:{},id:e,loaded:!1};return n[e].call(t.exports,t,t.exports,i),t.loaded=!0,t.exports}return i.m=n,i.c=r,i.p="",i(0)}([function(e,t,n){"use strict";t.__esModule=!0,t.canonicalize=t.convertChangesToXML=t.convertChangesToDMP=t.merge=t.parsePatch=t.applyPatches=t.applyPatch=t.createPatch=t.createTwoFilesPatch=t.structuredPatch=t.diffArrays=t.diffJson=t.diffCss=t.diffSentences=t.diffTrimmedLines=t.diffLines=t.diffWordsWithSpace=t.diffWords=t.diffChars=t.Diff=void 0;var r,i=n(1),o=(r=i)&&r.__esModule?r:{default:r},a=n(2),s=n(3),u=n(5),c=n(6),l=n(7),p=n(8),f=n(9),d=n(10),h=n(11),v=n(13),g=n(14),m=n(16),y=n(17);t.Diff=o.default,t.diffChars=a.diffChars,t.diffWords=s.diffWords,t.diffWordsWithSpace=s.diffWordsWithSpace,t.diffLines=u.diffLines,t.diffTrimmedLines=u.diffTrimmedLines,t.diffSentences=c.diffSentences,t.diffCss=l.diffCss,t.diffJson=p.diffJson,t.diffArrays=f.diffArrays,t.structuredPatch=g.structuredPatch,t.createTwoFilesPatch=g.createTwoFilesPatch,t.createPatch=g.createPatch,t.applyPatch=d.applyPatch,t.applyPatches=d.applyPatches,t.parsePatch=h.parsePatch,t.merge=v.merge,t.convertChangesToDMP=m.convertChangesToDMP,t.convertChangesToXML=y.convertChangesToXML,t.canonicalize=p.canonicalize},function(e,t){"use strict";function n(){}function g(e,t,n,r,i){for(var o=0,a=t.length,s=0,u=0;o<a;o++){var c=t[o];if(c.removed){if(c.value=e.join(r.slice(u,u+c.count)),u+=c.count,o&&t[o-1].added){var l=t[o-1];t[o-1]=t[o],t[o]=l}}else{if(!c.added&&i){var p=n.slice(s,s+c.count);p=p.map(function(e,t){var n=r[u+t];return n.length>e.length?n:e}),c.value=e.join(p)}else c.value=e.join(n.slice(s,s+c.count));s+=c.count,c.added||(u+=c.count)}}var f=t[a-1];return 1<a&&"string"==typeof f.value&&(f.added||f.removed)&&e.equals("",f.value)&&(t[a-2].value+=f.value,t.pop()),t}t.__esModule=!0,(t.default=n).prototype={diff:function(u,c){var e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},t=e.callback;"function"==typeof e&&(t=e,e={}),this.options=e;var l=this;function p(e){return t?(setTimeout(function(){t(void 0,e)},0),!0):e}u=this.castInput(u),c=this.castInput(c),u=this.removeEmpty(this.tokenize(u));var f=(c=this.removeEmpty(this.tokenize(c))).length,d=u.length,h=1,n=f+d,v=[{newPos:-1,components:[]}],r=this.extractCommon(v[0],c,u,0);if(v[0].newPos+1>=f&&d<=r+1)return p([{value:this.join(c),count:c.length}]);function i(){for(var e=-1*h;e<=h;e+=2){var t=void 0,n=v[e-1],r=v[e+1],i=(r?r.newPos:0)-e;n&&(v[e-1]=void 0);var o=n&&n.newPos+1<f,a=r&&0<=i&&i<d;if(o||a){if(!o||a&&n.newPos<r.newPos?(t={newPos:(s=r).newPos,components:s.components.slice(0)},l.pushComponent(t.components,void 0,!0)):((t=n).newPos++,l.pushComponent(t.components,!0,void 0)),i=l.extractCommon(t,c,u,e),t.newPos+1>=f&&d<=i+1)return p(g(l,t.components,c,u,l.useLongestToken));v[e]=t}else v[e]=void 0}var s;h++}if(t)!function e(){setTimeout(function(){if(n<h)return t();i()||e()},0)}();else for(;h<=n;){var o=i();if(o)return o}},pushComponent:function(e,t,n){var r=e[e.length-1];r&&r.added===t&&r.removed===n?e[e.length-1]={count:r.count+1,added:t,removed:n}:e.push({count:1,added:t,removed:n})},extractCommon:function(e,t,n,r){for(var i=t.length,o=n.length,a=e.newPos,s=a-r,u=0;a+1<i&&s+1<o&&this.equals(t[a+1],n[s+1]);)a++,s++,u++;return u&&e.components.push({count:u}),e.newPos=a,s},equals:function(e,t){return this.options.comparator?this.options.comparator(e,t):e===t||this.options.ignoreCase&&e.toLowerCase()===t.toLowerCase()},removeEmpty:function(e){for(var t=[],n=0;n<e.length;n++)e[n]&&t.push(e[n]);return t},castInput:function(e){return e},tokenize:function(e){return e.split("")},join:function(e){return e.join("")}}},function(e,t,n){"use strict";t.__esModule=!0,t.characterDiff=void 0,t.diffChars=function(e,t,n){return a.diff(e,t,n)};var r,i=n(1),o=(r=i)&&r.__esModule?r:{default:r};var a=t.characterDiff=new o.default},function(e,t,n){"use strict";t.__esModule=!0,t.wordDiff=void 0,t.diffWords=function(e,t,n){return n=(0,a.generateOptions)(n,{ignoreWhitespace:!0}),c.diff(e,t,n)},t.diffWordsWithSpace=function(e,t,n){return c.diff(e,t,n)};var r,i=n(1),o=(r=i)&&r.__esModule?r:{default:r},a=n(4);var s=/^[A-Za-z\xC0-\u02C6\u02C8-\u02D7\u02DE-\u02FF\u1E00-\u1EFF]+$/,u=/\S/,c=t.wordDiff=new o.default;c.equals=function(e,t){return this.options.ignoreCase&&(e=e.toLowerCase(),t=t.toLowerCase()),e===t||this.options.ignoreWhitespace&&!u.test(e)&&!u.test(t)},c.tokenize=function(e){for(var t=e.split(/(\s+|\b)/),n=0;n<t.length-1;n++)!t[n+1]&&t[n+2]&&s.test(t[n])&&s.test(t[n+2])&&(t[n]+=t[n+2],t.splice(n+1,2),n--);return t}},function(e,t){"use strict";t.__esModule=!0,t.generateOptions=function(e,t){if("function"==typeof e)t.callback=e;else if(e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}},function(e,t,n){"use strict";t.__esModule=!0,t.lineDiff=void 0,t.diffLines=function(e,t,n){return s.diff(e,t,n)},t.diffTrimmedLines=function(e,t,n){var r=(0,a.generateOptions)(n,{ignoreWhitespace:!0});return s.diff(e,t,r)};var r,i=n(1),o=(r=i)&&r.__esModule?r:{default:r},a=n(4);var s=t.lineDiff=new o.default;s.tokenize=function(e){var t=[],n=e.split(/(\n|\r\n)/);n[n.length-1]||n.pop();for(var r=0;r<n.length;r++){var i=n[r];r%2&&!this.options.newlineIsToken?t[t.length-1]+=i:(this.options.ignoreWhitespace&&(i=i.trim()),t.push(i))}return t}},function(e,t,n){"use strict";t.__esModule=!0,t.sentenceDiff=void 0,t.diffSentences=function(e,t,n){return a.diff(e,t,n)};var r,i=n(1),o=(r=i)&&r.__esModule?r:{default:r};var a=t.sentenceDiff=new o.default;a.tokenize=function(e){return e.split(/(\S.+?[.!?])(?=\s+|$)/)}},function(e,t,n){"use strict";t.__esModule=!0,t.cssDiff=void 0,t.diffCss=function(e,t,n){return a.diff(e,t,n)};var r,i=n(1),o=(r=i)&&r.__esModule?r:{default:r};var a=t.cssDiff=new o.default;a.tokenize=function(e){return e.split(/([{}:;,]|\s+)/)}},function(e,t,n){"use strict";t.__esModule=!0,t.jsonDiff=void 0;var c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.diffJson=function(e,t,n){return s.diff(e,t,n)},t.canonicalize=p;var r,i=n(1),o=(r=i)&&r.__esModule?r:{default:r},a=n(5);var l=Object.prototype.toString,s=t.jsonDiff=new o.default;function p(e,t,n,r,i){t=t||[],n=n||[],r&&(e=r(i,e));var o=void 0;for(o=0;o<t.length;o+=1)if(t[o]===e)return n[o];var a=void 0;if("[object Array]"===l.call(e)){for(t.push(e),a=new Array(e.length),n.push(a),o=0;o<e.length;o+=1)a[o]=p(e[o],t,n,r,i);return t.pop(),n.pop(),a}if(e&&e.toJSON&&(e=e.toJSON()),"object"===(void 0===e?"undefined":c(e))&&null!==e){t.push(e),a={},n.push(a);var s=[],u=void 0;for(u in e)e.hasOwnProperty(u)&&s.push(u);for(s.sort(),o=0;o<s.length;o+=1)a[u=s[o]]=p(e[u],t,n,r,u);t.pop(),n.pop()}else a=e;return a}s.useLongestToken=!0,s.tokenize=a.lineDiff.tokenize,s.castInput=function(e){var t=this.options,n=t.undefinedReplacement,r=t.stringifyReplacer,i=void 0===r?function(e,t){return void 0===t?n:t}:r;return"string"==typeof e?e:JSON.stringify(p(e,null,null,i),i,"  ")},s.equals=function(e,t){return o.default.prototype.equals.call(s,e.replace(/,([\r\n])/g,"$1"),t.replace(/,([\r\n])/g,"$1"))}},function(e,t,n){"use strict";t.__esModule=!0,t.arrayDiff=void 0,t.diffArrays=function(e,t,n){return a.diff(e,t,n)};var r,i=n(1),o=(r=i)&&r.__esModule?r:{default:r};var a=t.arrayDiff=new o.default;a.tokenize=function(e){return e.slice()},a.join=a.removeEmpty=function(e){return e}},function(e,t,n){"use strict";t.__esModule=!0,t.applyPatch=a,t.applyPatches=function(e,o){"string"==typeof e&&(e=(0,A.parsePatch)(e));var t=0;!function r(){var i=e[t++];if(!i)return o.complete();o.loadFile(i,function(e,t){if(e)return o.complete(e);var n=a(t,i,o);o.patched(i,n,function(e){if(e)return o.complete(e);r()})})}()};var r,A=n(11),i=n(12),I=(r=i)&&r.__esModule?r:{default:r};function a(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};if("string"==typeof t&&(t=(0,A.parsePatch)(t)),Array.isArray(t)){if(1<t.length)throw new Error("applyPatch only works with a single input.");t=t[0]}var a=e.split(/\r\n|[\n\v\f\r\x85]/),r=e.match(/\r\n|[\n\v\f\r\x85]/g)||[],i=t.hunks,s=n.compareLine||function(e,t,n,r){return t===r},u=0,c=n.fuzzFactor||0,o=0,l=0,p=void 0,f=void 0;function d(e,t){for(var n=0;n<e.lines.length;n++){var r=e.lines[n],i=0<r.length?r[0]:" ",o=0<r.length?r.substr(1):r;if(" "===i||"-"===i){if(!s(t+1,a[t],i,o)&&c<++u)return!1;t++}}return!0}for(var h=0;h<i.length;h++){for(var v=i[h],g=a.length-v.oldLines,m=0,y=l+v.oldStart-1,b=(0,I.default)(y,o,g);void 0!==m;m=b())if(d(v,y+m)){v.offset=l+=m;break}if(void 0===m)return!1;o=v.offset+v.oldStart+v.oldLines}for(var w=0,S=0;S<i.length;S++){var _=i[S],C=_.oldStart+_.offset+w-1;w+=_.newLines-_.oldLines,C<0&&(C=0);for(var E=0;E<_.lines.length;E++){var x=_.lines[E],O=0<x.length?x[0]:" ",k=0<x.length?x.substr(1):x,P=_.linedelimiters[E];if(" "===O)C++;else if("-"===O)a.splice(C,1),r.splice(C,1);else if("+"===O)a.splice(C,0,k),r.splice(C,0,P),C++;else if("\\"===O){var T=_.lines[E-1]?_.lines[E-1][0]:null;"+"===T?p=!0:"-"===T&&(f=!0)}}}if(p)for(;!a[a.length-1];)a.pop(),r.pop();else f&&(a.push(""),r.push("\n"));for(var R=0;R<a.length-1;R++)a[R]=a[R]+r[R];return a.join("")}},function(e,t){"use strict";t.__esModule=!0,t.parsePatch=function(e){var s=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},u=e.split(/\r\n|[\n\v\f\r\x85]/),c=e.match(/\r\n|[\n\v\f\r\x85]/g)||[],i=[],l=0;function t(){var e={};for(i.push(e);l<u.length;){var t=u[l];if(/^(\-\-\-|\+\+\+|@@)\s/.test(t))break;var n=/^(?:Index:|diff(?: -r \w+)+)\s+(.+?)\s*$/.exec(t);n&&(e.index=n[1]),l++}for(o(e),o(e),e.hunks=[];l<u.length;){var r=u[l];if(/^(Index:|diff|\-\-\-|\+\+\+)\s/.test(r))break;if(/^@@/.test(r))e.hunks.push(a());else{if(r&&s.strict)throw new Error("Unknown line "+(l+1)+" "+JSON.stringify(r));l++}}}function o(e){var t=/^(---|\+\+\+)\s+(.*)$/.exec(u[l]);if(t){var n="---"===t[1]?"old":"new",r=t[2].split("\t",2),i=r[0].replace(/\\\\/g,"\\");/^".*"$/.test(i)&&(i=i.substr(1,i.length-2)),e[n+"FileName"]=i,e[n+"Header"]=(r[1]||"").trim(),l++}}function a(){for(var e=l,t=u[l++],n=t.split(/@@ -(\d+)(?:,(\d+))? \+(\d+)(?:,(\d+))? @@/),r={oldStart:+n[1],oldLines:+n[2]||1,newStart:+n[3],newLines:+n[4]||1,lines:[],linedelimiters:[]},i=0,o=0;l<u.length&&!(0===u[l].indexOf("--- ")&&l+2<u.length&&0===u[l+1].indexOf("+++ ")&&0===u[l+2].indexOf("@@"));l++){var a=0==u[l].length&&l!=u.length-1?" ":u[l][0];if("+"!==a&&"-"!==a&&" "!==a&&"\\"!==a)break;r.lines.push(u[l]),r.linedelimiters.push(c[l]||"\n"),"+"===a?i++:"-"===a?o++:" "===a&&(i++,o++)}if(i||1!==r.newLines||(r.newLines=0),o||1!==r.oldLines||(r.oldLines=0),s.strict){if(i!==r.newLines)throw new Error("Added line count did not match for hunk at line "+(e+1));if(o!==r.oldLines)throw new Error("Removed line count did not match for hunk at line "+(e+1))}return r}for(;l<u.length;)t();return i}},function(e,t){"use strict";t.__esModule=!0,t.default=function(t,n,r){var i=!0,o=!1,a=!1,s=1;return function e(){if(i&&!a){if(o?s++:i=!1,t+s<=r)return s;a=!0}if(!o)return a||(i=!0),n<=t-s?-s++:(o=!0,e())}}},function(e,t,n){"use strict";t.__esModule=!0,t.calcLineCount=f,t.merge=function(e,t,n){e=d(e,n),t=d(t,n);var r={};(e.index||t.index)&&(r.index=e.index||t.index);(e.newFileName||t.newFileName)&&(h(e)?h(t)?(r.oldFileName=v(r,e.oldFileName,t.oldFileName),r.newFileName=v(r,e.newFileName,t.newFileName),r.oldHeader=v(r,e.oldHeader,t.oldHeader),r.newHeader=v(r,e.newHeader,t.newHeader)):(r.oldFileName=e.oldFileName,r.newFileName=e.newFileName,r.oldHeader=e.oldHeader,r.newHeader=e.newHeader):(r.oldFileName=t.oldFileName||e.oldFileName,r.newFileName=t.newFileName||e.newFileName,r.oldHeader=t.oldHeader||e.oldHeader,r.newHeader=t.newHeader||e.newHeader));r.hunks=[];var i=0,o=0,a=0,s=0;for(;i<e.hunks.length||o<t.hunks.length;){var u=e.hunks[i]||{oldStart:1/0},c=t.hunks[o]||{oldStart:1/0};if(g(u,c))r.hunks.push(m(u,a)),i++,s+=u.newLines-u.oldLines;else if(g(c,u))r.hunks.push(m(c,s)),o++,a+=c.newLines-c.oldLines;else{var l={oldStart:Math.min(u.oldStart,c.oldStart),oldLines:0,newStart:Math.min(u.newStart+a,c.oldStart+s),newLines:0,lines:[]};y(l,u.oldStart,u.lines,c.oldStart,c.lines),o++,i++,r.hunks.push(l)}}return r};var r=n(14),i=n(11),u=n(15);function p(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function f(e){var t=function r(e){var i=0;var o=0;e.forEach(function(e){if("string"!=typeof e){var t=r(e.mine),n=r(e.theirs);void 0!==i&&(t.oldLines===n.oldLines?i+=t.oldLines:i=void 0),void 0!==o&&(t.newLines===n.newLines?o+=t.newLines:o=void 0)}else void 0===o||"+"!==e[0]&&" "!==e[0]||o++,void 0===i||"-"!==e[0]&&" "!==e[0]||i++});return{oldLines:i,newLines:o}}(e.lines),n=t.oldLines,r=t.newLines;void 0!==n?e.oldLines=n:delete e.oldLines,void 0!==r?e.newLines=r:delete e.newLines}function d(e,t){if("string"!=typeof e)return e;if(/^@@/m.test(e)||/^Index:/m.test(e))return(0,i.parsePatch)(e)[0];if(!t)throw new Error("Must provide a base reference or pass in a patch");return(0,r.structuredPatch)(void 0,void 0,t,e)}function h(e){return e.newFileName&&e.newFileName!==e.oldFileName}function v(e,t,n){return t===n?t:(e.conflict=!0,{mine:t,theirs:n})}function g(e,t){return e.oldStart<t.oldStart&&e.oldStart+e.oldLines<t.oldStart}function m(e,t){return{oldStart:e.oldStart,oldLines:e.oldLines,newStart:e.newStart+t,newLines:e.newLines,lines:e.lines}}function y(e,t,n,r,i){var o={offset:t,lines:n,index:0},a={offset:r,lines:i,index:0};for(_(e,o,a),_(e,a,o);o.index<o.lines.length&&a.index<a.lines.length;){var s=o.lines[o.index],u=a.lines[a.index];if("-"!==s[0]&&"+"!==s[0]||"-"!==u[0]&&"+"!==u[0])if("+"===s[0]&&" "===u[0]){var c;(c=e.lines).push.apply(c,p(E(o)))}else if("+"===u[0]&&" "===s[0]){var l;(l=e.lines).push.apply(l,p(E(a)))}else"-"===s[0]&&" "===u[0]?w(e,o,a):"-"===u[0]&&" "===s[0]?w(e,a,o,!0):s===u?(e.lines.push(s),o.index++,a.index++):S(e,E(o),E(a));else b(e,o,a)}C(e,o),C(e,a),f(e)}function b(e,t,n){var r=E(t),i=E(n);if(c(r)&&c(i)){var o,a;if((0,u.arrayStartsWith)(r,i)&&l(n,r,r.length-i.length))return void(o=e.lines).push.apply(o,p(r));if((0,u.arrayStartsWith)(i,r)&&l(t,i,i.length-r.length))return void(a=e.lines).push.apply(a,p(i))}else if((0,u.arrayEqual)(r,i)){var s;return void(s=e.lines).push.apply(s,p(r))}S(e,r,i)}function w(e,t,n,r){var i,o=E(t),a=function(e,t){var n=[],r=[],i=0,o=!1,a=!1;for(;i<t.length&&e.index<e.lines.length;){var s=e.lines[e.index],u=t[i];if("+"===u[0])break;if(o=o||" "!==s[0],r.push(u),i++,"+"===s[0])for(a=!0;"+"===s[0];)n.push(s),s=e.lines[++e.index];u.substr(1)===s.substr(1)?(n.push(s),e.index++):a=!0}"+"===(t[i]||"")[0]&&o&&(a=!0);if(a)return n;for(;i<t.length;)r.push(t[i++]);return{merged:r,changes:n}}(n,o);a.merged?(i=e.lines).push.apply(i,p(a.merged)):S(e,r?a:o,r?o:a)}function S(e,t,n){e.conflict=!0,e.lines.push({conflict:!0,mine:t,theirs:n})}function _(e,t,n){for(;t.offset<n.offset&&t.index<t.lines.length;){var r=t.lines[t.index++];e.lines.push(r),t.offset++}}function C(e,t){for(;t.index<t.lines.length;){var n=t.lines[t.index++];e.lines.push(n)}}function E(e){for(var t=[],n=e.lines[e.index][0];e.index<e.lines.length;){var r=e.lines[e.index];if("-"===n&&"+"===r[0]&&(n="+"),n!==r[0])break;t.push(r),e.index++}return t}function c(e){return e.reduce(function(e,t){return e&&"-"===t[0]},!0)}function l(e,t,n){for(var r=0;r<n;r++){var i=t[t.length-n+r].substr(1);if(e.lines[e.index+r]!==" "+i)return!1}return e.index+=n,!0}},function(e,t,n){"use strict";t.__esModule=!0,t.structuredPatch=p,t.createTwoFilesPatch=s,t.createPatch=function(e,t,n,r,i,o){return s(e,e,t,n,r,i,o)};var a=n(5);function _(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function p(e,t,p,f,n,r,d){d||(d={}),void 0===d.context&&(d.context=4);var h=(0,a.diffLines)(p,f,d);function v(e){return e.map(function(e){return" "+e})}h.push({value:"",lines:[]});for(var g=[],m=0,y=0,b=[],w=1,S=1,i=function(e){var t=h[e],n=t.lines||t.value.replace(/\n$/,"").split("\n");if(t.lines=n,t.added||t.removed){var r;if(!m){var i=h[e-1];m=w,y=S,i&&(b=0<d.context?v(i.lines.slice(-d.context)):[],m-=b.length,y-=b.length)}(r=b).push.apply(r,_(n.map(function(e){return(t.added?"+":"-")+e}))),t.added?S+=n.length:w+=n.length}else{if(m)if(n.length<=2*d.context&&e<h.length-2){var o;(o=b).push.apply(o,_(v(n)))}else{var a,s=Math.min(n.length,d.context);(a=b).push.apply(a,_(v(n.slice(0,s))));var u={oldStart:m,oldLines:w-m+s,newStart:y,newLines:S-y+s,lines:b};if(e>=h.length-2&&n.length<=d.context){var c=/\n$/.test(p),l=/\n$/.test(f);0!=n.length||c?c&&l||b.push("\\ No newline at end of file"):b.splice(u.oldLines,0,"\\ No newline at end of file")}g.push(u),y=m=0,b=[]}w+=n.length,S+=n.length}},o=0;o<h.length;o++)i(o);return{oldFileName:e,newFileName:t,oldHeader:n,newHeader:r,hunks:g}}function s(e,t,n,r,i,o,a){var s=p(e,t,n,r,i,o,a),u=[];e==t&&u.push("Index: "+e),u.push("==================================================================="),u.push("--- "+s.oldFileName+(void 0===s.oldHeader?"":"\t"+s.oldHeader)),u.push("+++ "+s.newFileName+(void 0===s.newHeader?"":"\t"+s.newHeader));for(var c=0;c<s.hunks.length;c++){var l=s.hunks[c];u.push("@@ -"+l.oldStart+","+l.oldLines+" +"+l.newStart+","+l.newLines+" @@"),u.push.apply(u,l.lines)}return u.join("\n")+"\n"}},function(e,t){"use strict";function n(e,t){if(t.length>e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}t.__esModule=!0,t.arrayEqual=function(e,t){return e.length===t.length&&n(e,t)},t.arrayStartsWith=n},function(e,t){"use strict";t.__esModule=!0,t.convertChangesToDMP=function(e){for(var t=[],n=void 0,r=void 0,i=0;i<e.length;i++)n=e[i],r=n.added?1:n.removed?-1:0,t.push([r,n.value]);return t}},function(e,t){"use strict";function i(e){var t=e;return t=(t=(t=(t=t.replace(/&/g,"&amp;")).replace(/</g,"&lt;")).replace(/>/g,"&gt;")).replace(/"/g,"&quot;")}t.__esModule=!0,t.convertChangesToXML=function(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];r.added?t.push("<ins>"):r.removed&&t.push("<del>"),t.push(i(r.value)),r.added?t.push("</ins>"):r.removed&&t.push("</del>")}return t.join("")}}])},e.exports=r()},function(e){e.exports={name:"snack-sdk",version:"2.3.6",description:"The Expo Snack SDK",main:"dist/snack.js",module:"esm/snack.js",repository:"expo/snack-sdk",files:["dist","esm"],scripts:{start:"yarn watch",build:"cross-env NODE_ENV=production gulp build",prebuild:"gulp clean",prepare:"yarn build",watch:"gulp watch",test:"cross-env NODE_ENV=test jest --config jest/test-config.json --coverage","flow-typed":"flow-typed install",docs:'documentation readme --readme-file API.md --section "Snack SDK API" src/SnackSession.js'},author:"support@getexponent.com",license:"MIT",dependencies:{"babel-runtime":"^6.23.0",diff:"^3.2.0",lodash:"^4.16.1",platform:"^1.3.4",pubnub:"^4.3.3",recast:"^0.12.4",semver:"^5.3.0",shortid:"^2.2.8","validate-npm-package-name":"^3.0.0"},powertools:{group:["snack"]},devDependencies:{"babel-eslint":"^7.1.0","babel-jest":"^18.0.0","babel-plugin-dynamic-import-node":"^2.0.0","babel-plugin-syntax-dynamic-import":"^6.18.0","babel-plugin-transform-class-properties":"^6.24.1","babel-plugin-transform-flow-strip-types":"^6.21.0","babel-plugin-transform-object-rest-spread":"^6.23.0","babel-plugin-transform-runtime":"^6.23.0","babel-preset-env":"^1.4.0","cross-env":"^3.1.3",del:"^3.0.0",documentation:"^4.0.0-rc.1",eslint:"^3.9.1","eslint-config-exponent":"^5.0.1","eslint-plugin-babel":"^4.0.0","eslint-plugin-flowtype":"^2.25.0","eslint-plugin-import":"^2.2.0","eslint-plugin-react":"^6.6.0","fetch-mock":"^5.11.0","flow-bin":"^0.83.0",gulp:"^4.0.0","gulp-babel":"^6.1.2","gulp-changed":"^1.3.1","gulp-cli":"^1.2.2","gulp-plumber":"^1.1.0","gulp-rename":"^1.2.2","gulp-shell":"^0.5.2","gulp-sourcemaps":"^1.6.0",jest:"^18.1.0"}}},function(e,f,d){(function(c,l){var p;
/*!
 * Platform.js <https://mths.be/platform>
 * Copyright 2014-2018 Benjamin Tan <https://bnjmnt4n.now.sh/>
 * Copyright 2011-2013 John-David Dalton <http://allyoucanleet.com/>
 * Available under MIT license <https://mths.be/mit>
 */(function(){"use strict";var e={function:!0,object:!0},M=e[typeof window]&&window||this,t=e[typeof f]&&f,n=e[typeof c]&&c&&!c.nodeType&&c,r=t&&n&&"object"==typeof l&&l;!r||r.global!==r&&r.window!==r&&r.self!==r||(M=r);var o=Math.pow(2,53)-1,N=/\bOpera/,i=Object.prototype,a=i.hasOwnProperty,D=i.toString;function s(e){return(e=String(e)).charAt(0).toUpperCase()+e.slice(1)}function j(e){return e=U(e),/^(?:webOS|i(?:OS|P))/.test(e)?e:s(e)}function L(e,t){for(var n in e)a.call(e,n)&&t(e[n],n,e)}function B(e){return null==e?s(e):D.call(e).slice(8,-1)}function F(e){return String(e).replace(/([ -])(?!$)/g,"$1?")}function z(n,r){var i=null;return function(e,t){var n=-1,r=e?e.length:0;if("number"==typeof r&&-1<r&&r<=o)for(;++n<r;)t(e[n],n,e);else L(e,t)}(n,function(e,t){i=r(i,e,t,n)}),i}function U(e){return String(e).replace(/^ +| +$/g,"")}var u=function e(r){var t=M,n=r&&"object"==typeof r&&"String"!=B(r);n&&(t=r,r=null);var i=t.navigator||{},o=i.userAgent||"";r||(r=o);var a,s,u=n?!!i.likeChrome:/\bChrome\b/.test(r)&&!/internal|\n/i.test(D.toString()),c="Object",l=n?c:"ScriptBridgingProxyObject",p=n?c:"Environment",f=n&&t.java?"JavaPackage":B(t.java),d=n?c:"RuntimeObject",h=/\bJava/.test(f)&&t.java,v=h&&B(t.environment)==p,g=h?"a":"Î±",m=h?"b":"Î²",y=t.document||{},b=t.operamini||t.opera,w=N.test(w=n&&b?b["[[Class]]"]:B(b))?w:b=null,S=r,_=[],C=null,E=r==o,x=E&&b&&"function"==typeof b.version&&b.version(),O=z([{label:"EdgeHTML",pattern:"Edge"},"Trident",{label:"WebKit",pattern:"AppleWebKit"},"iCab","Presto","NetFront","Tasman","KHTML","Gecko"],function(e,t){return e||RegExp("\\b"+(t.pattern||F(t))+"\\b","i").exec(r)&&(t.label||t)}),k=z(["Adobe AIR","Arora","Avant Browser","Breach","Camino","Electron","Epiphany","Fennec","Flock","Galeon","GreenBrowser","iCab","Iceweasel","K-Meleon","Konqueror","Lunascape","Maxthon",{label:"Microsoft Edge",pattern:"Edge"},"Midori","Nook Browser","PaleMoon","PhantomJS","Raven","Rekonq","RockMelt",{label:"Samsung Internet",pattern:"SamsungBrowser"},"SeaMonkey",{label:"Silk",pattern:"(?:Cloud9|Silk-Accelerated)"},"Sleipnir","SlimBrowser",{label:"SRWare Iron",pattern:"Iron"},"Sunrise","Swiftfox","Waterfox","WebPositive","Opera Mini",{label:"Opera Mini",pattern:"OPiOS"},"Opera",{label:"Opera",pattern:"OPR"},"Chrome",{label:"Chrome Mobile",pattern:"(?:CriOS|CrMo)"},{label:"Firefox",pattern:"(?:Firefox|Minefield)"},{label:"Firefox for iOS",pattern:"FxiOS"},{label:"IE",pattern:"IEMobile"},{label:"IE",pattern:"MSIE"},"Safari"],function(e,t){return e||RegExp("\\b"+(t.pattern||F(t))+"\\b","i").exec(r)&&(t.label||t)}),P=A([{label:"BlackBerry",pattern:"BB10"},"BlackBerry",{label:"Galaxy S",pattern:"GT-I9000"},{label:"Galaxy S2",pattern:"GT-I9100"},{label:"Galaxy S3",pattern:"GT-I9300"},{label:"Galaxy S4",pattern:"GT-I9500"},{label:"Galaxy S5",pattern:"SM-G900"},{label:"Galaxy S6",pattern:"SM-G920"},{label:"Galaxy S6 Edge",pattern:"SM-G925"},{label:"Galaxy S7",pattern:"SM-G930"},{label:"Galaxy S7 Edge",pattern:"SM-G935"},"Google TV","Lumia","iPad","iPod","iPhone","Kindle",{label:"Kindle Fire",pattern:"(?:Cloud9|Silk-Accelerated)"},"Nexus","Nook","PlayBook","PlayStation Vita","PlayStation","TouchPad","Transformer",{label:"Wii U",pattern:"WiiU"},"Wii","Xbox One",{label:"Xbox 360",pattern:"Xbox"},"Xoom"]),T=z({Apple:{iPad:1,iPhone:1,iPod:1},Archos:{},Amazon:{Kindle:1,"Kindle Fire":1},Asus:{Transformer:1},"Barnes & Noble":{Nook:1},BlackBerry:{PlayBook:1},Google:{"Google TV":1,Nexus:1},HP:{TouchPad:1},HTC:{},LG:{},Microsoft:{Xbox:1,"Xbox One":1},Motorola:{Xoom:1},Nintendo:{"Wii U":1,Wii:1},Nokia:{Lumia:1},Samsung:{"Galaxy S":1,"Galaxy S2":1,"Galaxy S3":1,"Galaxy S4":1},Sony:{PlayStation:1,"PlayStation Vita":1}},function(e,t,n){return e||(t[P]||t[/^[a-z]+(?: +[a-z]+\b)*/i.exec(P)]||RegExp("\\b"+F(n)+"(?:\\b|\\w*\\d)","i").exec(r))&&n}),R=z(["Windows Phone","Android","CentOS",{label:"Chrome OS",pattern:"CrOS"},"Debian","Fedora","FreeBSD","Gentoo","Haiku","Kubuntu","Linux Mint","OpenBSD","Red Hat","SuSE","Ubuntu","Xubuntu","Cygwin","Symbian OS","hpwOS","webOS ","webOS","Tablet OS","Tizen","Linux","Mac OS X","Macintosh","Mac","Windows 98;","Windows "],function(e,t){var n=t.pattern||F(t);return!e&&(e=RegExp("\\b"+n+"(?:/[\\d.]+|[ \\w.]*)","i").exec(r))&&(e=function(e,t,n){var r={"10.0":"10",6.4:"10 Technical Preview",6.3:"8.1",6.2:"8",6.1:"Server 2008 R2 / 7","6.0":"Server 2008 / Vista",5.2:"Server 2003 / XP 64-bit",5.1:"XP",5.01:"2000 SP1","5.0":"2000","4.0":"NT","4.90":"ME"};return t&&n&&/^Win/i.test(e)&&!/^Windows Phone /i.test(e)&&(r=r[/[\d.]+$/.exec(e)])&&(e="Windows "+r),e=String(e),t&&n&&(e=e.replace(RegExp(t,"i"),n)),e=j(e.replace(/ ce$/i," CE").replace(/\bhpw/i,"web").replace(/\bMacintosh\b/,"Mac OS").replace(/_PowerPC\b/i," OS").replace(/\b(OS X) [^ \d]+/i,"$1").replace(/\bMac (OS X)\b/,"$1").replace(/\/(\d)/," $1").replace(/_/g,".").replace(/(?: BePC|[ .]*fc[ \d.]+)$/i,"").replace(/\bx86\.64\b/gi,"x86_64").replace(/\b(Windows Phone) OS\b/,"$1").replace(/\b(Chrome OS \w+) [\d.]+\b/,"$1").split(" on ")[0])}(e,n,t.label||t)),e});function A(e){return z(e,function(e,t){var n=t.pattern||F(t);return!e&&(e=RegExp("\\b"+n+" *\\d+[.\\w_]*","i").exec(r)||RegExp("\\b"+n+" *\\w+-[\\w]*","i").exec(r)||RegExp("\\b"+n+"(?:; *(?:[a-z]+[_-])?[a-z]+\\d+|[^ ();-]*)","i").exec(r))&&((e=String(t.label&&!RegExp(n,"i").test(t.label)?t.label:e).split("/"))[1]&&!/[\d.]+/.test(e[0])&&(e[0]+=" "+e[1]),t=t.label||t,e=j(e[0].replace(RegExp(n,"i"),t).replace(RegExp("; *(?:"+t+"[_-])?","i")," ").replace(RegExp("("+t+")[-_.]?(\\w)","i"),"$1 $2"))),e})}if(O&&(O=[O]),T&&!P&&(P=A([T])),(a=/\bGoogle TV\b/.exec(P))&&(P=a[0]),/\bSimulator\b/i.test(r)&&(P=(P?P+" ":"")+"Simulator"),"Opera Mini"==k&&/\bOPiOS\b/.test(r)&&_.push("running in Turbo/Uncompressed mode"),"IE"==k&&/\blike iPhone OS\b/.test(r)?(T=(a=e(r.replace(/like iPhone OS/,""))).manufacturer,P=a.product):/^iP/.test(P)?(k||(k="Safari"),R="iOS"+((a=/ OS ([\d_]+)/i.exec(r))?" "+a[1].replace(/_/g,"."):"")):"Konqueror"!=k||/buntu/i.test(R)?T&&"Google"!=T&&(/Chrome/.test(k)&&!/\bMobile Safari\b/i.test(r)||/\bVita\b/.test(P))||/\bAndroid\b/.test(R)&&/^Chrome/.test(k)&&/\bVersion\//i.test(r)?(k="Android Browser",R=/\bAndroid\b/.test(R)?R:"Android"):"Silk"==k?(/\bMobi/i.test(r)||(R="Android",_.unshift("desktop mode")),/Accelerated *= *true/i.test(r)&&_.unshift("accelerated")):"PaleMoon"==k&&(a=/\bFirefox\/([\d.]+)\b/.exec(r))?_.push("identifying as Firefox "+a[1]):"Firefox"==k&&(a=/\b(Mobile|Tablet|TV)\b/i.exec(r))?(R||(R="Firefox OS"),P||(P=a[1])):!k||(a=!/\bMinefield\b/i.test(r)&&/\b(?:Firefox|Safari)\b/.exec(k))?(k&&!P&&/[\/,]|^[^(]+?\)/.test(r.slice(r.indexOf(a+"/")+8))&&(k=null),(a=P||T||R)&&(P||T||/\b(?:Android|Symbian OS|Tablet OS|webOS)\b/.test(R))&&(k=/[a-z]+(?: Hat)?/i.exec(/\bAndroid\b/.test(R)?R:a)+" Browser")):"Electron"==k&&(a=(/\bChrome\/([\d.]+)\b/.exec(r)||0)[1])&&_.push("Chromium "+a):R="Kubuntu",x||(x=z(["(?:Cloud9|CriOS|CrMo|Edge|FxiOS|IEMobile|Iron|Opera ?Mini|OPiOS|OPR|Raven|SamsungBrowser|Silk(?!/[\\d.]+$))","Version",F(k),"(?:Firefox|Minefield|NetFront)"],function(e,t){return e||(RegExp(t+"(?:-[\\d.]+/|(?: for [\\w-]+)?[ /-])([\\d.]+[^ ();/_-]*)","i").exec(r)||0)[1]||null})),(a=("iCab"==O&&3<parseFloat(x)?"WebKit":/\bOpera\b/.test(k)&&(/\bOPR\b/.test(r)?"Blink":"Presto"))||/\b(?:Midori|Nook|Safari)\b/i.test(r)&&!/^(?:Trident|EdgeHTML)$/.test(O)&&"WebKit"||!O&&/\bMSIE\b/i.test(r)&&("Mac OS"==R?"Tasman":"Trident")||"WebKit"==O&&/\bPlayStation\b(?! Vita\b)/i.test(k)&&"NetFront")&&(O=[a]),"IE"==k&&(a=(/; *(?:XBLWP|ZuneWP)(\d+)/i.exec(r)||0)[1])?(k+=" Mobile",R="Windows Phone "+(/\+$/.test(a)?a:a+".x"),_.unshift("desktop mode")):/\bWPDesktop\b/i.test(r)?(k="IE Mobile",R="Windows Phone 8.x",_.unshift("desktop mode"),x||(x=(/\brv:([\d.]+)/.exec(r)||0)[1])):"IE"!=k&&"Trident"==O&&(a=/\brv:([\d.]+)/.exec(r))&&(k&&_.push("identifying as "+k+(x?" "+x:"")),k="IE",x=a[1]),E){if(function(e,t){var n=null!=e?typeof e[t]:"number";return!(/^(?:boolean|number|string|undefined)$/.test(n)||"object"==n&&!e[t])}(t,"global"))if(h&&(S=(a=h.lang.System).getProperty("os.arch"),R=R||a.getProperty("os.name")+" "+a.getProperty("os.version")),v){try{x=t.require("ringo/engine").version.join("."),k="RingoJS"}catch(e){(a=t.system)&&a.global.system==t.system&&(k="Narwhal",R||(R=a[0].os||null))}k||(k="Rhino")}else"object"==typeof t.process&&!t.process.browser&&(a=t.process)&&("object"==typeof a.versions&&("string"==typeof a.versions.electron?(_.push("Node "+a.versions.node),k="Electron",x=a.versions.electron):"string"==typeof a.versions.nw&&(_.push("Chromium "+x,"Node "+a.versions.node),k="NW.js",x=a.versions.nw)),k||(k="Node.js",S=a.arch,R=a.platform,x=(x=/[\d.]+/.exec(a.version))?x[0]:null));else B(a=t.runtime)==l?(k="Adobe AIR",R=a.flash.system.Capabilities.os):B(a=t.phantom)==d?(k="PhantomJS",x=(a=a.version||null)&&a.major+"."+a.minor+"."+a.patch):"number"==typeof y.documentMode&&(a=/\bTrident\/(\d+)/i.exec(r))?(x=[x,y.documentMode],(a=+a[1]+4)!=x[1]&&(_.push("IE "+x[1]+" mode"),O&&(O[1]=""),x[1]=a),x="IE"==k?String(x[1].toFixed(1)):x[0]):"number"==typeof y.documentMode&&/^(?:Chrome|Firefox)\b/.test(k)&&(_.push("masking as "+k+" "+x),k="IE",x="11.0",O=["Trident"],R="Windows");R=R&&j(R)}if(x&&(a=/(?:[ab]|dp|pre|[ab]\d+pre)(?:\d+\+?)?$/i.exec(x)||/(?:alpha|beta)(?: ?\d)?/i.exec(r+";"+(E&&i.appMinorVersion))||/\bMinefield\b/i.test(r)&&"a")&&(C=/b/i.test(a)?"beta":"alpha",x=x.replace(RegExp(a+"\\+?$"),"")+("beta"==C?m:g)+(/\d+\+?/.exec(a)||"")),"Fennec"==k||"Firefox"==k&&/\b(?:Android|Firefox OS)\b/.test(R))k="Firefox Mobile";else if("Maxthon"==k&&x)x=x.replace(/\.[\d.]+/,".x");else if(/\bXbox\b/i.test(P))"Xbox 360"==P&&(R=null),"Xbox 360"==P&&/\bIEMobile\b/.test(r)&&_.unshift("mobile mode");else if(!/^(?:Chrome|IE|Opera)$/.test(k)&&(!k||P||/Browser|Mobi/.test(k))||"Windows CE"!=R&&!/Mobi/i.test(r))if("IE"==k&&E)try{null===t.external&&_.unshift("platform preview")}catch(e){_.unshift("embedded")}else(/\bBlackBerry\b/.test(P)||/\bBB10\b/.test(r))&&(a=(RegExp(P.replace(/ +/g," *")+"/([.\\d]+)","i").exec(r)||0)[1]||x)?(R=((a=[a,/BB10/.test(r)])[1]?(P=null,T="BlackBerry"):"Device Software")+" "+a[0],x=null):this!=L&&"Wii"!=P&&(E&&b||/Opera/.test(k)&&/\b(?:MSIE|Firefox)\b/i.test(r)||"Firefox"==k&&/\bOS X (?:\d+\.){2,}/.test(R)||"IE"==k&&(R&&!/^Win/.test(R)&&5.5<x||/\bWindows XP\b/.test(R)&&8<x||8==x&&!/\bTrident\b/.test(r)))&&!N.test(a=e.call(L,r.replace(N,"")+";"))&&a.name&&(a="ing as "+a.name+((a=a.version)?" "+a:""),N.test(k)?(/\bIE\b/.test(a)&&"Mac OS"==R&&(R=null),a="identify"+a):(a="mask"+a,k=w?j(w.replace(/([a-z])([A-Z])/g,"$1 $2")):"Opera",/\bIE\b/.test(a)&&(R=null),E||(x=null)),O=["Presto"],_.push(a));else k+=" Mobile";(a=(/\bAppleWebKit\/([\d.]+\+?)/i.exec(r)||0)[1])&&(a=[parseFloat(a.replace(/\.(\d)$/,".0$1")),a],"Safari"==k&&"+"==a[1].slice(-1)?(k="WebKit Nightly",C="alpha",x=a[1].slice(0,-1)):x!=a[1]&&x!=(a[2]=(/\bSafari\/([\d.]+\+?)/i.exec(r)||0)[1])||(x=null),a[1]=(/\bChrome\/([\d.]+)/i.exec(r)||0)[1],537.36==a[0]&&537.36==a[2]&&28<=parseFloat(a[1])&&"WebKit"==O&&(O=["Blink"]),a=E&&(u||a[1])?(O&&(O[1]="like Chrome"),a[1]||((a=a[0])<530?1:a<532?2:a<532.05?3:a<533?4:a<534.03?5:a<534.07?6:a<534.1?7:a<534.13?8:a<534.16?9:a<534.24?10:a<534.3?11:a<535.01?12:a<535.02?"13+":a<535.07?15:a<535.11?16:a<535.19?17:a<536.05?18:a<536.1?19:a<537.01?20:a<537.11?"21+":a<537.13?23:a<537.18?24:a<537.24?25:a<537.36?26:"Blink"!=O?"27":"28")):(O&&(O[1]="like Safari"),(a=a[0])<400?1:a<500?2:a<526?3:a<533?4:a<534?"4+":a<535?5:a<537?6:a<538?7:a<601?8:"8"),O&&(O[1]+=" "+(a+="number"==typeof a?".x":/[.+]/.test(a)?"":"+")),"Safari"==k&&(!x||45<parseInt(x))&&(x=a)),"Opera"==k&&(a=/\bzbov|zvav$/.exec(R))?(k+=" ",_.unshift("desktop mode"),"zvav"==a?(k+="Mini",x=null):k+="Mobile",R=R.replace(RegExp(" *"+a+"$"),"")):"Safari"==k&&/\bChrome\b/.exec(O&&O[1])&&(_.unshift("desktop mode"),k="Chrome Mobile",x=null,R=/\bOS X\b/.test(R)?(T="Apple","iOS 4.3+"):null),x&&0==x.indexOf(a=/[\d.]+$/.exec(R))&&-1<r.indexOf("/"+a+"-")&&(R=U(R.replace(a,""))),O&&!/\b(?:Avant|Nook)\b/.test(k)&&(/Browser|Lunascape|Maxthon/.test(k)||"Safari"!=k&&/^iOS/.test(R)&&/\bSafari\b/.test(O[1])||/^(?:Adobe|Arora|Breach|Midori|Opera|Phantom|Rekonq|Rock|Samsung Internet|Sleipnir|Web)/.test(k)&&O[1])&&(a=O[O.length-1])&&_.push(a),_.length&&(_=["("+_.join("; ")+")"]),T&&P&&P.indexOf(T)<0&&_.push("on "+T),P&&_.push((/^on /.test(_[_.length-1])?"":"on ")+P),R&&(a=/ ([\d.+]+)$/.exec(R),s=a&&"/"==R.charAt(R.length-a[0].length-1),R={architecture:32,family:a&&!s?R.replace(a[0],""):R,version:a?a[1]:null,toString:function(){var e=this.version;return this.family+(e&&!s?" "+e:"")+(64==this.architecture?" 64-bit":"")}}),(a=/\b(?:AMD|IA|Win|WOW|x86_|x)64\b/i.exec(S))&&!/\bi686\b/i.test(S)?(R&&(R.architecture=64,R.family=R.family.replace(RegExp(" *"+a),"")),k&&(/\bWOW64\b/i.test(r)||E&&/\w(?:86|32)$/.test(i.cpuClass||i.platform)&&!/\bWin64; x64\b/i.test(r))&&_.unshift("32-bit")):R&&/^OS X/.test(R.family)&&"Chrome"==k&&39<=parseFloat(x)&&(R.architecture=64),r||(r=null);var I={};return I.description=r,I.layout=O&&O[0],I.manufacturer=T,I.name=k,I.prerelease=C,I.product=P,I.ua=r,I.version=k&&x,I.os=R||{architecture:null,family:null,version:null,toString:function(){return"null"}},I.parse=e,I.toString=function(){return this.description||""},I.version&&_.unshift(x),I.name&&_.unshift(k),R&&k&&(R!=String(R).split(" ")[0]||R!=k.split(" ")[0]&&!P)&&_.push(P?"("+R+")":"on "+R),_.length&&(I.description=_.join(" ")),I}();M.platform=u,void 0===(p=function(){return u}.call(f,d,f,c))||(c.exports=p)}).call(this)}).call(this,d(89)(e),d(30))},function(e,t,n){"use strict";n.r(t),n.d(t,"getApkUrlAsync",function(){return w}),n.d(t,"buildAsync",function(){return O}),n.d(t,"cancelBuild",function(){return k});var r,i,o=n(1437),p=n.n(o),a=n(1168),v=n.n(a),s=n(1161),u=n.n(s),c=n(328),g=n.n(c),l=n(587),m=n.n(l),f=n(664),d=n.n(f),h=n(1438),y=(r=d()(g.a.mark(function e(t,n,r){var i,o,a,s,u,c,l,p,f,d,h=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=h.timeout,o=void 0===i?1200:i,a=h.interval,s=void 0===a?60:a,u=v()(h,["timeout","interval"]),c=(new Date).getTime(),e.next=4,S(_(s));case 4:l=c+_(o);case 5:if(c<=l)return e.next=8,O(n,m()({current:!1,mode:"status",platform:r},u));e.next=24;break;case 8:if(p=e.sent,f=p.jobs,d=(void 0===f?[]:f).find(function(e){return t&&e.id===t})){e.next=13;break}throw new Error("Build not found: "+t);case 13:if("finished"===d.status)return e.abrupt("return",d);e.next=17;break;case 17:if("errored"===d.status)throw new Error("Job status: "+d.status);e.next=19;break;case 19:return c=(new Date).getTime(),e.next=22,S(_(s));case 22:e.next=5;break;case 24:case"end":return e.stop()}},e,this)})),function(e,t,n){return r.apply(this,arguments)}),b="https://expo.io",w=(i=d()(g.a.mark(function e(t){var n,r,i,o,a,s=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.expo,e.next=3,O(n,m()({platform:"android",mode:"create",isSnack:!0,sdkVersion:"33.0.0"},s));case 3:return r=e.sent,i=r.id,e.next=7,y(i,n,"android",s);case 7:return o=e.sent,a=o.artifactId?b+"/artifacts/"+o.artifactId:o.artifacts.url,e.abrupt("return",a);case 10:case"end":return e.stop()}},e,this)})),function(e){return i.apply(this,arguments)}),S=function(t){return new u.a(function(e){return setTimeout(e,t)})},_=function(e){return 1e3*e};function C(e,t,n){var r=e||{};return m()({idToken:t,sessionSecret:n},r)}var E,x,O=(E=d()(g.a.mark(function e(t,n){var r,i,o,a,s,u,c,l;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return b+"/--/api/build",r=n.user,i=n.authorizationToken,o=n.sessionSecret,a=v()(n,["user","authorizationToken","sessionSecret"]),s=C(r,i,o),u={manifest:t,options:a},e.prev=4,e.next=7,fetch("https://expo.io/--/api/build",{method:"PUT",body:p()(u),headers:m()({"Content-Type":"application/json"},s.idToken?{Authorization:"Bearer "+s.idToken}:{},s.sessionSecret?{"Expo-Session":s.sessionSecret}:{})});case 7:if((c=e.sent).ok)return e.abrupt("return",c.json());e.next=12;break;case 12:throw l=new Error(c.status+" server error: "+c.statusText),console.error(l),l;case 15:e.next=21;break;case 17:throw e.prev=17,e.t0=e.catch(4),console.error(e.t0),e.t0;case 21:case"end":return e.stop()}},e,this,[[4,17]])})),function(e,t){return E.apply(this,arguments)}),k=(x=d()(g.a.mark(function e(t,n){var r,i,o,a,s,u;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return b+"/--/graphql",r=t.user,i=t.authorizationToken,o=t.sessionSecret,a=C(r,i,o),s=new h.GraphQLClient("https://expo.io/--/graphql",{headers:m()({},a.idToken?{Authorization:"Bearer "+a.idToken}:{},a.sessionSecret?{"Expo-Session":a.sessionSecret}:{})}),u={buildId:n},"\n    mutation CancelJob($buildId: ID!) {\n      buildJob(buildId: $buildId){\n        cancel { id status }\n      }\n    }\n  ",e.abrupt("return",s.request("\n    mutation CancelJob($buildId: ID!) {\n      buildJob(buildId: $buildId){\n        cancel { id status }\n      }\n    }\n  ",u));case 7:case"end":return e.stop()}},e,this)})),function(e,t){return x.apply(this,arguments)})},function(e,t,n){var r=n(325),i=r.JSON||(r.JSON={stringify:JSON.stringify});e.exports=function(e){return i.stringify.apply(i,arguments)}},function(e,t,n){n(2455),n(2456),n(2468),n(2472),n(2484),n(2485),e.exports=n(325).Promise},function(e,t){},function(e,t,n){"use strict";var r=n(2457)(!0);n(1411)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})})},function(e,t,n){var u=n(1152),c=n(1153);e.exports=function(s){return function(e,t){var n,r,i=String(c(e)),o=u(t),a=i.length;return o<0||a<=o?s?"":void 0:(n=i.charCodeAt(o))<55296||56319<n||o+1===a||(r=i.charCodeAt(o+1))<56320||57343<r?s?i.charAt(o):n:s?i.slice(o,o+2):r-56320+(n-55296<<10)+65536}}},function(e,t,n){e.exports=!n(657)&&!n(1155)(function(){return 7!=Object.defineProperty(n(1156)("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){var i=n(656);e.exports=function(e,t){if(!i(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!i(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!i(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!i(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")}},function(e,t,n){e.exports=n(586)},function(e,t,n){"use strict";var r=n(2462),i=n(1412),o=n(1159),a={};n(586)(a,n(260)("iterator"),function(){return this}),e.exports=function(e,t,n){e.prototype=r(a,{next:i(1,n)}),o(e,t+" Iterator")}},function(e,t,r){var i=r(501),o=r(2463),a=r(1418),s=r(1158)("IE_PROTO"),u=function(){},c="prototype",l=function(){var e,t=r(1156)("iframe"),n=a.length;for(t.style.display="none",r(1419).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),l=e.F;n--;)delete l[c][a[n]];return l()};e.exports=Object.create||function(e,t){var n;return null!==e?(u[c]=i(e),n=new u,u[c]=null,n[s]=e):n=l(),void 0===t?n:o(n,t)}},function(e,t,n){var a=n(770),s=n(501),u=n(1413);e.exports=n(657)?Object.defineProperties:function(e,t){s(e);for(var n,r=u(t),i=r.length,o=0;o<i;)a.f(e,n=r[o++],t[n]);return e}},function(e,t,n){var a=n(771),s=n(1157),u=n(2465)(!1),c=n(1158)("IE_PROTO");e.exports=function(e,t){var n,r=s(e),i=0,o=[];for(n in r)n!=c&&a(r,n)&&o.push(n);for(;t.length>i;)a(r,n=t[i++])&&(~u(o,n)||o.push(n));return o}},function(e,t,n){var u=n(1157),c=n(1415),l=n(2466);e.exports=function(s){return function(e,t,n){var r,i=u(e),o=c(i.length),a=l(n,o);if(s&&t!=t){for(;a<o;)if((r=i[a++])!=r)return!0}else for(;a<o;a++)if((s||a in i)&&i[a]===t)return s||a||0;return!s&&-1}}},function(e,t,n){var r=n(1152),i=Math.max,o=Math.min;e.exports=function(e,t){return(e=r(e))<0?i(e+t,0):o(e,t)}},function(e,t,n){var r=n(771),i=n(1420),o=n(1158)("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=i(e),r(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},function(e,t,n){n(2469);for(var r=n(220),i=n(586),o=n(658),a=n(260)("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),u=0;u<s.length;u++){var c=s[u],l=r[c],p=l&&l.prototype;p&&!p[a]&&i(p,a,c),o[c]=o.Array}},function(e,t,n){"use strict";var r=n(2470),i=n(2471),o=n(658),a=n(1157);e.exports=n(1411)(Array,"Array",function(e,t){this._t=a(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,i(1)):i(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])},"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},function(e,t){e.exports=function(){}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,n){"use strict";var r,i,o,a,s=n(1154),u=n(220),c=n(768),l=n(1421),p=n(655),f=n(656),d=n(769),h=n(2473),v=n(2474),g=n(1422),m=n(1423).set,y=n(2479)(),b=n(1160),w=n(1424),S=n(2480),_=n(1425),C="Promise",E=u.TypeError,x=u.process,O=x&&x.versions,k=O&&O.v8||"",P=u[C],T="process"==l(x),R=function(){},A=i=b.f,I=!!function(){try{var e=P.resolve(1),t=(e.constructor={})[n(260)("species")]=function(e){e(R,R)};return(T||"function"==typeof PromiseRejectionEvent)&&e.then(R)instanceof t&&0!==k.indexOf("6.6")&&-1===S.indexOf("Chrome/66")}catch(e){}}(),M=function(e){var t;return!(!f(e)||"function"!=typeof(t=e.then))&&t},N=function(l,n){if(!l._n){l._n=!0;var r=l._c;y(function(){for(var u=l._v,c=1==l._s,e=0,t=function(e){var t,n,r,i=c?e.ok:e.fail,o=e.resolve,a=e.reject,s=e.domain;try{i?(c||(2==l._h&&L(l),l._h=1),!0===i?t=u:(s&&s.enter(),t=i(u),s&&(s.exit(),r=!0)),t===e.promise?a(E("Promise-chain cycle")):(n=M(t))?n.call(t,o,a):o(t)):a(u)}catch(e){s&&!r&&s.exit(),a(e)}};r.length>e;)t(r[e++]);l._c=[],l._n=!1,n&&!l._h&&D(l)})}},D=function(o){m.call(u,function(){var e,t,n,r=o._v,i=j(o);if(i&&(e=w(function(){T?x.emit("unhandledRejection",r,o):(t=u.onunhandledrejection)?t({promise:o,reason:r}):(n=u.console)&&n.error&&n.error("Unhandled promise rejection",r)}),o._h=T||j(o)?2:1),o._a=void 0,i&&e.e)throw e.v})},j=function(e){return 1!==e._h&&0===(e._a||e._c).length},L=function(t){m.call(u,function(){var e;T?x.emit("rejectionHandled",t):(e=u.onrejectionhandled)&&e({promise:t,reason:t._v})})},B=function(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),N(t,!0))},F=function(e){var n,r=this;if(!r._d){r._d=!0,r=r._w||r;try{if(r===e)throw E("Promise can't be resolved itself");(n=M(e))?y(function(){var t={_w:r,_d:!1};try{n.call(e,c(F,t,1),c(B,t,1))}catch(e){B.call(t,e)}}):(r._v=e,r._s=1,N(r,!1))}catch(e){B.call({_w:r,_d:!1},e)}}};I||(P=function(e){h(this,P,C,"_h"),d(e),r.call(this);try{e(c(F,this,1),c(B,this,1))}catch(e){B.call(this,e)}},(r=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(2481)(P.prototype,{then:function(e,t){var n=A(g(this,P));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=T?x.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&N(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),o=function(){var e=new r;this.promise=e,this.resolve=c(F,e,1),this.reject=c(B,e,1)},b.f=A=function(e){return e===P||e===a?new o(e):i(e)}),p(p.G+p.W+p.F*!I,{Promise:P}),n(1159)(P,C),n(2482)(C),a=n(325)[C],p(p.S+p.F*!I,C,{reject:function(e){var t=A(this);return(0,t.reject)(e),t.promise}}),p(p.S+p.F*(s||!I),C,{resolve:function(e){return _(s&&this===a?P:this,e)}}),p(p.S+p.F*!(I&&n(2483)(function(e){P.all(e).catch(R)})),C,{all:function(e){var a=this,t=A(a),s=t.resolve,u=t.reject,n=w(function(){var r=[],i=0,o=1;v(e,!1,function(e){var t=i++,n=!1;r.push(void 0),o++,a.resolve(e).then(function(e){n||(n=!0,r[t]=e,--o||s(r))},u)}),--o||s(r)});return n.e&&u(n.v),t.promise},race:function(e){var t=this,n=A(t),r=n.reject,i=w(function(){v(e,!1,function(e){t.resolve(e).then(n.resolve,r)})});return i.e&&r(i.v),n.promise}})},function(e,t){e.exports=function(e,t,n,r){if(!(e instanceof t)||void 0!==r&&r in e)throw TypeError(n+": incorrect invocation!");return e}},function(e,t,n){var f=n(768),d=n(2475),h=n(2476),v=n(501),g=n(1415),m=n(2477),y={},b={};(t=e.exports=function(e,t,n,r,i){var o,a,s,u,c=i?function(){return e}:m(e),l=f(n,r,t?2:1),p=0;if("function"!=typeof c)throw TypeError(e+" is not iterable!");if(h(c)){for(o=g(e.length);p<o;p++)if((u=t?l(v(a=e[p])[0],a[1]):l(e[p]))===y||u===b)return u}else for(s=c.call(e);!(a=s.next()).done;)if((u=d(s,l,a.value,t))===y||u===b)return u}).BREAK=y,t.RETURN=b},function(e,t,n){var o=n(501);e.exports=function(t,e,n,r){try{return r?e(o(n)[0],n[1]):e(n)}catch(e){var i=t.return;throw void 0!==i&&o(i.call(t)),e}}},function(e,t,n){var r=n(658),i=n(260)("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||o[i]===e)}},function(e,t,n){var r=n(1421),i=n(260)("iterator"),o=n(658);e.exports=n(325).getIteratorMethod=function(e){if(null!=e)return e[i]||e["@@iterator"]||o[r(e)]}},function(e,t){e.exports=function(e,t,n){var r=void 0===n;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},function(e,t,n){var s=n(220),u=n(1423).set,c=s.MutationObserver||s.WebKitMutationObserver,l=s.process,p=s.Promise,f="process"==n(772)(l);e.exports=function(){var n,r,i,e=function(){var e,t;for(f&&(e=l.domain)&&e.exit();n;){t=n.fn,n=n.next;try{t()}catch(e){throw n?i():r=void 0,e}}r=void 0,e&&e.enter()};if(f)i=function(){l.nextTick(e)};else if(!c||s.navigator&&s.navigator.standalone)if(p&&p.resolve){var t=p.resolve(void 0);i=function(){t.then(e)}}else i=function(){u.call(s,e)};else{var o=!0,a=document.createTextNode("");new c(e).observe(a,{characterData:!0}),i=function(){a.data=o=!o}}return function(e){var t={fn:e,next:void 0};r&&(r.next=t),n||(n=t,i()),r=t}}},function(e,t,n){var r=n(220).navigator;e.exports=r&&r.userAgent||""},function(e,t,n){var i=n(586);e.exports=function(e,t,n){for(var r in t)n&&e[r]?e[r]=t[r]:i(e,r,t[r]);return e}},function(e,t,n){"use strict";var r=n(220),i=n(325),o=n(770),a=n(657),s=n(260)("species");e.exports=function(e){var t="function"==typeof i[e]?i[e]:r[e];a&&t&&!t[s]&&o.f(t,s,{configurable:!0,get:function(){return this}})}},function(e,t,n){var o=n(260)("iterator"),a=!1;try{var r=[7][o]();r.return=function(){a=!0},Array.from(r,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!a)return!1;var n=!1;try{var r=[7],i=r[o]();i.next=function(){return{done:n=!0}},r[o]=function(){return i},e(r)}catch(e){}return n}},function(e,t,n){"use strict";var r=n(655),i=n(325),o=n(220),a=n(1422),s=n(1425);r(r.P+r.R,"Promise",{finally:function(t){var n=a(this,i.Promise||o.Promise),e="function"==typeof t;return this.then(e?function(e){return s(n,t()).then(function(){return e})}:t,e?function(e){return s(n,t()).then(function(){throw e})}:t)}})},function(e,t,n){"use strict";var r=n(655),i=n(1160),o=n(1424);r(r.S,"Promise",{try:function(e){var t=i.f(this),n=o(e);return(n.e?t.reject:t.resolve)(n.v),t.promise}})},function(i,e,o){(function(e){var t="object"==typeof e?e:"object"==typeof window?window:"object"==typeof self?self:this,n=t.regeneratorRuntime&&0<=Object.getOwnPropertyNames(t).indexOf("regeneratorRuntime"),r=n&&t.regeneratorRuntime;if(t.regeneratorRuntime=void 0,i.exports=o(2487),n)t.regeneratorRuntime=r;else try{delete t.regeneratorRuntime}catch(e){t.regeneratorRuntime=void 0}}).call(this,o(30))},function(I,e,t){(function(e,A){!function(e){"use strict";var u,t=Object.prototype,c=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},i=n.iterator||"@@iterator",r=n.toStringTag||"@@toStringTag",o="object"==typeof I,a=e.regeneratorRuntime;if(a)o&&(I.exports=a);else{(a=e.regeneratorRuntime=o?I.exports:{}).wrap=y;var l="suspendedStart",p="suspendedYield",f="executing",d="completed",h={},s={};s[i]=function(){return this};var v=Object.getPrototypeOf,g=v&&v(v(T([])));g&&g!==t&&c.call(g,i)&&(s=g);var m=_.prototype=w.prototype=Object.create(s);S.prototype=m.constructor=_,_.constructor=S,_[r]=S.displayName="GeneratorFunction",a.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===S||"GeneratorFunction"===(t.displayName||t.name))},a.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,_):(e.__proto__=_,r in e||(e[r]="GeneratorFunction")),e.prototype=Object.create(m),e},a.awrap=function(e){return{__await:e}},C(E.prototype),a.AsyncIterator=E,a.async=function(e,t,n,r){var i=new E(y(e,t,n,r));return a.isGeneratorFunction(t)?i:i.next().then(function(e){return e.done?e.value:i.next()})},C(m),m[r]="Generator",m.toString=function(){return"[object Generator]"},a.keys=function(n){var r=[];for(var e in n)r.push(e);return r.reverse(),function e(){for(;r.length;){var t=r.pop();if(t in n)return e.value=t,e.done=!1,e}return e.done=!0,e}},a.values=T,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=u,this.done=!1,this.delegate=null,this.method="next",this.arg=u,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&c.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=u)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var r=this;function e(e,t){return o.type="throw",o.arg=n,r.next=e,t&&(r.method="next",r.arg=u),!!t}for(var t=this.tryEntries.length-1;0<=t;--t){var i=this.tryEntries[t],o=i.completion;if("root"===i.tryLoc)return e("end");if(i.tryLoc<=this.prev){var a=c.call(i,"catchLoc"),s=c.call(i,"finallyLoc");if(a&&s){if(this.prev<i.catchLoc)return e(i.catchLoc,!0);if(this.prev<i.finallyLoc)return e(i.finallyLoc)}else if(a){if(this.prev<i.catchLoc)return e(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return e(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;0<=n;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&c.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),k(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;k(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=u),h}}}function y(e,t,n,r){var i=t&&t.prototype instanceof w?t:w,o=Object.create(i.prototype),a=new P(r||[]);return o._invoke=function(o,a,s){var u=l;return function(e,t){if(u===f)throw new Error("Generator is already running");if(u===d){if("throw"===e)throw t;return R()}for(s.method=e,s.arg=t;;){var n=s.delegate;if(n){var r=x(n,s);if(r){if(r===h)continue;return r}}if("next"===s.method)s.sent=s._sent=s.arg;else if("throw"===s.method){if(u===l)throw u=d,s.arg;s.dispatchException(s.arg)}else"return"===s.method&&s.abrupt("return",s.arg);u=f;var i=b(o,a,s);if("normal"===i.type){if(u=s.done?d:p,i.arg===h)continue;return{value:i.arg,done:s.done}}"throw"===i.type&&(u=d,s.method="throw",s.arg=i.arg)}}}(e,n,a),o}function b(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}function w(){}function S(){}function _(){}function C(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function E(s){function u(e,t,n,r){var i=b(s[e],s,t);if("throw"!==i.type){var o=i.arg,a=o.value;return a&&"object"==typeof a&&c.call(a,"__await")?Promise.resolve(a.__await).then(function(e){u("next",e,n,r)},function(e){u("throw",e,n,r)}):Promise.resolve(a).then(function(e){o.value=e,n(o)},r)}r(i.arg)}var t;"object"==typeof A&&A.domain&&(u=A.domain.bind(u)),this._invoke=function(n,r){function e(){return new Promise(function(e,t){u(n,r,e,t)})}return t=t?t.then(e,e):e()}}function x(e,t){var n=e.iterator[t.method];if(n===u){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=u,x(e,t),"throw"===t.method))return h;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var r=b(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,h;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=u),t.delegate=null,h):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function T(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,r=function e(){for(;++n<t.length;)if(c.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=u,e.done=!0,e};return r.next=r}}return{next:R}}function R(){return{value:u,done:!0}}}("object"==typeof e?e:"object"==typeof window?window:"object"==typeof self?self:this)}).call(this,t(30),t(29))},function(e,t,n){e.exports={default:n(2489),__esModule:!0}},function(e,t,n){n(2490),e.exports=n(325).Object.assign},function(e,t,n){var r=n(655);r(r.S+r.F,"Object",{assign:n(2491)})},function(e,t,n){"use strict";var f=n(1413),d=n(2492),h=n(2493),v=n(1420),g=n(1414),i=Object.assign;e.exports=!i||n(1155)(function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach(function(e){t[e]=e}),7!=i({},e)[n]||Object.keys(i({},t)).join("")!=r})?function(e,t){for(var n=v(e),r=arguments.length,i=1,o=d.f,a=h.f;i<r;)for(var s,u=g(arguments[i++]),c=o?f(u).concat(o(u)):f(u),l=c.length,p=0;p<l;)a.call(u,s=c[p++])&&(n[s]=u[s]);return n}:i},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t){t.f={}.propertyIsEnumerable},function(e,t){!function(e){if(!e.fetch){var t="URLSearchParams"in e,n="Symbol"in e&&"iterator"in Symbol,a="FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),r="FormData"in e,i="ArrayBuffer"in e;if(i)var o=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],s=function(e){return e&&DataView.prototype.isPrototypeOf(e)},u=ArrayBuffer.isView||function(e){return e&&-1<o.indexOf(Object.prototype.toString.call(e))};h.prototype.append=function(e,t){e=p(e),t=f(t);var n=this.map[e];this.map[e]=n?n+","+t:t},h.prototype.delete=function(e){delete this.map[p(e)]},h.prototype.get=function(e){return e=p(e),this.has(e)?this.map[e]:null},h.prototype.has=function(e){return this.map.hasOwnProperty(p(e))},h.prototype.set=function(e,t){this.map[p(e)]=f(t)},h.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},h.prototype.keys=function(){var n=[];return this.forEach(function(e,t){n.push(t)}),d(n)},h.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),d(t)},h.prototype.entries=function(){var n=[];return this.forEach(function(e,t){n.push([t,e])}),d(n)},n&&(h.prototype[Symbol.iterator]=h.prototype.entries);var c=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];w.prototype.clone=function(){return new w(this,{body:this._bodyInit})},b.call(w.prototype),b.call(_.prototype),_.prototype.clone=function(){return new _(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new h(this.headers),url:this.url})},_.error=function(){var e=new _(null,{status:0,statusText:""});return e.type="error",e};var l=[301,302,303,307,308];_.redirect=function(e,t){if(-1===l.indexOf(t))throw new RangeError("Invalid status code");return new _(null,{status:t,headers:{location:e}})},e.Headers=h,e.Request=w,e.Response=_,e.fetch=function(i,o){return new Promise(function(n,e){var t=new w(i,o),r=new XMLHttpRequest;r.onload=function(){var e={status:r.status,statusText:r.statusText,headers:function(e){var i=new h;return e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(e){var t=e.split(":"),n=t.shift().trim();if(n){var r=t.join(":").trim();i.append(n,r)}}),i}(r.getAllResponseHeaders()||"")};e.url="responseURL"in r?r.responseURL:e.headers.get("X-Request-URL");var t="response"in r?r.response:r.responseText;n(new _(t,e))},r.onerror=function(){e(new TypeError("Network request failed"))},r.ontimeout=function(){e(new TypeError("Network request failed"))},r.open(t.method,t.url,!0),"include"===t.credentials?r.withCredentials=!0:"omit"===t.credentials&&(r.withCredentials=!1),"responseType"in r&&a&&(r.responseType="blob"),t.headers.forEach(function(e,t){r.setRequestHeader(t,e)}),r.send(void 0===t._bodyInit?null:t._bodyInit)})},e.fetch.polyfill=!0}function p(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function f(e){return"string"!=typeof e&&(e=String(e)),e}function d(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return n&&(e[Symbol.iterator]=function(){return e}),e}function h(t){this.map={},t instanceof h?t.forEach(function(e,t){this.append(t,e)},this):Array.isArray(t)?t.forEach(function(e){this.append(e[0],e[1])},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}function v(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function g(n){return new Promise(function(e,t){n.onload=function(){e(n.result)},n.onerror=function(){t(n.error)}})}function m(e){var t=new FileReader,n=g(t);return t.readAsArrayBuffer(e),n}function y(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function b(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e)if("string"==typeof e)this._bodyText=e;else if(a&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(r&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(t&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(i&&a&&s(e))this._bodyArrayBuffer=y(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!i||!ArrayBuffer.prototype.isPrototypeOf(e)&&!u(e))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=y(e)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):t&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},a&&(this.blob=function(){var e=v(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?v(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(m)}),this.text=function(){var e=v(this);if(e)return e;if(this._bodyBlob)return function(e){var t=new FileReader,n=g(t);return t.readAsText(e),n}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},r&&(this.formData=function(){return this.text().then(S)}),this.json=function(){return this.text().then(JSON.parse)},this}function w(e,t){var n=(t=t||{}).body;if(e instanceof w){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new h(e.headers)),this.method=e.method,this.mode=e.mode,n||null==e._bodyInit||(n=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new h(t.headers)),this.method=function(e){var t=e.toUpperCase();return-1<c.indexOf(t)?t:e}(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function S(e){var i=new FormData;return e.trim().split("&").forEach(function(e){if(e){var t=e.split("="),n=t.shift().replace(/\+/g," "),r=t.join("=").replace(/\+/g," ");i.append(decodeURIComponent(n),decodeURIComponent(r))}}),i}function _(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=200<=this.status&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new h(t.headers),this.url=t.url||"",this._initBody(e)}}("undefined"!=typeof self?self:this)},function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){rethrow=rethrow||function(e,t,n,r,i){var o=t.split("\n"),a=Math.max(r-3,0),s=Math.min(o.length,r+3),u=i(n),c=o.slice(a,s).map(function(e,t){var n=t+a+1;return(n==r?" >> ":"    ")+n+"| "+e}).join("\n");throw e.path=u,e.message=(u||"ejs")+":"+r+"\n"+c+"\n\n"+e.message,e},escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __line=1,__lines="export default [\n  <%- entries.join('\\n') -%>\n];\n",__filename="src/templates/export/expo/packagedFiles.js.ejs";try{var __output=[],__append=__output.push.bind(__output);with(locals||{})__append("export default [\n  "),__line=2,__append(entries.join("\n")),__append("];\n"),__line=4;return __output.join("")}catch(e){rethrow(e,__lines,__filename,__line,escapeFn)}}},function(module,exports,__webpack_require__){(function(module){module.exports=function anonymous(locals,escapeFn,include,rethrow){rethrow=rethrow||function(e,t,n,r,i){var o=t.split("\n"),a=Math.max(r-3,0),s=Math.min(o.length,r+3),u=i(n),c=o.slice(a,s).map(function(e,t){var n=t+a+1;return(n==r?" >> ":"    ")+n+"| "+e}).join("\n");throw e.path=u,e.message=(u||"ejs")+":"+r+"\n"+c+"\n\n"+e.message,e},escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __line=1,__lines='  { module: require("./assets/<%- module.fileName %>"), fileName: "<%- module.fileName %>" },\n',__filename="src/templates/export/expo/packagedFilesEntry.js.ejs";try{var __output=[],__append=__output.push.bind(__output);with(locals||{})__append('  { module: require("./assets/'),__append(module.fileName),__append('"), fileName: "'),__append(module.fileName),__append('" },\n'),__line=2;return __output.join("")}catch(e){rethrow(e,__lines,__filename,__line,escapeFn)}}}).call(this,__webpack_require__(89)(module))},,function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){rethrow=rethrow||function(e,t,n,r,i){var o=t.split("\n"),a=Math.max(r-3,0),s=Math.min(o.length,r+3),u=i(n),c=o.slice(a,s).map(function(e,t){var n=t+a+1;return(n==r?" >> ":"    ")+n+"| "+e}).join("\n");throw e.path=u,e.message=(u||"ejs")+":"+r+"\n"+c+"\n\n"+e.message,e},escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __line=1,__lines='<div id="studio-dpad">\n  <div id="studio-dpad-rim"></div>\n  <div id="studio-dpad-cone"></div>\n  <button id="studio-dpad-button"></button>\n  <button id="studio-space-button"></button>\n</div>\n',__filename="src/templates/gameLabDPad.html.ejs";try{var __output=[],__append=__output.push.bind(__output);with(locals||{})__append('<div id="studio-dpad">\n  <div id="studio-dpad-rim"></div>\n  <div id="studio-dpad-cone"></div>\n  <button id="studio-dpad-button"></button>\n  <button id="studio-space-button"></button>\n</div>\n'),__line=7;return __output.join("")}catch(e){rethrow(e,__lines,__filename,__line,escapeFn)}}},,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.searchAssets=function(e,t,n,r,i){var o=new RegExp("(?:\\s+|_|^|-)"+e,"i"),a=Object.keys(n.aliases).filter(function(e){return o.test(e)}).reduce(function(e,t){return e.union(n.aliases[t])},c.default.Set());if(""!==t&&"category_all"!==t){var s=Object.keys(n.aliases).filter(function(e){return e===t}).reduce(function(e,t){return e.union(n.aliases[t])},c.default.Set());a=""!==e?a.intersect(s.toArray()):s}var u=a.sort().map(function(e){return n.metadata[e]}).toArray();return{pageCount:Math.ceil(u.length/i),results:u.slice(r*i,(r+1)*i)}};var r,c=(r=n(125))&&r.__esModule?r:{default:r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n(10)),r=i(n(0)),a=i(n(1)),s=i(n(62));function i(e){return e&&e.__esModule?e:{default:e}}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c=function(i){function e(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return u(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e=i.call.apply(i,[this].concat(n))||this),"openFileChooser",function(){return e.refs.uploader.click()}),e}!function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(e,i);var t=e.prototype;return t.componentDidMount=function(){var r=this.props;(0,o.default)(this.refs.uploader).fileupload({dataType:"json",url:this.props.toUrl,replaceFileInput:!1,add:function(e,t){r.onUploadStart(t);var n=t.files[0].name.includes("mp3")?t.files[0].name:null;n&&s.default.putRecord({study:"sound-dialog-2",study_group:"library-file",event:"upload-file",data_json:n},{includeUserId:!0})},done:function(e,t){r.onUploadDone(t.result)},error:function(e,t){r.onUploadError&&r.onUploadError(e.status)}})},t.componentWillUnmount=function(){(0,o.default)(this.refs.uploader).fileupload("destroy")},t.render=function(){return a.default.createElement("input",{ref:"uploader",className:"uitest-hidden-uploader",type:"file",style:{display:"none"},accept:this.props.allowedExtensions||"*"})},e}(a.default.Component);u(t.default=c,"propTypes",{toUrl:r.default.string.isRequired,allowedExtensions:r.default.string,onUploadStart:r.default.func.isRequired,onUploadDone:r.default.func.isRequired,onUploadError:r.default.func}),window.dashboard=window.dashboard||{},window.dashboard.HiddenUploader=c,e.exports=t.default},,,,,,,,,,,,,,,,,,,function(e,t,n){var s=n(16),r=n(5);t.install=function(e,t,n){!function(e,t,n){e.Blocks.functional_plus={helpUrl:"",init:function(){e.FunctionalBlockUtils.initTitledFunctionalBlock(this,"+",e.BlockValueType.NUMBER,[{name:"ARG1",type:e.BlockValueType.NUMBER},{name:"ARG2",type:e.BlockValueType.NUMBER}],{titleFontSize:25})}},t.functional_plus=function(){var e=Blockly.JavaScript.statementToCode(this,"ARG1",!1)||0,t=Blockly.JavaScript.statementToCode(this,"ARG2",!1)||0;return"("+e+" + "+t+")"}}(e,t),function(e,t,n){e.Blocks.functional_minus={helpUrl:"",init:function(){e.FunctionalBlockUtils.initTitledFunctionalBlock(this,"-",e.BlockValueType.NUMBER,[{name:"ARG1",type:e.BlockValueType.NUMBER},{name:"ARG2",type:e.BlockValueType.NUMBER}],{titleFontSize:25})}},t.functional_minus=function(){var e=Blockly.JavaScript.statementToCode(this,"ARG1",!1)||0,t=Blockly.JavaScript.statementToCode(this,"ARG2",!1)||0;return"("+e+" - "+t+")"}}(e,t),function(e,t,n){e.Blocks.functional_times={helpUrl:"",init:function(){e.FunctionalBlockUtils.initTitledFunctionalBlock(this,"*",e.BlockValueType.NUMBER,[{name:"ARG1",type:e.BlockValueType.NUMBER},{name:"ARG2",type:e.BlockValueType.NUMBER}],{titleFontSize:25})}},t.functional_times=function(){var e=Blockly.JavaScript.statementToCode(this,"ARG1",!1)||0,t=Blockly.JavaScript.statementToCode(this,"ARG2",!1)||0;return"("+e+" * "+t+")"}}(e,t),function(e,t,n){e.Blocks.functional_dividedby={helpUrl:"",init:function(){e.FunctionalBlockUtils.initTitledFunctionalBlock(this,"/",e.BlockValueType.NUMBER,[{name:"ARG1",type:e.BlockValueType.NUMBER},{name:"ARG2",type:e.BlockValueType.NUMBER}],{titleFontSize:25})}},t.functional_dividedby=function(){var e=Blockly.JavaScript.statementToCode(this,"ARG1",!1)||0,t=Blockly.JavaScript.statementToCode(this,"ARG2",!1)||0;return"("+e+" / "+t+")"}}(e,t),function(e,t,n){e.Blocks.functional_greater_than={helpUrl:"",init:function(){e.FunctionalBlockUtils.initTitledFunctionalBlock(this,">",e.BlockValueType.BOOLEAN,[{name:"ARG1",type:e.BlockValueType.NUMBER},{name:"ARG2",type:e.BlockValueType.NUMBER}])}},t.functional_greater_than=function(){var e=Blockly.JavaScript.statementToCode(this,"ARG1",!1)||0,t=Blockly.JavaScript.statementToCode(this,"ARG2",!1)||0;return"("+e+" > "+t+")"}}(e,t),function(e,t,n){e.Blocks.functional_less_than={helpUrl:"",init:function(){e.FunctionalBlockUtils.initTitledFunctionalBlock(this,"<",e.BlockValueType.BOOLEAN,[{name:"ARG1",type:e.BlockValueType.NUMBER},{name:"ARG2",type:e.BlockValueType.NUMBER}])}},t.functional_less_than=function(){var e=Blockly.JavaScript.statementToCode(this,"ARG1",!1)||0,t=Blockly.JavaScript.statementToCode(this,"ARG2",!1)||0;return"("+e+" < "+t+")"}}(e,t),function(e,t,n){e.Blocks.functional_number_equals={helpUrl:"",init:function(){e.FunctionalBlockUtils.initTitledFunctionalBlock(this,"=",e.BlockValueType.BOOLEAN,[{name:"ARG1",type:e.BlockValueType.NUMBER},{name:"ARG2",type:e.BlockValueType.NUMBER}])}},t.functional_number_equals=function(){var e=Blockly.JavaScript.statementToCode(this,"ARG1",!1)||0,t=Blockly.JavaScript.statementToCode(this,"ARG2",!1)||0;return"("+e+" === "+t+")"}}(e,t),function(e,t,n){e.Blocks.functional_string_equals={helpUrl:"",init:function(){e.FunctionalBlockUtils.initTitledFunctionalBlock(this,r.stringEquals(),e.BlockValueType.BOOLEAN,[{name:"ARG1",type:e.BlockValueType.STRING},{name:"ARG2",type:e.BlockValueType.STRING}])}},t.functional_string_equals=function(){var e=Blockly.JavaScript.statementToCode(this,"ARG1",!1)||"",t=Blockly.JavaScript.statementToCode(this,"ARG2",!1)||"";return"("+e+" === "+t+")"}}(e,t),function(e,t,n){e.Blocks.functional_logical_and={helpUrl:"",init:function(){e.FunctionalBlockUtils.initTitledFunctionalBlock(this,"and",e.BlockValueType.BOOLEAN,[{name:"ARG1",type:e.BlockValueType.BOOLEAN},{name:"ARG2",type:e.BlockValueType.BOOLEAN}])}},t.functional_logical_and=function(){var e=Blockly.JavaScript.statementToCode(this,"ARG1",!1)||0,t=Blockly.JavaScript.statementToCode(this,"ARG2",!1)||0;return"("+e+" && "+t+")"}}(e,t),function(e,t,n){e.Blocks.functional_logical_or={helpUrl:"",init:function(){e.FunctionalBlockUtils.initTitledFunctionalBlock(this,"or",e.BlockValueType.BOOLEAN,[{name:"ARG1",type:e.BlockValueType.BOOLEAN},{name:"ARG2",type:e.BlockValueType.BOOLEAN}])}},t.functional_logical_or=function(){var e=Blockly.JavaScript.statementToCode(this,"ARG1",!1)||0,t=Blockly.JavaScript.statementToCode(this,"ARG2",!1)||0;return"("+e+" || "+t+")"}}(e,t),function(e,t,n){e.Blocks.functional_logical_not={helpUrl:"",init:function(){e.FunctionalBlockUtils.initTitledFunctionalBlock(this,"not",e.BlockValueType.BOOLEAN,[{name:"ARG1",type:e.BlockValueType.BOOLEAN}])}},t.functional_logical_not=function(){var e=Blockly.JavaScript.statementToCode(this,"ARG1",!1)||0;return"!("+e+")"}}(e,t),function(t,e,n){t.Blocks.functional_boolean={init:function(){this.setFunctional(!0,{headerHeight:0,rowBuffer:3}),this.setHSV.apply(this,t.FunctionalTypeColors[t.BlockValueType.BOOLEAN]);var e=t.Blocks.functional_boolean.VALUES;this.appendDummyInput().appendTitle(new t.FieldDropdown(e),"VAL").setAlign(Blockly.ALIGN_CENTRE),this.setFunctionalOutput(!0,t.BlockValueType.BOOLEAN)}},t.Blocks.functional_boolean.VALUES=[[r.booleanTrue(),"true"],[r.booleanFalse(),"false"]],e.functional_boolean=function(){return"true"===this.getTitleValue("VAL")}}(e,t),function(e,t,n){e.Blocks.functional_math_number={init:function(){this.setFunctional(!0,{headerHeight:0,rowBuffer:3}),this.setHSV.apply(this,e.FunctionalTypeColors[e.BlockValueType.NUMBER]),this.appendDummyInput().appendTitle(new Blockly.FieldTextInput("0",Blockly.FieldTextInput.numberValidator),"NUM").setAlign(Blockly.ALIGN_CENTRE),this.setFunctionalOutput(!0,e.BlockValueType.NUMBER)}},t.functional_math_number=function(){return+this.getTitleValue("NUM")},e.Blocks.functional_math_number_dropdown={init:function(){this.setFunctional(!0,{headerHeight:0,rowBuffer:3}),this.setHSV.apply(this,e.FunctionalTypeColors[e.BlockValueType.NUMBER]),this.appendDummyInput().appendTitle(new Blockly.FieldDropdown,"NUM").setAlign(Blockly.ALIGN_CENTRE),this.setFunctionalOutput(!0,e.BlockValueType.NUMBER)}},t.functional_math_number_dropdown=t.functional_math_number}(e,t),function(e,t){e.Blocks.functional_string={init:function(){this.setFunctional(!0,{headerHeight:0,rowBuffer:3}),this.setHSV.apply(this,e.FunctionalTypeColors[e.BlockValueType.STRING]),this.appendDummyInput().appendTitle(new Blockly.FieldLabel('"')).appendTitle(new Blockly.FieldTextInput(""),"VAL").appendTitle(new Blockly.FieldLabel('"')).setAlign(Blockly.ALIGN_CENTRE),this.setFunctionalOutput(!0,e.BlockValueType.STRING)}},t.functional_string=function(){return e.JavaScript.quote_(this.getTitleValue("VAL"))}}(e,t),function(t,n){[Blockly.BlockValueType.NONE,Blockly.BlockValueType.NUMBER,Blockly.BlockValueType.STRING,Blockly.BlockValueType.IMAGE,Blockly.BlockValueType.BOOLEAN].forEach(function(e){!function(o,e,a){var t="functional_cond";a!==Blockly.BlockValueType.NONE&&(t+="_"+a.toLowerCase());o.Blocks[t]={helpUrl:"",init:function(){this.pairs_=[],this.setFunctional(!0,{headerHeight:30});var e={fixedSize:{height:35}};this.setHSV.apply(this,Blockly.FunctionalTypeColors[a]);var t=new Blockly.FieldIcon("+");Blockly.bindEvent_(t.getRootElement(),"mousedown",this,this.addConditionalRow),this.appendDummyInput().appendTitle(new Blockly.FieldLabel("cond",e)).setAlign(Blockly.ALIGN_CENTRE),this.appendDummyInput("ELSE").appendTitle(new Blockly.FieldLabel("else",e));var n=this.appendFunctionalInput("DEFAULT").setInline(!0);n.setHSV.apply(n,Blockly.FunctionalTypeColors[a]),this.appendDummyInput("PLUS").appendTitle(t).setInline(!0),this.setFunctionalOutput(!0,a===Blockly.BlockValueType.NONE?void 0:a),this.addConditionalRow()},addConditionalRow:function(){var e=0<this.pairs_.length?1*s(this.pairs_).last()+1:0;this.pairs_.push(e);var t=this.appendFunctionalInput("COND"+e);t.setHSV.apply(t,o.FunctionalTypeColors[o.BlockValueType.BOOLEAN]),t.setCheck(o.BlockValueType.BOOLEAN),this.moveInputBefore("COND"+e,"ELSE");var n=this.appendFunctionalInput("VALUE"+e).setInline(!0);n.setHSV.apply(n,Blockly.FunctionalTypeColors[a]),this.moveInputBefore("VALUE"+e,"ELSE");var r=this.appendDummyInput("MINUS"+e).setInline(!0);if(1<this.pairs_.length){var i=new Blockly.FieldIcon("-");Blockly.bindEvent_(i.getRootElement(),"mousedown",this,s.bind(this.removeConditionalRow,this,e)),r.appendTitle(i)}this.moveInputBefore("MINUS"+e,"ELSE")},removeConditionalRow:function(e){var t=this.pairs_.indexOf(e);if(s(this.pairs_).includes(e)&&1!==this.pairs_.length){this.pairs_.splice(t,1);var n=this.getInput("COND"+e),r=n.connection.targetBlock();r&&r.dispose(),this.removeInput("COND"+e);var i=this.getInput("VALUE"+e);(r=i.connection.targetBlock())&&r.dispose(),this.removeInput("VALUE"+e),this.removeInput("MINUS"+e)}},mutationToDom:function(){if(this.pairs_.length<=1)return null;var e=document.createElement("mutation");return e.setAttribute("pairs",this.pairs_.join(",")),e},domToMutation:function(e){var t,n=e.getAttribute("pairs");if(n){n=n.split(",").map(function(e){return parseInt(e,10)});var r=s(n).last();for(t=1;t<=r;t++)this.addConditionalRow();for(t=0;t<r;t++)s(n).includes(t)||this.removeConditionalRow(t)}}},e[t]=function(){for(var e,t,n,r="(function () {\n  ",i=0;i<this.pairs_.length;i++){0<i&&(r+="else ");var o=this.pairs_[i];e=Blockly.JavaScript.statementToCode(this,"COND"+o,!1)||!1,t=Blockly.JavaScript.statementToCode(this,"VALUE"+o,!1)||"",r+="if ("+e+") { return "+t+"; }\n  "}return n=Blockly.JavaScript.statementToCode(this,"DEFAULT",!1)||"",r+="else { return "+n+"; }\n",r+="})()"}}(t,n,e)})}(e,t),function(e,t){e.Blocks.functional_sqrt={helpUrl:"",init:function(){e.FunctionalBlockUtils.initTitledFunctionalBlock(this,"sqrt","Number",[{name:"ARG1",type:"Number"}])}},t.functional_sqrt=function(){var e=Blockly.JavaScript.statementToCode(this,"ARG1",!1)||0;return"Math.sqrt("+e+")"}}(e,t),function(e,t){e.Blocks.functional_pow={helpUrl:"",init:function(){e.FunctionalBlockUtils.initTitledFunctionalBlock(this,"pow","Number",[{name:"ARG1",type:"Number"},{name:"ARG2",type:"Number"}])}},t.functional_pow=function(){var e=Blockly.JavaScript.statementToCode(this,"ARG1",!1)||0,t=Blockly.JavaScript.statementToCode(this,"ARG2",!1)||0;return"Math.pow("+e+", "+t+")"}}(e,t),function(e,t){e.Blocks.functional_squared={helpUrl:"",init:function(){e.FunctionalBlockUtils.initTitledFunctionalBlock(this,"sqr","Number",[{name:"ARG1",type:"Number"}])}},t.functional_squared=function(){var e=Blockly.JavaScript.statementToCode(this,"ARG1",!1)||0;return e+" * "+e}}(e,t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n(1270))&&r.__esModule?r:{default:r};var o=function(e){function t(){return e.apply(this,arguments)||this}return function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(t,e),t.prototype.output_=function(e,t,n){try{console.groupCollapsed(e);var r=this.getJsInterpreter_();if(n&&r){var i=Math.max(n-2-1,0),o=r.codeInfo.code.split(/\n/g).splice(i,5).map(function(e,t){return(2===t?">>>  ":"     ")+e}).join("\n");console.log(o)}else console.log("No context available.")}finally{console.groupEnd()}},t}(i.default);t.default=o,e.exports=t.default},,function(e,t,n){"use strict";function r(e,t){return window.performance&&window.performance[e]?window.performance[e].bind(window.performance):function(){return t}}Object.defineProperty(t,"__esModule",{value:!0}),t.getEntriesByName=t.measure=t.mark=t.clearMeasures=t.clearMarks=void 0;var i=r("clearMarks");t.clearMarks=i;var o=r("clearMeasures");t.clearMeasures=o;var a=r("mark");t.mark=a;var s=r("measure");t.measure=s;var u=r("getEntriesByName",[]);t.getEntriesByName=u},,function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){rethrow=rethrow||function(e,t,n,r,i){var o=t.split("\n"),a=Math.max(r-3,0),s=Math.min(o.length,r+3),u=i(n),c=o.slice(a,s).map(function(e,t){var n=t+a+1;return(n==r?" >> ":"    ")+n+"| "+e}).join("\n");throw e.path=u,e.message=(u||"ejs")+":"+r+"\n"+c+"\n\n"+e.message,e},escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __line=1,__lines="var p5Inst = new p5(null, 'sketch');\n\nwindow.preload = function () {\n  initMobileControls(p5Inst);\n\n  p5Inst._predefinedSpriteAnimations = {};\n  p5Inst._pauseSpriteAnimationsByDefault = <%- animationOpts.pauseAnimationsByDefault -%>;\n  var animationListJSON = <%- animationListJSON -%>;\n  var orderedKeys = animationListJSON.orderedKeys;\n  var allAnimationsSingleFrame = <%- animationOpts.allAnimationsSingleFrame -%>;\n  orderedKeys.forEach(function (key) {\n    var props = animationListJSON.propsByKey[key];\n    var frameCount = allAnimationsSingleFrame ? 1 : props.frameCount;\n    var image = loadImage(props.rootRelativePath, function () {\n      var spriteSheet = loadSpriteSheet(\n          image,\n          props.frameSize.x,\n          props.frameSize.y,\n          frameCount\n      );\n      p5Inst._predefinedSpriteAnimations[props.name] = loadAnimation(spriteSheet);\n      p5Inst._predefinedSpriteAnimations[props.name].looping = props.looping;\n      p5Inst._predefinedSpriteAnimations[props.name].frameDelay = props.frameDelay;\n    });\n  });\n\n  function wrappedExportedCode(stage) {\n    if (stage === 'preload') {\n      if (setup !== window.setup) {\n        window.setup = setup;\n      } else {\n        return;\n      }\n    }\n// -----\n\n<%- code -%>\n\n// -----\n    try { window.draw = draw; } catch (e) {}\n    switch (stage) {\n      case 'preload':\n        if (preload !== window.preload) { preload(); }\n        break;\n      case 'setup':\n        if (setup !== window.setup) { setup(); }\n        break;\n    }\n  }\n  window.wrappedExportedCode = wrappedExportedCode;\n  wrappedExportedCode('preload');\n};\n\nwindow.setup = function () {\n  window.wrappedExportedCode('setup');\n};\n",__filename="src/templates/export/gamelabCode.js.ejs";try{var __output=[],__append=__output.push.bind(__output);with(locals||{})__append("var p5Inst = new p5(null, 'sketch');\n\nwindow.preload = function () {\n  initMobileControls(p5Inst);\n\n  p5Inst._predefinedSpriteAnimations = {};\n  p5Inst._pauseSpriteAnimationsByDefault = "),__line=7,__append(animationOpts.pauseAnimationsByDefault),__append(";\n  var animationListJSON = "),__line=8,__append(animationListJSON),__append(";\n  var orderedKeys = animationListJSON.orderedKeys;\n  var allAnimationsSingleFrame = "),__line=10,__append(animationOpts.allAnimationsSingleFrame),__append(";\n  orderedKeys.forEach(function (key) {\n    var props = animationListJSON.propsByKey[key];\n    var frameCount = allAnimationsSingleFrame ? 1 : props.frameCount;\n    var image = loadImage(props.rootRelativePath, function () {\n      var spriteSheet = loadSpriteSheet(\n          image,\n          props.frameSize.x,\n          props.frameSize.y,\n          frameCount\n      );\n      p5Inst._predefinedSpriteAnimations[props.name] = loadAnimation(spriteSheet);\n      p5Inst._predefinedSpriteAnimations[props.name].looping = props.looping;\n      p5Inst._predefinedSpriteAnimations[props.name].frameDelay = props.frameDelay;\n    });\n  });\n\n  function wrappedExportedCode(stage) {\n    if (stage === 'preload') {\n      if (setup !== window.setup) {\n        window.setup = setup;\n      } else {\n        return;\n      }\n    }\n// -----\n\n"),__line=37,__append(code),__append("\n// -----\n    try { window.draw = draw; } catch (e) {}\n    switch (stage) {\n      case 'preload':\n        if (preload !== window.preload) { preload(); }\n        break;\n      case 'setup':\n        if (setup !== window.setup) { setup(); }\n        break;\n    }\n  }\n  window.wrappedExportedCode = wrappedExportedCode;\n  wrappedExportedCode('preload');\n};\n\nwindow.setup = function () {\n  window.wrappedExportedCode('setup');\n};\n"),__line=57;return __output.join("")}catch(e){rethrow(e,__lines,__filename,__line,escapeFn)}}},function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){rethrow=rethrow||function(e,t,n,r,i){var o=t.split("\n"),a=Math.max(r-3,0),s=Math.min(o.length,r+3),u=i(n),c=o.slice(a,s).map(function(e,t){var n=t+a+1;return(n==r?" >> ":"    ")+n+"| "+e}).join("\n");throw e.path=u,e.message=(u||"ejs")+":"+r+"\n"+c+"\n\n"+e.message,e},escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __line=1,__lines='<html>\n  <head>\n    <title><%- appName %></title>\n    <meta charset="utf-8" />\n    <% if (webExport) { -%>\n    <meta name="viewport" content="width=device-width, initial-scale=1">\n    <% } else { -%>\n    <meta name="viewport" content="width=<%- appWidth %>, minimal-ui, target-densityDpi=device-dpi, user-scalable=no">\n    <% } -%>\n    <script src="<%- jQueryPath %>"><\/script>\n    <% if (webpackRuntimePath) { -%>\n      <script src="<%- webpackRuntimePath %>"><\/script>\n    <% } -%>\n    <script src="<%- gamelabApiPath %>"><\/script>\n    <link href="<%- gamelabCssPath %>" rel="stylesheet" type="text/css">\n    <script src="<%- p5Path %>"><\/script>\n    <script src="<%- p5playPath %>"><\/script>\n    <script src="<%- codePath %>"><\/script>\n    <style>\n      body.expo {\n        background-color: black;\n      }\n      #sketch.expo.no-controls {\n        top: 82px;\n      }\n    </style>\n  </head>\n  <body class="<%- exportClass %>" style="margin:0; overflow:hidden; user-select:none; -webkit-user-select:none; -webkit-touch-callout:none; position:fixed; top:0; left:0; width:<%- appWidth %>px; height:<%- appHeight %>px;">\n    <div id="sketch" class="<%- exportClass %>" style="position:absolute;"></div>\n    <div id="soft-buttons" style="display: none">\n      <button id="leftButton" disabled className="arrow">\n      </button>\n      <button id="rightButton" disabled className="arrow">\n      </button>\n      <button id="upButton" disabled className="arrow">\n      </button>\n      <button id="downButton" disabled className="arrow">\n      </button>\n    </div>\n    <div id="studio-dpad-container" style="position:absolute; width:400px; bottom:5px; height:157px; overflow-y:hidden;">\n    </div>\n  </body>\n</html>\n',__filename="src/templates/export/gamelabIndex.html.ejs";try{var __output=[],__append=__output.push.bind(__output);with(locals||{})__append("<html>\n  <head>\n    <title>"),__line=3,__append(appName),__append('</title>\n    <meta charset="utf-8" />\n    '),__line=5,__line=webExport?(__append('    <meta name="viewport" content="width=device-width, initial-scale=1">\n    '),7):(__append('    <meta name="viewport" content="width='),__line=8,__append(appWidth),__append(', minimal-ui, target-densityDpi=device-dpi, user-scalable=no">\n    '),9),__append('    <script src="'),__line=10,__append(jQueryPath),__append('"><\/script>\n    '),__line=11,webpackRuntimePath&&(__append('      <script src="'),__line=12,__append(webpackRuntimePath),__append('"><\/script>\n    '),__line=13),__append('    <script src="'),__line=14,__append(gamelabApiPath),__append('"><\/script>\n    <link href="'),__line=15,__append(gamelabCssPath),__append('" rel="stylesheet" type="text/css">\n    <script src="'),__line=16,__append(p5Path),__append('"><\/script>\n    <script src="'),__line=17,__append(p5playPath),__append('"><\/script>\n    <script src="'),__line=18,__append(codePath),__append('"><\/script>\n    <style>\n      body.expo {\n        background-color: black;\n      }\n      #sketch.expo.no-controls {\n        top: 82px;\n      }\n    </style>\n  </head>\n  <body class="'),__line=28,__append(exportClass),__append('" style="margin:0; overflow:hidden; user-select:none; -webkit-user-select:none; -webkit-touch-callout:none; position:fixed; top:0; left:0; width:'),__append(appWidth),__append("px; height:"),__append(appHeight),__append('px;">\n    <div id="sketch" class="'),__line=29,__append(exportClass),__append('" style="position:absolute;"></div>\n    <div id="soft-buttons" style="display: none">\n      <button id="leftButton" disabled className="arrow">\n      </button>\n      <button id="rightButton" disabled className="arrow">\n      </button>\n      <button id="upButton" disabled className="arrow">\n      </button>\n      <button id="downButton" disabled className="arrow">\n      </button>\n    </div>\n    <div id="studio-dpad-container" style="position:absolute; width:400px; bottom:5px; height:157px; overflow-y:hidden;">\n    </div>\n  </body>\n</html>\n'),__line=44;return __output.join("")}catch(e){rethrow(e,__lines,__filename,__line,escapeFn)}}},,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=l();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}n.default=e,t&&t.set(e,n);return n}(n(1)),u=c(n(7)),i=c(n(16)),r=c(n(0)),o=c(n(15));function c(e){return e&&e.__esModule?e:{default:e}}function l(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return l=function(){return e},e}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d={resizer:{flex:"0 0 0",boxSizing:"border-box",opacity:.2,zIndex:1,backgroundColor:"#000",backgroundClip:"padding-box",userSelect:"text",width:31,margin:"0 -5px",borderLeft:"5px solid",borderRight:"5px solid",borderColor:"rgba(255, 255, 255, 0)",cursor:"col-resize",height:"100%",":hover":{transition:"all 2s ease",borderColor:"rgba(0, 0, 0, 0.5)"}}},h=function(r){function e(){for(var o,e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return f(p(o=r.call.apply(r,[this].concat(t))||this),"state",{dragging:!1,index:0}),f(p(o),"onResizerMouseDown",function(e){o.unFocus(),o.setState({dragging:!0,index:parseInt(e.target.dataset.resizerIndex,10)})}),f(p(o),"onMouseMove",function(e){if(o.state.dragging){o.unFocus();var t=o.refs["pane-".concat(o.state.index)];if(t){var n=u.default.findDOMNode(t);if(n.getBoundingClientRect){var r=n.getBoundingClientRect(),i=o.props.columnSizes.slice();i[o.state.index]=e.clientX-r.left,o.props.onChange(i)}}}}),f(p(o),"onMouseUp",function(){o.state.dragging&&o.setState({dragging:!1})}),f(p(o),"unFocus",function(){document.selection?document.selection.empty():window.getSelection().removeAllRanges()}),f(p(o),"isColumnLocked",function(e){return!!o.props.lockedColumns&&0<=o.props.lockedColumns.indexOf(e)}),o}!function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(e,r);var t=e.prototype;return t.componentDidMount=function(){document.addEventListener("mousemove",this.onMouseMove),document.addEventListener("mouseup",this.onMouseUp)},t.componentWillUnmount=function(){document.removeEventListener("mousemove",this.onMouseMove),document.removeEventListener("mouseup",this.onMouseUp)},t.getClonedChild=function(e,t){var n=this.props.columnSizes[t],r=i.default.assign({flex:"1"},e.props.style,void 0!==n?{flex:"0 0 ".concat(n,"px")}:void 0);return s.default.cloneElement(e,{ref:"pane-".concat(t),key:"pane-".concat(t),style:r})},t.getResizer=function(e){return s.default.createElement("div",{key:"resizer-".concat(e),"data-resizer-index":e,style:d.resizer,onMouseDown:this.onResizerMouseDown})},t.getChildren=function(){var r=this,i=s.default.Children.count(this.props.children),o=[];return s.default.Children.forEach(this.props.children,function(e,t){if(e){o.push(r.getClonedChild(e,t));var n=r.isColumnLocked(t);t===i-1||n||o.push(r.getResizer(t))}},this),o},t.render=function(){var e={root:i.default.assign({display:"flex",flexDirection:"row",flexWrap:"nowrap"},this.props.style)};return s.default.createElement("div",{className:"resizable-panes",style:e.root},this.getChildren())},e}(s.Component);f(h,"propTypes",{style:r.default.object,columnSizes:r.default.arrayOf(r.default.number).isRequired,onChange:r.default.func.isRequired,children:r.default.node,lockedColumns:r.default.arrayOf(r.default.number)});var v=(0,o.default)(h);t.default=v,e.exports=t.default},,function(e,t,n){(function(e){!function(e){function o(){this.iframe_=null,this.callbacks_={},this.boundReceiveMessage_=this.receiveMessage_.bind(this)}o.prototype.attachToPiskel=function(e){this.iframe_=e,window.addEventListener("message",this.boundReceiveMessage_)},o.prototype.detachFromPiskel=function(){window.removeEventListener("message",this.boundReceiveMessage_),this.iframe_=null},o.MessageType={PISKEL_API_READY:"PISKEL_API_READY",NEW_PISKEL:"NEW_PISKEL",LOAD_SPRITESHEET:"LOAD_SPRITESHEET",ANIMATION_LOADED:"ANIMATION_LOADED",STATE_SAVED:"STATE_SAVED",TOGGLE_FRAME_COLUMN:"TOGGLE_FRAME_COLUMN",ADD_NEW_FRAME_CLICKED:"ADD_NEW_FRAME_CLICKED",APPEND_FRAMES:"APPEND_FRAMES",FRAMES_LOADED:"FRAMES_LOADED",USE_RESTRICTED:"USE_RESTRICTED"},o.prototype.createNewPiskel=function(e,t,n,r){r="function"==typeof r?r:Constants.EMPTY_FUNCTION,this.callBackOnce_(o.MessageType.ANIMATION_LOADED,r),this.sendMessage_({type:o.MessageType.NEW_PISKEL,frameSizeX:e,frameSizeY:t,frameRate:n})},o.prototype.loadSpritesheet=function(e,t,n,r,i){i="function"==typeof i?i:Constants.EMPTY_FUNCTION,this.callBackOnce_(o.MessageType.ANIMATION_LOADED,i),this.sendMessage_({type:o.MessageType.LOAD_SPRITESHEET,uri:e,frameSizeX:t,frameSizeY:n,frameRate:r})},o.prototype.appendFrames=function(e,t,n,r){r="function"==typeof r?r:Constants.EMPTY_FUNCTION,this.callBackOnce_(o.MessageType.FRAMES_LOADED,r),this.sendMessage_({type:o.MessageType.APPEND_FRAMES,uri:e,frameSizeX:t,frameSizeY:n})},o.prototype.addBlankFrame=function(){this.sendMessage_({type:o.MessageType.ADD_BLANK_FRAME})},o.prototype.restrictTools=function(){this.sendMessage_({type:o.MessageType.USE_RESTRICTED})},o.prototype.toggleFrameColumn=function(e){this.sendMessage_({type:o.MessageType.TOGGLE_FRAME_COLUMN,hideFrameColumn:e})},o.prototype.onPiskelReady=function(e){this.addCallback_(o.MessageType.PISKEL_API_READY,e)},o.prototype.onStateSaved=function(e){this.addCallback_(o.MessageType.STATE_SAVED,e)},o.prototype.onAddFrame=function(e){this.addCallback_(o.MessageType.ADD_NEW_FRAME_CLICKED,e)},o.prototype.sendMessage_=function(e){if(!this.iframe_)throw new Error("Unable to communicate with Piskel; call attachToPiskel first.");this.iframe_.contentWindow.postMessage(e,window.location.origin)},o.prototype.receiveMessage_=function(e){if((e.origin||e.originalEvent.origin)===window.location.origin){var t=e.data;void 0!==t.type&&this.getCallbacksForType_(t.type).forEach(function(e){e.call(void 0,t)})}},o.prototype.addCallback_=function(e,t){this.getCallbacksForType_(e).push(t)},o.prototype.removeCallback_=function(e,t){var n=this.getCallbacksForType_(e),r=n.indexOf(t);0<=r&&n.splice(r,1)},o.prototype.callBackOnce_=function(e,t){var n=function(){this.removeCallback_(e,n),t()}.bind(this);this.addCallback_(e,n)},o.prototype.getCallbacksForType_=function(e){return void 0===this.callbacks_[e]&&(this.callbacks_[e]=[]),this.callbacks_[e]},e.exports=o}(e)}).call(this,n(89)(e))},,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.__test__=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),o=s(n(1)),a=s(n(0));function s(e){return e&&e.__esModule?e:{default:e}}var u={onPointerMove:"pointermove",onPointerDown:"pointerdown",onPointerUp:"pointerup",onPointerOver:"pointerover",onPointerOut:"pointerout",onPointerEnter:"pointerenter",onPointerLeave:"pointerleave",onPointerCancel:"pointercancel"},c=Object.keys(u),l=function(e){function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.setRef=t.setRef.bind(t),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,o.default.Component),i(n,[{key:"componentDidMount",value:function(){p(this.pointableNode,this.props)}},{key:"componentDidUpdate",value:function(e){f(this.pointableNode,e,this.props)}},{key:"setRef",value:function(e){this.pointableNode=e,this.props.elementRef&&this.props.elementRef(e)}},{key:"render",value:function(){var t=r({},this.props);c.forEach(function(e){return delete t[e]}),delete t.children,delete t.tagName,delete t.touchAction,delete t.elementRef;var e=this.props.tagName;return o.default.createElement(e,r({ref:this.setRef},t),this.props.children)}}]),n}();l.propTypes={tagName:a.default.string.isRequired,touchAction:a.default.oneOf(["auto","none","pan-x","pan-y","manipulation"]).isRequired,elementRef:a.default.func,onPointerMove:a.default.func,onPointerDown:a.default.func,onPointerUp:a.default.func,onPointerOver:a.default.func,onPointerOut:a.default.func,onPointerEnter:a.default.func,onPointerLeave:a.default.func,onPointerCancel:a.default.func},l.defaultProps={tagName:"div",touchAction:"auto"},t.default=l;var p=function(n,r){var i=!1;c.forEach(function(e){var t=r[e];t&&(i=!0,n.addEventListener(u[e],t))}),i&&n.setAttribute("touch-action",r.touchAction)},f=function(r,i,o){var a=!1;c.forEach(function(e){var t=i[e],n=o[e];n&&(a=!0),t!==n&&(t||n)&&(t&&r.removeEventListener(u[e],t),n&&r.addEventListener(u[e],n))}),a?r.setAttribute("touch-action",o.touchAction):r.removeAttribute("touch-action")};t.__test__={initNodeWithPE:p,updateNodeWithPE:f}},,,function(e,t,n){"use strict";var r=s(n(2571)),i=s(n(2572)),o=s(n(1669)),a=s(n(1667));function s(e){return e&&e.__esModule?e:{default:e}}e.exports={Transition:a.default,TransitionGroup:o.default,ReplaceTransition:i.default,CSSTransition:r.default}},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){{if(e&&e.__esModule)return;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}}(n(0));var r=s(n(344)),i=s(n(345)),o=s(n(1)),a=s(n(1667));n(1668);function s(e){return e&&e.__esModule?e:{default:e}}function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var c=function(t,e){return t&&e&&e.split(" ").forEach(function(e){return(0,r.default)(t,e)})},l=function(t,e){return t&&e&&e.split(" ").forEach(function(e){return(0,i.default)(t,e)})},p=function(r){function e(){for(var o,e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(o=r.call.apply(r,[this].concat(t))||this).onEnter=function(e,t){var n=o.getClassNames(t?"appear":"enter").className;o.removeClasses(e,"exit"),c(e,n),o.props.onEnter&&o.props.onEnter(e,t)},o.onEntering=function(e,t){var n=o.getClassNames(t?"appear":"enter").activeClassName;o.reflowAndAddClass(e,n),o.props.onEntering&&o.props.onEntering(e,t)},o.onEntered=function(e,t){var n=o.getClassNames("appear").doneClassName,r=o.getClassNames("enter").doneClassName,i=t?n+" "+r:r;o.removeClasses(e,t?"appear":"enter"),c(e,i),o.props.onEntered&&o.props.onEntered(e,t)},o.onExit=function(e){var t=o.getClassNames("exit").className;o.removeClasses(e,"appear"),o.removeClasses(e,"enter"),c(e,t),o.props.onExit&&o.props.onExit(e)},o.onExiting=function(e){var t=o.getClassNames("exit").activeClassName;o.reflowAndAddClass(e,t),o.props.onExiting&&o.props.onExiting(e)},o.onExited=function(e){var t=o.getClassNames("exit").doneClassName;o.removeClasses(e,"exit"),c(e,t),o.props.onExited&&o.props.onExited(e)},o.getClassNames=function(e){var t=o.props.classNames,n="string"==typeof t,r=n?(n&&t?t+"-":"")+e:t[e];return{className:r,activeClassName:n?r+"-active":t[e+"Active"],doneClassName:n?r+"-done":t[e+"Done"]}},o}!function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(e,r);var t=e.prototype;return t.removeClasses=function(e,t){var n=this.getClassNames(t),r=n.className,i=n.activeClassName,o=n.doneClassName;r&&l(e,r),i&&l(e,i),o&&l(e,o)},t.reflowAndAddClass=function(e,t){t&&(e&&e.scrollTop,c(e,t))},t.render=function(){var e=u({},this.props);return delete e.classNames,o.default.createElement(a.default,u({},e,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},e}(o.default.Component);p.defaultProps={classNames:""},p.propTypes={};var f=p;t.default=f,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;r(n(0));var s=r(n(1)),a=n(7),u=r(n(1669));function r(e){return e&&e.__esModule?e:{default:e}}var i=function(i){function e(){for(var r,e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(r=i.call.apply(i,[this].concat(t))||this).handleEnter=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.handleLifecycle("onEnter",0,t)},r.handleEntering=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.handleLifecycle("onEntering",0,t)},r.handleEntered=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.handleLifecycle("onEntered",0,t)},r.handleExit=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.handleLifecycle("onExit",1,t)},r.handleExiting=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.handleLifecycle("onExiting",1,t)},r.handleExited=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.handleLifecycle("onExited",1,t)},r}!function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(e,i);var t=e.prototype;return t.handleLifecycle=function(e,t,n){var r,i=this.props.children,o=s.default.Children.toArray(i)[t];o.props[e]&&(r=o.props)[e].apply(r,n),this.props[e]&&this.props[e]((0,a.findDOMNode)(this))},t.render=function(){var e=this.props,t=e.children,n=e.in,r=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],0<=t.indexOf(n)||(i[n]=e[n]);return i}(e,["children","in"]),i=s.default.Children.toArray(t),o=i[0],a=i[1];return delete r.onEnter,delete r.onEntering,delete r.onEntered,delete r.onExit,delete r.onExiting,delete r.onExited,s.default.createElement(u.default,r,n?s.default.cloneElement(o,{key:"first",onEnter:this.handleEnter,onEntering:this.handleEntering,onEntered:this.handleEntered}):s.default.cloneElement(a,{key:"second",onEnter:this.handleExit,onEntering:this.handleExiting,onEntered:this.handleExited}))},e}(s.default.Component);i.propTypes={};var o=i;t.default=o,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.getChildMapping=r,t.mergeChildMappings=i,t.getInitialChildMapping=function(t,n){return r(t.children,function(e){return(0,p.cloneElement)(e,{onExited:n.bind(null,e),in:!0,appear:f(e,"appear",t),enter:f(e,"enter",t),exit:f(e,"exit",t)})})},t.getNextChildMapping=function(a,s,u){var c=r(a.children),l=i(s,c);return Object.keys(l).forEach(function(e){var t=l[e];if((0,p.isValidElement)(t)){var n=e in s,r=e in c,i=s[e],o=(0,p.isValidElement)(i)&&!i.props.in;!r||n&&!o?r||!n||o?r&&n&&(0,p.isValidElement)(i)&&(l[e]=(0,p.cloneElement)(t,{onExited:u.bind(null,t),in:i.props.in,exit:f(t,"exit",a),enter:f(t,"enter",a)})):l[e]=(0,p.cloneElement)(t,{in:!1}):l[e]=(0,p.cloneElement)(t,{onExited:u.bind(null,t),in:!0,exit:f(t,"exit",a),enter:f(t,"enter",a)})}}),l};var p=n(1);function r(e,t){var n=Object.create(null);return e&&p.Children.map(e,function(e){return e}).forEach(function(e){n[e.key]=function(e){return t&&(0,p.isValidElement)(e)?t(e):e}(e)}),n}function i(t,n){function e(e){return e in n?n[e]:t[e]}t=t||{},n=n||{};var r,i=Object.create(null),o=[];for(var a in t)a in n?o.length&&(i[a]=o,o=[]):o.push(a);var s={};for(var u in n){if(i[u])for(r=0;r<i[u].length;r++){var c=i[u][r];s[i[u][r]]=e(c)}s[u]=e(u)}for(r=0;r<o.length;r++)s[o[r]]=e(o[r]);return s}function f(e,t,n){return null!=n[t]?n[t]:e.props[t]}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){var i=n(12),r=n(16);function o(e){0}var a=function(e,t,n,r){this.audioPlayer_=e,this.assetUrl_=t,this.trackList_=function(e,n){return(e=i.valueOr(e,[])).map(function(e){var t=[];return t.push(n(e.name+".mp3")),e.hasOgg&&t.push(n(e.name+".ogg")),{name:e.name,assetUrls:t,volume:i.valueOr(e.volume,1),sound:null,isLoaded:!1,group:e.group}})}(n,t),this.nowPlaying_=null,this.playOnLoad_=null,this.loopRandomWithDelay_=r,this.wasPlayingWhenVideoShown_=!1,this.betweenTrackTimeout_=null,document.addEventListener("videoShown",function(){o(),(this.nowPlaying_||this.betweenTrackTimeout_)&&(this.wasPlayingWhenVideoShown_=!0,this.betweenTrackTimeout_&&(window.clearTimeout(this.betweenTrackTimeout_),this.betweenTrackTimeout_=null),this.fadeOut())}.bind(this)),document.addEventListener("videoHidden",function(){this.wasPlayingWhenVideoShown_&&this.loopRandomWithDelay_&&!this.nowPlaying_&&this.play(),this.wasPlayingWhenVideoShown_=!1}.bind(this)),o()};(e.exports=a).prototype.preload=function(){this.audioPlayer_&&this.trackList_.forEach(function(e){e.sound=this.audioPlayer_.registerByFilenamesAndID(e.assetUrls,e.name),e.sound.onLoad=function(){o(e.name),e.isLoaded=!0,this.playOnLoad_===e.name&&this.play(e.name)}.bind(this)},this)},a.prototype.play=function(e){var t;if((o(),this.audioPlayer_)&&(t=e?this.getTrackByName_(e):this.getRandomTrack_()))if(t.sound&&t.isLoaded){o();var n=this.whenMusicStopped_.bind(this,t.name);t.sound.play({volume:t.volume,onEnded:n}),this.nowPlaying_=t.name}else o(),this.playOnLoad_=t.name},a.prototype.setGroup=function(e){this.currentGroup_=e},a.prototype.stop=function(){if(this.nowPlaying_){var e=this.audioPlayer_.get(this.nowPlaying_);e&&e.stop()}},a.prototype.fadeOut=function(e){if(this.nowPlaying_){e=i.valueOr(e,3);var t=this.audioPlayer_.get(this.nowPlaying_);t&&t.fadeToGain(0,e),window.setTimeout(function(){this.stop()}.bind(this),1e3*e+100)}},a.prototype.whenMusicStopped_=function(e){this.nowPlaying_===e&&(this.nowPlaying_=null),this.loopRandomWithDelay_&&!this.wasPlayingWhenVideoShown_&&(this.betweenTrackTimeout_=window.setTimeout(function(){this.betweenTrackTimeout_=null,this.nowPlaying_||this.wasPlayingWhenVideoShown_||this.play()}.bind(this),this.loopRandomWithDelay_))},a.prototype.getTrackByName_=function(t){return r.find(this.trackList_,function(e){return e.name===t})},a.prototype.getRandomTrack_=function(){var t=this,e=this.trackList_.filter(function(e){return!t.currentGroup_||e.group===t.currentGroup_});return e[Math.floor(Math.random()*e.length)]}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getRandomDonorTwitter=void 0;t.getRandomDonorTwitter=function(){var e=["@microsoft","@facebook"];return e[Math.floor(Math.random()*e.length)]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.UnconnectedSwipePrompt=t.SwipePrompt=void 0;var s=c(n(1)),r=c(n(0)),i=n(9),o=c(n(205)),a=n(553),u=c(n(94));function c(e){return e&&e.__esModule?e:{default:e}}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p={overlay:{position:"absolute",zIndex:1,opacity:"90%"},minecraft:{top:"62px",left:"17px"}},f="hide_swipe_overlay",d=function(n){function e(e){var t;return(t=n.call(this,e)||this).swipeOverlayOverrideSet()&&o.default.remove(f,{path:"/"}),t}!function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(e,n);var t=e.prototype;return t.componentDidUpdate=function(e){var t=this.props,n=t.hasBeenDismissed,r=t.dismissAction;!n||e.hasBeenDismissed||this.hideOverlayCookieSet()||(o.default.set(f,"true",{expires:30,path:"/"}),(0,u.default)("Research","HideSwipeOverlay","hide-"+r))},t.swipeOverlayOverrideSet=function(){return-1!==window.location.search.indexOf("force_show_swipe_overlay")},t.touchSupported=function(){return"ontouchstart"in window||navigator.maxTouchPoints||this.swipeOverlayOverrideSet()},t.hideOverlayCookieSet=function(){return o.default.get(f)&&!this.swipeOverlayOverrideSet()},t.render=function(){var e=this.props,t=e.onDismiss,n=e.buttonsAreVisible,r=e.buttonsAreDisabled,i=e.hasBeenDismissed,o=e.useMinecraftStyling;if(this.hideOverlayCookieSet()||i||!this.touchSupported()||!n||r)return null;var a=o?function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(Object(n));"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(e){l(t,e,n[e])})}return t}({},p.overlay,p.minecraft):p.overlay;return s.default.createElement("svg",{onTouchStart:function(){return t("onOverlayTouch")},onClick:function(){return t("onOverlayClick")},style:a,height:400,width:400},s.default.createElement("image",{height:400,width:400,xlinkHref:"/blockly/media/common_images/swipe-directions.png"}),s.default.createElement("image",{height:100,width:100,x:160,y:190,xlinkHref:"/blockly/media/common_images/touch-icon.png"}))},e}(s.default.Component);l(t.SwipePrompt=d,"propTypes",{useMinecraftStyling:r.default.bool,buttonsAreVisible:r.default.bool.isRequired,buttonsAreDisabled:r.default.bool.isRequired,hasBeenDismissed:r.default.bool.isRequired,onDismiss:r.default.func.isRequired,dismissAction:r.default.string.isRequired});var h=d;t.UnconnectedSwipePrompt=h;var v=(0,i.connect)(function(e){return{buttonsAreVisible:e.arrowDisplay.buttonsAreVisible,buttonsAreDisabled:e.arrowDisplay.buttonsAreDisabled,hasBeenDismissed:e.arrowDisplay.swipeOverlayHasBeenDismissed,dismissAction:e.arrowDisplay.swipeOverlayDismissAction}},function(t){return{onDismiss:function(e){t((0,a.dismissSwipeOverlay)(e))}}})(d);t.default=v},,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.elementsEquivalent=a;var s=t(620),r=t(5),u=t(16);function o(n){return{test:function(e){var t=Blockly.Xml.blockToDom(e,!0);return a(n,t)},blockDisplayXML:s.serialize(n)}}function a(e,t){return e instanceof Element&&t instanceof Element?e.tagName.toLowerCase()===t.tagName.toLowerCase()&&(!!function(e,t){var n=u.reject(e.attributes,l),r=u.reject(t.attributes,l);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++){var o=n[i],a=r[i];if(o.name!==a.name)return!1;if(c.includes(o.name)){if("???"!==o.value&&o.value!==a.value)return!1}else if(o.value!==a.value)return!1}return!0}(e,t)&&!!function(e,t){var n=e.childNodes,r=t.childNodes;if("???"===e.getAttribute("inputcount"))return!0;if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!a(n[i],r[i]))return!1;return!0}(e,t)):e instanceof Text&&"???"===e.textContent||e.isEqualNode(t)}i.makeMathNumber=function(e){return'<block type="math_number"><title name="NUM">'+e+"</title></block>"},i.simpleBlock=function(t){return{test:function(e){return e.type===t},type:t}},i.repeat=function(e){return{test:function(e){return"controls_repeat"===e.type},type:"controls_repeat",titles:{TIMES:e}}},i.repeatSimpleBlock=function(e){return{test:function(e){return"controls_repeat_simplified"===e.type},type:"controls_repeat_simplified",titles:{TIMES:e}}},i.makeTestsFromBuilderRequiredBlocks=function(e){var t=s.parseElement(e),n=[];return Array.prototype.forEach.call(t.childNodes,function(e){if(1===e.nodeType)switch(e.getAttribute("type")){case"pick_one":n.push(function(e){var t,n=[],r=e.getElementsByTagName("statement")[0].getElementsByTagName("block")[0];for(;(t=r.getElementsByTagName("next")[0])&&r.removeChild(t),n.push(o(r)),t&&(r=t.getElementsByTagName("block")[0]),t;);return n}(e));break;case"procedures_defnoreturn":case"procedures_defreturn":n.push(function(t){var n=t.querySelectorAll("mutation > arg").length,e=t.cloneNode(!0);return e.removeChild(e.lastChild),[{test:function(e){return e.type===t.getAttribute("type")&&n===e.parameterNames_.length},message:r.errorRequiredParamsMissing(),blockDisplayXML:"<xml></xml>"}]}(e));break;case"functional_definition":break;case"functional_call":n.push(function(e,t){for(var n=e.querySelector("mutation").getAttribute("name"),r=e.querySelectorAll("arg"),i=[],o=0;o<r.length;o++)i.push(r[o].getAttribute("type"));var a=u.find(t.childNodes,function(e){if("functional_definition"!==e.getAttribute("type"))return!1;var t=e.querySelector('title[name="NAME"]');return!!t&&t.textContent===n});if(a)return[{test:function(e){if("functional_call"!==e.type||e.getCallName()!==n)return!1;var t=e.getParamTypes();return u.isEqual(t,i)},blockDisplayXML:s.serialize(a)+s.serialize(e)}];throw new Error("No matching definition for functional_call")}(e,t));break;default:n.push([o(e)])}}),n};var n=["deletable","movable","editable","inline","uservisible","usercreated","id"],c=["inputcount"],l=function(e){return n.includes(e.name)};i.blocksMatch=function(e,t){var n=e.type===t.type,r=i.blockTitlesMatch(e,t);return n&&r},i.blockTitlesMatch=function(e,t){var n=e.getTitles(),r=t.getTitles(),i=function(e,t){return e.name<t.name};n.sort(i),r.sort(i);for(var o=0;o<n.length||o<r.length;o++){var a=n[o],s=r[o];if(!a||!s||!p(a,s))return!1}return!0};var p=function(e,t){return t.name===e.name&&t.getValue()===e.getValue()}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r=p(n(601)),i=p(n(1647)),o=p(n(1755)),a=p(n(1834)),s=p(n(447)),u=p(n(855)),c=p(n(551)),l=p(n(1265));function p(e){return e&&e.__esModule?e:{default:e}}e.exports={runState:r.default,layout:i.default,authoredHints:o.default,pageConstants:a.default,instructions:s.default,instructionsDialog:u.default,watchedExpressions:c.default,feedback:l.default}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(n,r,o){var a,s,u;!function(e,t){"use strict";s=[o(298),o(3596)],void 0===(u="function"==typeof(a=t)?a.apply(r,s):a)||(n.exports=u),e.canvg=t(e.RGBColor,e.stackBlur)}("undefined"!=typeof window?window:this,function(p,f){var d,h=function(e,t,n){if(null!=e||null!=t||null!=n){"string"==typeof e&&(e=document.getElementById(e)),null!=e.svg&&e.svg.stop();var r=function(e){var I={opts:e,FRAMERATE:30,MAX_VIRTUAL_PIXELS:3e4,log:function(e){}};1==I.opts.log&&"undefined"!=typeof console&&(I.log=function(e){console.log(e)});I.init=function(e){var t=0;I.UniqueId=function(){return"canvg"+ ++t},I.Definitions={},I.Styles={},I.StylesSpecificity={},I.Animations=[],I.Images=[],I.ctx=e,I.ViewPort=new function(){this.viewPorts=[],this.Clear=function(){this.viewPorts=[]},this.SetCurrent=function(e,t){this.viewPorts.push({width:e,height:t})},this.RemoveCurrent=function(){this.viewPorts.pop()},this.Current=function(){return this.viewPorts[this.viewPorts.length-1]},this.width=function(){return this.Current().width},this.height=function(){return this.Current().height},this.ComputeSize=function(e){return null!=e&&"number"==typeof e?e:"x"==e?this.width():"y"==e?this.height():Math.sqrt(Math.pow(this.width(),2)+Math.pow(this.height(),2))/Math.sqrt(2)}}},I.init(),I.ImagesLoaded=function(){for(var e=0;e<I.Images.length;e++)if(!I.Images[e].loaded)return!1;return!0},I.trim=function(e){return e.replace(/^\s+|\s+$/g,"")},I.compressSpaces=function(e){return e.replace(/[\s\r\t\n]+/gm," ")},I.ajax=function(e){var t;return(t=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"))?(t.open("GET",e,!1),t.send(null),t.responseText):null},I.parseXml=function(e){if("undefined"!=typeof Windows&&void 0!==Windows.Data&&void 0!==Windows.Data.Xml){var t=new Windows.Data.Xml.Dom.XmlDocument,n=new Windows.Data.Xml.Dom.XmlLoadSettings;return n.prohibitDtd=!1,t.loadXml(e,n),t}if(window.DOMParser){var r=new DOMParser;return r.parseFromString(e,"text/xml")}e=e.replace(/<!DOCTYPE svg[^>]*>/,"");var t=new ActiveXObject("Microsoft.XMLDOM");return t.async="false",t.loadXML(e),t},I.Property=function(e,t){this.name=e,this.value=t},I.Property.prototype.getValue=function(){return this.value},I.Property.prototype.hasValue=function(){return null!=this.value&&""!==this.value},I.Property.prototype.numValue=function(){if(!this.hasValue())return 0;var e=parseFloat(this.value);return(this.value+"").match(/%$/)&&(e/=100),e},I.Property.prototype.valueOrDefault=function(e){return this.hasValue()?this.value:e},I.Property.prototype.numValueOrDefault=function(e){return this.hasValue()?this.numValue():e},I.Property.prototype.addOpacity=function(e){var t=this.value;if(null!=e.value&&""!=e.value&&"string"==typeof this.value){var n=new p(this.value);n.ok&&(t="rgba("+n.r+", "+n.g+", "+n.b+", "+e.numValue()+")")}return new I.Property(this.name,t)},I.Property.prototype.getDefinition=function(){var e=this.value.match(/#([^\)'"]+)/);return e&&(e=e[1]),e||(e=this.value),I.Definitions[e]},I.Property.prototype.isUrlDefinition=function(){return 0==this.value.indexOf("url(")},I.Property.prototype.getFillStyleDefinition=function(e,t){var n=this.getDefinition();if(null!=n&&n.createGradient)return n.createGradient(I.ctx,e,t);if(null!=n&&n.createPattern){if(n.getHrefAttribute().hasValue()){var r=n.attribute("patternTransform");n=n.getHrefAttribute().getDefinition(),r.hasValue()&&(n.attribute("patternTransform",!0).value=r.value)}return n.createPattern(I.ctx,e)}return null},I.Property.prototype.getDPI=function(e){return 96},I.Property.prototype.getEM=function(e){var t=12,n=new I.Property("fontSize",I.Font.Parse(I.ctx.font).fontSize);return n.hasValue()&&(t=n.toPixels(e)),t},I.Property.prototype.getUnits=function(){var e=this.value+"";return e.replace(/[0-9\.\-]/g,"")},I.Property.prototype.toPixels=function(e,t){if(!this.hasValue())return 0;var n=this.value+"";if(n.match(/em$/))return this.numValue()*this.getEM(e);if(n.match(/ex$/))return this.numValue()*this.getEM(e)/2;if(n.match(/px$/))return this.numValue();if(n.match(/pt$/))return this.numValue()*this.getDPI(e)*(1/72);if(n.match(/pc$/))return 15*this.numValue();if(n.match(/cm$/))return this.numValue()*this.getDPI(e)/2.54;if(n.match(/mm$/))return this.numValue()*this.getDPI(e)/25.4;if(n.match(/in$/))return this.numValue()*this.getDPI(e);if(n.match(/%$/))return this.numValue()*I.ViewPort.ComputeSize(e);var r=this.numValue();return t&&r<1?r*I.ViewPort.ComputeSize(e):r},I.Property.prototype.toMilliseconds=function(){if(!this.hasValue())return 0;var e=this.value+"";return e.match(/s$/)?1e3*this.numValue():(e.match(/ms$/),this.numValue())},I.Property.prototype.toRadians=function(){if(!this.hasValue())return 0;var e=this.value+"";return e.match(/deg$/)?this.numValue()*(Math.PI/180):e.match(/grad$/)?this.numValue()*(Math.PI/200):e.match(/rad$/)?this.numValue():this.numValue()*(Math.PI/180)};var t={baseline:"alphabetic","before-edge":"top","text-before-edge":"top",middle:"middle",central:"middle","after-edge":"bottom","text-after-edge":"bottom",ideographic:"ideographic",alphabetic:"alphabetic",hanging:"hanging",mathematical:"alphabetic"};return I.Property.prototype.toTextBaseline=function(){return this.hasValue()?t[this.value]:null},I.Font=new function(){this.Styles="normal|italic|oblique|inherit",this.Variants="normal|small-caps|inherit",this.Weights="normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900|inherit",this.CreateFont=function(e,t,n,r,i,o){var a=null!=o?this.Parse(o):this.CreateFont("","","","","",I.ctx.font);return{fontFamily:i||a.fontFamily,fontSize:r||a.fontSize,fontStyle:e||a.fontStyle,fontWeight:n||a.fontWeight,fontVariant:t||a.fontVariant,toString:function(){return[this.fontStyle,this.fontVariant,this.fontWeight,this.fontSize,this.fontFamily].join(" ")}}};var a=this;this.Parse=function(e){for(var t={},n=I.trim(I.compressSpaces(e||"")).split(" "),r={fontSize:!1,fontStyle:!1,fontWeight:!1,fontVariant:!1},i="",o=0;o<n.length;o++)r.fontStyle||-1==a.Styles.indexOf(n[o])?r.fontVariant||-1==a.Variants.indexOf(n[o])?r.fontWeight||-1==a.Weights.indexOf(n[o])?r.fontSize?"inherit"!=n[o]&&(i+=n[o]):("inherit"!=n[o]&&(t.fontSize=n[o].split("/")[0]),r.fontStyle=r.fontVariant=r.fontWeight=r.fontSize=!0):("inherit"!=n[o]&&(t.fontWeight=n[o]),r.fontStyle=r.fontVariant=r.fontWeight=!0):("inherit"!=n[o]&&(t.fontVariant=n[o]),r.fontStyle=r.fontVariant=!0):("inherit"!=n[o]&&(t.fontStyle=n[o]),r.fontStyle=!0);return""!=i&&(t.fontFamily=i),t}},I.ToNumberArray=function(e){for(var t=I.trim(I.compressSpaces((e||"").replace(/,/g," "))).split(" "),n=0;n<t.length;n++)t[n]=parseFloat(t[n]);return t},I.Point=function(e,t){this.x=e,this.y=t},I.Point.prototype.angleTo=function(e){return Math.atan2(e.y-this.y,e.x-this.x)},I.Point.prototype.applyTransform=function(e){var t=this.x*e[0]+this.y*e[2]+e[4],n=this.x*e[1]+this.y*e[3]+e[5];this.x=t,this.y=n},I.CreatePoint=function(e){var t=I.ToNumberArray(e);return new I.Point(t[0],t[1])},I.CreatePath=function(e){for(var t=I.ToNumberArray(e),n=[],r=0;r<t.length;r+=2)n.push(new I.Point(t[r],t[r+1]));return n},I.BoundingBox=function(e,t,n,r){this.x1=Number.NaN,this.y1=Number.NaN,this.x2=Number.NaN,this.y2=Number.NaN,this.x=function(){return this.x1},this.y=function(){return this.y1},this.width=function(){return this.x2-this.x1},this.height=function(){return this.y2-this.y1},this.addPoint=function(e,t){null!=e&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=e,this.x2=e),e<this.x1&&(this.x1=e),e>this.x2&&(this.x2=e)),null!=t&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=t,this.y2=t),t<this.y1&&(this.y1=t),t>this.y2&&(this.y2=t))},this.addX=function(e){this.addPoint(e,null)},this.addY=function(e){this.addPoint(null,e)},this.addBoundingBox=function(e){this.addPoint(e.x1,e.y1),this.addPoint(e.x2,e.y2)},this.addQuadraticCurve=function(e,t,n,r,i,o){var a=e+2/3*(n-e),s=t+2/3*(r-t),u=a+1/3*(i-e),c=s+1/3*(o-t);this.addBezierCurve(e,t,a,u,s,c,i,o)},this.addBezierCurve=function(e,t,n,r,o,a,s,u){var c=[e,t],l=[n,r],p=[o,a],f=[s,u];for(this.addPoint(c[0],c[1]),this.addPoint(f[0],f[1]),i=0;i<=1;i++){var d=function(e){return Math.pow(1-e,3)*c[i]+3*Math.pow(1-e,2)*e*l[i]+3*(1-e)*Math.pow(e,2)*p[i]+Math.pow(e,3)*f[i]},h=6*c[i]-12*l[i]+6*p[i],v=-3*c[i]+9*l[i]-9*p[i]+3*f[i],g=3*l[i]-3*c[i];if(0!=v){var m=Math.pow(h,2)-4*g*v;if(!(m<0)){var y=(-h+Math.sqrt(m))/(2*v);0<y&&y<1&&(0==i&&this.addX(d(y)),1==i&&this.addY(d(y)));var b=(-h-Math.sqrt(m))/(2*v);0<b&&b<1&&(0==i&&this.addX(d(b)),1==i&&this.addY(d(b)))}}else{if(0==h)continue;var w=-g/h;0<w&&w<1&&(0==i&&this.addX(d(w)),1==i&&this.addY(d(w)))}}},this.isPointInBox=function(e,t){return this.x1<=e&&e<=this.x2&&this.y1<=t&&t<=this.y2},this.addPoint(e,t),this.addPoint(n,r)},I.Transform=function(e){var t=this;this.Type={},this.Type.translate=function(e){this.p=I.CreatePoint(e),this.apply=function(e){e.translate(this.p.x||0,this.p.y||0)},this.unapply=function(e){e.translate(-1*this.p.x||0,-1*this.p.y||0)},this.applyToPoint=function(e){e.applyTransform([1,0,0,1,this.p.x||0,this.p.y||0])}},this.Type.rotate=function(e){var t=I.ToNumberArray(e);this.angle=new I.Property("angle",t[0]),this.cx=t[1]||0,this.cy=t[2]||0,this.apply=function(e){e.translate(this.cx,this.cy),e.rotate(this.angle.toRadians()),e.translate(-this.cx,-this.cy)},this.unapply=function(e){e.translate(this.cx,this.cy),e.rotate(-1*this.angle.toRadians()),e.translate(-this.cx,-this.cy)},this.applyToPoint=function(e){var t=this.angle.toRadians();e.applyTransform([1,0,0,1,this.p.x||0,this.p.y||0]),e.applyTransform([Math.cos(t),Math.sin(t),-Math.sin(t),Math.cos(t),0,0]),e.applyTransform([1,0,0,1,-this.p.x||0,-this.p.y||0])}},this.Type.scale=function(e){this.p=I.CreatePoint(e),this.apply=function(e){e.scale(this.p.x||1,this.p.y||this.p.x||1)},this.unapply=function(e){e.scale(1/this.p.x||1,1/this.p.y||this.p.x||1)},this.applyToPoint=function(e){e.applyTransform([this.p.x||0,0,0,this.p.y||0,0,0])}},this.Type.matrix=function(e){this.m=I.ToNumberArray(e),this.apply=function(e){e.transform(this.m[0],this.m[1],this.m[2],this.m[3],this.m[4],this.m[5])},this.unapply=function(e){var t=this.m[0],n=this.m[2],r=this.m[4],i=this.m[1],o=this.m[3],a=this.m[5],s=1/(t*(1*o-0*a)-n*(1*i-0*a)+r*(0*i-0*o));e.transform(s*(1*o-0*a),s*(0*a-1*i),s*(0*r-1*n),s*(1*t-0*r),s*(n*a-r*o),s*(r*i-t*a))},this.applyToPoint=function(e){e.applyTransform(this.m)}},this.Type.SkewBase=function(e){this.base=t.Type.matrix,this.base(e),this.angle=new I.Property("angle",e)},this.Type.SkewBase.prototype=new this.Type.matrix,this.Type.skewX=function(e){this.base=t.Type.SkewBase,this.base(e),this.m=[1,0,Math.tan(this.angle.toRadians()),1,0,0]},this.Type.skewX.prototype=new this.Type.SkewBase,this.Type.skewY=function(e){this.base=t.Type.SkewBase,this.base(e),this.m=[1,Math.tan(this.angle.toRadians()),0,1,0,0]},this.Type.skewY.prototype=new this.Type.SkewBase,this.transforms=[],this.apply=function(e){for(var t=0;t<this.transforms.length;t++)this.transforms[t].apply(e)},this.unapply=function(e){for(var t=this.transforms.length-1;0<=t;t--)this.transforms[t].unapply(e)},this.applyToPoint=function(e){for(var t=0;t<this.transforms.length;t++)this.transforms[t].applyToPoint(e)};for(var n=I.trim(I.compressSpaces(e)).replace(/\)([a-zA-Z])/g,") $1").replace(/\)(\s?,\s?)/g,") ").split(/\s(?=[a-z])/),r=0;r<n.length;r++){var i=I.trim(n[r].split("(")[0]),o=n[r].split("(")[1].replace(")",""),a=this.Type[i];if(void 0!==a){var s=new a(o);s.type=i,this.transforms.push(s)}}},I.AspectRatio=function(e,t,n,r,i,o,a,s,u,c){var l=(t=(t=I.compressSpaces(t)).replace(/^defer\s/,"")).split(" ")[0]||"xMidYMid",p=t.split(" ")[1]||"meet",f=n/r,d=i/o,h=Math.min(f,d),v=Math.max(f,d);"meet"==p&&(r*=h,o*=h),"slice"==p&&(r*=v,o*=v),u=new I.Property("refX",u),c=new I.Property("refY",c),u.hasValue()&&c.hasValue()?e.translate(-h*u.toPixels("x"),-h*c.toPixels("y")):(l.match(/^xMid/)&&("meet"==p&&h==d||"slice"==p&&v==d)&&e.translate(n/2-r/2,0),l.match(/YMid$/)&&("meet"==p&&h==f||"slice"==p&&v==f)&&e.translate(0,i/2-o/2),l.match(/^xMax/)&&("meet"==p&&h==d||"slice"==p&&v==d)&&e.translate(n-r,0),l.match(/YMax$/)&&("meet"==p&&h==f||"slice"==p&&v==f)&&e.translate(0,i-o)),"none"==l?e.scale(f,d):"meet"==p?e.scale(h,h):"slice"==p&&e.scale(v,v),e.translate(null==a?0:-a,null==s?0:-s)},I.Element={},I.EmptyProperty=new I.Property("EMPTY",""),I.Element.ElementBase=function(o){this.attributes={},this.styles={},this.stylesSpecificity={},this.children=[],this.attribute=function(e,t){var n=this.attributes[e];return null!=n?n:(1==t&&(n=new I.Property(e,""),this.attributes[e]=n),n||I.EmptyProperty)},this.getHrefAttribute=function(){for(var e in this.attributes)if("href"==e||e.match(/:href$/))return this.attributes[e];return I.EmptyProperty},this.style=function(e,t,n){var r=this.styles[e];if(null!=r)return r;var i=this.attribute(e);if(null!=i&&i.hasValue())return this.styles[e]=i;if(1!=n){var o=this.parent;if(null!=o){var a=o.style(e);if(null!=a&&a.hasValue())return a}}return 1==t&&(r=new I.Property(e,""),this.styles[e]=r),r||I.EmptyProperty},this.render=function(e){if("none"!=this.style("display").value&&"hidden"!=this.style("visibility").value){if(e.save(),this.style("mask").hasValue()){var t=this.style("mask").getDefinition();null!=t&&t.apply(e,this)}else if(this.style("filter").hasValue()){var n=this.style("filter").getDefinition();null!=n&&n.apply(e,this)}else this.setContext(e),this.renderChildren(e),this.clearContext(e);e.restore()}},this.setContext=function(e){},this.clearContext=function(e){},this.renderChildren=function(e){for(var t=0;t<this.children.length;t++)this.children[t].render(e)},this.addChild=function(e,t){var n=e;t&&(n=I.CreateElement(e)),n.parent=this,"title"!=n.type&&this.children.push(n)},this.addStylesFromStyleDefinition=function(){for(var e in I.Styles)if("@"!=e[0]&&d(o,e)){var t=I.Styles[e],n=I.StylesSpecificity[e];if(null!=t)for(var r in t){var i=this.stylesSpecificity[r];void 0===i&&(i="000"),i<n&&(this.styles[r]=t[r],this.stylesSpecificity[r]=n)}}};var e,t=new RegExp("^[A-Z-]+$");if(null!=o&&1==o.nodeType){for(var n=0;n<o.attributes.length;n++){var r=o.attributes[n],i=(e=r.nodeName,t.test(e)?e.toLowerCase():e);this.attributes[i]=new I.Property(i,r.value)}if(this.addStylesFromStyleDefinition(),this.attribute("style").hasValue()){var a=this.attribute("style").value.split(";");for(n=0;n<a.length;n++)if(""!=I.trim(a[n])){var s=a[n].split(":"),u=I.trim(s[0]),c=I.trim(s[1]);this.styles[u]=new I.Property(u,c)}}for(this.attribute("id").hasValue()&&null==I.Definitions[this.attribute("id").value]&&(I.Definitions[this.attribute("id").value]=this),n=0;n<o.childNodes.length;n++){var l=o.childNodes[n];if(1==l.nodeType&&this.addChild(l,!0),this.captureTextNodes&&(3==l.nodeType||4==l.nodeType)){var p=l.value||l.text||l.textContent||"";""!=I.compressSpaces(p)&&this.addChild(new I.Element.tspan(l),!1)}}}},I.Element.RenderedElementBase=function(e){this.base=I.Element.ElementBase,this.base(e),this.setContext=function(e){var t;if(this.style("fill").isUrlDefinition())null!=(t=this.style("fill").getFillStyleDefinition(this,this.style("fill-opacity")))&&(e.fillStyle=t);else if(this.style("fill").hasValue()){var n;"currentColor"==(n=this.style("fill")).value&&(n.value=this.style("color").value),"inherit"!=n.value&&(e.fillStyle="none"==n.value?"rgba(0,0,0,0)":n.value)}if(this.style("fill-opacity").hasValue()&&(n=(n=new I.Property("fill",e.fillStyle)).addOpacity(this.style("fill-opacity")),e.fillStyle=n.value),this.style("stroke").isUrlDefinition())null!=(t=this.style("stroke").getFillStyleDefinition(this,this.style("stroke-opacity")))&&(e.strokeStyle=t);else if(this.style("stroke").hasValue()){var r;"currentColor"==(r=this.style("stroke")).value&&(r.value=this.style("color").value),"inherit"!=r.value&&(e.strokeStyle="none"==r.value?"rgba(0,0,0,0)":r.value)}if(this.style("stroke-opacity").hasValue()&&(r=(r=new I.Property("stroke",e.strokeStyle)).addOpacity(this.style("stroke-opacity")),e.strokeStyle=r.value),this.style("stroke-width").hasValue()){var i=this.style("stroke-width").toPixels();e.lineWidth=0==i?.001:i}if(this.style("stroke-linecap").hasValue()&&(e.lineCap=this.style("stroke-linecap").value),this.style("stroke-linejoin").hasValue()&&(e.lineJoin=this.style("stroke-linejoin").value),this.style("stroke-miterlimit").hasValue()&&(e.miterLimit=this.style("stroke-miterlimit").value),this.style("stroke-dasharray").hasValue()&&"none"!=this.style("stroke-dasharray").value){var o=I.ToNumberArray(this.style("stroke-dasharray").value);void 0!==e.setLineDash?e.setLineDash(o):void 0!==e.webkitLineDash?e.webkitLineDash=o:void 0===e.mozDash||1==o.length&&0==o[0]||(e.mozDash=o);var a=this.style("stroke-dashoffset").numValueOrDefault(1);void 0!==e.lineDashOffset?e.lineDashOffset=a:void 0!==e.webkitLineDashOffset?e.webkitLineDashOffset=a:void 0!==e.mozDashOffset&&(e.mozDashOffset=a)}if(void 0!==e.font&&(e.font=I.Font.CreateFont(this.style("font-style").value,this.style("font-variant").value,this.style("font-weight").value,this.style("font-size").hasValue()?this.style("font-size").toPixels()+"px":"",this.style("font-family").value).toString()),this.style("transform",!1,!0).hasValue()&&new I.Transform(this.style("transform",!1,!0).value).apply(e),this.style("clip-path",!1,!0).hasValue()){var s=this.style("clip-path",!1,!0).getDefinition();null!=s&&s.apply(e)}this.style("opacity").hasValue()&&(e.globalAlpha=this.style("opacity").numValue())}},I.Element.RenderedElementBase.prototype=new I.Element.ElementBase,I.Element.PathElementBase=function(e){this.base=I.Element.RenderedElementBase,this.base(e),this.path=function(e){return null!=e&&e.beginPath(),new I.BoundingBox},this.renderChildren=function(e){this.path(e),I.Mouse.checkPath(this,e),""!=e.fillStyle&&("inherit"!=this.style("fill-rule").valueOrDefault("inherit")?e.fill(this.style("fill-rule").value):e.fill()),""!=e.strokeStyle&&e.stroke();var t=this.getMarkers();if(null!=t){if(this.style("marker-start").isUrlDefinition()&&(n=this.style("marker-start").getDefinition()).render(e,t[0][0],t[0][1]),this.style("marker-mid").isUrlDefinition())for(var n=this.style("marker-mid").getDefinition(),r=1;r<t.length-1;r++)n.render(e,t[r][0],t[r][1]);this.style("marker-end").isUrlDefinition()&&(n=this.style("marker-end").getDefinition()).render(e,t[t.length-1][0],t[t.length-1][1])}},this.getBoundingBox=function(){return this.path()},this.getMarkers=function(){return null}},I.Element.PathElementBase.prototype=new I.Element.RenderedElementBase,I.Element.svg=function(e){this.base=I.Element.RenderedElementBase,this.base(e),this.baseClearContext=this.clearContext,this.clearContext=function(e){this.baseClearContext(e),I.ViewPort.RemoveCurrent()},this.baseSetContext=this.setContext,this.setContext=function(e){e.strokeStyle="rgba(0,0,0,0)",e.lineCap="butt",e.lineJoin="miter",e.miterLimit=4,void 0!==e.font&&void 0!==window.getComputedStyle&&(e.font=window.getComputedStyle(e.canvas).getPropertyValue("font")),this.baseSetContext(e),this.attribute("x").hasValue()||(this.attribute("x",!0).value=0),this.attribute("y").hasValue()||(this.attribute("y",!0).value=0),e.translate(this.attribute("x").toPixels("x"),this.attribute("y").toPixels("y"));var t=I.ViewPort.width(),n=I.ViewPort.height();if(this.attribute("width").hasValue()||(this.attribute("width",!0).value="100%"),this.attribute("height").hasValue()||(this.attribute("height",!0).value="100%"),void 0===this.root){t=this.attribute("width").toPixels("x"),n=this.attribute("height").toPixels("y");var r=0,i=0;this.attribute("refX").hasValue()&&this.attribute("refY").hasValue()&&(r=-this.attribute("refX").toPixels("x"),i=-this.attribute("refY").toPixels("y")),"visible"!=this.attribute("overflow").valueOrDefault("hidden")&&(e.beginPath(),e.moveTo(r,i),e.lineTo(t,i),e.lineTo(t,n),e.lineTo(r,n),e.closePath(),e.clip())}if(I.ViewPort.SetCurrent(t,n),this.attribute("viewBox").hasValue()){var o=I.ToNumberArray(this.attribute("viewBox").value),a=o[0],s=o[1];t=o[2],n=o[3],I.AspectRatio(e,this.attribute("preserveAspectRatio").value,I.ViewPort.width(),t,I.ViewPort.height(),n,a,s,this.attribute("refX").value,this.attribute("refY").value),I.ViewPort.RemoveCurrent(),I.ViewPort.SetCurrent(o[2],o[3])}}},I.Element.svg.prototype=new I.Element.RenderedElementBase,I.Element.rect=function(e){this.base=I.Element.PathElementBase,this.base(e),this.path=function(e){var t=this.attribute("x").toPixels("x"),n=this.attribute("y").toPixels("y"),r=this.attribute("width").toPixels("x"),i=this.attribute("height").toPixels("y"),o=this.attribute("rx").toPixels("x"),a=this.attribute("ry").toPixels("y");return this.attribute("rx").hasValue()&&!this.attribute("ry").hasValue()&&(a=o),this.attribute("ry").hasValue()&&!this.attribute("rx").hasValue()&&(o=a),o=Math.min(o,r/2),a=Math.min(a,i/2),null!=e&&(e.beginPath(),e.moveTo(t+o,n),e.lineTo(t+r-o,n),e.quadraticCurveTo(t+r,n,t+r,n+a),e.lineTo(t+r,n+i-a),e.quadraticCurveTo(t+r,n+i,t+r-o,n+i),e.lineTo(t+o,n+i),e.quadraticCurveTo(t,n+i,t,n+i-a),e.lineTo(t,n+a),e.quadraticCurveTo(t,n,t+o,n),e.closePath()),new I.BoundingBox(t,n,t+r,n+i)}},I.Element.rect.prototype=new I.Element.PathElementBase,I.Element.circle=function(e){this.base=I.Element.PathElementBase,this.base(e),this.path=function(e){var t=this.attribute("cx").toPixels("x"),n=this.attribute("cy").toPixels("y"),r=this.attribute("r").toPixels();return null!=e&&(e.beginPath(),e.arc(t,n,r,0,2*Math.PI,!0),e.closePath()),new I.BoundingBox(t-r,n-r,t+r,n+r)}},I.Element.circle.prototype=new I.Element.PathElementBase,I.Element.ellipse=function(e){this.base=I.Element.PathElementBase,this.base(e),this.path=function(e){var t=(Math.sqrt(2)-1)/3*4,n=this.attribute("rx").toPixels("x"),r=this.attribute("ry").toPixels("y"),i=this.attribute("cx").toPixels("x"),o=this.attribute("cy").toPixels("y");return null!=e&&(e.beginPath(),e.moveTo(i,o-r),e.bezierCurveTo(i+t*n,o-r,i+n,o-t*r,i+n,o),e.bezierCurveTo(i+n,o+t*r,i+t*n,o+r,i,o+r),e.bezierCurveTo(i-t*n,o+r,i-n,o+t*r,i-n,o),e.bezierCurveTo(i-n,o-t*r,i-t*n,o-r,i,o-r),e.closePath()),new I.BoundingBox(i-n,o-r,i+n,o+r)}},I.Element.ellipse.prototype=new I.Element.PathElementBase,I.Element.line=function(e){this.base=I.Element.PathElementBase,this.base(e),this.getPoints=function(){return[new I.Point(this.attribute("x1").toPixels("x"),this.attribute("y1").toPixels("y")),new I.Point(this.attribute("x2").toPixels("x"),this.attribute("y2").toPixels("y"))]},this.path=function(e){var t=this.getPoints();return null!=e&&(e.beginPath(),e.moveTo(t[0].x,t[0].y),e.lineTo(t[1].x,t[1].y)),new I.BoundingBox(t[0].x,t[0].y,t[1].x,t[1].y)},this.getMarkers=function(){var e=this.getPoints(),t=e[0].angleTo(e[1]);return[[e[0],t],[e[1],t]]}},I.Element.line.prototype=new I.Element.PathElementBase,I.Element.polyline=function(e){this.base=I.Element.PathElementBase,this.base(e),this.points=I.CreatePath(this.attribute("points").value),this.path=function(e){var t=new I.BoundingBox(this.points[0].x,this.points[0].y);null!=e&&(e.beginPath(),e.moveTo(this.points[0].x,this.points[0].y));for(var n=1;n<this.points.length;n++)t.addPoint(this.points[n].x,this.points[n].y),null!=e&&e.lineTo(this.points[n].x,this.points[n].y);return t},this.getMarkers=function(){for(var e=[],t=0;t<this.points.length-1;t++)e.push([this.points[t],this.points[t].angleTo(this.points[t+1])]);return 0<e.length&&e.push([this.points[this.points.length-1],e[e.length-1][1]]),e}},I.Element.polyline.prototype=new I.Element.PathElementBase,I.Element.polygon=function(e){this.base=I.Element.polyline,this.base(e),this.basePath=this.path,this.path=function(e){var t=this.basePath(e);return null!=e&&(e.lineTo(this.points[0].x,this.points[0].y),e.closePath()),t}},I.Element.polygon.prototype=new I.Element.polyline,I.Element.path=function(e){this.base=I.Element.PathElementBase,this.base(e);var t=this.attribute("d").value;t=t.replace(/,/gm," ");for(var n=0;n<2;n++)t=t.replace(/([MmZzLlHhVvCcSsQqTtAa])([^\s])/gm,"$1 $2");for(t=(t=t.replace(/([^\s])([MmZzLlHhVvCcSsQqTtAa])/gm,"$1 $2")).replace(/([0-9])([+\-])/gm,"$1 $2"),n=0;n<2;n++)t=t.replace(/(\.[0-9]*)(\.)/gm,"$1 $2");t=t.replace(/([Aa](\s+[0-9]+){3})\s+([01])\s*([01])/gm,"$1 $3 $4 "),t=I.compressSpaces(t),t=I.trim(t),this.PathParser=new function(e){this.tokens=e.split(" "),this.reset=function(){this.i=-1,this.command="",this.previousCommand="",this.start=new I.Point(0,0),this.control=new I.Point(0,0),this.current=new I.Point(0,0),this.points=[],this.angles=[]},this.isEnd=function(){return this.i>=this.tokens.length-1},this.isCommandOrEnd=function(){return!!this.isEnd()||null!=this.tokens[this.i+1].match(/^[A-Za-z]$/)},this.isRelativeCommand=function(){switch(this.command){case"m":case"l":case"h":case"v":case"c":case"s":case"q":case"t":case"a":case"z":return!0}return!1},this.getToken=function(){return this.i++,this.tokens[this.i]},this.getScalar=function(){return parseFloat(this.getToken())},this.nextCommand=function(){this.previousCommand=this.command,this.command=this.getToken()},this.getPoint=function(){var e=new I.Point(this.getScalar(),this.getScalar());return this.makeAbsolute(e)},this.getAsControlPoint=function(){var e=this.getPoint();return this.control=e},this.getAsCurrentPoint=function(){var e=this.getPoint();return this.current=e},this.getReflectedControlPoint=function(){return"c"!=this.previousCommand.toLowerCase()&&"s"!=this.previousCommand.toLowerCase()&&"q"!=this.previousCommand.toLowerCase()&&"t"!=this.previousCommand.toLowerCase()?this.current:new I.Point(2*this.current.x-this.control.x,2*this.current.y-this.control.y)},this.makeAbsolute=function(e){return this.isRelativeCommand()&&(e.x+=this.current.x,e.y+=this.current.y),e},this.addMarker=function(e,t,n){null!=n&&0<this.angles.length&&null==this.angles[this.angles.length-1]&&(this.angles[this.angles.length-1]=this.points[this.points.length-1].angleTo(n)),this.addMarkerAngle(e,null==t?null:t.angleTo(e))},this.addMarkerAngle=function(e,t){this.points.push(e),this.angles.push(t)},this.getMarkerPoints=function(){return this.points},this.getMarkerAngles=function(){for(var e=0;e<this.angles.length;e++)if(null==this.angles[e])for(var t=e+1;t<this.angles.length;t++)if(null!=this.angles[t]){this.angles[e]=this.angles[t];break}return this.angles}}(t),this.path=function(e){var t=this.PathParser;t.reset();var n=new I.BoundingBox;for(null!=e&&e.beginPath();!t.isEnd();)switch(t.nextCommand(),t.command){case"M":case"m":var r=t.getAsCurrentPoint();for(t.addMarker(r),n.addPoint(r.x,r.y),null!=e&&e.moveTo(r.x,r.y),t.start=t.current;!t.isCommandOrEnd();)r=t.getAsCurrentPoint(),t.addMarker(r,t.start),n.addPoint(r.x,r.y),null!=e&&e.lineTo(r.x,r.y);break;case"L":case"l":for(;!t.isCommandOrEnd();){var i=t.current;r=t.getAsCurrentPoint(),t.addMarker(r,i),n.addPoint(r.x,r.y),null!=e&&e.lineTo(r.x,r.y)}break;case"H":case"h":for(;!t.isCommandOrEnd();){var o=new I.Point((t.isRelativeCommand()?t.current.x:0)+t.getScalar(),t.current.y);t.addMarker(o,t.current),t.current=o,n.addPoint(t.current.x,t.current.y),null!=e&&e.lineTo(t.current.x,t.current.y)}break;case"V":case"v":for(;!t.isCommandOrEnd();)o=new I.Point(t.current.x,(t.isRelativeCommand()?t.current.y:0)+t.getScalar()),t.addMarker(o,t.current),t.current=o,n.addPoint(t.current.x,t.current.y),null!=e&&e.lineTo(t.current.x,t.current.y);break;case"C":case"c":for(;!t.isCommandOrEnd();){var a=t.current,s=t.getPoint(),u=t.getAsControlPoint(),c=t.getAsCurrentPoint();t.addMarker(c,u,s),n.addBezierCurve(a.x,a.y,s.x,s.y,u.x,u.y,c.x,c.y),null!=e&&e.bezierCurveTo(s.x,s.y,u.x,u.y,c.x,c.y)}break;case"S":case"s":for(;!t.isCommandOrEnd();)a=t.current,s=t.getReflectedControlPoint(),u=t.getAsControlPoint(),c=t.getAsCurrentPoint(),t.addMarker(c,u,s),n.addBezierCurve(a.x,a.y,s.x,s.y,u.x,u.y,c.x,c.y),null!=e&&e.bezierCurveTo(s.x,s.y,u.x,u.y,c.x,c.y);break;case"Q":case"q":for(;!t.isCommandOrEnd();)a=t.current,u=t.getAsControlPoint(),c=t.getAsCurrentPoint(),t.addMarker(c,u,u),n.addQuadraticCurve(a.x,a.y,u.x,u.y,c.x,c.y),null!=e&&e.quadraticCurveTo(u.x,u.y,c.x,c.y);break;case"T":case"t":for(;!t.isCommandOrEnd();)a=t.current,u=t.getReflectedControlPoint(),t.control=u,c=t.getAsCurrentPoint(),t.addMarker(c,u,u),n.addQuadraticCurve(a.x,a.y,u.x,u.y,c.x,c.y),null!=e&&e.quadraticCurveTo(u.x,u.y,c.x,c.y);break;case"A":case"a":for(;!t.isCommandOrEnd();){a=t.current;var l=t.getScalar(),p=t.getScalar(),f=t.getScalar()*(Math.PI/180),d=t.getScalar(),h=t.getScalar(),v=(c=t.getAsCurrentPoint(),new I.Point(Math.cos(f)*(a.x-c.x)/2+Math.sin(f)*(a.y-c.y)/2,-Math.sin(f)*(a.x-c.x)/2+Math.cos(f)*(a.y-c.y)/2)),g=Math.pow(v.x,2)/Math.pow(l,2)+Math.pow(v.y,2)/Math.pow(p,2);1<g&&(l*=Math.sqrt(g),p*=Math.sqrt(g));var m=(d==h?-1:1)*Math.sqrt((Math.pow(l,2)*Math.pow(p,2)-Math.pow(l,2)*Math.pow(v.y,2)-Math.pow(p,2)*Math.pow(v.x,2))/(Math.pow(l,2)*Math.pow(v.y,2)+Math.pow(p,2)*Math.pow(v.x,2)));isNaN(m)&&(m=0);var y=new I.Point(m*l*v.y/p,m*-p*v.x/l),b=new I.Point((a.x+c.x)/2+Math.cos(f)*y.x-Math.sin(f)*y.y,(a.y+c.y)/2+Math.sin(f)*y.x+Math.cos(f)*y.y),w=function(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2))},S=function(e,t){return(e[0]*t[0]+e[1]*t[1])/(w(e)*w(t))},_=function(e,t){return(e[0]*t[1]<e[1]*t[0]?-1:1)*Math.acos(S(e,t))},C=_([1,0],[(v.x-y.x)/l,(v.y-y.y)/p]),E=[(v.x-y.x)/l,(v.y-y.y)/p],x=[(-v.x-y.x)/l,(-v.y-y.y)/p],O=_(E,x);S(E,x)<=-1&&(O=Math.PI),1<=S(E,x)&&(O=0);var k=1-h?1:-1,P=C+O/2*k,T=new I.Point(b.x+l*Math.cos(P),b.y+p*Math.sin(P));if(t.addMarkerAngle(T,P-k*Math.PI/2),t.addMarkerAngle(c,P-k*Math.PI),n.addPoint(c.x,c.y),null!=e){S=p<l?l:p;var R=p<l?1:l/p,A=p<l?p/l:1;e.translate(b.x,b.y),e.rotate(f),e.scale(R,A),e.arc(0,0,S,C,C+O,1-h),e.scale(1/R,1/A),e.rotate(-f),e.translate(-b.x,-b.y)}}break;case"Z":case"z":null!=e&&e.closePath(),t.current=t.start}return n},this.getMarkers=function(){for(var e=this.PathParser.getMarkerPoints(),t=this.PathParser.getMarkerAngles(),n=[],r=0;r<e.length;r++)n.push([e[r],t[r]]);return n}},I.Element.path.prototype=new I.Element.PathElementBase,I.Element.pattern=function(e){this.base=I.Element.ElementBase,this.base(e),this.createPattern=function(e,t){var n=this.attribute("width").toPixels("x",!0),r=this.attribute("height").toPixels("y",!0),i=new I.Element.svg;i.attributes.viewBox=new I.Property("viewBox",this.attribute("viewBox").value),i.attributes.width=new I.Property("width",n+"px"),i.attributes.height=new I.Property("height",r+"px"),i.attributes.transform=new I.Property("transform",this.attribute("patternTransform").value),i.children=this.children;var o=document.createElement("canvas");o.width=n,o.height=r;var a=o.getContext("2d");this.attribute("x").hasValue()&&this.attribute("y").hasValue()&&a.translate(this.attribute("x").toPixels("x",!0),this.attribute("y").toPixels("y",!0));for(var s=-1;s<=1;s++)for(var u=-1;u<=1;u++)a.save(),i.attributes.x=new I.Property("x",s*o.width),i.attributes.y=new I.Property("y",u*o.height),i.render(a),a.restore();return e.createPattern(o,"repeat")}},I.Element.pattern.prototype=new I.Element.ElementBase,I.Element.marker=function(e){this.base=I.Element.ElementBase,this.base(e),this.baseRender=this.render,this.render=function(e,t,n){e.translate(t.x,t.y),"auto"==this.attribute("orient").valueOrDefault("auto")&&e.rotate(n),"strokeWidth"==this.attribute("markerUnits").valueOrDefault("strokeWidth")&&e.scale(e.lineWidth,e.lineWidth),e.save();var r=new I.Element.svg;r.attributes.viewBox=new I.Property("viewBox",this.attribute("viewBox").value),r.attributes.refX=new I.Property("refX",this.attribute("refX").value),r.attributes.refY=new I.Property("refY",this.attribute("refY").value),r.attributes.width=new I.Property("width",this.attribute("markerWidth").value),r.attributes.height=new I.Property("height",this.attribute("markerHeight").value),r.attributes.fill=new I.Property("fill",this.attribute("fill").valueOrDefault("black")),r.attributes.stroke=new I.Property("stroke",this.attribute("stroke").valueOrDefault("none")),r.children=this.children,r.render(e),e.restore(),"strokeWidth"==this.attribute("markerUnits").valueOrDefault("strokeWidth")&&e.scale(1/e.lineWidth,1/e.lineWidth),"auto"==this.attribute("orient").valueOrDefault("auto")&&e.rotate(-n),e.translate(-t.x,-t.y)}},I.Element.marker.prototype=new I.Element.ElementBase,I.Element.defs=function(e){this.base=I.Element.ElementBase,this.base(e),this.render=function(e){}},I.Element.defs.prototype=new I.Element.ElementBase,I.Element.GradientBase=function(e){this.base=I.Element.ElementBase,this.base(e),this.stops=[];for(var t=0;t<this.children.length;t++){var n=this.children[t];"stop"==n.type&&this.stops.push(n)}this.getGradient=function(){},this.gradientUnits=function(){return this.attribute("gradientUnits").valueOrDefault("objectBoundingBox")},this.attributesToInherit=["gradientUnits"],this.inheritStopContainer=function(e){for(var t=0;t<this.attributesToInherit.length;t++){var n=this.attributesToInherit[t];!this.attribute(n).hasValue()&&e.attribute(n).hasValue()&&(this.attribute(n,!0).value=e.attribute(n).value)}},this.createGradient=function(e,t,n){var r=this;this.getHrefAttribute().hasValue()&&(r=this.getHrefAttribute().getDefinition(),this.inheritStopContainer(r));var i=function(e){return n.hasValue()?new I.Property("color",e).addOpacity(n).value:e},o=this.getGradient(e,t);if(null==o)return i(r.stops[r.stops.length-1].color);for(var a=0;a<r.stops.length;a++)o.addColorStop(r.stops[a].offset,i(r.stops[a].color));if(this.attribute("gradientTransform").hasValue()){var s=I.ViewPort.viewPorts[0],u=new I.Element.rect;u.attributes.x=new I.Property("x",-I.MAX_VIRTUAL_PIXELS/3),u.attributes.y=new I.Property("y",-I.MAX_VIRTUAL_PIXELS/3),u.attributes.width=new I.Property("width",I.MAX_VIRTUAL_PIXELS),u.attributes.height=new I.Property("height",I.MAX_VIRTUAL_PIXELS);var c=new I.Element.g;c.attributes.transform=new I.Property("transform",this.attribute("gradientTransform").value),c.children=[u];var l=new I.Element.svg;l.attributes.x=new I.Property("x",0),l.attributes.y=new I.Property("y",0),l.attributes.width=new I.Property("width",s.width),l.attributes.height=new I.Property("height",s.height),l.children=[c];var p=document.createElement("canvas");p.width=s.width,p.height=s.height;var f=p.getContext("2d");return f.fillStyle=o,l.render(f),f.createPattern(p,"no-repeat")}return o}},I.Element.GradientBase.prototype=new I.Element.ElementBase,I.Element.linearGradient=function(e){this.base=I.Element.GradientBase,this.base(e),this.attributesToInherit.push("x1"),this.attributesToInherit.push("y1"),this.attributesToInherit.push("x2"),this.attributesToInherit.push("y2"),this.getGradient=function(e,t){var n="objectBoundingBox"==this.gradientUnits()?t.getBoundingBox():null;this.attribute("x1").hasValue()||this.attribute("y1").hasValue()||this.attribute("x2").hasValue()||this.attribute("y2").hasValue()||(this.attribute("x1",!0).value=0,this.attribute("y1",!0).value=0,this.attribute("x2",!0).value=1,this.attribute("y2",!0).value=0);var r="objectBoundingBox"==this.gradientUnits()?n.x()+n.width()*this.attribute("x1").numValue():this.attribute("x1").toPixels("x"),i="objectBoundingBox"==this.gradientUnits()?n.y()+n.height()*this.attribute("y1").numValue():this.attribute("y1").toPixels("y"),o="objectBoundingBox"==this.gradientUnits()?n.x()+n.width()*this.attribute("x2").numValue():this.attribute("x2").toPixels("x"),a="objectBoundingBox"==this.gradientUnits()?n.y()+n.height()*this.attribute("y2").numValue():this.attribute("y2").toPixels("y");return r==o&&i==a?null:e.createLinearGradient(r,i,o,a)}},I.Element.linearGradient.prototype=new I.Element.GradientBase,I.Element.radialGradient=function(e){this.base=I.Element.GradientBase,this.base(e),this.attributesToInherit.push("cx"),this.attributesToInherit.push("cy"),this.attributesToInherit.push("r"),this.attributesToInherit.push("fx"),this.attributesToInherit.push("fy"),this.getGradient=function(e,t){var n=t.getBoundingBox();this.attribute("cx").hasValue()||(this.attribute("cx",!0).value="50%"),this.attribute("cy").hasValue()||(this.attribute("cy",!0).value="50%"),this.attribute("r").hasValue()||(this.attribute("r",!0).value="50%");var r="objectBoundingBox"==this.gradientUnits()?n.x()+n.width()*this.attribute("cx").numValue():this.attribute("cx").toPixels("x"),i="objectBoundingBox"==this.gradientUnits()?n.y()+n.height()*this.attribute("cy").numValue():this.attribute("cy").toPixels("y"),o=r,a=i;this.attribute("fx").hasValue()&&(o="objectBoundingBox"==this.gradientUnits()?n.x()+n.width()*this.attribute("fx").numValue():this.attribute("fx").toPixels("x")),this.attribute("fy").hasValue()&&(a="objectBoundingBox"==this.gradientUnits()?n.y()+n.height()*this.attribute("fy").numValue():this.attribute("fy").toPixels("y"));var s="objectBoundingBox"==this.gradientUnits()?(n.width()+n.height())/2*this.attribute("r").numValue():this.attribute("r").toPixels();return e.createRadialGradient(o,a,0,r,i,s)}},I.Element.radialGradient.prototype=new I.Element.GradientBase,I.Element.stop=function(e){this.base=I.Element.ElementBase,this.base(e),this.offset=this.attribute("offset").numValue(),this.offset<0&&(this.offset=0),1<this.offset&&(this.offset=1);var t=this.style("stop-color",!0);""===t.value&&(t.value="#000"),this.style("stop-opacity").hasValue()&&(t=t.addOpacity(this.style("stop-opacity"))),this.color=t.value},I.Element.stop.prototype=new I.Element.ElementBase,I.Element.AnimateBase=function(e){this.base=I.Element.ElementBase,this.base(e),I.Animations.push(this),this.duration=0,this.begin=this.attribute("begin").toMilliseconds(),this.maxDuration=this.begin+this.attribute("dur").toMilliseconds(),this.getProperty=function(){var e=this.attribute("attributeType").value,t=this.attribute("attributeName").value;return"CSS"==e?this.parent.style(t,!0):this.parent.attribute(t,!0)},this.initialValue=null,this.initialUnits="",this.removed=!1,this.calcValue=function(){return""},this.update=function(e){if(null==this.initialValue&&(this.initialValue=this.getProperty().value,this.initialUnits=this.getProperty().getUnits()),this.duration>this.maxDuration){if("indefinite"==this.attribute("repeatCount").value||"indefinite"==this.attribute("repeatDur").value)this.duration=0;else if("freeze"!=this.attribute("fill").valueOrDefault("remove")||this.frozen){if("remove"==this.attribute("fill").valueOrDefault("remove")&&!this.removed)return this.removed=!0,this.getProperty().value=this.parent.animationFrozen?this.parent.animationFrozenValue:this.initialValue,!0}else this.frozen=!0,this.parent.animationFrozen=!0,this.parent.animationFrozenValue=this.getProperty().value;return!1}this.duration=this.duration+e;var t=!1;if(this.begin<this.duration){var n=this.calcValue();this.attribute("type").hasValue()&&(n=this.attribute("type").value+"("+n+")"),this.getProperty().value=n,t=!0}return t},this.from=this.attribute("from"),this.to=this.attribute("to"),this.values=this.attribute("values"),this.values.hasValue()&&(this.values.value=this.values.value.split(";")),this.progress=function(){var e={progress:(this.duration-this.begin)/(this.maxDuration-this.begin)};if(this.values.hasValue()){var t=e.progress*(this.values.value.length-1),n=Math.floor(t),r=Math.ceil(t);e.from=new I.Property("from",parseFloat(this.values.value[n])),e.to=new I.Property("to",parseFloat(this.values.value[r])),e.progress=(t-n)/(r-n)}else e.from=this.from,e.to=this.to;return e}},I.Element.AnimateBase.prototype=new I.Element.ElementBase,I.Element.animate=function(e){this.base=I.Element.AnimateBase,this.base(e),this.calcValue=function(){var e=this.progress();return e.from.numValue()+(e.to.numValue()-e.from.numValue())*e.progress+this.initialUnits}},I.Element.animate.prototype=new I.Element.AnimateBase,I.Element.animateColor=function(e){this.base=I.Element.AnimateBase,this.base(e),this.calcValue=function(){var e=this.progress(),t=new p(e.from.value),n=new p(e.to.value);if(t.ok&&n.ok){var r=t.r+(n.r-t.r)*e.progress,i=t.g+(n.g-t.g)*e.progress,o=t.b+(n.b-t.b)*e.progress;return"rgb("+parseInt(r,10)+","+parseInt(i,10)+","+parseInt(o,10)+")"}return this.attribute("from").value}},I.Element.animateColor.prototype=new I.Element.AnimateBase,I.Element.animateTransform=function(e){this.base=I.Element.AnimateBase,this.base(e),this.calcValue=function(){for(var e=this.progress(),t=I.ToNumberArray(e.from.value),n=I.ToNumberArray(e.to.value),r="",i=0;i<t.length;i++)r+=t[i]+(n[i]-t[i])*e.progress+" ";return r}},I.Element.animateTransform.prototype=new I.Element.animate,I.Element.font=function(e){this.base=I.Element.ElementBase,this.base(e),this.horizAdvX=this.attribute("horiz-adv-x").numValue(),this.isRTL=!1,this.isArabic=!1,this.fontFace=null,this.missingGlyph=null,this.glyphs=[];for(var t=0;t<this.children.length;t++){var n=this.children[t];"font-face"==n.type?(this.fontFace=n).style("font-family").hasValue()&&(I.Definitions[n.style("font-family").value]=this):"missing-glyph"==n.type?this.missingGlyph=n:"glyph"==n.type&&(""!=n.arabicForm?(this.isRTL=!0,this.isArabic=!0,void 0===this.glyphs[n.unicode]&&(this.glyphs[n.unicode]=[]),this.glyphs[n.unicode][n.arabicForm]=n):this.glyphs[n.unicode]=n)}},I.Element.font.prototype=new I.Element.ElementBase,I.Element.fontface=function(e){this.base=I.Element.ElementBase,this.base(e),this.ascent=this.attribute("ascent").value,this.descent=this.attribute("descent").value,this.unitsPerEm=this.attribute("units-per-em").numValue()},I.Element.fontface.prototype=new I.Element.ElementBase,I.Element.missingglyph=function(e){this.base=I.Element.path,this.base(e),this.horizAdvX=0},I.Element.missingglyph.prototype=new I.Element.path,I.Element.glyph=function(e){this.base=I.Element.path,this.base(e),this.horizAdvX=this.attribute("horiz-adv-x").numValue(),this.unicode=this.attribute("unicode").value,this.arabicForm=this.attribute("arabic-form").value},I.Element.glyph.prototype=new I.Element.path,I.Element.text=function(e){this.captureTextNodes=!0,this.base=I.Element.RenderedElementBase,this.base(e),this.baseSetContext=this.setContext,this.setContext=function(e){this.baseSetContext(e);var t=this.style("dominant-baseline").toTextBaseline();null==t&&(t=this.style("alignment-baseline").toTextBaseline()),null!=t&&(e.textBaseline=t)},this.getBoundingBox=function(){var e=this.attribute("x").toPixels("x"),t=this.attribute("y").toPixels("y"),n=this.parent.style("font-size").numValueOrDefault(I.Font.Parse(I.ctx.font).fontSize);return new I.BoundingBox(e,t-n,e+Math.floor(2*n/3)*this.children[0].getText().length,t)},this.renderChildren=function(e){this.x=this.attribute("x").toPixels("x"),this.y=this.attribute("y").toPixels("y"),this.attribute("dx").hasValue()&&(this.x+=this.attribute("dx").toPixels("x")),this.attribute("dy").hasValue()&&(this.y+=this.attribute("dy").toPixels("y")),this.x+=this.getAnchorDelta(e,this,0);for(var t=0;t<this.children.length;t++)this.renderChild(e,this,this,t)},this.getAnchorDelta=function(e,t,n){var r=this.style("text-anchor").valueOrDefault("start");if("start"==r)return 0;for(var i=0,o=n;o<t.children.length;o++){var a=t.children[o];if(n<o&&a.attribute("x").hasValue())break;i+=a.measureTextRecursive(e)}return-1*("end"==r?i:i/2)},this.renderChild=function(e,t,n,r){var i=n.children[r];for(i.attribute("x").hasValue()?(i.x=i.attribute("x").toPixels("x")+t.getAnchorDelta(e,n,r),i.attribute("dx").hasValue()&&(i.x+=i.attribute("dx").toPixels("x"))):(i.attribute("dx").hasValue()&&(t.x+=i.attribute("dx").toPixels("x")),i.x=t.x),t.x=i.x+i.measureText(e),i.attribute("y").hasValue()?(i.y=i.attribute("y").toPixels("y"),i.attribute("dy").hasValue()&&(i.y+=i.attribute("dy").toPixels("y"))):(i.attribute("dy").hasValue()&&(t.y+=i.attribute("dy").toPixels("y")),i.y=t.y),t.y=i.y,i.render(e),r=0;r<i.children.length;r++)t.renderChild(e,t,i,r)}},I.Element.text.prototype=new I.Element.RenderedElementBase,I.Element.TextElementBase=function(e){this.base=I.Element.RenderedElementBase,this.base(e),this.getGlyph=function(e,t,n){var r=t[n],i=null;if(e.isArabic){var o="isolated";(0==n||" "==t[n-1])&&n<t.length-2&&" "!=t[n+1]&&(o="terminal"),0<n&&" "!=t[n-1]&&n<t.length-2&&" "!=t[n+1]&&(o="medial"),0<n&&" "!=t[n-1]&&(n==t.length-1||" "==t[n+1])&&(o="initial"),void 0!==e.glyphs[r]&&null==(i=e.glyphs[r][o])&&"glyph"==e.glyphs[r].type&&(i=e.glyphs[r])}else i=e.glyphs[r];return null==i&&(i=e.missingGlyph),i},this.renderChildren=function(e){var t=this.parent.style("font-family").getDefinition();if(null==t)""!=e.fillStyle&&e.fillText(I.compressSpaces(this.getText()),this.x,this.y),""!=e.strokeStyle&&e.strokeText(I.compressSpaces(this.getText()),this.x,this.y);else{var n=this.parent.style("font-size").numValueOrDefault(I.Font.Parse(I.ctx.font).fontSize),r=this.parent.style("font-style").valueOrDefault(I.Font.Parse(I.ctx.font).fontStyle),i=this.getText();t.isRTL&&(i=i.split("").reverse().join(""));for(var o=I.ToNumberArray(this.parent.attribute("dx").value),a=0;a<i.length;a++){var s=this.getGlyph(t,i,a),u=n/t.fontFace.unitsPerEm;e.translate(this.x,this.y),e.scale(u,-u);var c=e.lineWidth;e.lineWidth=e.lineWidth*t.fontFace.unitsPerEm/n,"italic"==r&&e.transform(1,0,.4,1,0,0),s.render(e),"italic"==r&&e.transform(1,0,-.4,1,0,0),e.lineWidth=c,e.scale(1/u,-1/u),e.translate(-this.x,-this.y),this.x+=n*(s.horizAdvX||t.horizAdvX)/t.fontFace.unitsPerEm,void 0===o[a]||isNaN(o[a])||(this.x+=o[a])}}},this.getText=function(){},this.measureTextRecursive=function(e){for(var t=this.measureText(e),n=0;n<this.children.length;n++)t+=this.children[n].measureTextRecursive(e);return t},this.measureText=function(e){var t=this.parent.style("font-family").getDefinition();if(null!=t){var n=this.parent.style("font-size").numValueOrDefault(I.Font.Parse(I.ctx.font).fontSize),r=0,i=this.getText();t.isRTL&&(i=i.split("").reverse().join(""));for(var o=I.ToNumberArray(this.parent.attribute("dx").value),a=0;a<i.length;a++)r+=(this.getGlyph(t,i,a).horizAdvX||t.horizAdvX)*n/t.fontFace.unitsPerEm,void 0===o[a]||isNaN(o[a])||(r+=o[a]);return r}var s=I.compressSpaces(this.getText());if(!e.measureText)return 10*s.length;e.save(),this.setContext(e);var u=e.measureText(s).width;return e.restore(),u}},I.Element.TextElementBase.prototype=new I.Element.RenderedElementBase,I.Element.tspan=function(e){this.captureTextNodes=!0,this.base=I.Element.TextElementBase,this.base(e),this.text=I.compressSpaces(e.value||e.text||e.textContent||""),this.getText=function(){return 0<this.children.length?"":this.text}},I.Element.tspan.prototype=new I.Element.TextElementBase,I.Element.tref=function(e){this.base=I.Element.TextElementBase,this.base(e),this.getText=function(){var e=this.getHrefAttribute().getDefinition();if(null!=e)return e.children[0].getText()}},I.Element.tref.prototype=new I.Element.TextElementBase,I.Element.a=function(e){this.base=I.Element.TextElementBase,this.base(e),this.hasText=0<e.childNodes.length;for(var t=0;t<e.childNodes.length;t++)3!=e.childNodes[t].nodeType&&(this.hasText=!1);this.text=this.hasText?e.childNodes[0].value:"",this.getText=function(){return this.text},this.baseRenderChildren=this.renderChildren,this.renderChildren=function(e){if(this.hasText){this.baseRenderChildren(e);var t=new I.Property("fontSize",I.Font.Parse(I.ctx.font).fontSize);I.Mouse.checkBoundingBox(this,new I.BoundingBox(this.x,this.y-t.toPixels("y"),this.x+this.measureText(e),this.y))}else if(0<this.children.length){var n=new I.Element.g;n.children=this.children,n.parent=this,n.render(e)}},this.onclick=function(){window.open(this.getHrefAttribute().value)},this.onmousemove=function(){I.ctx.canvas.style.cursor="pointer"}},I.Element.a.prototype=new I.Element.TextElementBase,I.Element.image=function(e){this.base=I.Element.RenderedElementBase,this.base(e);var t=this.getHrefAttribute().value;if(""!=t){var o=t.match(/\.svg$/);if(I.Images.push(this),this.loaded=!1,o)this.img=I.ajax(t),this.loaded=!0;else{this.img=document.createElement("img"),1==I.opts.useCORS&&(this.img.crossOrigin="Anonymous");var n=this;this.img.onload=function(){n.loaded=!0},this.img.onerror=function(){I.log('ERROR: image "'+t+'" not found'),n.loaded=!0},this.img.src=t}this.renderChildren=function(e){var t=this.attribute("x").toPixels("x"),n=this.attribute("y").toPixels("y"),r=this.attribute("width").toPixels("x"),i=this.attribute("height").toPixels("y");0!=r&&0!=i&&(e.save(),o?e.drawSvg(this.img,t,n,r,i):(e.translate(t,n),I.AspectRatio(e,this.attribute("preserveAspectRatio").value,r,this.img.width,i,this.img.height,0,0),e.drawImage(this.img,0,0)),e.restore())},this.getBoundingBox=function(){var e=this.attribute("x").toPixels("x"),t=this.attribute("y").toPixels("y"),n=this.attribute("width").toPixels("x"),r=this.attribute("height").toPixels("y");return new I.BoundingBox(e,t,e+n,t+r)}}},I.Element.image.prototype=new I.Element.RenderedElementBase,I.Element.g=function(e){this.base=I.Element.RenderedElementBase,this.base(e),this.getBoundingBox=function(){for(var e=new I.BoundingBox,t=0;t<this.children.length;t++)e.addBoundingBox(this.children[t].getBoundingBox());return e}},I.Element.g.prototype=new I.Element.RenderedElementBase,I.Element.symbol=function(e){this.base=I.Element.RenderedElementBase,this.base(e),this.render=function(e){}},I.Element.symbol.prototype=new I.Element.RenderedElementBase,I.Element.style=function(e){this.base=I.Element.ElementBase,this.base(e);for(var t="",n=0;n<e.childNodes.length;n++)t+=e.childNodes[n].data;t=t.replace(/(\/\*([^*]|[\r\n]|(\*+([^*\/]|[\r\n])))*\*+\/)|(^[\s]*\/\/.*)/gm,"");var r=(t=I.compressSpaces(t)).split("}");for(n=0;n<r.length;n++)if(""!=I.trim(r[n]))for(var i=r[n].split("{"),o=i[0].split(","),a=i[1].split(";"),s=0;s<o.length;s++){var u=I.trim(o[s]);if(""!=u){for(var c=I.Styles[u]||{},l=0;l<a.length;l++){var p=a[l].indexOf(":"),f=a[l].substr(0,p),d=a[l].substr(p+1,a[l].length-p);null!=f&&null!=d&&(c[I.trim(f)]=new I.Property(I.trim(f),I.trim(d)))}if(I.Styles[u]=c,I.StylesSpecificity[u]=C(u),"@font-face"==u)for(var h=c["font-family"].value.replace(/"/g,""),v=c.src.value.split(","),g=0;g<v.length;g++)if(0<v[g].indexOf('format("svg")'))for(var m=v[g].indexOf("url"),y=v[g].indexOf(")",m),b=v[g].substr(m+5,y-m-6),w=I.parseXml(I.ajax(b)).getElementsByTagName("font"),S=0;S<w.length;S++){var _=I.CreateElement(w[S]);I.Definitions[h]=_}}}},I.Element.style.prototype=new I.Element.ElementBase,I.Element.use=function(e){this.base=I.Element.RenderedElementBase,this.base(e),this.baseSetContext=this.setContext,this.setContext=function(e){this.baseSetContext(e),this.attribute("x").hasValue()&&e.translate(this.attribute("x").toPixels("x"),0),this.attribute("y").hasValue()&&e.translate(0,this.attribute("y").toPixels("y"))};var r=this.getHrefAttribute().getDefinition();this.path=function(e){null!=r&&r.path(e)},this.getBoundingBox=function(){if(null!=r)return r.getBoundingBox()},this.renderChildren=function(e){if(null!=r){var t=r;"symbol"==r.type&&((t=new I.Element.svg).type="svg",t.attributes.viewBox=new I.Property("viewBox",r.attribute("viewBox").value),t.attributes.preserveAspectRatio=new I.Property("preserveAspectRatio",r.attribute("preserveAspectRatio").value),t.attributes.overflow=new I.Property("overflow",r.attribute("overflow").value),t.children=r.children),"svg"==t.type&&(this.attribute("width").hasValue()&&(t.attributes.width=new I.Property("width",this.attribute("width").value)),this.attribute("height").hasValue()&&(t.attributes.height=new I.Property("height",this.attribute("height").value)));var n=t.parent;t.parent=null,t.render(e),t.parent=n}}},I.Element.use.prototype=new I.Element.RenderedElementBase,I.Element.mask=function(e){this.base=I.Element.ElementBase,this.base(e),this.apply=function(e,t){var n=this.attribute("x").toPixels("x"),r=this.attribute("y").toPixels("y"),i=this.attribute("width").toPixels("x"),o=this.attribute("height").toPixels("y");if(0==i&&0==o){for(var a=new I.BoundingBox,s=0;s<this.children.length;s++)a.addBoundingBox(this.children[s].getBoundingBox());n=Math.floor(a.x1),r=Math.floor(a.y1),i=Math.floor(a.width()),o=Math.floor(a.height())}var u=t.attribute("mask").value;t.attribute("mask").value="";var c=document.createElement("canvas");c.width=n+i,c.height=r+o;var l=c.getContext("2d");this.renderChildren(l);var p=document.createElement("canvas");p.width=n+i,p.height=r+o;var f=p.getContext("2d");t.render(f),f.globalCompositeOperation="destination-in",f.fillStyle=l.createPattern(c,"no-repeat"),f.fillRect(0,0,n+i,r+o),e.fillStyle=f.createPattern(p,"no-repeat"),e.fillRect(0,0,n+i,r+o),t.attribute("mask").value=u},this.render=function(e){}},I.Element.mask.prototype=new I.Element.ElementBase,I.Element.clipPath=function(e){this.base=I.Element.ElementBase,this.base(e),this.apply=function(e){var t=CanvasRenderingContext2D.prototype.beginPath;CanvasRenderingContext2D.prototype.beginPath=function(){};var n=CanvasRenderingContext2D.prototype.closePath;CanvasRenderingContext2D.prototype.closePath=function(){},t.call(e);for(var r=0;r<this.children.length;r++){var i=this.children[r];if(void 0!==i.path){var o=null;i.style("transform",!1,!0).hasValue()&&(o=new I.Transform(i.style("transform",!1,!0).value)).apply(e),i.path(e),CanvasRenderingContext2D.prototype.closePath=n,o&&o.unapply(e)}}n.call(e),e.clip(),CanvasRenderingContext2D.prototype.beginPath=t,CanvasRenderingContext2D.prototype.closePath=n},this.render=function(e){}},I.Element.clipPath.prototype=new I.Element.ElementBase,I.Element.filter=function(e){this.base=I.Element.ElementBase,this.base(e),this.apply=function(e,t){var n=t.getBoundingBox(),r=Math.floor(n.x1),i=Math.floor(n.y1),o=Math.floor(n.width()),a=Math.floor(n.height()),s=t.style("filter").value;t.style("filter").value="";for(var u=0,c=0,l=0;l<this.children.length;l++){var p=this.children[l].extraFilterDistance||0;u=Math.max(u,p),c=Math.max(c,p)}var f=document.createElement("canvas");f.width=o+2*u,f.height=a+2*c;var d=f.getContext("2d");for(d.translate(-r+u,-i+c),t.render(d),l=0;l<this.children.length;l++)"function"==typeof this.children[l].apply&&this.children[l].apply(d,0,0,o+2*u,a+2*c);e.drawImage(f,0,0,o+2*u,a+2*c,r-u,i-c,o+2*u,a+2*c),t.style("filter",!0).value=s},this.render=function(e){}},I.Element.filter.prototype=new I.Element.ElementBase,I.Element.feMorphology=function(e){this.base=I.Element.ElementBase,this.base(e),this.apply=function(e,t,n,r,i){}},I.Element.feMorphology.prototype=new I.Element.ElementBase,I.Element.feComposite=function(e){this.base=I.Element.ElementBase,this.base(e),this.apply=function(e,t,n,r,i){}},I.Element.feComposite.prototype=new I.Element.ElementBase,I.Element.feColorMatrix=function(e){this.base=I.Element.ElementBase,this.base(e);var r=I.ToNumberArray(this.attribute("values").value);switch(this.attribute("type").valueOrDefault("matrix")){case"saturate":var t=r[0];r=[.213+.787*t,.715-.715*t,.072-.072*t,0,0,.213-.213*t,.715+.285*t,.072-.072*t,0,0,.213-.213*t,.715-.715*t,.072+.928*t,0,0,0,0,0,1,0,0,0,0,0,1];break;case"hueRotate":var i=r[0]*Math.PI/180,n=function(e,t,n){return e+Math.cos(i)*t+Math.sin(i)*n};r=[n(.213,.787,-.213),n(.715,-.715,-.715),n(.072,-.072,.928),0,0,n(.213,-.213,.143),n(.715,.285,.14),n(.072,-.072,-.283),0,0,n(.213,-.213,-.787),n(.715,-.715,.715),n(.072,.928,.072),0,0,0,0,0,1,0,0,0,0,0,1];break;case"luminanceToAlpha":r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.2125,.7154,.0721,0,0,0,0,0,0,1]}function l(e,t,n,r,i,o){return e[n*r*4+4*t+o]}function p(e,t,n,r,i,o,a){e[n*r*4+4*t+o]=a}function f(e,t){var n=r[e];return n*(n<0?t-255:t)}this.apply=function(e,t,n,r,i){var o=e.getImageData(0,0,r,i);for(n=0;n<i;n++)for(t=0;t<r;t++){var a=l(o.data,t,n,r,0,0),s=l(o.data,t,n,r,0,1),u=l(o.data,t,n,r,0,2),c=l(o.data,t,n,r,0,3);p(o.data,t,n,r,0,0,f(0,a)+f(1,s)+f(2,u)+f(3,c)+f(4,1)),p(o.data,t,n,r,0,1,f(5,a)+f(6,s)+f(7,u)+f(8,c)+f(9,1)),p(o.data,t,n,r,0,2,f(10,a)+f(11,s)+f(12,u)+f(13,c)+f(14,1)),p(o.data,t,n,r,0,3,f(15,a)+f(16,s)+f(17,u)+f(18,c)+f(19,1))}e.clearRect(0,0,r,i),e.putImageData(o,0,0)}},I.Element.feColorMatrix.prototype=new I.Element.ElementBase,I.Element.feGaussianBlur=function(e){this.base=I.Element.ElementBase,this.base(e),this.blurRadius=Math.floor(this.attribute("stdDeviation").numValue()),this.extraFilterDistance=this.blurRadius,this.apply=function(e,t,n,r,i){void 0!==f.canvasRGBA?(e.canvas.id=I.UniqueId(),e.canvas.style.display="none",document.body.appendChild(e.canvas),f.canvasRGBA(e.canvas.id,t,n,r,i,this.blurRadius),document.body.removeChild(e.canvas)):I.log("ERROR: StackBlur.js must be included for blur to work")}},I.Element.feGaussianBlur.prototype=new I.Element.ElementBase,I.Element.title=function(e){},I.Element.title.prototype=new I.Element.ElementBase,I.Element.desc=function(e){},I.Element.desc.prototype=new I.Element.ElementBase,I.Element.MISSING=function(e){I.log("ERROR: Element '"+e.nodeName+"' not yet implemented.")},I.Element.MISSING.prototype=new I.Element.ElementBase,I.CreateElement=function(e){var t=e.nodeName.replace(/^[^:]+:/,"");t=t.replace(/\-/g,"");var n=null;return(n=void 0!==I.Element[t]?new I.Element[t](e):new I.Element.MISSING(e)).type=e.nodeName,n},I.load=function(e,t){I.loadXml(e,I.ajax(t))},I.loadXml=function(e,t){I.loadXmlDoc(e,I.parseXml(t))},I.loadXmlDoc=function(o,a){I.init(o);var n=function(e){for(var t=o.canvas;t;)e.x-=t.offsetLeft,e.y-=t.offsetTop,t=t.offsetParent;return window.scrollX&&(e.x+=window.scrollX),window.scrollY&&(e.y+=window.scrollY),e};1!=I.opts.ignoreMouse&&(o.canvas.onclick=function(e){var t=n(new I.Point(null!=e?e.clientX:event.clientX,null!=e?e.clientY:event.clientY));I.Mouse.onclick(t.x,t.y)},o.canvas.onmousemove=function(e){var t=n(new I.Point(null!=e?e.clientX:event.clientX,null!=e?e.clientY:event.clientY));I.Mouse.onmousemove(t.x,t.y)});var s=I.CreateElement(a.documentElement);s.root=!0,s.addStylesFromStyleDefinition();var u=!0,r=function(){I.ViewPort.Clear(),o.canvas.parentNode&&I.ViewPort.SetCurrent(o.canvas.parentNode.clientWidth,o.canvas.parentNode.clientHeight),1!=I.opts.ignoreDimensions&&(s.style("width").hasValue()&&(o.canvas.width=s.style("width").toPixels("x"),o.canvas.style.width=o.canvas.width+"px"),s.style("height").hasValue()&&(o.canvas.height=s.style("height").toPixels("y"),o.canvas.style.height=o.canvas.height+"px"));var e=o.canvas.clientWidth||o.canvas.width,t=o.canvas.clientHeight||o.canvas.height;if(1==I.opts.ignoreDimensions&&s.style("width").hasValue()&&s.style("height").hasValue()&&(e=s.style("width").toPixels("x"),t=s.style("height").toPixels("y")),I.ViewPort.SetCurrent(e,t),null!=I.opts.offsetX&&(s.attribute("x",!0).value=I.opts.offsetX),null!=I.opts.offsetY&&(s.attribute("y",!0).value=I.opts.offsetY),null!=I.opts.scaleWidth||null!=I.opts.scaleHeight){var n=null,r=null,i=I.ToNumberArray(s.attribute("viewBox").value);null!=I.opts.scaleWidth&&(s.attribute("width").hasValue()?n=s.attribute("width").toPixels("x")/I.opts.scaleWidth:isNaN(i[2])||(n=i[2]/I.opts.scaleWidth)),null!=I.opts.scaleHeight&&(s.attribute("height").hasValue()?r=s.attribute("height").toPixels("y")/I.opts.scaleHeight:isNaN(i[3])||(r=i[3]/I.opts.scaleHeight)),null==n&&(n=r),null==r&&(r=n),s.attribute("width",!0).value=I.opts.scaleWidth,s.attribute("height",!0).value=I.opts.scaleHeight,s.style("transform",!0,!0).value+=" scale("+1/n+","+1/r+")"}1!=I.opts.ignoreClear&&o.clearRect(0,0,e,t),s.render(o),u&&(u=!1,"function"==typeof I.opts.renderCallback&&I.opts.renderCallback(a))},i=!0;I.ImagesLoaded()&&(i=!1,r()),I.intervalID=setInterval(function(){var e=!1;if(i&&I.ImagesLoaded()&&(e=!(i=!1)),1!=I.opts.ignoreMouse&&(e|=I.Mouse.hasEvents()),1!=I.opts.ignoreAnimation)for(var t=0;t<I.Animations.length;t++)e|=I.Animations[t].update(1e3/I.FRAMERATE);"function"==typeof I.opts.forceRedraw&&1==I.opts.forceRedraw()&&(e=!0),e&&(r(),I.Mouse.runEvents())},1e3/I.FRAMERATE)},I.stop=function(){I.intervalID&&clearInterval(I.intervalID)},I.Mouse=new function(){this.events=[],this.hasEvents=function(){return 0!=this.events.length},this.onclick=function(e,t){this.events.push({type:"onclick",x:e,y:t,run:function(e){e.onclick&&e.onclick()}})},this.onmousemove=function(e,t){this.events.push({type:"onmousemove",x:e,y:t,run:function(e){e.onmousemove&&e.onmousemove()}})},this.eventElements=[],this.checkPath=function(e,t){for(var n=0;n<this.events.length;n++){var r=this.events[n];t.isPointInPath&&t.isPointInPath(r.x,r.y)&&(this.eventElements[n]=e)}},this.checkBoundingBox=function(e,t){for(var n=0;n<this.events.length;n++){var r=this.events[n];t.isPointInBox(r.x,r.y)&&(this.eventElements[n]=e)}},this.runEvents=function(){I.ctx.canvas.style.cursor="";for(var e=0;e<this.events.length;e++)for(var t=this.events[e],n=this.eventElements[e];n;)t.run(n),n=n.parent;this.events=[],this.eventElements=[]}},I}(n||{});1==e.childNodes.length&&"OBJECT"==e.childNodes[0].nodeName||(e.svg=r);var o=e.getContext("2d");void 0!==t.documentElement?r.loadXmlDoc(o,t):"<"==t.substr(0,1)?r.loadXml(o,t):r.load(o,t)}else for(var a=document.querySelectorAll("svg"),s=0;s<a.length;s++){var u=a[s],c=document.createElement("canvas");c.width=u.clientWidth,c.height=u.clientHeight,u.parentNode.insertBefore(c,u),u.parentNode.removeChild(u);var l=document.createElement("div");l.appendChild(u),h(c,l.innerHTML)}};void 0!==Element.prototype.matches?d=function(e,t){return e.matches(t)}:void 0!==Element.prototype.webkitMatchesSelector?d=function(e,t){return e.webkitMatchesSelector(t)}:void 0!==Element.prototype.mozMatchesSelector?d=function(e,t){return e.mozMatchesSelector(t)}:void 0!==Element.prototype.msMatchesSelector?d=function(e,t){return e.msMatchesSelector(t)}:void 0!==Element.prototype.oMatchesSelector?d=function(e,t){return e.oMatchesSelector(t)}:("function"!=typeof jQuery&&"function"!=typeof Zepto||(d=function(e,t){return $(e).is(t)}),void 0===d&&(d=Sizzle.matchesSelector));var t=/(\[[^\]]+\])/g,n=/(#[^\s\+>~\.\[:]+)/g,o=/(\.[^\s\+>~\.\[:]+)/g,a=/(::[^\s\+>~\.\[:]+|:first-line|:first-letter|:before|:after)/gi,s=/(:[\w-]+\([^\)]*\))/gi,u=/(:[^\s\+>~\.\[:]+)/g,c=/([^\s\+>~\.\[:]+)/g;function C(r){var i=[0,0,0],e=function(e,t){var n=r.match(e);null!=n&&(i[t]+=n.length,r=r.replace(e," "))};return r=(r=r.replace(/:not\(([^\)]*)\)/g,"     $1 ")).replace(/{[\s\S]*/gm," "),e(t,1),e(n,0),e(o,1),e(a,2),e(s,1),e(u,1),r=(r=r.replace(/[\*\s\+>~]/g," ")).replace(/[#\.]/g," "),e(c,2),i.join("")}return"undefined"!=typeof CanvasRenderingContext2D&&(CanvasRenderingContext2D.prototype.drawSvg=function(e,t,n,r,i,o){var a={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0,ignoreClear:!0,offsetX:t,offsetY:n,scaleWidth:r,scaleHeight:i};for(var s in o)o.hasOwnProperty(s)&&(a[s]=o[s]);h(this.canvas,e,a)}),h})},,function(e,r,T){var R;
/*! Hammer.JS - v1.1.3 - 2014-05-22
 * http://eightmedia.github.io/hammer.js
 *
 * Copyright (c) 2014 Jorik Tangelder <j.tangelder@gmail.com>;
 * Licensed under the MIT license */
/*! Hammer.JS - v1.1.3 - 2014-05-22
 * http://eightmedia.github.io/hammer.js
 *
 * Copyright (c) 2014 Jorik Tangelder <j.tangelder@gmail.com>;
 * Licensed under the MIT license */
!function(t,o){var c=function e(t,n){return new e.Instance(t,n||{})};c.VERSION="1.1.3",c.defaults={behavior:{userSelect:"none",touchAction:"pan-y",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},c.DOCUMENT=document,c.HAS_POINTEREVENTS=navigator.pointerEnabled||navigator.msPointerEnabled,c.HAS_TOUCHEVENTS="ontouchstart"in t,c.IS_MOBILE=/mobile|tablet|ip(ad|hone|od)|android|silk/i.test(navigator.userAgent),c.NO_MOUSEEVENTS=c.HAS_TOUCHEVENTS&&c.IS_MOBILE||c.HAS_POINTEREVENTS,c.CALCULATE_INTERVAL=25;var n={},s=c.DIRECTION_DOWN="down",u=c.DIRECTION_LEFT="left",l=c.DIRECTION_UP="up",p=c.DIRECTION_RIGHT="right",a=c.POINTER_MOUSE="mouse",f=c.POINTER_TOUCH="touch",d=c.POINTER_PEN="pen",h=c.EVENT_START="start",v=c.EVENT_MOVE="move",g=c.EVENT_END="end",m=c.EVENT_RELEASE="release",y=c.EVENT_TOUCH="touch";c.READY=!1,c.plugins=c.plugins||{},c.gestures=c.gestures||{};var b,w,i,S,_,C,E,x=c.utils={extend:function(e,t,n){for(var r in t)!t.hasOwnProperty(r)||e[r]!==o&&n||(e[r]=t[r]);return e},on:function(e,t,n){e.addEventListener(t,n,!1)},off:function(e,t,n){e.removeEventListener(t,n,!1)},each:function(e,t,n){var r,i;if("forEach"in e)e.forEach(t,n);else if(e.length!==o){for(r=0,i=e.length;r<i;r++)if(!1===t.call(n,e[r],r,e))return}else for(r in e)if(e.hasOwnProperty(r)&&!1===t.call(n,e[r],r,e))return},inStr:function(e,t){return-1<e.indexOf(t)},inArray:function(e,t){if(e.indexOf){var n=e.indexOf(t);return-1!==n&&n}for(var r=0,i=e.length;r<i;r++)if(e[r]===t)return r;return!1},toArray:function(e){return Array.prototype.slice.call(e,0)},hasParent:function(e,t){for(;e;){if(e==t)return!0;e=e.parentNode}return!1},getCenter:function(e){var t=[],n=[],r=[],i=[],o=Math.min,a=Math.max;return 1===e.length?{pageX:e[0].pageX,pageY:e[0].pageY,clientX:e[0].clientX,clientY:e[0].clientY}:(x.each(e,function(e){t.push(e.pageX),n.push(e.pageY),r.push(e.clientX),i.push(e.clientY)}),{pageX:(o.apply(Math,t)+a.apply(Math,t))/2,pageY:(o.apply(Math,n)+a.apply(Math,n))/2,clientX:(o.apply(Math,r)+a.apply(Math,r))/2,clientY:(o.apply(Math,i)+a.apply(Math,i))/2})},getVelocity:function(e,t,n){return{x:Math.abs(t/e)||0,y:Math.abs(n/e)||0}},getAngle:function(e,t){var n=t.clientX-e.clientX,r=t.clientY-e.clientY;return 180*Math.atan2(r,n)/Math.PI},getDirection:function(e,t){var n=Math.abs(e.clientX-t.clientX);return Math.abs(e.clientY-t.clientY)<=n?0<e.clientX-t.clientX?u:p:0<e.clientY-t.clientY?l:s},getDistance:function(e,t){var n=t.clientX-e.clientX,r=t.clientY-e.clientY;return Math.sqrt(n*n+r*r)},getScale:function(e,t){return 2<=e.length&&2<=t.length?this.getDistance(t[0],t[1])/this.getDistance(e[0],e[1]):1},getRotation:function(e,t){return 2<=e.length&&2<=t.length?this.getAngle(t[1],t[0])-this.getAngle(e[1],e[0]):0},isVertical:function(e){return e==l||e==s},setPrefixedCss:function(e,t,n,r){var i=["","Webkit","Moz","O","ms"];t=x.toCamelCase(t);for(var o=0;o<i.length;o++){var a=t;if(i[o]&&(a=i[o]+a.slice(0,1).toUpperCase()+a.slice(1)),a in e.style){e.style[a]=(null==r||r)&&n||"";break}}},toggleBehavior:function(n,e,r){if(e&&n&&n.style){x.each(e,function(e,t){x.setPrefixedCss(n,t,e,r)});var t=r&&function(){return!1};"none"==e.userSelect&&(n.onselectstart=t),"none"==e.userDrag&&(n.ondragstart=t)}},toCamelCase:function(e){return e.replace(/[_-]([a-z])/g,function(e){return e[1].toUpperCase()})}},O=c.event={preventMouseEvents:!1,started:!1,shouldDetect:!1,on:function(t,e,n,r){var i=e.split(" ");x.each(i,function(e){x.on(t,e,n),r&&r(e)})},off:function(t,e,n,r){var i=e.split(" ");x.each(i,function(e){x.off(t,e,n),r&&r(e)})},onTouch:function(o,a,s){var u=this,e=function(e){var t,n=e.type.toLowerCase(),r=c.HAS_POINTEREVENTS,i=x.inStr(n,"mouse");i&&u.preventMouseEvents||(i&&a==h&&0===e.button?(u.preventMouseEvents=!1,u.shouldDetect=!0):r&&a==h?u.shouldDetect=1===e.buttons||k.matchType(f,e):i||a!=h||(u.preventMouseEvents=!0,u.shouldDetect=!0),r&&a!=g&&k.updatePointer(a,e),u.shouldDetect&&(t=u.doDetect.call(u,e,a,o,s)),t==g&&(u.preventMouseEvents=!1,u.shouldDetect=!1,k.reset()),r&&a==g&&k.updatePointer(a,e))};return this.on(o,n[a],e),e},doDetect:function(e,t,n,r){var i=this.getTouchList(e,t),o=i.length,a=t,s=i.trigger,u=o;t==h?s=y:t==g&&(s=m,u=i.length-(e.changedTouches?e.changedTouches.length:1)),0<u&&this.started&&(a=v),this.started=!0;var c=this.collectEventData(n,a,i,e);return t!=g&&r.call(P,c),s&&(c.changedLength=u,c.eventType=s,r.call(P,c),c.eventType=a,delete c.changedLength),a==g&&(r.call(P,c),this.started=!1),a},determineEventTypes:function(){var e;return e=c.HAS_POINTEREVENTS?t.PointerEvent?["pointerdown","pointermove","pointerup pointercancel lostpointercapture"]:["MSPointerDown","MSPointerMove","MSPointerUp MSPointerCancel MSLostPointerCapture"]:c.NO_MOUSEEVENTS?["touchstart","touchmove","touchend touchcancel"]:["touchstart mousedown","touchmove mousemove","touchend touchcancel mouseup"],n[h]=e[0],n[v]=e[1],n[g]=e[2],n},getTouchList:function(e,t){if(c.HAS_POINTEREVENTS)return k.getTouchList();if(e.touches){if(t==v)return e.touches;var n=[],r=[].concat(x.toArray(e.touches),x.toArray(e.changedTouches)),i=[];return x.each(r,function(e){!1===x.inArray(n,e.identifier)&&i.push(e),n.push(e.identifier)}),i}return e.identifier=1,[e]},collectEventData:function(e,t,n,r){var i=f;return x.inStr(r.type,"mouse")||k.matchType(a,r)?i=a:k.matchType(d,r)&&(i=d),{center:x.getCenter(n),timeStamp:Date.now(),target:r.target,touches:n,eventType:t,pointerType:i,srcEvent:r,preventDefault:function(){var e=this.srcEvent;e.preventManipulation&&e.preventManipulation(),e.preventDefault&&e.preventDefault()},stopPropagation:function(){this.srcEvent.stopPropagation()},stopDetect:function(){return P.stopDetect()}}}},k=c.PointerEvent={pointers:{},getTouchList:function(){var t=[];return x.each(this.pointers,function(e){t.push(e)}),t},updatePointer:function(e,t){e==g?delete this.pointers[t.pointerId]:(t.identifier=t.pointerId,this.pointers[t.pointerId]=t)},matchType:function(e,t){if(!t.pointerType)return!1;var n=t.pointerType,r={};return r[a]=n===(t.MSPOINTER_TYPE_MOUSE||a),r[f]=n===(t.MSPOINTER_TYPE_TOUCH||f),r[d]=n===(t.MSPOINTER_TYPE_PEN||d),r[e]},reset:function(){this.pointers={}}},P=c.detection={gestures:[],current:null,previous:null,stopped:!1,startDetect:function(e,t){this.current||(this.stopped=!1,this.current={inst:e,startEvent:x.extend({},t),lastEvent:!1,lastCalcEvent:!1,futureCalcEvent:!1,lastCalcData:{},name:""},this.detect(t))},detect:function(t){if(this.current&&!this.stopped){t=this.extendEventData(t);var n=this.current.inst,r=n.options;return x.each(this.gestures,function(e){!this.stopped&&n.enabled&&r[e.name]&&e.handler.call(e,t,n)},this),this.current&&(this.current.lastEvent=t),t.eventType==g&&this.stopDetect(),t}},stopDetect:function(){this.previous=x.extend({},this.current),this.current=null,this.stopped=!0},getCalculatedData:function(e,t,n,r,i){var o=this.current,a=!1,s=o.lastCalcEvent,u=o.lastCalcData;s&&e.timeStamp-s.timeStamp>c.CALCULATE_INTERVAL&&(t=s.center,n=e.timeStamp-s.timeStamp,r=e.center.clientX-s.center.clientX,i=e.center.clientY-s.center.clientY,a=!0),e.eventType!=y&&e.eventType!=m||(o.futureCalcEvent=e),o.lastCalcEvent&&!a||(u.velocity=x.getVelocity(n,r,i),u.angle=x.getAngle(t,e.center),u.direction=x.getDirection(t,e.center),o.lastCalcEvent=o.futureCalcEvent||e,o.futureCalcEvent=e),e.velocityX=u.velocity.x,e.velocityY=u.velocity.y,e.interimAngle=u.angle,e.interimDirection=u.direction},extendEventData:function(e){var t=this.current,n=t.startEvent,r=t.lastEvent||n;e.eventType!=y&&e.eventType!=m||(n.touches=[],x.each(e.touches,function(e){n.touches.push({clientX:e.clientX,clientY:e.clientY})}));var i=e.timeStamp-n.timeStamp,o=e.center.clientX-n.center.clientX,a=e.center.clientY-n.center.clientY;return this.getCalculatedData(e,r.center,i,o,a),x.extend(e,{startEvent:n,deltaTime:i,deltaX:o,deltaY:a,distance:x.getDistance(n.center,e.center),angle:x.getAngle(n.center,e.center),direction:x.getDirection(n.center,e.center),scale:x.getScale(n.touches,e.touches),rotation:x.getRotation(n.touches,e.touches)}),e},register:function(e){var t=e.defaults||{};return t[e.name]===o&&(t[e.name]=!0),x.extend(c.defaults,t,!0),e.index=e.index||1e3,this.gestures.push(e),this.gestures.sort(function(e,t){return e.index<t.index?-1:e.index>t.index?1:0}),this.gestures}};(c.Instance=function(e,n){var t=this;c.READY||(O.determineEventTypes(),x.each(c.gestures,function(e){P.register(e)}),O.onTouch(c.DOCUMENT,v,P.detect),O.onTouch(c.DOCUMENT,g,P.detect),c.READY=!0),this.element=e,this.enabled=!0,x.each(n,function(e,t){delete n[t],n[x.toCamelCase(t)]=e}),this.options=x.extend(x.extend({},c.defaults),n||{}),this.options.behavior&&x.toggleBehavior(this.element,this.options.behavior,!0),this.eventStartHandler=O.onTouch(e,h,function(e){t.enabled&&e.eventType==h?P.startDetect(t,e):e.eventType==y&&P.detect(e)}),this.eventHandlers=[]}).prototype={on:function(e,t){var n=this;return O.on(n.element,e,t,function(e){n.eventHandlers.push({gesture:e,handler:t})}),n},off:function(e,n){var r=this;return O.off(r.element,e,n,function(e){var t=x.inArray({gesture:e,handler:n});!1!==t&&r.eventHandlers.splice(t,1)}),r},trigger:function(e,t){t||(t={});var n=c.DOCUMENT.createEvent("Event");n.initEvent(e,!0,!0),n.gesture=t;var r=this.element;return x.hasParent(t.target,r)&&(r=t.target),r.dispatchEvent(n),this},enable:function(e){return this.enabled=e,this},dispose:function(){var e,t;for(x.toggleBehavior(this.element,this.options.behavior,!1),e=-1;t=this.eventHandlers[++e];)x.off(this.element,t.gesture,t.handler);return this.eventHandlers=[],O.off(this.element,n[h],this.eventStartHandler),null}},w=!(b="drag"),c.gestures.Drag={name:b,index:50,handler:function(e,t){var n=P.current;if(!(0<t.options.dragMaxTouches&&e.touches.length>t.options.dragMaxTouches))switch(e.eventType){case h:w=!1;break;case v:if(e.distance<t.options.dragMinDistance&&n.name!=b)return;var r=n.startEvent.center;if(n.name!=b&&(n.name=b,t.options.dragDistanceCorrection&&0<e.distance)){var i=Math.abs(t.options.dragMinDistance/e.distance);r.pageX+=e.deltaX*i,r.pageY+=e.deltaY*i,r.clientX+=e.deltaX*i,r.clientY+=e.deltaY*i,e=P.extendEventData(e)}(n.lastEvent.dragLockToAxis||t.options.dragLockToAxis&&t.options.dragLockMinDistance<=e.distance)&&(e.dragLockToAxis=!0);var o=n.lastEvent.direction;e.dragLockToAxis&&o!==e.direction&&(x.isVertical(o)?e.direction=e.deltaY<0?l:s:e.direction=e.deltaX<0?u:p),w||(t.trigger("dragstart",e),w=!0),t.trigger(b,e),t.trigger(b+e.direction,e);var a=x.isVertical(e.direction);(t.options.dragBlockVertical&&a||t.options.dragBlockHorizontal&&!a)&&e.preventDefault();break;case m:w&&e.changedLength<=t.options.dragMaxTouches&&(t.trigger("dragend",e),w=!1);break;case g:w=!1}},defaults:{dragMinDistance:10,dragDistanceCorrection:!0,dragMaxTouches:1,dragBlockHorizontal:!1,dragBlockVertical:!1,dragLockToAxis:!1,dragLockMinDistance:25}},c.gestures.Gesture={name:"gesture",index:1337,handler:function(e,t){t.trigger(this.name,e)}},i="hold",c.gestures.Hold={name:i,index:10,defaults:{holdTimeout:500,holdThreshold:2},handler:function(e,t){var n=t.options,r=P.current;switch(e.eventType){case h:clearTimeout(S),r.name=i,S=setTimeout(function(){r&&r.name==i&&t.trigger(i,e)},n.holdTimeout);break;case v:e.distance>n.holdThreshold&&clearTimeout(S);break;case m:clearTimeout(S)}}},c.gestures.Release={name:"release",index:1/0,handler:function(e,t){e.eventType==m&&t.trigger(this.name,e)}},c.gestures.Swipe={name:"swipe",index:40,defaults:{swipeMinTouches:1,swipeMaxTouches:1,swipeVelocityX:.6,swipeVelocityY:.6},handler:function(e,t){if(e.eventType==m){var n=e.touches.length,r=t.options;if(n<r.swipeMinTouches||n>r.swipeMaxTouches)return;(e.velocityX>r.swipeVelocityX||e.velocityY>r.swipeVelocityY)&&(t.trigger(this.name,e),t.trigger(this.name+e.direction,e))}}},_=!1,c.gestures.Tap={name:"tap",index:100,handler:function(e,t){var n,r,i=t.options,o=P.current,a=P.previous;switch(e.eventType){case h:_=!1;break;case v:_=_||e.distance>i.tapMaxDistance;break;case g:!x.inStr(e.srcEvent.type,"cancel")&&e.deltaTime<i.tapMaxTime&&!_&&(n=a&&a.lastEvent&&e.timeStamp-a.lastEvent.timeStamp,r=!1,a&&"tap"==a.name&&n&&n<i.doubleTapInterval&&e.distance<i.doubleTapDistance&&(t.trigger("doubletap",e),r=!0),r&&!i.tapAlways||(o.name="tap",t.trigger(o.name,e)))}},defaults:{tapMaxTime:250,tapMaxDistance:10,tapAlways:!0,doubleTapDistance:20,doubleTapInterval:300}},c.gestures.Touch={name:"touch",index:-1/0,defaults:{preventDefault:!1,preventMouse:!1},handler:function(e,t){t.options.preventMouse&&e.pointerType==a?e.stopDetect():(t.options.preventDefault&&e.preventDefault(),e.eventType==y&&t.trigger("touch",e))}},E=!(C="transform"),c.gestures.Transform={name:C,index:45,defaults:{transformMinScale:.01,transformMinRotation:1},handler:function(e,t){switch(e.eventType){case h:E=!1;break;case v:if(e.touches.length<2)return;var n=Math.abs(1-e.scale),r=Math.abs(e.rotation);if(n<t.options.transformMinScale&&r<t.options.transformMinRotation)return;P.current.name=C,E||(t.trigger(C+"start",e),E=!0),t.trigger(C,e),r>t.options.transformMinRotation&&t.trigger("rotate",e),n>t.options.transformMinScale&&(t.trigger("pinch",e),t.trigger("pinch"+(e.scale<1?"in":"out"),e));break;case m:E&&e.changedLength<2&&(t.trigger(C+"end",e),E=!1)}}},(R=function(){return c}.call(r,T,r,e))===o||(e.exports=R)}(window)},,,,,,,,,,,,,,,,function(e,t){t.call=function(t){return{test:function(e){return"procedures_callnoreturn"===e.type&&e.getTitleValue("NAME").toLowerCase()===t.toLowerCase()},type:"procedures_callnoreturn",titles:{NAME:t}}},t.callWithArg=function(t,e){return{test:function(e){return"procedures_callnoreturn"===e.type&&e.getTitleValue("NAME").toLowerCase()===t.toLowerCase()},type:"procedures_callnoreturn",extra:'<mutation name="'+t+'"><arg name="'+e+'"></arg></mutation>'}},t.define=function(t){return{test:function(e){return"procedures_defnoreturn"===e.type&&e.getTitleValue("NAME").toLowerCase()===t.toLowerCase()},type:"procedures_defnoreturn",titles:{NAME:t}}}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){var z=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],U=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function H(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}e.exports=function(e,t,n,r){if(!(isNaN(r)||r<1)){var i,o,a,s,u,c,l,p,f,d,h,v,g,m,y,b,w,S,_,C,E,x,O,k,P=(r|=0)+r+1,T=t-1,R=n-1,A=r+1,I=A*(A+1)/2,M=new H,N=M;for(a=1;a<P;a++)if(N=N.next=new H,a==A)var D=N;N.next=M;var j=null,L=null;l=c=0;var B=z[r],F=U[r];for(o=0;o<n;o++){for(b=w=S=_=p=f=d=h=0,v=A*(C=e[c]),g=A*(E=e[c+1]),m=A*(x=e[c+2]),y=A*(O=e[c+3]),p+=I*C,f+=I*E,d+=I*x,h+=I*O,N=M,a=0;a<A;a++)N.r=C,N.g=E,N.b=x,N.a=O,N=N.next;for(a=1;a<A;a++)s=c+((T<a?T:a)<<2),p+=(N.r=C=e[s])*(k=A-a),f+=(N.g=E=e[s+1])*k,d+=(N.b=x=e[s+2])*k,h+=(N.a=O=e[s+3])*k,b+=C,w+=E,S+=x,_+=O,N=N.next;for(j=M,L=D,i=0;i<t;i++)e[c+3]=O=h*B>>F,0!=O?(O=255/O,e[c]=(p*B>>F)*O,e[c+1]=(f*B>>F)*O,e[c+2]=(d*B>>F)*O):e[c]=e[c+1]=e[c+2]=0,p-=v,f-=g,d-=m,h-=y,v-=j.r,g-=j.g,m-=j.b,y-=j.a,s=l+((s=i+r+1)<T?s:T)<<2,p+=b+=j.r=e[s],f+=w+=j.g=e[s+1],d+=S+=j.b=e[s+2],h+=_+=j.a=e[s+3],j=j.next,v+=C=L.r,g+=E=L.g,m+=x=L.b,y+=O=L.a,b-=C,w-=E,S-=x,_-=O,L=L.next,c+=4;l+=t}for(i=0;i<t;i++){for(w=S=_=b=f=d=h=p=0,v=A*(C=e[c=i<<2]),g=A*(E=e[c+1]),m=A*(x=e[c+2]),y=A*(O=e[c+3]),p+=I*C,f+=I*E,d+=I*x,h+=I*O,N=M,a=0;a<A;a++)N.r=C,N.g=E,N.b=x,N.a=O,N=N.next;for(u=t,a=1;a<=r;a++)c=u+i<<2,p+=(N.r=C=e[c])*(k=A-a),f+=(N.g=E=e[c+1])*k,d+=(N.b=x=e[c+2])*k,h+=(N.a=O=e[c+3])*k,b+=C,w+=E,S+=x,_+=O,N=N.next,a<R&&(u+=t);for(c=i,j=M,L=D,o=0;o<n;o++)e[3+(s=c<<2)]=O=h*B>>F,0<O?(O=255/O,e[s]=(p*B>>F)*O,e[s+1]=(f*B>>F)*O,e[s+2]=(d*B>>F)*O):e[s]=e[s+1]=e[s+2]=0,p-=v,f-=g,d-=m,h-=y,v-=j.r,g-=j.g,m-=j.b,y-=j.a,s=i+((s=o+A)<R?s:R)*t<<2,p+=b+=j.r=e[s],f+=w+=j.g=e[s+1],d+=S+=j.b=e[s+2],h+=_+=j.a=e[s+3],j=j.next,v+=C=L.r,g+=E=L.g,m+=x=L.b,y+=O=L.a,b-=C,w-=E,S-=x,_-=O,L=L.next,c+=t}}}},function(e,t){SVGElement.prototype.toDataURL=function(e,o){var t,n,r,i,a,s,u=this;function c(e){return window.XMLSerializer?(new XMLSerializer).serializeToString(e):function e(t){var n="";n+="<"+t.nodeName;for(var r=0;r<t.attributes.length;r++)n+=" "+t.attributes[r].name+"='"+t.attributes[r].value+"'";if(t.hasChildNodes()){for(n+=">\n",r=0;r<t.childNodes.length;r++)n+=e(t.childNodes[r]);n+="</"+t.nodeName+">\n"}else n+=" />\n";return n}(e)}function l(e){var t="data:image/svg+xml;base64,";return window.btoa?t+=btoa(unescape(encodeURIComponent(e))):t+=Base64.encode(e),t}switch(e||(e="image/svg+xml"),o||(o={}),o.keepNonSafe,o.keepOutsideViewport,e){case"image/svg+xml":return(s=l(c(u))).length,o.callback&&o.callback(s),s;case"image/png":case"image/jpeg":switch(o.renderer||(window.canvg?o.renderer="canvg":o.renderer="native"),o.renderer){case"canvg":return function(t){var n=document.createElement("canvas"),e=(n.getContext("2d"),c(u)),r=o.keepOutsideViewport;if(r)var i=u.getBBox();return canvg(n,e,{ignoreMouse:!0,ignoreAnimation:!0,offsetX:r?-i.x:void 0,offsetY:r?-i.y:void 0,scaleWidth:r?i.width+i.x:void 0,scaleHeight:r?i.height+i.y:void 0,renderCallback:function(){n.width,n.height;var e=n.toDataURL(t);e.length,o.callback&&o.callback(e)}}),n.toDataURL(t)}(e);case"native":return t=e,n=document.createElement("canvas"),r=n.getContext("2d"),i=new Image,a=c(u),i.src=l(a),i.onload=function(){i.width,i.height,n.width=i.width,n.height=i.height,r.drawImage(i,0,0);var e=n.toDataURL(t);e.length,o.callback&&o.callback(e)},void(i.onerror=function(){console.log("Can't export! Maybe your browser doesn't support SVG in img element or SVG input for Canvas drawImage?\nhttp://en.wikipedia.org/wiki/SVG#Native_support")});default:o.renderer}}}}]]);
